<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Syntax extensions and notation scopes &mdash; Coq 8.18.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/ansi.css" type="text/css" />
      <link rel="stylesheet" href="../_static/coqdoc.css" type="text/css" />
      <link rel="stylesheet" href="../_static/notations.css" type="text/css" />
      <link rel="stylesheet" href="../_static/pre-text.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/notations.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Setting properties of a function&#39;s arguments" href="../language/extensions/arguments-command.html" />
    <link rel="prev" title="Extended pattern matching" href="../language/extensions/match.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Coq
          </a>
              <div class="version">
                8.18.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction and Contents</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Specification language</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../language/core/index.html">Core language</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../language/core/basic.html">Basic notions and conventions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../language/core/basic.html#syntax-and-lexical-conventions">Syntax and lexical conventions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../language/core/basic.html#syntax-conventions">Syntax conventions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/core/basic.html#lexical-conventions">Lexical conventions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/basic.html#essential-vocabulary">Essential vocabulary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/basic.html#settings">Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../language/core/basic.html#attributes">Attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/core/basic.html#flags-options-and-tables">Flags, Options and Tables</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../language/core/sorts.html">Sorts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../language/core/assumptions.html">Functions and assumptions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../language/core/assumptions.html#binders">Binders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/assumptions.html#functions-fun-and-function-types-forall">Functions (fun) and function types (forall)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/assumptions.html#function-application">Function application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/assumptions.html#assumptions">Assumptions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../language/core/definitions.html">Definitions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../language/core/definitions.html#let-in-definitions">Let-in definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/definitions.html#type-cast">Type cast</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/definitions.html#top-level-definitions">Top-level definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/definitions.html#assertions-and-proofs">Assertions and proofs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../language/core/conversion.html">Conversion rules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../language/core/conversion.html#conversion">α-conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/conversion.html#reduction">β-reduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/conversion.html#delta-reduction-sect">δ-reduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/conversion.html#id4">ι-reduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/conversion.html#id7">ζ-reduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/conversion.html#expansion">η-expansion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/conversion.html#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/conversion.html#proof-irrelevance">Proof Irrelevance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/conversion.html#convertibility">Convertibility</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../language/cic.html">Typing rules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../language/cic.html#the-terms">The terms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/cic.html#id6">Typing rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/cic.html#subtyping-rules">Subtyping rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/cic.html#the-calculus-of-inductive-constructions-with-impredicative-set">The Calculus of Inductive Constructions with impredicative Set</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../language/core/variants.html">Variants and the <code class="docutils literal notranslate"><span class="pre">match</span></code> construct</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../language/core/variants.html#id1">Variants</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../language/core/variants.html#private-matching-inductive-types">Private (matching) inductive types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/variants.html#definition-by-cases-match">Definition by cases: match</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../language/core/records.html">Record types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../language/core/records.html#defining-record-types">Defining record types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/records.html#constructing-records">Constructing records</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/records.html#accessing-fields-projections">Accessing fields (projections)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/records.html#settings-for-printing-records">Settings for printing records</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/records.html#primitive-projections">Primitive Projections</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../language/core/records.html#reduction">Reduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/core/records.html#compatibility-constants-for-projections">Compatibility Constants for Projections</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../language/core/inductive.html">Inductive types and recursive functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../language/core/inductive.html#inductive-types">Inductive types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../language/core/inductive.html#simple-inductive-types">Simple inductive types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/core/inductive.html#simple-indexed-inductive-types">Simple indexed inductive types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/core/inductive.html#parameterized-inductive-types">Parameterized inductive types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/core/inductive.html#mutually-defined-inductive-types">Mutually defined inductive types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/inductive.html#recursive-functions-fix">Recursive functions: fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/inductive.html#top-level-recursive-functions">Top-level recursive functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/inductive.html#theory-of-inductive-definitions">Theory of inductive definitions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../language/core/inductive.html#types-of-inductive-objects">Types of inductive objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/core/inductive.html#well-formed-inductive-definitions">Well-formed inductive definitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/core/inductive.html#destructors">Destructors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/core/inductive.html#fixpoint-definitions">Fixpoint definitions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../language/core/coinductive.html">Coinductive types and corecursive functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../language/core/coinductive.html#coinductive-types">Coinductive types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../language/core/coinductive.html#caveat">Caveat</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/coinductive.html#co-recursive-functions-cofix">Co-recursive functions: cofix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/coinductive.html#top-level-definitions-of-corecursive-functions">Top-level definitions of corecursive functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../language/core/sections.html">Sections</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../language/core/sections.html#typing-rules-used-at-the-end-of-a-section">Typing rules used at the end of a section</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../language/core/modules.html">The Module System</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../language/core/modules.html#modules-and-module-types">Modules and module types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/modules.html#using-modules">Using modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../language/core/modules.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/modules.html#typing-modules">Typing Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/modules.html#qualified-names">Qualified names</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/modules.html#controlling-the-scope-of-commands-with-locality-attributes">Controlling the scope of commands with locality attributes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../language/core/primitive.html">Primitive objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../language/core/primitive.html#primitive-integers">Primitive Integers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/primitive.html#primitive-floats">Primitive Floats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/core/primitive.html#primitive-arrays">Primitive Arrays</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/universe-polymorphism.html">Polymorphic Universes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/universe-polymorphism.html#general-presentation">General Presentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/universe-polymorphism.html#polymorphic-monomorphic">Polymorphic, Monomorphic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/universe-polymorphism.html#cumulative-noncumulative">Cumulative, NonCumulative</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../addendum/universe-polymorphism.html#specifying-cumulativity">Specifying cumulativity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/universe-polymorphism.html#cumulativity-weak-constraints">Cumulativity Weak Constraints</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/universe-polymorphism.html#global-and-local-universes">Global and local universes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/universe-polymorphism.html#conversion-and-unification">Conversion and unification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/universe-polymorphism.html#minimization">Minimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/universe-polymorphism.html#explicit-universes">Explicit Universes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/universe-polymorphism.html#printing-universes">Printing universes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../addendum/universe-polymorphism.html#polymorphic-definitions">Polymorphic definitions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/universe-polymorphism.html#universe-polymorphism-and-sections">Universe polymorphism and sections</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/sprop.html">SProp (proof irrelevant propositions)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/sprop.html#basic-constructs">Basic constructs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/sprop.html#encodings-for-strict-propositions">Encodings for strict propositions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/sprop.html#definitional-uip">Definitional UIP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../addendum/sprop.html#non-termination-with-uip">Non Termination with UIP</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/sprop.html#lack-of-tactic-support">Lack of tactic support</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../language/extensions/index.html">Language extensions</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../language/extensions/evars.html">Existential variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/evars.html#inferable-subterms">Inferable subterms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/evars.html#e-tactics-that-can-create-existential-variables">e* tactics that can create existential variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/evars.html#automatic-resolution-of-existential-variables">Automatic resolution of existential variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/evars.html#explicit-display-of-existential-instances-for-pretty-printing">Explicit display of existential instances for pretty-printing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/evars.html#solving-existential-variables-using-tactics">Solving existential variables using tactics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../language/extensions/implicit-arguments.html">Implicit arguments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/implicit-arguments.html#the-different-kinds-of-implicit-arguments">The different kinds of implicit arguments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/implicit-arguments.html#implicit-arguments-inferable-from-the-knowledge-of-other-arguments-of-a-function">Implicit arguments inferable from the knowledge of other arguments of a function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/implicit-arguments.html#implicit-arguments-inferable-by-resolution">Implicit arguments inferable by resolution</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/implicit-arguments.html#maximal-and-non-maximal-insertion-of-implicit-arguments">Maximal and non-maximal insertion of implicit arguments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/implicit-arguments.html#trailing-implicit-arguments">Trailing Implicit Arguments</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/implicit-arguments.html#casual-use-of-implicit-arguments">Casual use of implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/implicit-arguments.html#declaration-of-implicit-arguments">Declaration of implicit arguments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/implicit-arguments.html#implicit-argument-binders">Implicit Argument Binders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/implicit-arguments.html#mode-for-automatic-declaration-of-implicit-arguments">Mode for automatic declaration of implicit arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/implicit-arguments.html#controlling-strict-implicit-arguments">Controlling strict implicit arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/implicit-arguments.html#controlling-contextual-implicit-arguments">Controlling contextual implicit arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/implicit-arguments.html#controlling-reversible-pattern-implicit-arguments">Controlling reversible-pattern implicit arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/implicit-arguments.html#controlling-the-insertion-of-implicit-arguments-not-followed-by-explicit-arguments">Controlling the insertion of implicit arguments not followed by explicit arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/implicit-arguments.html#combining-manual-declaration-and-automatic-declaration">Combining manual declaration and automatic declaration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/implicit-arguments.html#explicit-applications">Explicit applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/implicit-arguments.html#displaying-implicit-arguments">Displaying implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/implicit-arguments.html#displaying-implicit-arguments-when-pretty-printing">Displaying implicit arguments when pretty-printing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/implicit-arguments.html#interaction-with-subtyping">Interaction with subtyping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/implicit-arguments.html#deactivation-of-implicit-arguments-for-parsing">Deactivation of implicit arguments for parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/implicit-arguments.html#implicit-types-of-variables">Implicit types of variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/implicit-arguments.html#implicit-generalization">Implicit generalization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../language/extensions/match.html">Extended pattern matching</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/match.html#variants-and-extensions-of-match">Variants and extensions of <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">match</span></span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/match.html#multiple-and-nested-pattern-matching">Multiple and nested pattern matching</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/match.html#pattern-matching-on-boolean-values-the-if-expression">Pattern-matching on boolean values: the if expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/match.html#irrefutable-patterns-the-destructuring-let-variants">Irrefutable patterns: the destructuring let variants</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/match.html#controlling-pretty-printing-of-match-expressions">Controlling pretty-printing of match expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/match.html#conventions-about-unused-pattern-matching-variables">Conventions about unused pattern-matching variables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/match.html#patterns">Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/match.html#multiple-patterns">Multiple patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/match.html#aliasing-subpatterns">Aliasing subpatterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/match.html#nested-patterns">Nested patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/match.html#disjunctive-patterns">Disjunctive patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/match.html#about-patterns-of-parametric-types">About patterns of parametric types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/match.html#parameters-in-patterns">Parameters in patterns</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/match.html#implicit-arguments-in-patterns">Implicit arguments in patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/match.html#matching-objects-of-dependent-types">Matching objects of dependent types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/match.html#understanding-dependencies-in-patterns">Understanding dependencies in patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/match.html#when-the-elimination-predicate-must-be-provided">When the elimination predicate must be provided</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/match.html#dependent-pattern-matching">Dependent pattern matching</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/match.html#multiple-dependent-pattern-matching">Multiple dependent pattern matching</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/match.html#patterns-in-in">Patterns in <code class="docutils literal notranslate"><span class="pre">in</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/match.html#using-pattern-matching-to-write-proofs">Using pattern matching to write proofs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/match.html#pattern-matching-on-inductive-objects-involving-local-definitions">Pattern-matching on inductive objects involving local definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/match.html#pattern-matching-and-coercions">Pattern-matching and coercions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/match.html#when-does-the-expansion-strategy-fail">When does the expansion strategy fail?</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Syntax extensions and notation scopes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#notations">Notations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#basic-notations">Basic notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#precedences-and-associativity">Precedences and associativity</a></li>
<li class="toctree-l4"><a class="reference internal" href="#complex-notations">Complex notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#simple-factorization-rules">Simple factorization rules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#use-of-notations-for-printing">Use of notations for printing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-infix-command">The Infix command</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reserving-notations">Reserving notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#simultaneous-definition-of-terms-and-notations">Simultaneous definition of terms and notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enabling-and-disabling-notations">Enabling and disabling notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#displaying-information-about-notations">Displaying information about notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#locating-notations">Locating notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#inheritance-of-the-properties-of-arguments-of-constants-bound-to-a-notation">Inheritance of the properties of arguments of constants bound to a notation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#notations-and-binders">Notations and binders</a></li>
<li class="toctree-l4"><a class="reference internal" href="#notations-with-recursive-patterns">Notations with recursive patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="#notations-with-recursive-patterns-involving-binders">Notations with recursive patterns involving binders</a></li>
<li class="toctree-l4"><a class="reference internal" href="#predefined-entries">Predefined entries</a></li>
<li class="toctree-l4"><a class="reference internal" href="#custom-entries">Custom entries</a></li>
<li class="toctree-l4"><a class="reference internal" href="#syntax">Syntax</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#notation-scopes">Notation scopes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#global-interpretation-rules-for-notations">Global interpretation rules for notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#local-interpretation-rules-for-notations">Local interpretation rules for notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-type-scope-notation-scope">The <code class="docutils literal notranslate"><span class="pre">type_scope</span></code> notation scope</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-function-scope-notation-scope">The <code class="docutils literal notranslate"><span class="pre">function_scope</span></code> notation scope</a></li>
<li class="toctree-l4"><a class="reference internal" href="#notation-scopes-used-in-the-standard-library-of-coq">Notation scopes used in the standard library of Coq</a></li>
<li class="toctree-l4"><a class="reference internal" href="#displaying-information-about-scopes">Displaying information about scopes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#abbreviations">Abbreviations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#numbers-and-strings">Numbers and strings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#number-notations">Number notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#string-notations">String notations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#tactic-notations">Tactic Notations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../language/extensions/arguments-command.html">Setting properties of a function's arguments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/arguments-command.html#manual-declaration-of-implicit-arguments">Manual declaration of implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/arguments-command.html#automatic-declaration-of-implicit-arguments">Automatic declaration of implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/arguments-command.html#renaming-implicit-arguments">Renaming implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/arguments-command.html#binding-arguments-to-scopes">Binding arguments to scopes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/arguments-command.html#effects-of-arguments-on-unfolding">Effects of <code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Arguments</span></code> on unfolding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/arguments-command.html#bidirectionality-hints">Bidirectionality hints</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/implicit-coercions.html">Implicit Coercions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/implicit-coercions.html#general-presentation">General Presentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/implicit-coercions.html#coercion-classes">Coercion Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/implicit-coercions.html#id1">Coercions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/implicit-coercions.html#reversible-coercions">Reversible Coercions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/implicit-coercions.html#identity-coercions">Identity Coercions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/implicit-coercions.html#inheritance-graph">Inheritance Graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/implicit-coercions.html#id2">Coercion Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/implicit-coercions.html#displaying-available-coercions">Displaying Available Coercions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/implicit-coercions.html#activating-the-printing-of-coercions">Activating the Printing of Coercions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/implicit-coercions.html#classes-as-records">Classes as Records</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/implicit-coercions.html#coercions-and-sections">Coercions and Sections</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/implicit-coercions.html#coercions-and-modules">Coercions and Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/implicit-coercions.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/type-classes.html">Typeclasses</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/type-classes.html#typeclass-and-instance-declarations">Typeclass and instance declarations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/type-classes.html#binding-typeclasses">Binding typeclasses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/type-classes.html#parameterized-instances">Parameterized instances</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/type-classes.html#sections-and-contexts">Sections and contexts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/type-classes.html#building-hierarchies">Building hierarchies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../addendum/type-classes.html#superclasses">Superclasses</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/type-classes.html#substructures">Substructures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/type-classes.html#command-summary">Command summary</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../addendum/type-classes.html#typeclasses-transparent-typeclasses-opaque">Typeclasses Transparent, Typeclasses Opaque</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/type-classes.html#settings">Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/type-classes.html#typeclasses-eauto">Typeclasses eauto</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../language/extensions/canonical.html">Canonical Structures</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/canonical.html#declaration-of-canonical-structures">Declaration of canonical structures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/canonical.html#notation-overloading">Notation overloading</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/canonical.html#derived-canonical-structures">Derived Canonical Structures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../language/extensions/canonical.html#hierarchy-of-structures">Hierarchy of structures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../language/extensions/canonical.html#compact-declaration-of-canonical-structures">Compact declaration of Canonical Structures</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/program.html">Program</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/program.html#elaborating-programs">Elaborating programs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../addendum/program.html#syntactic-control-over-equalities">Syntactic control over equalities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/program.html#program-definition">Program Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/program.html#program-fixpoint">Program Fixpoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/program.html#program-lemma">Program Lemma</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/program.html#solving-obligations">Solving obligations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/program.html#frequently-asked-questions">Frequently Asked Questions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/vernacular-commands.html">Commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/vernacular-commands.html#displaying">Displaying</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/vernacular-commands.html#query-commands">Query commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/vernacular-commands.html#requests-to-the-environment">Requests to the environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/vernacular-commands.html#printing-flags">Printing flags</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/vernacular-commands.html#loading-files">Loading files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/vernacular-commands.html#compiled-files">Compiled files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/vernacular-commands.html#load-paths">Load paths</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/vernacular-commands.html#extra-dependencies">Extra Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/vernacular-commands.html#backtracking">Backtracking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/vernacular-commands.html#quitting-and-debugging">Quitting and debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/vernacular-commands.html#controlling-display">Controlling display</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/vernacular-commands.html#printing-constructions-in-full">Printing constructions in full</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/vernacular-commands.html#controlling-typing-flags">Controlling Typing Flags</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/vernacular-commands.html#internal-registration-commands">Internal registration commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/vernacular-commands.html#exposing-constants-to-ocaml-libraries">Exposing constants to OCaml libraries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/vernacular-commands.html#inlining-hints-for-the-fast-reduction-machines">Inlining hints for the fast reduction machines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/vernacular-commands.html#registering-primitive-operations">Registering primitive operations</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Proofs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../proofs/writing-proofs/index.html">Basic proof writing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../proofs/writing-proofs/proof-mode.html">Proof mode</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/proof-mode.html#proof-state">Proof State</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/proof-mode.html#entering-and-exiting-proof-mode">Entering and exiting proof mode</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proofs/writing-proofs/proof-mode.html#proof-using-options">Proof using options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proofs/writing-proofs/proof-mode.html#name-a-set-of-section-hypotheses-for-proof-using">Name a set of section hypotheses for <code class="docutils literal notranslate"><span class="pre">Proof</span> <span class="pre">using</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/proof-mode.html#proof-modes">Proof modes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/proof-mode.html#managing-goals">Managing goals</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proofs/writing-proofs/proof-mode.html#focusing-goals">Focusing goals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proofs/writing-proofs/proof-mode.html#shelving-goals">Shelving goals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proofs/writing-proofs/proof-mode.html#reordering-goals">Reordering goals</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/proof-mode.html#proving-a-subgoal-as-a-separate-lemma-abstract">Proving a subgoal as a separate lemma: abstract</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/proof-mode.html#requesting-information">Requesting information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/proof-mode.html#showing-differences-between-proof-steps">Showing differences between proof steps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proofs/writing-proofs/proof-mode.html#how-to-enable-diffs">How to enable diffs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proofs/writing-proofs/proof-mode.html#how-diffs-are-calculated">How diffs are calculated</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proofs/writing-proofs/proof-mode.html#show-proof-differences">&quot;Show Proof&quot; differences</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/proof-mode.html#delaying-solving-unification-constraints">Delaying solving unification constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/proof-mode.html#proof-maintenance">Proof maintenance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/proof-mode.html#controlling-proof-mode">Controlling proof mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/proof-mode.html#controlling-memory-usage">Controlling memory usage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html">Tactics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/tactics.html#common-elements-of-tactics">Common elements of tactics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/tactics.html#reserved-keywords">Reserved keywords</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/tactics.html#invocation-of-tactics">Invocation of tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/tactics.html#bindings">Bindings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/tactics.html#intro-patterns">Intro patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/tactics.html#occurrence-clauses">Occurrence clauses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/tactics.html#applying-theorems">Applying theorems</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/tactics.html#managing-the-local-context">Managing the local context</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/tactics.html#controlling-the-proof-flow">Controlling the proof flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/tactics.html#classical-tactics">Classical tactics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/tactics.html#performance-oriented-tactic-variants">Performance-oriented tactic variants</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proofs/writing-proofs/equality.html">Reasoning with equalities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/equality.html#tactics-for-simple-equalities">Tactics for simple equalities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/equality.html#rewriting-with-leibniz-and-setoid-equality">Rewriting with Leibniz and setoid equality</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/equality.html#rewriting-with-definitional-equality">Rewriting with definitional equality</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/equality.html#applying-conversion-rules">Applying conversion rules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proofs/writing-proofs/equality.html#fast-reduction-tactics-vm-compute-and-native-compute">Fast reduction tactics: vm_compute and native_compute</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proofs/writing-proofs/equality.html#computing-in-a-term-eval-and-eval">Computing in a term: eval and Eval</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/equality.html#controlling-reduction-strategies-and-the-conversion-algorithm">Controlling reduction strategies and the conversion algorithm</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proofs/writing-proofs/reasoning-inductives.html">Reasoning with inductive types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/reasoning-inductives.html#applying-constructors">Applying constructors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/reasoning-inductives.html#case-analysis">Case analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/reasoning-inductives.html#induction">Induction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/reasoning-inductives.html#equality-of-inductive-types">Equality of inductive types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proofs/writing-proofs/reasoning-inductives.html#helper-tactics">Helper tactics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/reasoning-inductives.html#generation-of-induction-principles-with-scheme">Generation of induction principles with <code class="docutils literal notranslate"><span class="pre">Scheme</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proofs/writing-proofs/reasoning-inductives.html#automatic-declaration-of-schemes">Automatic declaration of schemes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proofs/writing-proofs/reasoning-inductives.html#combined-scheme">Combined Scheme</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/reasoning-inductives.html#generation-of-inversion-principles-with-derive-inversion">Generation of inversion principles with <code class="docutils literal notranslate"><span class="pre">Derive</span></code> <code class="docutils literal notranslate"><span class="pre">Inversion</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/writing-proofs/reasoning-inductives.html#examples-of-dependent-destruction-dependent-induction">Examples of <code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">dependent</span> <span class="pre">destruction</span></code> / <code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">dependent</span> <span class="pre">induction</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proofs/writing-proofs/reasoning-inductives.html#a-larger-example">A larger example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html">The <span class="smallcaps">SSReflect</span> proof language</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#introduction">Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#acknowledgments">Acknowledgments</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#usage">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#getting-started">Getting started</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#compatibility-issues">Compatibility issues</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#gallina-extensions">Gallina extensions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#pattern-assignment">Pattern assignment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#pattern-conditional">Pattern conditional</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#parametric-polymorphism">Parametric polymorphism</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#anonymous-arguments">Anonymous arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#wildcards">Wildcards</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#definitions">Definitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#abbreviations">Abbreviations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#basic-localization">Basic localization</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#basic-tactics">Basic tactics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#bookkeeping">Bookkeeping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#the-defective-tactics">The defective tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#discharge">Discharge</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#introduction-in-the-context">Introduction in the context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#generation-of-equations">Generation of equations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#type-families">Type families</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#control-flow">Control flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#indentation-and-bullets">Indentation and bullets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#terminators">Terminators</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#selectors">Selectors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#iteration">Iteration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#localization">Localization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#structure">Structure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#rewriting">Rewriting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#an-extended-rewrite-tactic">An extended rewrite tactic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#remarks-and-examples">Remarks and examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#rewriting-under-binders">Rewriting under binders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#locking-unlocking">Locking, unlocking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#congruence">Congruence</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#contextual-patterns">Contextual patterns</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#syntax">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#matching-contextual-patterns">Matching contextual patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#patterns-for-recurrent-contexts">Patterns for recurrent contexts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#views-and-reflection">Views and reflection</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#interpreting-eliminations">Interpreting eliminations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#interpreting-assumptions">Interpreting assumptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#interpreting-goals">Interpreting goals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#boolean-reflection">Boolean reflection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#the-reflect-predicate">The reflect predicate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#general-mechanism-for-interpreting-goals-and-assumptions">General mechanism for interpreting goals and assumptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#interpreting-equivalences">Interpreting equivalences</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#declaring-new-hint-views">Declaring new Hint Views</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#multiple-views">Multiple views</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#synopsis-and-index">Synopsis and Index</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#items-and-switches">Items and switches</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#tactics">Tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#tacticals">Tacticals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#commands">Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#settings">Settings</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../proofs/automatic-tactics/index.html">Automatic solvers and programmable tactics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../proofs/automatic-tactics/logic.html">Solvers for logic and equality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/micromega.html">Micromega: solvers for arithmetic goals over ordered rings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/micromega.html#short-description-of-the-tactics">Short description of the tactics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/micromega.html#positivstellensatz-refutations"><em>Positivstellensatz</em> refutations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/micromega.html#lra-a-decision-procedure-for-linear-real-and-rational-arithmetic"><code class="docutils literal notranslate"><span class="pre">lra</span></code>: a decision procedure for linear real and rational arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/micromega.html#lia-a-tactic-for-linear-integer-arithmetic"><code class="docutils literal notranslate"><span class="pre">lia</span></code>: a tactic for linear integer arithmetic</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../addendum/micromega.html#high-level-view-of-lia">High level view of <code class="docutils literal notranslate"><span class="pre">lia</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/micromega.html#cutting-plane-proofs">Cutting plane proofs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/micromega.html#case-split">Case split</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/micromega.html#nra-a-proof-procedure-for-non-linear-arithmetic"><code class="docutils literal notranslate"><span class="pre">nra</span></code>: a proof procedure for non-linear arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/micromega.html#nia-a-proof-procedure-for-non-linear-integer-arithmetic"><code class="docutils literal notranslate"><span class="pre">nia</span></code>: a proof procedure for non-linear integer arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/micromega.html#psatz-a-proof-procedure-for-non-linear-arithmetic"><code class="docutils literal notranslate"><span class="pre">psatz</span></code>: a proof procedure for non-linear arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/micromega.html#zify-pre-processing-of-arithmetic-goals"><code class="docutils literal notranslate"><span class="pre">zify</span></code>: pre-processing of arithmetic goals</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/ring.html">ring and field: solvers for polynomial and rational equations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/ring.html#what-does-this-tactic-do">What does this tactic do?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/ring.html#the-variables-map">The variables map</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/ring.html#is-it-automatic">Is it automatic?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/ring.html#concrete-usage-in-coq">Concrete usage in Coq</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/ring.html#adding-a-ring-structure">Adding a ring structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/ring.html#how-does-it-work">How does it work?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/ring.html#dealing-with-fields">Dealing with fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/ring.html#adding-a-new-field-structure">Adding a new field structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/ring.html#history-of-ring">History of ring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/ring.html#discussion">Discussion</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/nsatz.html">Nsatz: a solver for equalities in integral domains</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/nsatz.html#more-about-nsatz">More about <code class="docutils literal notranslate"><span class="pre">nsatz</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proofs/automatic-tactics/auto.html">Programmable proof search</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proofs/automatic-tactics/auto.html#tactics">Tactics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/automatic-tactics/auto.html#hint-databases">Hint databases</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proofs/automatic-tactics/auto.html#creating-hint-databases">Creating hint databases</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proofs/automatic-tactics/auto.html#hint-databases-defined-in-the-coq-standard-library">Hint databases defined in the Coq standard library</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/automatic-tactics/auto.html#creating-hints">Creating Hints</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proofs/automatic-tactics/auto.html#hint-locality">Hint locality</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proofs/automatic-tactics/auto.html#setting-implicit-automation-tactics">Setting implicit automation tactics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/generalized-rewriting.html">Generalized rewriting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/generalized-rewriting.html#introduction-to-generalized-rewriting">Introduction to generalized rewriting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../addendum/generalized-rewriting.html#relations-and-morphisms">Relations and morphisms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/generalized-rewriting.html#adding-new-relations-and-morphisms">Adding new relations and morphisms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/generalized-rewriting.html#rewriting-and-nonreflexive-relations">Rewriting and nonreflexive relations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/generalized-rewriting.html#rewriting-and-nonsymmetric-relations">Rewriting and nonsymmetric relations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/generalized-rewriting.html#rewriting-in-ambiguous-setoid-contexts">Rewriting in ambiguous setoid contexts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/generalized-rewriting.html#rewriting-with-type-valued-relations">Rewriting with <code class="docutils literal notranslate"><span class="pre">Type</span></code> valued relations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/generalized-rewriting.html#declaring-rewrite-relations">Declaring rewrite relations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/generalized-rewriting.html#commands-and-tactics">Commands and tactics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../addendum/generalized-rewriting.html#first-class-setoids-and-morphisms">First class setoids and morphisms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/generalized-rewriting.html#tactics-enabled-on-user-provided-relations">Tactics enabled on user provided relations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/generalized-rewriting.html#printing-relations-and-morphisms">Printing relations and morphisms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/generalized-rewriting.html#deprecated-syntax-and-backward-incompatibilities">Deprecated syntax and backward incompatibilities</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/generalized-rewriting.html#extensions">Extensions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../addendum/generalized-rewriting.html#rewriting-under-binders">Rewriting under binders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/generalized-rewriting.html#subrelations">Subrelations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/generalized-rewriting.html#constant-unfolding">Constant unfolding</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/generalized-rewriting.html#strategies-for-rewriting">Strategies for rewriting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../addendum/generalized-rewriting.html#usage">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/generalized-rewriting.html#definitions">Definitions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../proofs/creating-tactics/index.html">Creating new tactics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/ltac.html">Ltac</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#syntax">Syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#values">Values</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#syntactic-values">Syntactic values</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#substitution">Substitution</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#local-definitions-let">Local definitions: let</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#function-construction-and-application">Function construction and application</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#tactics-in-terms">Tactics in terms</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#goal-selectors">Goal selectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#processing-multiple-goals">Processing multiple goals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#branching-and-backtracking">Branching and backtracking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#control-flow">Control flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#sequence">Sequence: ;</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#do-loop">Do loop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#repeat-loop">Repeat loop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#catching-errors-try">Catching errors: try</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#conditional-branching-tryif">Conditional branching: tryif</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#alternatives">Alternatives</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#branching-with-backtracking">Branching with backtracking: +</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#local-application-of-tactics">Local application of tactics: [&gt; ... ]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#first-tactic-to-succeed">First tactic to succeed</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#solving">Solving</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#first-tactic-to-make-progress">First tactic to make progress: ||</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#detecting-progress">Detecting progress</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#success-and-failure">Success and failure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#checking-for-success-assert-succeeds">Checking for success: assert_succeeds</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#checking-for-failure-assert-fails">Checking for failure: assert_fails</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#failing">Failing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#soft-cut-once">Soft cut: once</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#checking-for-a-single-success-exactly-once">Checking for a single success: exactly_once</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#manipulating-values">Manipulating values</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#pattern-matching-on-terms-match">Pattern matching on terms: match</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#pattern-matching-on-goals-and-hypotheses-match-goal">Pattern matching on goals and hypotheses: match goal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#filling-a-term-context">Filling a term context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#generating-fresh-hypothesis-names">Generating fresh hypothesis names</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#computing-in-a-term-eval">Computing in a term: eval</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#getting-the-type-of-a-term">Getting the type of a term</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#manipulating-untyped-terms-type-term">Manipulating untyped terms: type_term</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#counting-goals-numgoals">Counting goals: numgoals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#testing-boolean-expressions-guard">Testing boolean expressions: guard</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#checking-properties-of-terms">Checking properties of terms</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#timing">Timing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#timeout">Timeout</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#timing-a-tactic">Timing a tactic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#timing-a-tactic-that-evaluates-to-a-term-time-constr">Timing a tactic that evaluates to a term: time_constr</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#print-identity-tactic-idtac">Print/identity tactic: idtac</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#tactic-toplevel-definitions">Tactic toplevel definitions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#defining-ltac-symbols">Defining <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub> symbols</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#printing-ltac-tactics">Printing <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub> tactics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#examples-of-using-ltac">Examples of using <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#proof-that-the-natural-numbers-have-at-least-two-elements">Proof that the natural numbers have at least two elements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#proving-that-a-list-is-a-permutation-of-a-second-list">Proving that a list is a permutation of a second list</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#deciding-intuitionistic-propositional-logic">Deciding intuitionistic propositional logic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#deciding-type-isomorphisms">Deciding type isomorphisms</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#debugging-ltac-tactics">Debugging <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub> tactics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#backtraces">Backtraces</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#tracing-execution">Tracing execution</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#interactive-debugger">Interactive debugger</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#profiling-ltac-tactics">Profiling <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub> tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac.html#run-time-optimization-tactic">Run-time optimization tactic</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/ltac2.html">Ltac2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac2.html#general-design">General design</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac2.html#ml-component">ML component</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#type-syntax">Type Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#type-declarations">Type declarations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#apis">APIs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#term-syntax">Term Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#ltac2-definitions">Ltac2 Definitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#printing-ltac2-tactics">Printing Ltac2 tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#reduction">Reduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#typing">Typing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#effects">Effects</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac2.html#meta-programming">Meta-programming</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#id3">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#quotations">Quotations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#term-antiquotations">Term Antiquotations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#match-over-terms">Match over terms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#match-over-goals">Match over goals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#match-on-values">Match on values</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac2.html#notations">Notations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#abbreviations">Abbreviations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#defining-tactics">Defining tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#syntactic-classes">Syntactic classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac2.html#evaluation">Evaluation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac2.html#debug">Debug</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac2.html#compatibility-layer-with-ltac1">Compatibility layer with Ltac1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#ltac1-from-ltac2">Ltac1 from Ltac2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#ltac2-from-ltac1">Ltac2 from Ltac1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#switching-between-ltac-languages">Switching between Ltac languages</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac2.html#transition-from-ltac1">Transition from Ltac1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#syntax-changes">Syntax changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#tactic-delay">Tactic delay</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#variable-binding">Variable binding</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ltac2.html#exception-catching">Exception catching</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using Coq</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../using/libraries/index.html">Libraries and plugins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../language/coq-library.html">The Coq library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../language/coq-library.html#the-prelude">The prelude</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../language/coq-library.html#notations">Notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/coq-library.html#logic">Logic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/coq-library.html#datatypes">Datatypes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/coq-library.html#specification">Specification</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/coq-library.html#basic-arithmetic">Basic Arithmetic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/coq-library.html#well-founded-recursion">Well-founded recursion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/coq-library.html#accessing-the-type-level">Accessing the Type level</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/coq-library.html#tactics">Tactics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../language/coq-library.html#the-standard-library">The standard library</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../language/coq-library.html#survey">Survey</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/coq-library.html#peanos-arithmetic-nat">Peano’s arithmetic (nat)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/coq-library.html#notations-for-integer-arithmetic">Notations for integer arithmetic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/coq-library.html#real-numbers-library">Real numbers library</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/coq-library.html#list-library">List library</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/coq-library.html#floats-library">Floats library</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../language/coq-library.html#users-contributions">Users’ contributions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/extraction.html">Program extraction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/extraction.html#generating-ml-code">Generating ML Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/extraction.html#extraction-options">Extraction Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../addendum/extraction.html#setting-the-target-language">Setting the target language</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/extraction.html#inlining-and-optimizations">Inlining and optimizations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/extraction.html#extra-elimination-of-useless-arguments">Extra elimination of useless arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/extraction.html#realizing-axioms">Realizing axioms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/extraction.html#realizing-inductive-types">Realizing inductive types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/extraction.html#avoiding-conflicts-with-existing-filenames">Avoiding conflicts with existing filenames</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/extraction.html#additional-settings">Additional settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/extraction.html#differences-between-coq-and-ml-type-systems">Differences between Coq and ML type systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/extraction.html#some-examples">Some examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../addendum/extraction.html#a-detailed-example-euclidean-division">A detailed example: Euclidean division</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/extraction.html#extraction-s-horror-museum">Extraction's horror museum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../addendum/extraction.html#users-contributions">Users' Contributions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/miscellaneous-extensions.html">Program derivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../using/libraries/funind.html">Functional induction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../using/libraries/funind.html#advanced-recursive-functions">Advanced recursive functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../using/libraries/funind.html#tactics">Tactics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../using/libraries/funind.html#generation-of-induction-principles-with-functional-scheme">Generation of induction principles with <code class="docutils literal notranslate"><span class="pre">Functional</span></code> <code class="docutils literal notranslate"><span class="pre">Scheme</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../using/libraries/writing.html">Writing Coq libraries and plugins</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../using/libraries/writing.html#deprecating-library-objects-or-tactics">Deprecating library objects or tactics</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../using/tools/index.html">Command-line and graphical tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/utilities.html">Building Coq Projects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/utilities.html#coq-configuration-basics">Coq configuration basics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#installing-coq-and-coq-packages-with-opam">Installing Coq and Coq packages with opam</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#setup-for-working-on-your-own-projects">Setup for working on your own projects</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#building-a-project-with-coqproject-overview">Building a project with _CoqProject (overview)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#logical-paths-and-the-load-path">Logical paths and the load path</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#modifying-multiple-interdependent-projects-at-the-same-time">Modifying multiple interdependent projects at the same time</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#installed-and-uninstalled-packages">Installed and uninstalled packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#upgrading-to-a-new-version-of-coq">Upgrading to a new version of Coq</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/utilities.html#building-a-coq-project-with-coq-makefile-details">Building a Coq project with coq_makefile (details)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#comments">Comments</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/utilities.html#building-a-coq-project-with-dune">Building a Coq project with Dune</a></li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/utilities.html#coqdep-computing-module-dependencies">coqdep: Computing Module dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/utilities.html#split-compilation-of-native-computation-files">Split compilation of native computation files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/utilities.html#using-coq-as-a-library">Using Coq as a library</a></li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/utilities.html#embedded-coq-phrases-inside-latex-documents">Embedded Coq phrases inside <span class="smallcaps">LaTeX</span> documents</a></li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/utilities.html#man-pages">Man pages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/coq-commands.html">Coq commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coq-commands.html#interactive-use-coqtop">Interactive use (coqtop)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coq-commands.html#batch-compilation-coqc">Batch compilation (coqc)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coq-commands.html#customization-at-launch-time">Customization at launch time</a></li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coq-commands.html#command-parameters">Command parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/coq-commands.html#coqrc-start-up-script"><code class="docutils literal notranslate"><span class="pre">coqrc</span></code> start up script</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/coq-commands.html#environment-variables">Environment variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/coq-commands.html#command-line-options">Command line options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coq-commands.html#compiled-interfaces-produced-using-vos">Compiled interfaces (produced using <code class="docutils literal notranslate"><span class="pre">-vos</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coq-commands.html#compiled-libraries-checker-coqchk">Compiled libraries checker (coqchk)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../using/tools/coqdoc.html">Documenting Coq files with coqdoc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../using/tools/coqdoc.html#principles">Principles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../using/tools/coqdoc.html#coq-material-inside-documentation">Coq material inside documentation.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../using/tools/coqdoc.html#pretty-printing">Pretty-printing.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../using/tools/coqdoc.html#sections">Sections</a></li>
<li class="toctree-l4"><a class="reference internal" href="../using/tools/coqdoc.html#lists">Lists.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../using/tools/coqdoc.html#rules">Rules.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../using/tools/coqdoc.html#emphasis">Emphasis.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../using/tools/coqdoc.html#escaping-to-latex-and-html">Escaping to <span class="smallcaps">LaTeX</span> and HTML.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../using/tools/coqdoc.html#verbatim">Verbatim</a></li>
<li class="toctree-l4"><a class="reference internal" href="../using/tools/coqdoc.html#hyperlinks">Hyperlinks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../using/tools/coqdoc.html#hiding-showing-parts-of-the-source">Hiding / Showing parts of the source</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../using/tools/coqdoc.html#usage">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../using/tools/coqdoc.html#command-line-options">Command line options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../using/tools/coqdoc.html#the-coqdoc-latex-style-file">The coqdoc <span class="smallcaps">LaTeX</span> style file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/coqide.html">CoqIDE</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coqide.html#managing-files-and-buffers-basic-editing">Managing files and buffers, basic editing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coqide.html#running-coq-scripts">Running Coq scripts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coqide.html#asynchronous-mode">Asynchronous mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coqide.html#commands-and-templates">Commands and templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coqide.html#queries">Queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coqide.html#compilation">Compilation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coqide.html#customizations">Customizations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/coqide.html#preferences">Preferences</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/coqide.html#key-bindings">Key bindings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coqide.html#using-unicode-symbols">Using Unicode symbols</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/coqide.html#displaying-unicode-symbols">Displaying Unicode symbols</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/coqide.html#bindings-for-input-of-unicode-symbols">Bindings for input of Unicode symbols</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/coqide.html#adding-custom-bindings">Adding custom bindings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/coqide.html#character-encoding-for-saved-files">Character encoding for saved files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coqide.html#debugger">Debugger</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/coqide.html#breakpoints">Breakpoints</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/coqide.html#call-stack-and-variables">Call Stack and Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/coqide.html#supported-use-cases">Supported use cases</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/parallel-proof-processing.html">Asynchronous and Parallel Proof Processing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/parallel-proof-processing.html#proof-annotations">Proof annotations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../addendum/parallel-proof-processing.html#automatic-suggestion-of-proof-annotations">Automatic suggestion of proof annotations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/parallel-proof-processing.html#proof-blocks-and-error-resilience">Proof blocks and error resilience</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../addendum/parallel-proof-processing.html#caveats">Caveats</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/parallel-proof-processing.html#interactive-mode">Interactive mode</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../addendum/parallel-proof-processing.html#id3">Caveats</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/parallel-proof-processing.html#batch-mode">Batch mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/parallel-proof-processing.html#limiting-the-number-of-parallel-workers">Limiting the number of parallel workers</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendix/history-and-changes/index.html">History and recent changes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../history.html">Early history of Coq</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../history.html#historical-roots">Historical roots</a></li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#versions-1-to-5">Versions 1 to 5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../history.html#version-1">Version 1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../history.html#version-2">Version 2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../history.html#version-3">Version 3</a></li>
<li class="toctree-l4"><a class="reference internal" href="../history.html#version-4">Version 4</a></li>
<li class="toctree-l4"><a class="reference internal" href="../history.html#version-5">Version 5</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#versions-6">Versions 6</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../history.html#version-6-1">Version 6.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../history.html#version-6-2">Version 6.2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../history.html#version-6-3">Version 6.3</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#versions-7">Versions 7</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../history.html#summary-of-changes">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../history.html#details-of-changes-in-7-0-and-7-1">Details of changes in 7.0 and 7.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../history.html#details-of-changes-in-7-2">Details of changes in 7.2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../history.html#details-of-changes-in-7-3">Details of changes in 7.3</a></li>
<li class="toctree-l4"><a class="reference internal" href="../history.html#details-of-changes-in-7-4">Details of changes in 7.4</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changes.html">Recent changes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#version-8-18">Version 8.18</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#summary-of-changes">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-18-0">Changes in 8.18.0</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#version-8-17">Version 8.17</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id141">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-17-0">Changes in 8.17.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-17-1">Changes in 8.17.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#version-8-16">Version 8.16</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id295">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-16-0">Changes in 8.16.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-16-1">Changes in 8.16.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#version-8-15">Version 8.15</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id458">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-15-0">Changes in 8.15.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-15-1">Changes in 8.15.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-15-2">Changes in 8.15.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#version-8-14">Version 8.14</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id686">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-14-0">Changes in 8.14.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-14-1">Changes in 8.14.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#version-8-13">Version 8.13</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id882">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-13-beta1">Changes in 8.13+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-13-0">Changes in 8.13.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-13-1">Changes in 8.13.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-13-2">Changes in 8.13.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#version-8-12">Version 8.12</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id1046">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-12-beta1">Changes in 8.12+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-12-0">Changes in 8.12.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-12-1">Changes in 8.12.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-12-2">Changes in 8.12.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#version-8-11">Version 8.11</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id1352">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-11-beta1">Changes in 8.11+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-11-0">Changes in 8.11.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-11-1">Changes in 8.11.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-11-2">Changes in 8.11.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#version-8-10">Version 8.10</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id1490">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#other-changes-in-8-10-beta1">Other changes in 8.10+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-10-beta2">Changes in 8.10+beta2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-10-beta3">Changes in 8.10+beta3</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-10-0">Changes in 8.10.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-10-1">Changes in 8.10.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-10-2">Changes in 8.10.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#version-8-9">Version 8.9</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id1637">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-9-beta1">Details of changes in 8.9+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-8-0">Changes in 8.8.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#changes-in-8-8-1">Changes in 8.8.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#version-8-8">Version 8.8</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id1639">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-8-beta1">Details of changes in 8.8+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-8-0">Details of changes in 8.8.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-8-1">Details of changes in 8.8.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-8-2">Details of changes in 8.8.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#version-8-7">Version 8.7</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id1640">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#potential-compatibility-issues">Potential compatibility issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-7-beta1">Details of changes in 8.7+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-7-beta2">Details of changes in 8.7+beta2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-7-0">Details of changes in 8.7.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-7-1">Details of changes in 8.7.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-7-2">Details of changes in 8.7.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#version-8-6">Version 8.6</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id1641">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#potential-sources-of-incompatibilities">Potential sources of incompatibilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-6beta1">Details of changes in 8.6beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-6">Details of changes in 8.6</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-6-1">Details of changes in 8.6.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#version-8-5">Version 8.5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id1642">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id1643">Potential sources of incompatibilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-5beta1">Details of changes in 8.5beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-5beta2">Details of changes in 8.5beta2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-5beta3">Details of changes in 8.5beta3</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-5">Details of changes in 8.5</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-5pl1">Details of changes in 8.5pl1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-5pl2">Details of changes in 8.5pl2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-5pl3">Details of changes in 8.5pl3</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#version-8-4">Version 8.4</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id1644">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id1646">Potential sources of incompatibilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-4beta">Details of changes in 8.4beta</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-4beta2">Details of changes in 8.4beta2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-4">Details of changes in 8.4</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#version-8-3">Version 8.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id1647">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes">Details of changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#version-8-2">Version 8.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id1648">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id1649">Details of changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#version-8-1">Version 8.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id1650">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-1beta">Details of changes in 8.1beta</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-1gamma">Details of changes in 8.1gamma</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-1">Details of changes in 8.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#version-8-0">Version 8.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#id1651">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-0beta-old-syntax">Details of changes in 8.0beta old syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-0beta-new-syntax">Details of changes in 8.0beta new syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../changes.html#details-of-changes-in-8-0">Details of changes in 8.0</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/indexes/index.html">Indexes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../std-glossindex.html">Glossary index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../coq-cmdindex.html">Command index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../coq-tacindex.html">Tactic index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../coq-attrindex.html">Attribute index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../coq-optindex.html">Flags, options and tables index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../coq-exnindex.html">Errors and warnings index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../genindex.html">General index</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../zebibliography.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Coq</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../language/extensions/index.html">Language extensions</a> &raquo;</li>
      <li>Syntax extensions and notation scopes</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/coq/coq/blob/master/doc/sphinx/user-extensions/syntax-extensions.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="math-preamble math notranslate nohighlight">
\[\begin{split}\newcommand{\as}{\kw{as}}
\newcommand{\case}{\kw{case}}
\newcommand{\cons}{\textsf{cons}}
\newcommand{\consf}{\textsf{consf}}
\newcommand{\emptyf}{\textsf{emptyf}}
\newcommand{\End}{\kw{End}}
\newcommand{\kwend}{\kw{end}}
\newcommand{\even}{\textsf{even}}
\newcommand{\evenO}{\textsf{even}_\textsf{O}}
\newcommand{\evenS}{\textsf{even}_\textsf{S}}
\newcommand{\Fix}{\kw{Fix}}
\newcommand{\fix}{\kw{fix}}
\newcommand{\for}{\textsf{for}}
\newcommand{\forest}{\textsf{forest}}
\newcommand{\Functor}{\kw{Functor}}
\newcommand{\In}{\kw{in}}
\newcommand{\ind}[3]{\kw{Ind}~[#1]\left(#2\mathrm{~:=~}#3\right)}
\newcommand{\Indp}[4]{\kw{Ind}_{#4}[#1](#2:=#3)}
\newcommand{\Indpstr}[5]{\kw{Ind}_{#4}[#1](#2:=#3)/{#5}}
\newcommand{\injective}{\kw{injective}}
\newcommand{\kw}[1]{\textsf{#1}}
\newcommand{\length}{\textsf{length}}
\newcommand{\letin}[3]{\kw{let}~#1:=#2~\kw{in}~#3}
\newcommand{\List}{\textsf{list}}
\newcommand{\lra}{\longrightarrow}
\newcommand{\Match}{\kw{match}}
\newcommand{\Mod}[3]{{\kw{Mod}}({#1}:{#2}\,\zeroone{:={#3}})}
\newcommand{\ModImp}[3]{{\kw{Mod}}({#1}:{#2}:={#3})}
\newcommand{\ModA}[2]{{\kw{ModA}}({#1}=={#2})}
\newcommand{\ModS}[2]{{\kw{Mod}}({#1}:{#2})}
\newcommand{\ModType}[2]{{\kw{ModType}}({#1}:={#2})}
\newcommand{\mto}{.\;}
\newcommand{\nat}{\textsf{nat}}
\newcommand{\Nil}{\textsf{nil}}
\newcommand{\nilhl}{\textsf{nil\_hl}}
\newcommand{\nO}{\textsf{O}}
\newcommand{\node}{\textsf{node}}
\newcommand{\nS}{\textsf{S}}
\newcommand{\odd}{\textsf{odd}}
\newcommand{\oddS}{\textsf{odd}_\textsf{S}}
\newcommand{\ovl}[1]{\overline{#1}}
\newcommand{\Pair}{\textsf{pair}}
\newcommand{\plus}{\mathsf{plus}}
\newcommand{\SProp}{\textsf{SProp}}
\newcommand{\Prop}{\textsf{Prop}}
\newcommand{\return}{\kw{return}}
\newcommand{\Set}{\textsf{Set}}
\newcommand{\Sort}{\mathcal{S}}
\newcommand{\Str}{\textsf{Stream}}
\newcommand{\Struct}{\kw{Struct}}
\newcommand{\subst}[3]{#1\{#2/#3\}}
\newcommand{\tl}{\textsf{tl}}
\newcommand{\tree}{\textsf{tree}}
\newcommand{\trii}{\triangleright_\iota}
\newcommand{\Type}{\textsf{Type}}
\newcommand{\WEV}[3]{\mbox{$#1[] \vdash #2 \lra  #3$}}
\newcommand{\WEVT}[3]{\mbox{$#1[] \vdash #2 \lra$}\\ \mbox{$ #3$}}
\newcommand{\WF}[2]{{\mathcal{W\!F}}(#1)[#2]}
\newcommand{\WFE}[1]{\WF{E}{#1}}
\newcommand{\WFT}[2]{#1[] \vdash {\mathcal{W\!F}}(#2)}
\newcommand{\WFTWOLINES}[2]{{\mathcal{W\!F}}\begin{array}{l}(#1)\\\mbox{}[{#2}]\end{array}}
\newcommand{\with}{\kw{with}}
\newcommand{\WS}[3]{#1[] \vdash #2 &lt;: #3}
\newcommand{\WSE}[2]{\WS{E}{#1}{#2}}
\newcommand{\WT}[4]{#1[#2] \vdash #3 : #4}
\newcommand{\WTE}[3]{\WT{E}{#1}{#2}{#3}}
\newcommand{\WTEG}[2]{\WTE{\Gamma}{#1}{#2}}
\newcommand{\WTM}[3]{\WT{#1}{}{#2}{#3}}
\newcommand{\zeroone}[1]{[{#1}]}
\end{split}\]</div>
<section id="syntax-extensions-and-notation-scopes">
<span id="id1"></span><h1>Syntax extensions and notation scopes<a class="headerlink" href="#syntax-extensions-and-notation-scopes" title="Permalink to this headline">¶</a></h1>
<p>In this chapter, we introduce advanced commands to modify the way Coq
parses and prints objects, i.e. the translations between the concrete
and internal representations of terms and commands.</p>
<p>The main commands to provide custom symbolic notations for terms are
<a class="reference internal" href="#coq:cmd.Notation" title="Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Notation</span></code></a> and <a class="reference internal" href="#coq:cmd.Infix" title="Infix"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Infix</span></code></a>; they will be described in the
<a class="reference internal" href="#notations"><span class="std std-ref">next section</span></a>. There is also a
variant of <a class="reference internal" href="#coq:cmd.Notation" title="Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Notation</span></code></a> which does not modify the parser; this provides a
form of <a class="reference internal" href="#abbreviations"><span class="std std-ref">abbreviation</span></a>. It is
sometimes expected that the same symbolic notation has different meanings in
different contexts; to achieve this form of overloading, Coq offers a notion
of <a class="reference internal" href="#scopes"><span class="std std-ref">notation scopes</span></a>.
The main command to provide custom notations for tactics is <a class="reference internal" href="#coq:cmd.Tactic-Notation" title="Tactic Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Tactic</span> <span class="pre">Notation</span></code></a>.</p>
<div class="coqtop literal-block coqtop-hidden docutils container">
<span></span><dl class="simple">
<dt class="coqtop-hidden"><span></span><span class="coqdoc-keyword">Set</span><span> </span><span class="coqdoc-keyword">Printing</span><span> </span><span class="coqdoc-var">Depth</span><span> 50.</span><span>
</span></dt></dl>
</div>
<section id="notations">
<span id="id2"></span><h2>Notations<a class="headerlink" href="#notations" title="Permalink to this headline">¶</a></h2>
<section id="basic-notations">
<h3>Basic notations<a class="headerlink" href="#basic-notations" title="Permalink to this headline">¶</a></h3>
<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Notation">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Notation</span></span></span> <a class="reference internal" href="#grammar-token-notation_declaration"><span class="hole"><span class="pre">notation_declaration</span></span></a></span></span><a class="headerlink" href="#coq:cmd.Notation" title="Permalink to this definition">¶</a></dt>
<dd><span class="prodn-table"><span class="prodn-column-group"><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span></span><span class="prodn-row-group"><span class="prodn-row"><span class="prodn-cell-nonterminal"><span class="prodn-target"><span class="target" id="grammar-token-notation_declaration"></span></span><span class="notation"><a class="reference internal" href="#grammar-token-notation_declaration"><span class="hole">notation_declaration</span></a></span></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">::=</span></code></span><span class="prodn-cell-production"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-string"><span class="hole">string</span></a> <span><span>:=</span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-one_term"><span class="hole">one_term</span></a> <span class="repeat-wrapper"><span class="repeat"><span><span>(</span></span> <span class="repeat-wrapper-with-sub"><span class="repeat"><a class="reference internal" href="#grammar-token-syntax_modifier"><span class="hole">syntax_modifier</span></a></span><span class="notation-sup">+</span><span class="notation-sub">,</span></span> <span><span>)</span></span></span><span class="notation-sup">?</span></span> <span class="repeat-wrapper"><span class="repeat"><span><span>:</span></span> <a class="reference internal" href="#grammar-token-scope_name"><span class="hole">scope_name</span></a></span><span class="notation-sup">?</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span></span></span><p>Defines a <em>notation</em>, an alternate syntax for entering or displaying
a specific term or term pattern.</p>
<p>This command supports the <a class="reference internal" href="../language/core/modules.html#coq:attr.local" title="local"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">local</span></code></a> attribute, which limits its effect to the
current module.
If the command is inside a section, its effect is limited to the section.</p>
<p>Specifying <a class="reference internal" href="#grammar-token-scope_name"><code class="xref std std-token docutils literal notranslate"><span class="pre">scope_name</span></code></a> associates the notation with that scope.  Otherwise
it is a <span class="term-defn"><span class="target" id="term-lonely-notation"></span>lonely notation</span>, that is, not associated with a scope.</p>
</dd></dl>

<p>For example, the following definition permits using the infix expression <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">A</span></span> <span class="operator"><span class="pre">/\</span></span> <span class="name"><span class="pre">B</span></span></code>
to represent <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">and</span></span> <span class="name"><span class="pre">A</span></span> <span class="name"><span class="pre">B</span></span><span class="operator"><span class="pre">)</span></span></code>:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;A /\ B&quot; := (</span><span class="coqdoc-var">and</span><span> </span><span class="coqdoc-var">A</span><span> </span><span class="coqdoc-var">B</span><span>).</span><span>
</span></dt></dl>
</div>
<p><code class="code Coq docutils literal notranslate"><span class="literal string double"><span class="pre">&quot;A</span> <span class="pre">/\</span> <span class="pre">B&quot;</span></span></code> is a <em>notation</em>, which tells how to represent the abbreviated term
<code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">and</span></span> <span class="name"><span class="pre">A</span></span> <span class="name"><span class="pre">B</span></span><span class="operator"><span class="pre">)</span></span></code>.</p>
<p>Notations must be in double quotes, except when the
abbreviation has the form of an ordinary applicative expression;
see <a class="reference internal" href="#abbreviations"><span class="std std-ref">Abbreviations</span></a>. The notation consists of <em>tokens</em> separated by
spaces. Tokens which are identifiers (such as <code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">x0'</span></code>, etc.) are the <em>parameters</em>
of the notation. Each of them must occur at least once in the abbreviated term. The
other elements of the string (such as <code class="docutils literal notranslate"><span class="pre">/\</span></code>) are the <em>symbols</em>, which must appear
literally when the notation is used.</p>
<p>Identifiers enclosed in single quotes are treated as symbols and thus
lose their role as parameters. For example:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;'IF' c1 'then' c2 'else' c3&quot; := (</span><span class="coqdoc-var">c1</span><span> /\ </span><span class="coqdoc-var">c2</span><span> \/ ~ </span><span class="coqdoc-var">c1</span><span> /\ </span><span class="coqdoc-var">c3</span><span>) (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 200, </span><span class="coqdoc-tactic">right</span><span> </span><span class="coqdoc-keyword">associativity</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>Identifier 'IF' now a keyword
</span></dd>
</dl>
</div>
<p>Symbols that start with a single quote with 3 or more characters must be single quoted.
For example, the symbol <code class="docutils literal notranslate"><span class="pre">'ab</span></code> is represented by <code class="docutils literal notranslate"><span class="pre">''ab'</span></code> in the notation string.</p>
<p>A notation binds a syntactic expression to a term. Unless the parser
and pretty-printer of Coq already know how to deal with the syntactic
expression (such as through <a class="reference internal" href="#coq:cmd.Reserved-Notation" title="Reserved Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Reserved</span> <span class="pre">Notation</span></code></a> or for notations
that contain only literals), explicit precedences and
associativity rules have to be given.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The right-hand side of a notation is interpreted at the time the notation is
given. In particular, disambiguation of constants, <a class="reference internal" href="../language/extensions/implicit-arguments.html#implicitarguments"><span class="std std-ref">implicit arguments</span></a> and other notations are resolved at the
time of the declaration of the notation. The right-hand side is
currently typed only at use time but this may change in the future.</p>
</div>
</section>
<section id="precedences-and-associativity">
<h3>Precedences and associativity<a class="headerlink" href="#precedences-and-associativity" title="Permalink to this headline">¶</a></h3>
<p>Mixing different symbolic notations in the same text may cause serious
parsing ambiguity. To deal with the ambiguity of notations, Coq uses
precedence levels ranging from 0 to 100 (plus one extra level numbered
200) and associativity rules.</p>
<p>Consider for example the new notation</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;A \/ B&quot; := (</span><span class="coqdoc-var">or</span><span> </span><span class="coqdoc-var">A</span><span> </span><span class="coqdoc-var">B</span><span>).</span><span>
</span></dt></dl>
</div>
<p>Clearly, an expression such as <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">forall</span></span> <span class="name"><span class="pre">A</span></span><span class="operator"><span class="pre">:</span></span><span class="keyword type"><span class="pre">Prop</span></span><span class="operator"><span class="pre">,</span></span> <span class="name"><span class="pre">True</span></span> <span class="operator"><span class="pre">/\</span></span> <span class="name"><span class="pre">A</span></span> <span class="operator"><span class="pre">\/</span></span> <span class="name"><span class="pre">A</span></span> <span class="operator"><span class="pre">\/</span></span> <span class="name"><span class="pre">False</span></span></code>
is ambiguous. To tell the Coq parser how to interpret the
expression, a priority between the symbols <code class="docutils literal notranslate"><span class="pre">/\</span></code> and <code class="docutils literal notranslate"><span class="pre">\/</span></code> has to be
given. Assume for instance that we want conjunction to bind more than
disjunction. This is expressed by assigning a precedence level to each
notation, knowing that a lower level binds more than a higher level.
Hence the level for disjunction must be higher than the level for
conjunction.</p>
<p>Since connectives are not tight articulation points of a text, it
is reasonable to choose levels not so far from the highest level which
is 100, for example 85 for disjunction and 80 for conjunction <a class="footnote-reference brackets" href="#and-or-levels" id="id3">1</a>.</p>
<p>Similarly, an associativity is needed to decide whether <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">True</span></span> <span class="operator"><span class="pre">/\</span></span> <span class="name"><span class="pre">False</span></span> <span class="operator"><span class="pre">/\</span></span> <span class="name"><span class="pre">False</span></span></code>
defaults to <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">True</span></span> <span class="operator"><span class="pre">/\</span></span> <span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">False</span></span> <span class="operator"><span class="pre">/\</span></span> <span class="name"><span class="pre">False</span></span><span class="operator"><span class="pre">)</span></span></code> (right associativity) or to
<code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">True</span></span> <span class="operator"><span class="pre">/\</span></span> <span class="name"><span class="pre">False</span></span><span class="operator"><span class="pre">)</span></span> <span class="operator"><span class="pre">/\</span></span> <span class="name"><span class="pre">False</span></span></code> (left associativity). We may even consider that the
expression is not well-formed and that parentheses are mandatory (this is a “no
associativity”) <a class="footnote-reference brackets" href="#no-associativity" id="id4">2</a>. We do not know of a special convention for
the associativity of disjunction and conjunction, so let us apply
right associativity (which is the choice of Coq).</p>
<p>Precedence levels and associativity rules of notations are specified with a list of
parenthesized <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-syntax_modifier"><span class="hole"><span class="pre">syntax_modifier</span></span></a></span></code>s.  Here is how the previous examples refine:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;A /\ B&quot; := (</span><span class="coqdoc-var">and</span><span> </span><span class="coqdoc-var">A</span><span> </span><span class="coqdoc-var">B</span><span>) (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 80, </span><span class="coqdoc-tactic">right</span><span> </span><span class="coqdoc-keyword">associativity</span><span>).</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;A \/ B&quot; := (</span><span class="coqdoc-var">or</span><span> </span><span class="coqdoc-var">A</span><span> </span><span class="coqdoc-var">B</span><span>) (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 85, </span><span class="coqdoc-tactic">right</span><span> </span><span class="coqdoc-keyword">associativity</span><span>).</span><span>
</span></dt></dl>
</div>
<p>By default, a notation is considered nonassociative, but the
precedence level is mandatory (except for special cases whose level is
canonical). The level is either a number or the phrase <code class="docutils literal notranslate"><span class="pre">next</span> <span class="pre">level</span></code>
whose meaning is obvious.
Some <a class="reference internal" href="../language/coq-library.html#init-notations"><span class="std std-ref">associativities are predefined</span></a> in the
<code class="docutils literal notranslate"><span class="pre">Notations</span></code> module.</p>
</section>
<section id="complex-notations">
<h3>Complex notations<a class="headerlink" href="#complex-notations" title="Permalink to this headline">¶</a></h3>
<p>Notations can be made from arbitrarily complex symbols. One can for
instance define prefix notations.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;~ x&quot; := (</span><span class="coqdoc-var">not</span><span> </span><span class="coqdoc-var">x</span><span>) (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 75, </span><span class="coqdoc-tactic">right</span><span> </span><span class="coqdoc-keyword">associativity</span><span>).</span><span>
</span></dt></dl>
</div>
<p>One can also define notations for incomplete terms, with the hole
expected to be inferred during type checking.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;x = y&quot; := (&#64;</span><span class="coqdoc-var">eq</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span>) (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 70, </span><span class="coqdoc-keyword">no</span><span> </span><span class="coqdoc-keyword">associativity</span><span>).</span><span>
</span></dt></dl>
</div>
<p>One can define <em>closed</em> notations whose both sides are symbols. In this case,
the default precedence level for the inner sub-expression is 200, and the default
level for the notation itself is 0.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;( x , y )&quot; := (&#64;</span><span class="coqdoc-var">pair</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span>).</span><span>
</span></dt></dl>
</div>
<p>One can also define notations for binders.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;{ x : A | P }&quot; := (</span><span class="coqdoc-var">sig</span><span> </span><span class="coqdoc-var">A</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">x</span><span> =&gt; </span><span class="coqdoc-var">P</span><span>)).</span><span>
</span></dt></dl>
</div>
<p>In the last case though, there is a conflict with the notation for
type casts. The notation for type casts, as shown by the command <a class="reference internal" href="#coq:cmd.Print-Grammar" title="Print Grammar"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span>
<span class="pre">Grammar</span></code></a> <code class="docutils literal notranslate"><span class="pre">constr</span></code> is at level 100. To avoid <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">:</span> <span class="pre">A</span></code> being parsed as a type cast,
it is necessary to put <code class="docutils literal notranslate"><span class="pre">x</span></code> at a level below 100, typically 99. Hence, a correct
definition is the following:</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;{ x : A | P }&quot; := (</span><span class="coqdoc-var">sig</span><span> </span><span class="coqdoc-var">A</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">x</span><span> =&gt; </span><span class="coqdoc-var">P</span><span>)) (</span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 99).</span><span>
</span></dt></dl>
</div>
<p>More generally, it is required that notations are explicitly factorized on the
left. See the next section for more about factorization.</p>
</section>
<section id="simple-factorization-rules">
<h3>Simple factorization rules<a class="headerlink" href="#simple-factorization-rules" title="Permalink to this headline">¶</a></h3>
<p>Coq extensible parsing is performed by <em>Camlp5</em> which is essentially a LL1
parser: it decides which notation to parse by looking at tokens from left to right.
Hence, some care has to be taken not to hide already existing rules by new
rules. Some simple left factorization work has to be done. Here is an example.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;x &lt; y&quot; := (</span><span class="coqdoc-var">lt</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span>) (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 70).</span><span>
</span></dt><dt><span></span><span class="coqdoc-var">Fail</span><span> </span><span class="coqdoc-keyword">Notation</span><span> &quot;x &lt; y &lt; z&quot; := (</span><span class="coqdoc-var">x</span><span> &lt; </span><span class="coqdoc-var">y</span><span> /\ </span><span class="coqdoc-var">y</span><span> &lt; </span><span class="coqdoc-var">z</span><span>) (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 70).</span><span>
</span></dt><dd><span>The command has indeed failed with message:
Notation &quot;_ &lt; _ &lt; _&quot; is already defined at level 70 with arguments constr
at next level, constr at next level, constr at next level
while it is now required to be at level 70 with arguments constr
at next level, constr, constr at next level.
</span></dd>
</dl>
</div>
<p>In order to factorize the left part of the rules, the subexpression
referred to by <code class="docutils literal notranslate"><span class="pre">y</span></code> has to be at the same level in both rules. However the
default behavior puts <code class="docutils literal notranslate"><span class="pre">y</span></code> at the next level below 70 in the first rule
(<code class="docutils literal notranslate"><span class="pre">no</span> <span class="pre">associativity</span></code> is the default), and at level 200 in the second
rule (<code class="docutils literal notranslate"><span class="pre">level</span> <span class="pre">200</span></code> is the default for inner expressions). To fix this, we
need to force the parsing level of <code class="docutils literal notranslate"><span class="pre">y</span></code>, as follows.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;x &lt; y&quot; := (</span><span class="coqdoc-var">lt</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span>) (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 70).</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;x &lt; y &lt; z&quot; := (</span><span class="coqdoc-var">x</span><span> &lt; </span><span class="coqdoc-var">y</span><span> /\ </span><span class="coqdoc-var">y</span><span> &lt; </span><span class="coqdoc-var">z</span><span>) (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 70, </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-var">next</span><span> </span><span class="coqdoc-keyword">level</span><span>).</span><span>
</span></dt></dl>
</div>
<p>For the sake of factorization with Coq predefined rules, simple rules
have to be observed for notations starting with a symbol, e.g., rules
starting with “<code class="docutils literal notranslate"><span class="pre">{</span></code>” or “<code class="docutils literal notranslate"><span class="pre">(</span></code>” should be put at level 0. The list
of Coq predefined notations can be found in the chapter on <a class="reference internal" href="../language/coq-library.html#thecoqlibrary"><span class="std std-ref">The Coq library</span></a>.</p>
</section>
<section id="use-of-notations-for-printing">
<h3>Use of notations for printing<a class="headerlink" href="#use-of-notations-for-printing" title="Permalink to this headline">¶</a></h3>
<p>The command <a class="reference internal" href="#coq:cmd.Notation" title="Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Notation</span></code></a> has an effect both on the Coq parser and on the
Coq printer. For example:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> (</span><span class="coqdoc-var">and</span><span> </span><span class="coqdoc-var">True</span><span> </span><span class="coqdoc-var">True</span><span>).</span><span>
</span></dt><dd><span>True</span><span> /\</span><span> True
     : </span><span class="ansi-fg-yellow ansi-bold">Prop</span><span>
</span></dd>
</dl>
</div>
<p>However, printing, especially pretty-printing, also requires some
care. We may want specific indentations, line breaks, alignment if on
several lines, etc. For pretty-printing, Coq relies on OCaml
formatting library, which provides indentation and automatic line
breaks depending on page width by means of <em>formatting boxes</em>.</p>
<p>The default printing of notations is rudimentary. For printing a
notation, a formatting box is opened in such a way that if the
notation and its arguments cannot fit on a single line, a line break
is inserted before the symbols of the notation and the arguments on
the next lines are aligned with the argument on the first line.</p>
<p>A first, simple control that a user can have on the printing of a
notation is the insertion of spaces at some places of the notation.
This is performed by adding extra spaces between the symbols and
parameters: each extra space (other than the single space needed to
separate the components) is interpreted as a space to be inserted by
the printer. Here is an example showing how to add spaces next to the
curly braces.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;{{  x : A | P  }}&quot; := (</span><span class="coqdoc-var">sig</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">x</span><span> : </span><span class="coqdoc-var">A</span><span> =&gt; </span><span class="coqdoc-var">P</span><span>)) (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 0, </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 99).</span><span>
</span></dt></dl>
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> (</span><span class="coqdoc-var">sig</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">x</span><span> : </span><span class="coqdoc-var">nat</span><span> =&gt; </span><span class="coqdoc-var">x</span><span>=</span><span class="coqdoc-var">x</span><span>)).</span><span>
</span></dt><dd><span>{{</span><span> x </span><span>: </span><span>nat </span><span>| </span><span>x</span><span> =</span><span> x </span><span>}}</span><span>
     : </span><span class="ansi-fg-yellow ansi-bold">Set</span><span>
</span></dd>
</dl>
</div>
<p>The second, more powerful control on printing is by using <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-syntax_modifier"><span class="hole"><span class="pre">syntax_modifier</span></span></a></span></code>s. Here is an example</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">IF_then_else</span><span> (</span><span class="coqdoc-var">P</span><span> </span><span class="coqdoc-var">Q</span><span> </span><span class="coqdoc-var">R</span><span>:</span><span class="coqdoc-keyword">Prop</span><span>) := </span><span class="coqdoc-var">P</span><span> /\ </span><span class="coqdoc-var">Q</span><span> \/ ~ </span><span class="coqdoc-var">P</span><span> /\ </span><span class="coqdoc-var">R</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>IF_then_else is defined
</span></dd>
</dl>
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;'If' c1 'then' c2 'else' c3&quot; := (</span><span class="coqdoc-var">IF_then_else</span><span> </span><span class="coqdoc-var">c1</span><span> </span><span class="coqdoc-var">c2</span><span> </span><span class="coqdoc-var">c3</span><span>)</span><span>
(</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 200, </span><span class="coqdoc-tactic">right</span><span> </span><span class="coqdoc-keyword">associativity</span><span>, </span><span class="coqdoc-var">format</span><span>
&quot;'[v   ' 'If'  c1 '/' '[' 'then'  c2  ']' '/' '[' 'else'  c3 ']' ']'&quot;).</span><span>
</span></dt><dd><span>Identifier 'If' now a keyword
</span></dd>
</dl>
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span>
  (</span><span class="coqdoc-var">IF_then_else</span><span> (</span><span class="coqdoc-var">IF_then_else</span><span> </span><span class="coqdoc-var">True</span><span> </span><span class="coqdoc-var">False</span><span> </span><span class="coqdoc-var">True</span><span>)</span><span>
    (</span><span class="coqdoc-var">IF_then_else</span><span> </span><span class="coqdoc-var">True</span><span> </span><span class="coqdoc-var">False</span><span> </span><span class="coqdoc-var">True</span><span>)</span><span>
    (</span><span class="coqdoc-var">IF_then_else</span><span> </span><span class="coqdoc-var">True</span><span> </span><span class="coqdoc-var">False</span><span> </span><span class="coqdoc-var">True</span><span>)).</span><span>
</span></dt><dd><span>If</span><span> </span><span>If</span><span> </span><span>True
      </span><span>then</span><span> </span><span>False</span><span> </span><span>
      </span><span>else</span><span> </span><span>True
   </span><span>then</span><span> </span><span>If</span><span> </span><span>True
           </span><span>then</span><span> </span><span>False</span><span> </span><span>
           </span><span>else</span><span> </span><span>True</span><span> </span><span>
   </span><span>else</span><span> </span><span>If</span><span> </span><span>True
           </span><span>then</span><span> </span><span>False</span><span> </span><span>
           </span><span>else</span><span> </span><span>True
     : </span><span class="ansi-fg-yellow ansi-bold">Prop</span><span>
</span></dd>
</dl>
</div>
<p>A <em>format</em> is an extension of the string denoting the notation with
the possible following elements delimited by single quotes:</p>
<ul class="simple">
<li><p>tokens of the form <code class="docutils literal notranslate"><span class="pre">'/</span> <span class="pre">'</span></code> are translated into breaking points.  If
there is a line break, indents the number of spaces appearing after the
“<code class="docutils literal notranslate"><span class="pre">/</span></code>” (no indentation in the example)</p></li>
<li><p>tokens of the form <code class="docutils literal notranslate"><span class="pre">'//'</span></code> force writing on a new line</p></li>
<li><p>well-bracketed pairs of tokens of the form <code class="docutils literal notranslate"><span class="pre">'[</span> <span class="pre">'</span></code> and <code class="docutils literal notranslate"><span class="pre">']'</span></code> are
translated into printing boxes; if there is a line break, an extra
indentation of the number of spaces after the “<code class="docutils literal notranslate"><span class="pre">[</span></code>” is applied</p></li>
<li><p>well-bracketed pairs of tokens of the form <code class="docutils literal notranslate"><span class="pre">'[hv</span> <span class="pre">'</span></code> and <code class="docutils literal notranslate"><span class="pre">']'</span></code> are
translated into horizontal-or-else-vertical printing boxes; if the
content of the box does not fit on a single line, then every breaking
point forces a new line and an extra indentation of the number of
spaces after the “<code class="docutils literal notranslate"><span class="pre">[hv</span></code>” is applied at the beginning of each new line</p></li>
<li><p>well-bracketed pairs of tokens of the form <code class="docutils literal notranslate"><span class="pre">'[v</span> <span class="pre">'</span></code> and <code class="docutils literal notranslate"><span class="pre">']'</span></code> are
translated into vertical printing boxes; every breaking point forces a
new line, even if the line is large enough to display the whole content
of the box, and an extra indentation of the number of spaces
after the “<code class="docutils literal notranslate"><span class="pre">[v</span></code>” is applied at the beginning of each new line (3 spaces
in the example)</p></li>
<li><p>extra spaces in other tokens are preserved in the output</p></li>
</ul>
<p>Notations disappear when a section is closed. No typing of the denoted
expression is performed at definition time. Type checking is done only
at the time of use of the notation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The default for a notation is to be used both for parsing and
printing. It is possible to declare a notation only for parsing by
adding the option <code class="docutils literal notranslate"><span class="pre">only</span> <span class="pre">parsing</span></code> to the list of
<code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-syntax_modifier"><span class="hole"><span class="pre">syntax_modifier</span></span></a></span></code>s of <a class="reference internal" href="#coq:cmd.Notation" title="Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Notation</span></code></a>. Symmetrically, the
<code class="docutils literal notranslate"><span class="pre">only</span> <span class="pre">printing</span></code> <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-syntax_modifier"><span class="hole"><span class="pre">syntax_modifier</span></span></a></span></code> can be used to declare that
a notation should only be used for printing.</p>
<p>If a notation to be used both for parsing and printing is
overridden, both the parsing and printing are invalided, even if the
overriding rule is only parsing.</p>
<p>If a given notation string occurs only in <code class="docutils literal notranslate"><span class="pre">only</span> <span class="pre">printing</span></code> rules,
the parser is not modified at all.</p>
<p>To a given notation string and scope can be attached at most one
notation with both parsing and printing or with only
parsing. Contrastingly, an arbitrary number of <code class="docutils literal notranslate"><span class="pre">only</span> <span class="pre">printing</span></code>
notations differing in their right-hand sides but only a unique
right-hand side can be attached to a given string and
scope. Obviously, expressions printed by means of such extra
printing rules will not be reparsed to the same form.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When several notations can be used to print a given term, the
notations which capture the largest subterm of the term are used
preferentially. Here is an example:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;x &lt; y&quot; := (</span><span class="coqdoc-var">lt</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span>) (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 70).</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;x &lt; y &lt; z&quot; := (</span><span class="coqdoc-var">lt</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> /\ </span><span class="coqdoc-var">lt</span><span> </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-var">z</span><span>) (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 70, </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-var">next</span><span> </span><span class="coqdoc-keyword">level</span><span>).</span><span>
</span></dt><dt><span></span><span>
</span><span class="coqdoc-keyword">Check</span><span> (0 &lt; 1 /\ 1 &lt; 2).</span><span>
</span></dt><dd class="coqtop-hidden"><span>0</span><span> &lt;</span><span> 1</span><span> &lt;</span><span> 2
     : </span><span class="ansi-fg-yellow ansi-bold">Prop</span><span>
</span></dd>
</dl>
</div>
<p>When several notations match the same subterm, or incomparable
subterms of the term to print, the notation declared most recently
is selected. Moreover, reimporting a library or module declares the
notations of this library or module again. If the notation is in a
scope (see <a class="reference internal" href="#scopes"><span class="std std-ref">Notation scopes</span></a>), either the scope has to be opened or a
delimiter has to exist in the scope for the notation to be usable.</p>
</div>
</section>
<section id="the-infix-command">
<h3>The Infix command<a class="headerlink" href="#the-infix-command" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#coq:cmd.Infix" title="Infix"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Infix</span></code></a> command is a shortcut for declaring notations for infix
symbols.</p>
<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Infix">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Infix</span></span></span> <a class="reference internal" href="#grammar-token-notation_declaration"><span class="hole"><span class="pre">notation_declaration</span></span></a></span></span><a class="headerlink" href="#coq:cmd.Infix" title="Permalink to this definition">¶</a></dt>
<dd><p>The command</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Infix</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-string"><span class="hole"><span class="pre">string</span></span></a> <span><span><span class="pre">:=</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-one_term"><span class="hole"><span class="pre">one_term</span></span></a> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">(</span></span></span> <span class="repeat-wrapper-with-sub"><span class="repeat"><a class="reference internal" href="#grammar-token-syntax_modifier"><span class="hole"><span class="pre">syntax_modifier</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span><span class="notation-sub"><span class="pre">,</span></span></span> <span><span><span class="pre">)</span></span></span></span><span class="notation-sup"><span class="pre">?</span></span></span> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">:</span></span></span> <a class="reference internal" href="#grammar-token-scope_name"><span class="hole"><span class="pre">scope_name</span></span></a></span><span class="notation-sup"><span class="pre">?</span></span></span></span></code></p>
</div></blockquote>
<p>is equivalent to</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Notation</span></span></span> <span><span><span class="pre">&quot;x</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-string"><span class="hole"><span class="pre">string</span></span></a> <span><span><span class="pre">y&quot;</span></span></span> <span><span><span class="pre">:=</span></span></span> <span><span><span class="pre">(</span></span></span><a class="reference internal" href="../language/core/basic.html#grammar-token-one_term"><span class="hole"><span class="pre">one_term</span></span></a> <span><span><span class="pre">x</span></span></span> <span><span><span class="pre">y)</span></span></span> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">(</span></span></span> <span class="repeat-wrapper-with-sub"><span class="repeat"><a class="reference internal" href="#grammar-token-syntax_modifier"><span class="hole"><span class="pre">syntax_modifier</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span><span class="notation-sub"><span class="pre">,</span></span></span> <span><span><span class="pre">)</span></span></span></span><span class="notation-sup"><span class="pre">?</span></span></span> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">:</span></span></span> <a class="reference internal" href="#grammar-token-scope_name"><span class="hole"><span class="pre">scope_name</span></span></a></span><span class="notation-sup"><span class="pre">?</span></span></span></span></code></p>
</div></blockquote>
<p>where <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> are fresh names and omitting the quotes around <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-string"><span class="hole"><span class="pre">string</span></span></a></span></code>.
Here is an example:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Infix</span><span> &quot;/\&quot; := </span><span class="coqdoc-var">and</span><span> (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 80, </span><span class="coqdoc-tactic">right</span><span> </span><span class="coqdoc-keyword">associativity</span><span>).</span><span>
</span></dt></dl>
</div>
</dd></dl>

</section>
<section id="reserving-notations">
<span id="reservingnotations"></span><h3>Reserving notations<a class="headerlink" href="#reserving-notations" title="Permalink to this headline">¶</a></h3>
<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Reserved-Notation">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Reserved</span></span></span> <span><span><span class="pre">Notation</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-string"><span class="hole"><span class="pre">string</span></span></a> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">(</span></span></span> <span class="repeat-wrapper-with-sub"><span class="repeat"><a class="reference internal" href="#grammar-token-syntax_modifier"><span class="hole"><span class="pre">syntax_modifier</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span><span class="notation-sub"><span class="pre">,</span></span></span> <span><span><span class="pre">)</span></span></span></span><span class="notation-sup"><span class="pre">?</span></span></span></span></span><a class="headerlink" href="#coq:cmd.Reserved-Notation" title="Permalink to this definition">¶</a></dt>
<dd><p>A given notation may be used in different contexts. Coq expects all
uses of the notation to be defined at the same precedence and with the
same associativity. To avoid giving the precedence and associativity
every time, this command declares a parsing rule (<a class="reference internal" href="../language/core/basic.html#grammar-token-string"><code class="xref std std-token docutils literal notranslate"><span class="pre">string</span></code></a>) in advance
without giving its interpretation. Here is an example from the initial
state of Coq.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Reserved Notation</span><span> &quot;x = y&quot; (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 70, </span><span class="coqdoc-keyword">no</span><span> </span><span class="coqdoc-keyword">associativity</span><span>).</span><span>
</span></dt></dl>
</div>
<p>Reserving a notation is also useful for simultaneously defining an
inductive type or a recursive constant and a notation for it.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The notations mentioned in the module <a class="reference internal" href="../language/coq-library.html#init-notations"><span class="std std-ref">Notations</span></a> are reserved. Hence
their precedence and associativity cannot be changed.</p>
</div>
<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Reserved-Infix">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Reserved</span></span></span> <span><span><span class="pre">Infix</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-string"><span class="hole"><span class="pre">string</span></span></a> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">(</span></span></span> <span class="repeat-wrapper-with-sub"><span class="repeat"><a class="reference internal" href="#grammar-token-syntax_modifier"><span class="hole"><span class="pre">syntax_modifier</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span><span class="notation-sub"><span class="pre">,</span></span></span> <span><span><span class="pre">)</span></span></span></span><span class="notation-sup"><span class="pre">?</span></span></span></span></span><a class="headerlink" href="#coq:cmd.Reserved-Infix" title="Permalink to this definition">¶</a></dt>
<dd><p>This command declares an infix parsing rule without giving its
interpretation.</p>
</dd></dl>

<p>When a format is attached to a reserved notation (with the <code class="docutils literal notranslate"><span class="pre">format</span></code>
<a class="reference internal" href="#grammar-token-syntax_modifier"><code class="xref std std-token docutils literal notranslate"><span class="pre">syntax_modifier</span></code></a>), it is used by
default by all subsequent interpretations of the corresponding
notation. Individual interpretations can override the format.</p>
</dd></dl>

</section>
<section id="simultaneous-definition-of-terms-and-notations">
<h3>Simultaneous definition of terms and notations<a class="headerlink" href="#simultaneous-definition-of-terms-and-notations" title="Permalink to this headline">¶</a></h3>
<p>Thanks to reserved notations, inductive and coinductive type declarations, recursive and
corecursive definitions can use customized notations. To do this, insert
a <a class="reference internal" href="#grammar-token-decl_notations"><code class="xref std std-token docutils literal notranslate"><span class="pre">decl_notations</span></code></a> clause after the definition of the (co)inductive type or
(co)recursive term (or after the definition of each of them in case of mutual
definitions). Note that only syntax modifiers that do not require adding or
changing a parsing rule are accepted.</p>
<blockquote>
<div><span class="prodn-table"><span class="prodn-column-group"><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span></span><span class="prodn-row-group"><span class="prodn-row"><span class="prodn-cell-nonterminal"><span class="prodn-target"><span class="target" id="grammar-token-decl_notations"></span></span><span class="notation"><a class="reference internal" href="#grammar-token-decl_notations"><span class="hole">decl_notations</span></a></span></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">::=</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>where</span></span> <a class="reference internal" href="#grammar-token-notation_declaration"><span class="hole">notation_declaration</span></a> <span class="repeat-wrapper"><span class="repeat"><span><span>and</span></span> <a class="reference internal" href="#grammar-token-notation_declaration"><span class="hole">notation_declaration</span></a></span><span class="notation-sup">*</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span></span></span></div></blockquote>
<p>Here are examples:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Reserved Notation</span><span> &quot;A &amp; B&quot; (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 80).</span><span>
</span></dt></dl>
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Inductive</span><span> </span><span class="coqdoc-var">and'</span><span> (</span><span class="coqdoc-var">A</span><span> </span><span class="coqdoc-var">B</span><span> : </span><span class="coqdoc-keyword">Prop</span><span>) : </span><span class="coqdoc-keyword">Prop</span><span> := </span><span class="coqdoc-var">conj'</span><span> : </span><span class="coqdoc-var">A</span><span> -&gt; </span><span class="coqdoc-var">B</span><span> -&gt; </span><span class="coqdoc-var">A</span><span> &amp; </span><span class="coqdoc-var">B</span><span>
</span><span class="coqdoc-keyword">where</span><span> &quot;A &amp; B&quot; := (</span><span class="coqdoc-var">and'</span><span> </span><span class="coqdoc-var">A</span><span> </span><span class="coqdoc-var">B</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>and' is defined
and'_rect is defined
and'_ind is defined
and'_rec is defined
and'_sind is defined
</span></dd>
</dl>
</div>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt class="coqtop-hidden"><span></span><span class="coqdoc-keyword">Arguments</span><span> </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">_</span><span> : </span><span class="coqdoc-tactic">clear</span><span> </span><span class="coqdoc-var">scopes</span><span>.</span><span>
</span></dt></dl>
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Fixpoint</span><span> </span><span class="coqdoc-var">plus</span><span> (</span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span> : </span><span class="coqdoc-var">nat</span><span>) {</span><span class="coqdoc-keyword">struct</span><span> </span><span class="coqdoc-var">n</span><span>} : </span><span class="coqdoc-var">nat</span><span> :=</span><span>
</span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-keyword">with</span><span>
    | </span><span class="coqdoc-var">O</span><span> =&gt; </span><span class="coqdoc-var">m</span><span>
    | </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">p</span><span> =&gt; </span><span class="coqdoc-var">S</span><span> (</span><span class="coqdoc-var">p</span><span> + </span><span class="coqdoc-var">m</span><span>)</span><span>
</span><span class="coqdoc-keyword">end</span><span>
</span><span class="coqdoc-keyword">where</span><span> &quot;n + m&quot; := (</span><span class="coqdoc-var">plus</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>plus is defined
plus is recursively defined (guarded on 1st argument)
</span></dd>
</dl>
</div>
</section>
<section id="enabling-and-disabling-notations">
<h3>Enabling and disabling notations<a class="headerlink" href="#enabling-and-disabling-notations" title="Permalink to this headline">¶</a></h3>
<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Enable-Notation">
<span id="coq:cmd.Disable-Notation"></span><em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span class="alternative"><span class="alternative-block"><span><span><span class="pre">Enable</span></span></span></span><span class="alternative-separator"><span class="pre">​</span></span><span class="alternative-block"><span><span><span class="pre">Disable</span></span></span></span></span> <span><span><span class="pre">Notation</span></span></span> <span class="repeat-wrapper"><span class="repeat"><span class="repeated-alternative"><span class="alternative-block"><a class="reference internal" href="../language/core/basic.html#grammar-token-string"><span class="hole"><span class="pre">string</span></span></a></span><span class="alternative-separator"><span class="pre">​</span></span><span class="alternative-block"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">parm</span></sub></span></a></span><span class="notation-sup"><span class="pre">*</span></span></span></span></span></span><span class="notation-sup"><span class="pre">?</span></span></span> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">:=</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-one_term"><span class="hole"><span class="pre">one_term</span></span></a></span><span class="notation-sup"><span class="pre">?</span></span></span> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">(</span></span></span> <span class="repeat-wrapper-with-sub"><span class="repeat"><a class="reference internal" href="#grammar-token-enable_notation_flag"><span class="hole"><span class="pre">enable_notation_flag</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span><span class="notation-sub"><span class="pre">,</span></span></span> <span><span><span class="pre">)</span></span></span></span><span class="notation-sup"><span class="pre">?</span></span></span> <span class="repeat-wrapper"><span class="repeat"><span class="repeated-alternative"><span class="alternative-block"><span><span><span class="pre">:</span></span></span> <a class="reference internal" href="#grammar-token-scope_name"><span class="hole"><span class="pre">scope_name</span></span></a></span><span class="alternative-separator"><span class="pre">​</span></span><span class="alternative-block"><span><span><span class="pre">:</span></span></span> <span><span><span class="pre">no</span></span></span> <span><span><span class="pre">scope</span></span></span></span></span></span><span class="notation-sup"><span class="pre">?</span></span></span></span></span><a class="headerlink" href="#coq:cmd.Enable-Notation" title="Permalink to this definition">¶</a></dt>
<dd><span class="prodn-table"><span class="prodn-column-group"><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span></span><span class="prodn-row-group"><span class="prodn-row"><span class="prodn-cell-nonterminal"><span class="prodn-target"><span class="target" id="grammar-token-enable_notation_flag"></span></span><span class="notation"><a class="reference internal" href="#grammar-token-enable_notation_flag"><span class="hole">enable_notation_flag</span></a></span></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">::=</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>all</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>only</span></span> <span><span>parsing</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>only</span></span> <span><span>printing</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>in</span></span> <span><span>custom</span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole">ident</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>in</span></span> <span><span>constr</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span></span></span><p>Enables or disables notations previously defined with
<a class="reference internal" href="#coq:cmd.Notation" title="Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Notation</span></code></a> or <a class="reference internal" href="#coq:cmd.Notation-(abbreviation)" title="Notation (abbreviation)"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Notation</span> <span class="pre">(abbreviation)</span></code></a>.
Disabling a notation doesn't remove parsing rules or tokens defined by the notation.
The command has no effect on notations reserved with <a class="reference internal" href="#coq:cmd.Reserved-Notation" title="Reserved Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Reserved</span> <span class="pre">Notation</span></code></a>.
At least one of
<a class="reference internal" href="../language/core/basic.html#grammar-token-string"><code class="xref std std-token docutils literal notranslate"><span class="pre">string</span></code></a>, <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><code class="xref std std-token docutils literal notranslate"><span class="pre">qualid</span></code></a>, <a class="reference internal" href="../language/core/basic.html#grammar-token-one_term"><code class="xref std std-token docutils literal notranslate"><span class="pre">one_term</span></code></a> or <a class="reference internal" href="#grammar-token-scope_name"><code class="xref std std-token docutils literal notranslate"><span class="pre">scope_name</span></code></a> must be
provided.
When multiple clauses are provided, the notations enabled or
disabled must satisfy all of their constraints.</p>
<p>This command supports the <a class="reference internal" href="../language/core/modules.html#coq:attr.local" title="local"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">local</span></code></a> and <a class="reference internal" href="../language/core/modules.html#coq:attr.global" title="global"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">global</span></code></a>
attributes.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-string"><span class="hole"><span class="pre">string</span></span></a></span></code></dt><dd><p>Notations to enable or disable. <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-string"><span class="hole"><span class="pre">string</span></span></a></span></code> can be a single
token in the notation such as &quot;<code class="docutils literal notranslate"><span class="pre">-&gt;</span></code>&quot; or a pattern that matches
the notation. See <a class="reference internal" href="#locating-notations"><span class="std std-ref">Locating notations</span></a>. If no
<code class="docutils literal notranslate"><span class="notation"><span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">:=</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-one_term"><span class="hole"><span class="pre">one_term</span></span></a></span><span class="notation-sup"><span class="pre">?</span></span></span></span></code> is given, the variables of the notation can be
replaced by <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">_</span></span></span></span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">parm</span></sub></span></a></span><span class="notation-sup"><span class="pre">*</span></span></span></span></code></dt><dd><p>Enable or disable <a class="reference internal" href="#abbreviations"><span class="std std-ref">abbreviations</span></a> whose
absolute name has <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a></span></code> as a suffix. The <code class="docutils literal notranslate"><span class="notation"><span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">parm</span></sub></span></a></span><span class="notation-sup"><span class="pre">*</span></span></span></span></code>
are the parameters of the abbreviation.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="notation"><span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">:=</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-one_term"><span class="hole"><span class="pre">one_term</span></span></a></span><span class="notation-sup"><span class="pre">?</span></span></span></span></code></dt><dd><p>Enable or disable notations matching <a class="reference internal" href="../language/core/basic.html#grammar-token-one_term"><code class="xref std std-token docutils literal notranslate"><span class="pre">one_term</span></code></a>.
<a class="reference internal" href="../language/core/basic.html#grammar-token-one_term"><code class="xref std std-token docutils literal notranslate"><span class="pre">one_term</span></code></a> can be written using notations or not, as well
as <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">_</span></span></span></span></code>, just like in the <a class="reference internal" href="#coq:cmd.Notation" title="Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Notation</span></code></a> command. If no
<code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-string"><span class="hole"><span class="pre">string</span></span></a></span></code> nor <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">parm</span></sub></span></a></span><span class="notation-sup"><span class="pre">*</span></span></span></span></code> is given, the
variables of the notation can be replaced by <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">_</span></span></span></span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">all</span></span></span></span></code></dt><dd><p>Enable or disable all notations meeting the given constraints,
even if there are multiple ones. Otherwise, there must be a single
notation meeting the constraints.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">only</span></span></span> <span><span><span class="pre">parsing</span></span></span></span></code></dt><dd><p>The notation is enabled or disabled only for parsing.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">only</span></span></span> <span><span><span class="pre">printing</span></span></span></span></code></dt><dd><p>The notation is enabled or disabled only for printing.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">in</span></span></span> <span><span><span class="pre">custom</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code></dt><dd><p>Enable or disable notations in the given <a class="reference internal" href="#custom-entries"><span class="std std-ref">custom entry</span></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">in</span></span></span> <span><span><span class="pre">constr</span></span></span></span></code></dt><dd><p>Enable or disable notations in the custom entry for <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">constr</span></span></span></span></code>.
See <a class="reference internal" href="#custom-entries"><span class="std std-ref">custom entries</span></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="notation"><span class="alternative"><span class="alternative-block"><span><span><span class="pre">:</span></span></span> <a class="reference internal" href="#grammar-token-scope_name"><span class="hole"><span class="pre">scope_name</span></span></a></span><span class="alternative-separator"><span class="pre">​</span></span><span class="alternative-block"><span><span><span class="pre">:</span></span></span> <span><span><span class="pre">no</span></span></span> <span><span><span class="pre">scope</span></span></span></span></span></span></code></dt><dd><p>If given, only notations in scope <a class="reference internal" href="#grammar-token-scope_name"><code class="xref std std-token docutils literal notranslate"><span class="pre">scope_name</span></code></a> are affected (or
<a class="reference internal" href="#term-lonely-notation"><span class="xref std std-term">lonely notations</span></a> for <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">no</span></span></span> <span><span><span class="pre">scope</span></span></span></span></code>).</p>
</dd>
</dl>
<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.Unexpected-only-printing-for-an-only-parsing-notation">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Unexpected</span></span></span> <span><span><span class="pre">only</span></span></span> <span><span><span class="pre">printing</span></span></span> <span><span><span class="pre">for</span></span></span> <span><span><span class="pre">an</span></span></span> <span><span><span class="pre">only</span></span></span> <span><span><span class="pre">parsing</span></span></span> <span><span><span class="pre">notation.</span></span></span></span></span><a class="headerlink" href="#coq:exn.Unexpected-only-printing-for-an-only-parsing-notation" title="Permalink to this definition">¶</a></dt>
<dd><p>Cannot enable or disable for printing a notation that was
originally defined as only parsing.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.Unexpected-only-parsing-for-an-only-printing-notation">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Unexpected</span></span></span> <span><span><span class="pre">only</span></span></span> <span><span><span class="pre">parsing</span></span></span> <span><span><span class="pre">for</span></span></span> <span><span><span class="pre">an</span></span></span> <span><span><span class="pre">only</span></span></span> <span><span><span class="pre">printing</span></span></span> <span><span><span class="pre">notation.</span></span></span></span></span><a class="headerlink" href="#coq:exn.Unexpected-only-parsing-for-an-only-printing-notation" title="Permalink to this definition">¶</a></dt>
<dd><p>Cannot enable or disable for parsing a notation that was
originally defined as only printing.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.Found-no-matching-notation-to-enable-or-disable">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Found</span></span></span> <span><span><span class="pre">no</span></span></span> <span><span><span class="pre">matching</span></span></span> <span><span><span class="pre">notation</span></span></span> <span><span><span class="pre">to</span></span></span> <span><span><span class="pre">enable</span></span></span> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">disable.</span></span></span></span></span><a class="headerlink" href="#coq:exn.Found-no-matching-notation-to-enable-or-disable" title="Permalink to this definition">¶</a></dt>
<dd><p>No previously defined notation satisfies the given constraints.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.More-than-one-interpretation-bound-to-this-notation,-confirm-with-the-&quot;all&quot;-modifier">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">More</span></span></span> <span><span><span class="pre">than</span></span></span> <span><span><span class="pre">one</span></span></span> <span><span><span class="pre">interpretation</span></span></span> <span><span><span class="pre">bound</span></span></span> <span><span><span class="pre">to</span></span></span> <span><span><span class="pre">this</span></span></span> <span><span><span class="pre">notation,</span></span></span> <span><span><span class="pre">confirm</span></span></span> <span><span><span class="pre">with</span></span></span> <span><span><span class="pre">the</span></span></span> <span><span><span class="pre">&quot;all&quot;</span></span></span> <span><span><span class="pre">modifier.</span></span></span></span></span><a class="headerlink" href="#coq:exn.More-than-one-interpretation-bound-to-this-notation,-confirm-with-the-"all"-modifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Use <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">all</span></span></span></span></code> to allow enabling or disabling multiple
notations in a single command.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.Unknown-custom-entry">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Unknown</span></span></span> <span><span><span class="pre">custom</span></span></span> <span><span><span class="pre">entry.</span></span></span></span></span><a class="headerlink" href="#coq:exn.Unknown-custom-entry" title="Permalink to this definition">¶</a></dt>
<dd><p>In <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">in</span></span></span> <span><span><span class="pre">custom</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code>, <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code></a> is not a valid custom entry name.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.No-notation-provided">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">No</span></span></span> <span><span><span class="pre">notation</span></span></span> <span><span><span class="pre">provided.</span></span></span></span></span><a class="headerlink" href="#coq:exn.No-notation-provided" title="Permalink to this definition">¶</a></dt>
<dd><p>At least one of <a class="reference internal" href="../language/core/basic.html#grammar-token-string"><code class="xref std std-token docutils literal notranslate"><span class="pre">string</span></code></a>, <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><code class="xref std std-token docutils literal notranslate"><span class="pre">qualid</span></code></a>,
<a class="reference internal" href="../language/core/basic.html#grammar-token-one_term"><code class="xref std std-token docutils literal notranslate"><span class="pre">one_term</span></code></a> or <a class="reference internal" href="#grammar-token-scope_name"><code class="xref std std-token docutils literal notranslate"><span class="pre">scope_name</span></code></a> must be provided.</p>
</dd></dl>

<dl class="coq warn">
<dt class="sig sig-object coq" id="coq:warn.Activation-of-abbreviations-does-not-expect-mentioning-a-grammar-entry">
<em class="property"><span class="sigannot"><span class="pre">Warning</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Activation</span></span></span> <span><span><span class="pre">of</span></span></span> <span><span><span class="pre">abbreviations</span></span></span> <span><span><span class="pre">does</span></span></span> <span><span><span class="pre">not</span></span></span> <span><span><span class="pre">expect</span></span></span> <span><span><span class="pre">mentioning</span></span></span> <span><span><span class="pre">a</span></span></span> <span><span><span class="pre">grammar</span></span></span> <span><span><span class="pre">entry.</span></span></span></span></span><a class="headerlink" href="#coq:warn.Activation-of-abbreviations-does-not-expect-mentioning-a-grammar-entry" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">in</span> <span class="pre">custom</span></code> and <code class="docutils literal notranslate"><span class="pre">in</span> <span class="pre">constr</span></code> are not compatible with
<a class="reference internal" href="#abbreviations"><span class="std std-ref">abbreviations</span></a>.</p>
</dd></dl>

<dl class="coq warn">
<dt class="sig sig-object coq" id="coq:warn.Activation-of-abbreviations-does-not-expect-mentioning-a-scope">
<em class="property"><span class="sigannot"><span class="pre">Warning</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Activation</span></span></span> <span><span><span class="pre">of</span></span></span> <span><span><span class="pre">abbreviations</span></span></span> <span><span><span class="pre">does</span></span></span> <span><span><span class="pre">not</span></span></span> <span><span><span class="pre">expect</span></span></span> <span><span><span class="pre">mentioning</span></span></span> <span><span><span class="pre">a</span></span></span> <span><span><span class="pre">scope.</span></span></span></span></span><a class="headerlink" href="#coq:warn.Activation-of-abbreviations-does-not-expect-mentioning-a-scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Scopes are not compatible with <a class="reference internal" href="#abbreviations"><span class="std std-ref">abbreviations</span></a>.</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Example: Enabling and disabling notations</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Disable Notation</span><span> &quot;+&quot; (</span><span class="coqdoc-var">all</span><span>).</span><span>
</span></dt><dd><span>The following notations have been disabled:
Notation &quot;{ A } + { B }&quot; := (sumbool A B) : type_scope
Notation &quot;A + { B }&quot; := (sumor A B) : type_scope
Notation &quot;x + y&quot; := (sum x y) : type_scope
Notation &quot;x + y&quot; := (</span><span class="ansi-fg-light-magenta">Nat</span><span>.</span><span class="ansi-fg-light-green">add</span><span> x y) : nat_scope
Notation &quot;n + m&quot; := (plus n m)
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Enable Notation</span><span> &quot;_ + _&quot; (</span><span class="coqdoc-var">all</span><span>) : </span><span class="coqdoc-var">type_scope</span><span>.</span><span>
</span></dt><dd><span>The following notations have been enabled:
Notation &quot;x + y&quot; := (sum x y) : type_scope
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Disable Notation</span><span> &quot;x + y&quot; := (</span><span class="coqdoc-var">sum</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span>).</span><span>
</span></dt><dd><span>The following notations have been disabled:
Notation &quot;x + y&quot; := (sum x y) : type_scope
</span></dd>
</dl>
</div>
</div>
</dd></dl>

</section>
<section id="displaying-information-about-notations">
<h3>Displaying information about notations<a class="headerlink" href="#displaying-information-about-notations" title="Permalink to this headline">¶</a></h3>
<dl class="coq flag">
<dt class="sig sig-object coq" id="coq:flag.Printing-Notations">
<em class="property"><span class="sigannot"><span class="pre">Flag</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Printing</span></span></span> <span><span><span class="pre">Notations</span></span></span></span></span><a class="headerlink" href="#coq:flag.Printing-Notations" title="Permalink to this definition">¶</a></dt>
<dd><p>This <a class="reference internal" href="../language/core/basic.html#term-flag"><span class="xref std std-term">flag</span></a> controls whether to use notations for printing terms wherever possible.
Default is on.</p>
</dd></dl>

<dl class="coq flag">
<dt class="sig sig-object coq" id="coq:flag.Printing-Raw-Literals">
<em class="property"><span class="sigannot"><span class="pre">Flag</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Printing</span></span></span> <span><span><span class="pre">Raw</span></span></span> <span><span><span class="pre">Literals</span></span></span></span></span><a class="headerlink" href="#coq:flag.Printing-Raw-Literals" title="Permalink to this definition">¶</a></dt>
<dd><p>This <a class="reference internal" href="../language/core/basic.html#term-flag"><span class="xref std std-term">flag</span></a> controls whether to use string and number notations for printing terms
wherever possible (see <a class="reference internal" href="#string-notations"><span class="std std-ref">String notations</span></a>).
Default is off.</p>
</dd></dl>

<dl class="coq flag">
<dt class="sig sig-object coq" id="coq:flag.Printing-Parentheses">
<em class="property"><span class="sigannot"><span class="pre">Flag</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Printing</span></span></span> <span><span><span class="pre">Parentheses</span></span></span></span></span><a class="headerlink" href="#coq:flag.Printing-Parentheses" title="Permalink to this definition">¶</a></dt>
<dd><p>When this <a class="reference internal" href="../language/core/basic.html#term-flag"><span class="xref std std-term">flag</span></a> is on, parentheses are printed even if
implied by associativity and precedence. Default is off.</p>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../proof-engine/vernacular-commands.html#coq:flag.Printing-All" title="Printing All"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">All</span></code></a> to disable other elements in addition to notations.</p>
</div>
<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Print-Notation">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Print</span></span></span> <span><span><span class="pre">Notation</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-string"><span class="hole"><span class="pre">string</span></span></a> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">in</span></span></span> <span><span><span class="pre">custom</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span><span class="notation-sup"><span class="pre">?</span></span></span></span></span><a class="headerlink" href="#coq:cmd.Print-Notation" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays information about the previously reserved notation string
<a class="reference internal" href="../language/core/basic.html#grammar-token-string"><code class="xref std std-token docutils literal notranslate"><span class="pre">string</span></code></a>. <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code></a>, if specified, is the name of the associated
custom entry. See <a class="reference internal" href="#coq:cmd.Declare-Custom-Entry" title="Declare Custom Entry"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Declare</span> <span class="pre">Custom</span> <span class="pre">Entry</span></code></a>.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Reserved Notation</span><span> &quot;x # y&quot; (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 123, </span><span class="coqdoc-tactic">right</span><span> </span><span class="coqdoc-keyword">associativity</span><span>).</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Print</span><span> </span><span class="coqdoc-keyword">Notation</span><span> &quot;_ # _&quot;.</span><span>
</span></dt><dd><span>Notation &quot;_ # _&quot; at level 123 with arguments constr at next level, constr
at level 123, right associativity.
</span></dd>
</dl>
</div>
<p>Variables can be indicated with either <code class="docutils literal notranslate"><span class="pre">&quot;_&quot;</span></code> or names, as long as these can
not be confused with notation symbols. When confusion may arise, for example
with notation symbols that are entirely made up of letters, use single quotes
to delimit those symbols. Using <code class="docutils literal notranslate"><span class="pre">&quot;_&quot;</span></code> is preferred, as it avoids this
confusion. Note that there must always be (at least) a space between notation
symbols and arguments, even when the notation format does not include those
spaces.</p>
<div class="admonition note">
<p class="admonition-title">Example: <a class="reference internal" href="#coq:cmd.Print-Notation" title="Print Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Notation</span></code></a></p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Reserved Notation</span><span> &quot;x 'mod' y&quot; (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 40, </span><span class="coqdoc-keyword">no</span><span> </span><span class="coqdoc-keyword">associativity</span><span>).</span><span>
</span></dt><dd><span>Identifier 'mod' now a keyword
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Print</span><span> </span><span class="coqdoc-keyword">Notation</span><span> &quot;_ mod _&quot;.</span><span>
</span></dt><dd><span>Notation &quot;_ mod _&quot; at level 40 with arguments constr at next level, constr
at next level, no associativity.
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Print</span><span> </span><span class="coqdoc-keyword">Notation</span><span> &quot;x 'mod' y&quot;.</span><span>
</span></dt><dd><span>Notation &quot;_ mod _&quot; at level 40 with arguments constr at next level, constr
at next level, no associativity.
</span></dd>
<dt><span></span><span>
</span><span class="coqdoc-keyword">Reserved Notation</span><span> &quot;/ x /&quot; (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 0, </span><span class="coqdoc-var">format</span><span> &quot;/ x /&quot;).</span><span>
</span></dt><dt><span></span><span class="coqdoc-var">Fail</span><span> </span><span class="coqdoc-keyword">Print</span><span> </span><span class="coqdoc-keyword">Notation</span><span> &quot;/x/&quot;.</span><span>
</span></dt><dd><span>The command has indeed failed with message:
&quot;/x/&quot; cannot be interpreted as a known notation. Make sure that symbols are
surrounded by spaces and that holes are explicitly denoted by &quot;_&quot;.
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Print</span><span> </span><span class="coqdoc-keyword">Notation</span><span> &quot;/ x /&quot;.</span><span>
</span></dt><dd><span>Notation &quot;/ _ /&quot; at level 0 with arguments constr, no associativity.
</span></dd>
<dt><span></span><span>
</span><span class="coqdoc-keyword">Reserved Notation</span><span> &quot;( x , y , .. , z )&quot; (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 0).</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Print</span><span> </span><span class="coqdoc-keyword">Notation</span><span> &quot;( _ , _ , .. , _ )&quot;.</span><span>
</span></dt><dd><span>Notation &quot;( _ , _ , .. , _ )&quot; at level 0 with arguments constr, constr,
no associativity.
</span></dd>
<dt><span></span><span>
</span><span class="coqdoc-keyword">Reserved Notation</span><span> &quot;x $ y&quot; (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 50, </span><span class="coqdoc-tactic">left</span><span> </span><span class="coqdoc-keyword">associativity</span><span>).</span><span>
</span></dt><dt><span></span><span>
</span><span class="coqdoc-var">Declare</span><span> </span><span class="coqdoc-var">Custom</span><span> </span><span class="coqdoc-var">Entry</span><span> </span><span class="coqdoc-var">expr</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Reserved Notation</span><span> &quot;x $ y&quot;</span><span>
  (</span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">custom</span><span> </span><span class="coqdoc-var">expr</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 30, </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">custom</span><span> </span><span class="coqdoc-var">expr</span><span>, </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 80, </span><span class="coqdoc-keyword">no</span><span> </span><span class="coqdoc-keyword">associativity</span><span>).</span><span>
</span></dt><dt><span></span><span>
</span><span class="coqdoc-keyword">Print</span><span> </span><span class="coqdoc-keyword">Notation</span><span> &quot;_ $ _&quot;.</span><span>
</span></dt><dd><span>Notation &quot;_ $ _&quot; at level 50 with arguments constr at level 50, constr
at next level, left associativity.
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Print</span><span> </span><span class="coqdoc-keyword">Notation</span><span> &quot;_ $ _&quot; </span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">custom</span><span> </span><span class="coqdoc-var">expr</span><span>.</span><span>
</span></dt><dd><span>Notation &quot;_ $ _&quot; in expr at level 30 with arguments custom expr
at next level, custom expr at level 80, no associativity.
</span></dd>
</dl>
</div>
</div>
<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.‘string’-cannot-be-interpreted-as-a-known-notation.-Make-sure-that-symbols-are-surrounded-by-spaces-and-that-holes-are-explicitly-denoted-by-&quot;_&quot;">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-string"><span class="hole"><span class="pre">string</span></span></a> <span><span><span class="pre">cannot</span></span></span> <span><span><span class="pre">be</span></span></span> <span><span><span class="pre">interpreted</span></span></span> <span><span><span class="pre">as</span></span></span> <span><span><span class="pre">a</span></span></span> <span><span><span class="pre">known</span></span></span> <span><span><span class="pre">notation.</span></span></span> <span><span><span class="pre">Make</span></span></span> <span><span><span class="pre">sure</span></span></span> <span><span><span class="pre">that</span></span></span> <span><span><span class="pre">symbols</span></span></span> <span><span><span class="pre">are</span></span></span> <span><span><span class="pre">surrounded</span></span></span> <span><span><span class="pre">by</span></span></span> <span><span><span class="pre">spaces</span></span></span> <span><span><span class="pre">and</span></span></span> <span><span><span class="pre">that</span></span></span> <span><span><span class="pre">holes</span></span></span> <span><span><span class="pre">are</span></span></span> <span><span><span class="pre">explicitly</span></span></span> <span><span><span class="pre">denoted</span></span></span> <span><span><span class="pre">by</span></span></span> <span><span><span class="pre">&quot;</span></span></span><span><span><span class="pre">_</span></span></span><span><span><span class="pre">&quot;.</span></span></span></span></span><a class="headerlink" href="#coq:exn.‘string’-cannot-be-interpreted-as-a-known-notation.-Make-sure-that-symbols-are-surrounded-by-spaces-and-that-holes-are-explicitly-denoted-by-"_"" title="Permalink to this definition">¶</a></dt>
<dd><p>Occurs when <a class="reference internal" href="#coq:cmd.Print-Notation" title="Print Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Notation</span></code></a> can't find a notation associated with
<a class="reference internal" href="../language/core/basic.html#grammar-token-string"><code class="xref std std-token docutils literal notranslate"><span class="pre">string</span></code></a>. This can happen, for example, when the notation does not
exist in the current context, <a class="reference internal" href="../language/core/basic.html#grammar-token-string"><code class="xref std std-token docutils literal notranslate"><span class="pre">string</span></code></a> is not specific enough,
there are missing spaces between symbols, or some symbols need to be
quoted with <code class="docutils literal notranslate"><span class="pre">&quot;'&quot;</span></code>.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.‘string’-cannot-be-interpreted-as-a-known-notation-in-‘ident’-entry.-Make-sure-that-symbols-are-surrounded-by-spaces-and-that-holes-are-explicitly-denoted-by-&quot;_&quot;">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-string"><span class="hole"><span class="pre">string</span></span></a> <span><span><span class="pre">cannot</span></span></span> <span><span><span class="pre">be</span></span></span> <span><span><span class="pre">interpreted</span></span></span> <span><span><span class="pre">as</span></span></span> <span><span><span class="pre">a</span></span></span> <span><span><span class="pre">known</span></span></span> <span><span><span class="pre">notation</span></span></span> <span><span><span class="pre">in</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span><span><span class="pre">entry.</span></span></span> <span><span><span class="pre">Make</span></span></span> <span><span><span class="pre">sure</span></span></span> <span><span><span class="pre">that</span></span></span> <span><span><span class="pre">symbols</span></span></span> <span><span><span class="pre">are</span></span></span> <span><span><span class="pre">surrounded</span></span></span> <span><span><span class="pre">by</span></span></span> <span><span><span class="pre">spaces</span></span></span> <span><span><span class="pre">and</span></span></span> <span><span><span class="pre">that</span></span></span> <span><span><span class="pre">holes</span></span></span> <span><span><span class="pre">are</span></span></span> <span><span><span class="pre">explicitly</span></span></span> <span><span><span class="pre">denoted</span></span></span> <span><span><span class="pre">by</span></span></span> <span><span><span class="pre">&quot;</span></span></span><span><span><span class="pre">_</span></span></span><span><span><span class="pre">&quot;.</span></span></span></span></span><a class="headerlink" href="#coq:exn.‘string’-cannot-be-interpreted-as-a-known-notation-in-‘ident’-entry.-Make-sure-that-symbols-are-surrounded-by-spaces-and-that-holes-are-explicitly-denoted-by-"_"" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../proof-engine/vernacular-commands.html#coq:cmd.Locate" title="Locate"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Locate</span></code></a> for information on the definitions and scopes associated with
a notation.</p>
</div>
<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Print-Keywords">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Print</span></span></span> <span><span><span class="pre">Keywords</span></span></span></span></span><a class="headerlink" href="#coq:cmd.Print-Keywords" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the current reserved <a class="reference internal" href="../language/core/basic.html#keywords"><span class="std std-ref">keywords</span></a> and parser tokens, one
per line. Keywords cannot be used as identifiers.</p>
</dd></dl>

<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Print-Grammar">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Print</span></span></span> <span><span><span class="pre">Grammar</span></span></span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span><span class="notation-sup"><span class="pre">*</span></span></span></span></span><a class="headerlink" href="#coq:cmd.Print-Grammar" title="Permalink to this definition">¶</a></dt>
<dd><p>When no <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code></a> is provided, shows the whole grammar.
Otherwise shows the grammar for the nonterminal <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code></a>s, except for
the following, which will include some related nonterminals:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">constr</span></code> - for <a class="reference internal" href="../language/core/basic.html#grammar-token-term"><code class="xref std std-token docutils literal notranslate"><span class="pre">term</span></code></a>s</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tactic</span></code> - for currently-defined tactic notations, <a class="reference internal" href="../language/core/basic.html#grammar-token-tactic"><code class="xref std std-token docutils literal notranslate"><span class="pre">tactic</span></code></a>s and tacticals
(corresponding to <a class="reference internal" href="../proof-engine/ltac.html#grammar-token-ltac_expr"><code class="xref std std-token docutils literal notranslate"><span class="pre">ltac_expr</span></code></a> in the documentation).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vernac</span></code> - for <a class="reference internal" href="../language/core/basic.html#grammar-token-command"><code class="xref std std-token docutils literal notranslate"><span class="pre">command</span></code></a>s</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ltac2</span></code> - for Ltac2 notations (corresponding to <a class="reference internal" href="../proof-engine/ltac2.html#grammar-token-ltac2_expr"><code class="xref std std-token docutils literal notranslate"><span class="pre">ltac2_expr</span></code></a>)</p></li>
</ul>
<p>This command can display any nonterminal in the grammar reachable from <code class="docutils literal notranslate"><span class="pre">vernac_control</span></code>.</p>
<p>Most of the grammar in the documentation was updated in 8.12 to make it accurate and
readable.  This was done using a new developer tool that extracts the grammar from the
source code, edits it and inserts it into the documentation files.  While the
edited grammar is equivalent to the original, for readability some nonterminals
have been renamed and others have been eliminated by substituting the nonterminal
definition where the nonterminal was referenced.  This command shows the original grammar,
so it won't exactly match the documentation.</p>
<p>The Coq parser is based on Camlp5.  The documentation for
<a class="reference external" href="http://camlp5.github.io/doc/htmlc/grammars.html">Extensible grammars</a> is the
most relevant but it assumes considerable knowledge.  Here are the essentials:</p>
<p>Productions can contain the following elements:</p>
<ul class="simple">
<li><p>nonterminal names - identifiers in the form <code class="docutils literal notranslate"><span class="pre">[a-zA-Z0-9_]*</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;…&quot;</span></code> - a literal string that becomes a keyword and cannot be used as an <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code></a>.
The string doesn't have to be a valid identifier; frequently the string will contain only
punctuation characters.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IDENT</span> <span class="pre">&quot;…&quot;</span></code> - a literal string that has the form of an <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OPT</span> <span class="pre">element</span></code> - optionally include <code class="docutils literal notranslate"><span class="pre">element</span></code> (e.g. a nonterminal, IDENT &quot;…&quot; or &quot;…&quot;)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LIST1</span> <span class="pre">element</span></code> - a list of one or more <code class="docutils literal notranslate"><span class="pre">element</span></code>s</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LIST0</span> <span class="pre">element</span></code> - an optional list of <code class="docutils literal notranslate"><span class="pre">element</span></code>s</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LIST1</span> <span class="pre">element</span> <span class="pre">SEP</span> <span class="pre">sep</span></code> - a list of <code class="docutils literal notranslate"><span class="pre">element</span></code>s separated by <code class="docutils literal notranslate"><span class="pre">sep</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LIST0</span> <span class="pre">element</span> <span class="pre">SEP</span> <span class="pre">sep</span></code> - an optional list of <code class="docutils literal notranslate"><span class="pre">element</span></code>s separated by <code class="docutils literal notranslate"><span class="pre">sep</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">elements1</span> <span class="pre">|</span> <span class="pre">elements2</span> <span class="pre">|</span> <span class="pre">…</span> <span class="pre">]</span></code> - alternatives (either <code class="docutils literal notranslate"><span class="pre">elements1</span></code> or <code class="docutils literal notranslate"><span class="pre">elements2</span></code> or …)</p></li>
</ul>
<p>Nonterminals can have multiple <strong>levels</strong> to specify precedence and associativity
of its productions.  This feature of grammars makes it simple to parse input
such as <code class="docutils literal notranslate"><span class="pre">1+2*3</span></code> in the usual way as <code class="docutils literal notranslate"><span class="pre">1+(2*3)</span></code>.  However, most nonterminals have a single level.</p>
<p>For example, this output from <code class="docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Grammar</span> <span class="pre">tactic</span></code> shows the first 3 levels for
<code class="docutils literal notranslate"><span class="pre">ltac_expr</span></code>, designated as &quot;5&quot;, &quot;4&quot; and &quot;3&quot;.  Level 3 is right-associative,
which applies to the productions within it, such as the <code class="docutils literal notranslate"><span class="pre">try</span></code> construct:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Entry ltac_expr is
[ &quot;5&quot; RIGHTA
  [ binder_tactic ]
| &quot;4&quot; LEFTA
  [ SELF; &quot;;&quot;; binder_tactic
  | SELF; &quot;;&quot;; SELF
  | SELF; &quot;;&quot;; tactic_then_locality; for_each_goal; &quot;]&quot; ]
| &quot;3&quot; RIGHTA
  [ IDENT &quot;try&quot;; SELF
  :
</pre></div>
</div>
<p>The interpretation of <code class="docutils literal notranslate"><span class="pre">SELF</span></code> depends on its position in the production and the
associativity of the level:</p>
<ul class="simple">
<li><p>At the beginning of a production, <code class="docutils literal notranslate"><span class="pre">SELF</span></code> means the next level.  In the
fragment shown above, the next level for <code class="docutils literal notranslate"><span class="pre">try</span></code> is &quot;2&quot;.  (This is defined by the order
of appearance in the grammar or output; the levels could just as well be
named &quot;foo&quot; and &quot;bar&quot;.)</p></li>
<li><p>In the middle of a production, <code class="docutils literal notranslate"><span class="pre">SELF</span></code> means the top level (&quot;5&quot; in the fragment)</p></li>
<li><p>At the end of a production, <code class="docutils literal notranslate"><span class="pre">SELF</span></code> means the next level within
<code class="docutils literal notranslate"><span class="pre">LEFTA</span></code> levels and the current level within <code class="docutils literal notranslate"><span class="pre">RIGHTA</span></code> levels.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">NEXT</span></code> always means the next level. <code class="docutils literal notranslate"><span class="pre">nonterminal</span> <span class="pre">LEVEL</span> <span class="pre">&quot;…&quot;</span></code> is a reference to the specified level
for <code class="docutils literal notranslate"><span class="pre">nonterminal</span></code>.</p>
<p><a class="reference external" href="http://camlp5.github.io/doc/htmlc/grammars.html#b:Associativity">Associativity</a>
explains <code class="docutils literal notranslate"><span class="pre">SELF</span></code> and <code class="docutils literal notranslate"><span class="pre">NEXT</span></code> in somewhat more detail.</p>
<p>The output for <code class="docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Grammar</span> <span class="pre">constr</span></code> includes <a class="reference internal" href="#coq:cmd.Notation" title="Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Notation</span></code></a> definitions,
which are dynamically added to the grammar at run time.
For example, in the definition for <code class="docutils literal notranslate"><span class="pre">term</span></code>, the production on the second line shown
here is defined by a <a class="reference internal" href="#coq:cmd.Reserved-Notation" title="Reserved Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Reserved</span> <span class="pre">Notation</span></code></a> command in <code class="docutils literal notranslate"><span class="pre">Notations.v</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>| &quot;50&quot; LEFTA
  [ SELF; &quot;||&quot;; NEXT
</pre></div>
</div>
<p>Similarly, <code class="docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Grammar</span> <span class="pre">tactic</span></code> includes <a class="reference internal" href="#coq:cmd.Tactic-Notation" title="Tactic Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Tactic</span> <span class="pre">Notation</span></code></a>s, such as <a class="reference internal" href="../proofs/automatic-tactics/logic.html#coq:tacn.dintuition" title="dintuition"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">dintuition</span></code></a>.</p>
<p>The file
<a class="reference external" href="http://github.com/coq/coq/blob/master/doc/tools/docgram/fullGrammar">doc/tools/docgram/fullGrammar</a>
in the source tree extracts the full grammar for
Coq (not including notations and tactic notations defined in <code class="docutils literal notranslate"><span class="pre">*.v</span></code> files nor some optionally-loaded plugins)
in a single file with minor changes to handle nonterminals using multiple levels (described in
<a class="reference external" href="http://github.com/coq/coq/blob/master/doc/tools/docgram/README.md">doc/tools/docgram/README.md</a>).
This is complete and much easier to read than the grammar source files.
<a class="reference external" href="http://github.com/coq/coq/blob/master/doc/tools/docgram/orderedGrammar">doc/tools/docgram/orderedGrammar</a>
has the edited grammar that's used in the documentation.</p>
<p>Developer documentation for parsing is in
<a class="reference external" href="http://github.com/coq/coq/blob/master/dev/doc/parsing.md">dev/doc/parsing.md</a>.</p>
</dd></dl>

</section>
<section id="locating-notations">
<span id="id5"></span><h3>Locating notations<a class="headerlink" href="#locating-notations" title="Permalink to this headline">¶</a></h3>
<p>To know to which notations a given symbol belongs to, use the <a class="reference internal" href="../proof-engine/vernacular-commands.html#coq:cmd.Locate" title="Locate"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Locate</span></code></a>
command. You can call it on any (composite) symbol surrounded by double quotes.
To locate a particular notation, use a string where the variables of the
notation are replaced by “<code class="docutils literal notranslate"><span class="pre">_</span></code>” and where possible single quotes inserted around
identifiers or tokens starting with a single quote are dropped.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Locate</span><span> &quot;exists&quot;.</span><span>
</span></dt><dd><span>Notation &quot;'exists' x .. y , p&quot; := (ex (</span><span class="ansi-bold">fun</span><span> x =&gt; .. (ex (</span><span class="ansi-bold">fun</span><span> y =&gt; p)) ..))
  : type_scope (default interpretation)
Notation &quot;'exists' ! x .. y , p&quot; :=
  (ex (unique (</span><span class="ansi-bold">fun</span><span> x =&gt; .. (ex (unique (</span><span class="ansi-bold">fun</span><span> y =&gt; p))) ..))) : type_scope
  (default interpretation)
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Locate</span><span> &quot;exists _ .. _ , _&quot;.</span><span>
</span></dt><dd><span>Notation &quot;'exists' x .. y , p&quot; := (ex (</span><span class="ansi-bold">fun</span><span> x =&gt; .. (ex (</span><span class="ansi-bold">fun</span><span> y =&gt; p)) ..))
  : type_scope (default interpretation)
</span></dd>
</dl>
</div>
</section>
<section id="inheritance-of-the-properties-of-arguments-of-constants-bound-to-a-notation">
<h3>Inheritance of the properties of arguments of constants bound to a notation<a class="headerlink" href="#inheritance-of-the-properties-of-arguments-of-constants-bound-to-a-notation" title="Permalink to this headline">¶</a></h3>
<p>If the right-hand side of a notation is a partially applied constant,
the notation inherits the implicit arguments (see
<a class="reference internal" href="../language/extensions/implicit-arguments.html#implicitarguments"><span class="std std-ref">Implicit arguments</span></a>) and notation scopes (see
<a class="reference internal" href="#scopes"><span class="std std-ref">Notation scopes</span></a>) of the constant. For instance:</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl>
<dt><span></span><span class="coqdoc-keyword">Record</span><span> </span><span class="coqdoc-var">R</span><span> := {</span><span class="coqdoc-var">dom</span><span> : </span><span class="coqdoc-keyword">Type</span><span>; </span><span class="coqdoc-var">op</span><span> : </span><span class="coqdoc-keyword">forall</span><span> {</span><span class="coqdoc-var">A</span><span>}, </span><span class="coqdoc-var">A</span><span> -&gt; </span><span class="coqdoc-var">dom</span><span>}.</span><span>
</span></dt><dd class="coqtop-hidden"><span>R is defined
dom is defined
op is defined
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;# x&quot; := (&#64;</span><span class="coqdoc-var">op</span><span> </span><span class="coqdoc-var">x</span><span>) (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 8).</span><span>
</span></dt></dl>
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">x</span><span>:</span><span class="coqdoc-var">R</span><span> =&gt; # </span><span class="coqdoc-var">x</span><span> 3.</span><span>
</span></dt><dd><span class="ansi-bold">fun</span><span> x : R =&gt; </span><span># </span><span>x 3
     : </span><span class="ansi-bold">forall</span><span> x : R, dom x
</span></dd>
</dl>
</div>
<p>As an exception, if the right-hand side is just of the form
<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">&#64;</span></span></span><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a></span></code>, this conventionally stops the inheritance of implicit
arguments (but not of notation scopes).</p>
</section>
<section id="notations-and-binders">
<span id="id6"></span><h3>Notations and binders<a class="headerlink" href="#notations-and-binders" title="Permalink to this headline">¶</a></h3>
<p>Notations can include binders. This section lists
different ways to deal with binders. For further examples, see also
<a class="reference internal" href="#recursivenotationswithbinders"><span class="std std-ref">Notations with recursive patterns involving binders</span></a>.</p>
<section id="binders-bound-in-the-notation-and-parsed-as-identifiers">
<h4>Binders bound in the notation and parsed as identifiers<a class="headerlink" href="#binders-bound-in-the-notation-and-parsed-as-identifiers" title="Permalink to this headline">¶</a></h4>
<p>Here is the basic example of a notation using a binder:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;'sigma' x : A , B&quot; := (</span><span class="coqdoc-var">sigT</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">x</span><span> : </span><span class="coqdoc-var">A</span><span> =&gt; </span><span class="coqdoc-var">B</span><span>))</span><span>
  (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 200, </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">name</span><span>, </span><span class="coqdoc-var">A</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 200, </span><span class="coqdoc-tactic">right</span><span> </span><span class="coqdoc-keyword">associativity</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>Identifier 'sigma' now a keyword
</span></dd>
</dl>
</div>
<p>The binding variables in the right-hand side that occur as a parameter
of the notation (here <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">x</span></span></code>) dynamically bind all the occurrences
in their respective binding scope after instantiation of the
parameters of the notation. This means that the term bound to <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">B</span></span></code> can
refer to the variable name bound to <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">x</span></span></code> as shown in the following
application of the notation:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-var">sigma</span><span> </span><span class="coqdoc-var">z</span><span> : </span><span class="coqdoc-var">nat</span><span>, </span><span class="coqdoc-var">z</span><span> = 0.</span><span>
</span></dt><dd><span>sigma </span><span>z </span><span>: </span><span>nat</span><span>,</span><span> z</span><span> =</span><span> 0
     : </span><span class="ansi-fg-yellow ansi-bold">Set</span><span>
</span></dd>
</dl>
</div>
<p>Note the <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-syntax_modifier"><span class="hole"><span class="pre">syntax_modifier</span></span></a> <span><span><span class="pre">x</span></span></span> <span><span><span class="pre">name</span></span></span></span></code> in the declaration of the
notation. It tells to parse <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">x</span></span></code> as a single identifier (or as the
unnamed variable <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">_</span></span></code>).</p>
</section>
<section id="binders-bound-in-the-notation-and-parsed-as-patterns">
<h4>Binders bound in the notation and parsed as patterns<a class="headerlink" href="#binders-bound-in-the-notation-and-parsed-as-patterns" title="Permalink to this headline">¶</a></h4>
<p>In the same way as patterns can be used as binders, as in
<code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">fun</span></span> <span class="keyword"><span class="pre">'</span></span><span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">x</span></span><span class="operator"><span class="pre">,</span></span><span class="name"><span class="pre">y</span></span><span class="operator"><span class="pre">)</span></span> <span class="operator"><span class="pre">=&gt;</span></span> <span class="name"><span class="pre">x</span></span><span class="operator"><span class="pre">+</span></span><span class="name"><span class="pre">y</span></span></code> or <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">fun</span></span> <span class="keyword"><span class="pre">'</span></span><span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">existT</span></span> <span class="operator"><span class="pre">_</span></span> <span class="name"><span class="pre">x</span></span> <span class="operator"><span class="pre">_)</span></span> <span class="operator"><span class="pre">=&gt;</span></span> <span class="name"><span class="pre">x</span></span></code>, notations can be
defined so that any <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/variants.html#grammar-token-pattern"><span class="hole"><span class="pre">pattern</span></span></a></span></code> can be used in place of the
binder. Here is an example:</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl>
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;'subset' ' p , P &quot; := (</span><span class="coqdoc-var">sig</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">p</span><span> =&gt; </span><span class="coqdoc-var">P</span><span>))</span><span>
  (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 200, </span><span class="coqdoc-var">p</span><span> </span><span class="coqdoc-tactic">pattern</span><span>, </span><span class="coqdoc-var">format</span><span> &quot;'subset'  ' p ,  P&quot;).</span><span>
</span></dt><dd class="coqtop-hidden"><span>Identifier 'subset' now a keyword
</span></dd>
</dl>
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-var">subset</span><span> '(</span><span class="coqdoc-var">x</span><span>,</span><span class="coqdoc-var">y</span><span>), </span><span class="coqdoc-var">x</span><span>+</span><span class="coqdoc-var">y</span><span>=0.</span><span>
</span></dt><dd><span>subset</span><span> </span><span>'</span><span>(</span><span>x</span><span>,</span><span> y</span><span>)</span><span>,</span><span> </span><span>x</span><span> +</span><span> y</span><span> =</span><span> 0
     : </span><span class="ansi-fg-yellow ansi-bold">Set</span><span>
</span></dd>
</dl>
</div>
<p>The <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-syntax_modifier"><span class="hole"><span class="pre">syntax_modifier</span></span></a> <span><span><span class="pre">p</span></span></span> <span><span><span class="pre">pattern</span></span></span></span></code> in the declaration of the notation tells to parse
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">p</span></span></code> as a pattern. Note that a single variable is both an identifier and a
pattern, so, e.g., the following also works:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-var">subset</span><span> '</span><span class="coqdoc-var">x</span><span>, </span><span class="coqdoc-var">x</span><span>=0.</span><span>
</span></dt><dd><span>subset</span><span> </span><span>'</span><span>x</span><span>,</span><span> </span><span>x</span><span> =</span><span> 0
     : </span><span class="ansi-fg-yellow ansi-bold">Set</span><span>
</span></dd>
</dl>
</div>
<p>If one wants to prevent such a notation to be used for printing when the
pattern is reduced to a single identifier, one has to use instead
the <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-syntax_modifier"><span class="hole"><span class="pre">syntax_modifier</span></span></a> <span><span><span class="pre">p</span></span></span> <span><span><span class="pre">strict</span></span></span> <span><span><span class="pre">pattern</span></span></span></span></code>. For parsing, however, a
<code class="docutils literal notranslate"><span class="pre">strict</span> <span class="pre">pattern</span></code> will continue to include the case of a
variable. Here is an example showing the difference:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;'subset_bis' ' p , P&quot; := (</span><span class="coqdoc-var">sig</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">p</span><span> =&gt; </span><span class="coqdoc-var">P</span><span>))</span><span>
  (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 200, </span><span class="coqdoc-var">p</span><span> </span><span class="coqdoc-var">strict</span><span> </span><span class="coqdoc-tactic">pattern</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>Identifier 'subset_bis' now a keyword
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;'subset_bis' p , P &quot; := (</span><span class="coqdoc-var">sig</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">p</span><span> =&gt; </span><span class="coqdoc-var">P</span><span>))</span><span>
  (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 200, </span><span class="coqdoc-var">p</span><span> </span><span class="coqdoc-var">name</span><span>).</span><span>
</span></dt></dl>
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-var">subset_bis</span><span> '</span><span class="coqdoc-var">x</span><span>, </span><span class="coqdoc-var">x</span><span>=0.</span><span>
</span></dt><dd><span>subset_bis </span><span>x</span><span>,</span><span> x</span><span> =</span><span> 0
     : </span><span class="ansi-fg-yellow ansi-bold">Set</span><span>
</span></dd>
</dl>
</div>
<p>The default level for a <code class="docutils literal notranslate"><span class="pre">pattern</span></code> is 0. One can use a different level by
using <code class="docutils literal notranslate"><span class="pre">pattern</span> <span class="pre">at</span> <span class="pre">level</span></code> <span class="math notranslate nohighlight">\(n\)</span> where the scale is the same as the one for
terms (see <a class="reference internal" href="../language/coq-library.html#init-notations"><span class="std std-ref">Notations</span></a>).</p>
</section>
<section id="binders-bound-in-the-notation-and-parsed-as-terms">
<h4>Binders bound in the notation and parsed as terms<a class="headerlink" href="#binders-bound-in-the-notation-and-parsed-as-terms" title="Permalink to this headline">¶</a></h4>
<p>Sometimes, for the sake of factorization of rules, a binder has to be
parsed as a term. This is typically the case for a notation such as
the following:</p>
<div class="coqdoc literal-block docutils container">
<span><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;{ x : A | P }&quot; := (</span><span class="coqdoc-var">sig</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">x</span><span> : </span><span class="coqdoc-var">A</span><span> =&gt; </span><span class="coqdoc-var">P</span><span>))</span><span>
    (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 0, </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 99 </span><span class="coqdoc-keyword">as</span><span> </span><span class="coqdoc-var">name</span><span>).</span><span>
</span></span></div>
<p>This is so because the grammar also contains rules starting with <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">{}</span></span></code> and
followed by a term, such as the rule for the notation <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">{</span></span> <span class="name"><span class="pre">A</span></span> <span class="operator"><span class="pre">}</span></span> <span class="operator"><span class="pre">+</span></span> <span class="operator"><span class="pre">{</span></span> <span class="name"><span class="pre">B</span></span> <span class="operator"><span class="pre">}</span></span></code> for the
constant <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">sumbool</span></span></code> (see <a class="reference internal" href="../language/coq-library.html#specification"><span class="std std-ref">Specification</span></a>).</p>
<p>Then, in the rule, <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">name</span></code> is replaced by <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">at</span> <span class="pre">level</span> <span class="pre">99</span> <span class="pre">as</span> <span class="pre">name</span></code> meaning
that <code class="docutils literal notranslate"><span class="pre">x</span></code> is parsed as a term at level 99 (as done in the notation for
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">sumbool</span></span></code>), but that this term has actually to be a name, i.e. an
identifier or <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">_</span></span></code>.</p>
<p>The notation <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">{</span></span> <span class="name"><span class="pre">x</span></span> <span class="operator"><span class="pre">|</span></span> <span class="name"><span class="pre">P</span></span> <span class="operator"><span class="pre">}</span></span></code> is already defined in the standard
library with the <code class="docutils literal notranslate"><span class="pre">as</span> <span class="pre">name</span></code> <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-syntax_modifier"><span class="hole"><span class="pre">syntax_modifier</span></span></a></span></code>. We cannot redefine it but
one can define an alternative notation, say <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">{</span></span> <span class="name"><span class="pre">p</span></span> <span class="name"><span class="pre">such</span></span> <span class="name"><span class="pre">that</span></span> <span class="name"><span class="pre">P</span></span> <span class="operator"><span class="pre">}</span></span></code>,
using instead <code class="docutils literal notranslate"><span class="pre">as</span> <span class="pre">pattern</span></code>.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;{ p 'such' 'that' P }&quot; := (</span><span class="coqdoc-var">sig</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">p</span><span> =&gt; </span><span class="coqdoc-var">P</span><span>))</span><span>
  (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 0, </span><span class="coqdoc-var">p</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 99 </span><span class="coqdoc-keyword">as</span><span> </span><span class="coqdoc-tactic">pattern</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>Identifier 'such' now a keyword
</span></dd>
</dl>
</div>
<p>Then, the following works:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> {(</span><span class="coqdoc-var">x</span><span>,</span><span class="coqdoc-var">y</span><span>) </span><span class="coqdoc-var">such</span><span> </span><span class="coqdoc-var">that</span><span> </span><span class="coqdoc-var">x</span><span>+</span><span class="coqdoc-var">y</span><span>=0}.</span><span>
</span></dt><dd><span>{</span><span>(</span><span>x</span><span>,</span><span> y</span><span>)</span><span> </span><span>such </span><span>that </span><span>x</span><span> +</span><span> y</span><span> =</span><span> 0</span><span>}</span><span>
     : </span><span class="ansi-fg-yellow ansi-bold">Set</span><span>
</span></dd>
</dl>
</div>
<p>To enforce that the pattern should not be used for printing when it
is just a name, one could have said
<code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">at</span> <span class="pre">level</span> <span class="pre">99</span> <span class="pre">as</span> <span class="pre">strict</span> <span class="pre">pattern</span></code>.</p>
<p>Note also that in the absence of a <code class="docutils literal notranslate"><span class="pre">as</span> <span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">as</span> <span class="pre">strict</span> <span class="pre">pattern</span></code> or
<code class="docutils literal notranslate"><span class="pre">as</span> <span class="pre">pattern</span></code> <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-syntax_modifier"><span class="hole"><span class="pre">syntax_modifier</span></span></a></span></code>s, the default is to consider sub-expressions occurring
in binding position and parsed as terms to be <code class="docutils literal notranslate"><span class="pre">as</span> <span class="pre">name</span></code>.</p>
</section>
<section id="binders-bound-in-the-notation-and-parsed-as-general-binders">
<h4>Binders bound in the notation and parsed as general binders<a class="headerlink" href="#binders-bound-in-the-notation-and-parsed-as-general-binders" title="Permalink to this headline">¶</a></h4>
<p>It is also possible to rely on Coq's syntax of binders using the
<code class="docutils literal notranslate"><span class="pre">binder</span></code> modifier as follows:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;'myforall' p , [ P , Q ] &quot; := (</span><span class="coqdoc-keyword">forall</span><span> </span><span class="coqdoc-var">p</span><span>, </span><span class="coqdoc-var">P</span><span> -&gt; </span><span class="coqdoc-var">Q</span><span>)</span><span>
  (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 200, </span><span class="coqdoc-var">p</span><span> </span><span class="coqdoc-var">binder</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>Identifier 'myforall' now a keyword
</span></dd>
</dl>
</div>
<p>In this case, all of <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code>, <code class="docutils literal notranslate"><span class="notation"><span class="curlies"><span class="pre">{</span><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a><span class="pre">}</span></span></span></code>, <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">[</span></span></span><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a><span><span><span class="pre">]</span></span></span></span></code>, <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a><span><span><span class="pre">:</span></span></span><a class="reference internal" href="../language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a></span></code>,
<code class="docutils literal notranslate"><span class="notation"><span class="curlies"><span class="pre">{</span><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a><span><span><span class="pre">:</span></span></span><a class="reference internal" href="../language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a><span class="pre">}</span></span></span></code>, <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">[</span></span></span><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a><span><span><span class="pre">:</span></span></span><a class="reference internal" href="../language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a><span><span><span class="pre">]</span></span></span></span></code>, <code class="docutils literal notranslate"><span class="notation"><span>'</span><a class="reference internal" href="../language/core/variants.html#grammar-token-pattern"><span class="hole"><span class="pre">pattern</span></span></a></span></code> can be used in place of
the corresponding notation variable. In particular, the binder can
declare implicit arguments:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-keyword">fun</span><span> (</span><span class="coqdoc-var">f</span><span> : </span><span class="coqdoc-var">myforall</span><span> {</span><span class="coqdoc-var">a</span><span>}, [</span><span class="coqdoc-var">a</span><span>=0, </span><span class="coqdoc-keyword">Prop</span><span>]) =&gt; </span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">eq_refl</span><span>.</span><span>
</span></dt><dd><span class="ansi-bold">fun</span><span> f : </span><span>myforall </span><span>a</span><span>,</span><span> </span><span>[</span><span>a</span><span> =</span><span> 0</span><span>,</span><span> </span><span class="ansi-fg-yellow ansi-bold">Prop</span><span>]</span><span> =&gt; f 0 eq_refl
     : (</span><span>myforall </span><span>a</span><span>,</span><span> </span><span>[</span><span>a</span><span> =</span><span> 0</span><span>,</span><span> </span><span class="ansi-fg-yellow ansi-bold">Prop</span><span>]</span><span>)</span><span> -&gt;</span><span> </span><span class="ansi-fg-yellow ansi-bold">Prop</span><span>
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-var">myforall</span><span> '((</span><span class="coqdoc-var">x</span><span>,</span><span class="coqdoc-var">y</span><span>):</span><span class="coqdoc-var">nat</span><span>*</span><span class="coqdoc-var">nat</span><span>), [ </span><span class="coqdoc-var">x</span><span> = </span><span class="coqdoc-var">y</span><span>, </span><span class="coqdoc-var">True</span><span> ].</span><span>
</span></dt><dd><span>myforall </span><span>'</span><span>(</span><span>x</span><span>,</span><span> y</span><span>)</span><span>,</span><span> </span><span>[</span><span>x</span><span> =</span><span> y</span><span>,</span><span> True</span><span>]</span><span>
     : </span><span class="ansi-fg-yellow ansi-bold">Prop</span><span>
</span></dd>
</dl>
</div>
<p>By using instead <code class="docutils literal notranslate"><span class="pre">closed</span> <span class="pre">binder</span></code>, the same list of binders is allowed
except that <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a><span><span><span class="pre">:</span></span></span><a class="reference internal" href="../language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a></span></code> requires parentheses around.</p>
</section>
<section id="binders-not-bound-in-the-notation">
<span id="notationswithbinders"></span><h4>Binders not bound in the notation<a class="headerlink" href="#binders-not-bound-in-the-notation" title="Permalink to this headline">¶</a></h4>
<p>We can also have binders in the right-hand side of a notation which
are not themselves bound in the notation. In this case, the binders
are considered up to renaming of the internal binder. E.g., for the
notation</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;'exists_different' n&quot; := (</span><span class="coqdoc-tactic">exists</span><span> </span><span class="coqdoc-var">p</span><span>:</span><span class="coqdoc-var">nat</span><span>, </span><span class="coqdoc-var">p</span><span>&lt;&gt;</span><span class="coqdoc-var">n</span><span>) (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 200).</span><span>
</span></dt><dd class="coqtop-hidden"><span>Identifier 'exists_different' now a keyword
</span></dd>
</dl>
</div>
<p>the next command fails because p does not bind in the instance of n.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-var">Fail</span><span> </span><span class="coqdoc-keyword">Check</span><span> (</span><span class="coqdoc-var">exists_different</span><span> </span><span class="coqdoc-var">p</span><span>).</span><span>
</span></dt><dd><span>The command has indeed failed with message:
The reference p was not found in the current environment.
</span></dd>
</dl>
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;[&gt; a , .. , b &lt;]&quot; :=</span><span>
  (</span><span class="coqdoc-var">cons</span><span> </span><span class="coqdoc-var">a</span><span> .. (</span><span class="coqdoc-var">cons</span><span> </span><span class="coqdoc-var">b</span><span> </span><span class="coqdoc-var">nil</span><span>) .., </span><span class="coqdoc-var">cons</span><span> </span><span class="coqdoc-var">b</span><span> .. (</span><span class="coqdoc-var">cons</span><span> </span><span class="coqdoc-var">a</span><span> </span><span class="coqdoc-var">nil</span><span>) ..).</span><span>
</span></dt></dl>
</div>
</section>
<section id="notations-with-expressions-used-both-as-binder-and-term">
<h4>Notations with expressions used both as binder and term<a class="headerlink" href="#notations-with-expressions-used-both-as-binder-and-term" title="Permalink to this headline">¶</a></h4>
<p>It is possible to use parameters of the notation both in term and
binding position. Here is an example:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">force</span><span> </span><span class="coqdoc-var">n</span><span> (</span><span class="coqdoc-var">P</span><span>:</span><span class="coqdoc-var">nat</span><span> -&gt; </span><span class="coqdoc-keyword">Prop</span><span>) := </span><span class="coqdoc-keyword">forall</span><span> </span><span class="coqdoc-var">n'</span><span>, </span><span class="coqdoc-var">n'</span><span> &gt;= </span><span class="coqdoc-var">n</span><span> -&gt; </span><span class="coqdoc-var">P</span><span> </span><span class="coqdoc-var">n'</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>force is defined
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;▢_ n P&quot; := (</span><span class="coqdoc-var">force</span><span> </span><span class="coqdoc-var">n</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">n</span><span> =&gt; </span><span class="coqdoc-var">P</span><span>))</span><span>
  (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 0, </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">name</span><span>, </span><span class="coqdoc-var">P</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 9, </span><span class="coqdoc-var">format</span><span> &quot;▢_ n  P&quot;).</span><span>
</span></dt></dl>
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-tactic">exists</span><span> </span><span class="coqdoc-var">p</span><span>, ▢</span><span class="coqdoc-var">_p</span><span> (</span><span class="coqdoc-var">p</span><span> &gt;= 1).</span><span>
</span></dt><dd><span>exists</span><span> p : nat</span><span>,</span><span> </span><span>▢_</span><span>p</span><span> </span><span>(p</span><span> &gt;=</span><span> 1)
     : </span><span class="ansi-fg-yellow ansi-bold">Prop</span><span>
</span></dd>
</dl>
</div>
<p>More generally, the parameter can be a pattern, as in the following
variant:</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">force2</span><span> </span><span class="coqdoc-var">q</span><span> (</span><span class="coqdoc-var">P</span><span>:</span><span class="coqdoc-var">nat</span><span>*</span><span class="coqdoc-var">nat</span><span> -&gt; </span><span class="coqdoc-keyword">Prop</span><span>) :=</span><span>
  (</span><span class="coqdoc-keyword">forall</span><span> </span><span class="coqdoc-var">n'</span><span>, </span><span class="coqdoc-var">n'</span><span> &gt;= </span><span class="coqdoc-var">fst</span><span> </span><span class="coqdoc-var">q</span><span> -&gt; </span><span class="coqdoc-keyword">forall</span><span> </span><span class="coqdoc-var">p'</span><span>, </span><span class="coqdoc-var">p'</span><span> &gt;= </span><span class="coqdoc-var">snd</span><span> </span><span class="coqdoc-var">q</span><span> -&gt; </span><span class="coqdoc-var">P</span><span> </span><span class="coqdoc-var">q</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>force2 is defined
</span></dd>
<dt><span></span><span>
</span><span class="coqdoc-keyword">Notation</span><span> &quot;▢_ p P&quot; := (</span><span class="coqdoc-var">force2</span><span> </span><span class="coqdoc-var">p</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">p</span><span> =&gt; </span><span class="coqdoc-var">P</span><span>))</span><span>
  (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 0, </span><span class="coqdoc-var">p</span><span> </span><span class="coqdoc-tactic">pattern</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 0, </span><span class="coqdoc-var">P</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 9, </span><span class="coqdoc-var">format</span><span> &quot;▢_ p  P&quot;).</span><span>
</span></dt></dl>
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-tactic">exists</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span>, ▢</span><span class="coqdoc-var">_</span><span>(</span><span class="coqdoc-var">x</span><span>,</span><span class="coqdoc-var">y</span><span>) (</span><span class="coqdoc-var">x</span><span> &gt;= 1 /\ </span><span class="coqdoc-var">y</span><span> &gt;= 2).</span><span>
</span></dt><dd><span>exists</span><span> x y : nat</span><span>,</span><span> </span><span>▢_</span><span>(</span><span>x</span><span>,</span><span> y</span><span>)</span><span> </span><span>(x</span><span> &gt;=</span><span> 1</span><span> /\</span><span> y</span><span> &gt;=</span><span> 2)
     : </span><span class="ansi-fg-yellow ansi-bold">Prop</span><span>
</span></dd>
</dl>
</div>
<p>This support is experimental. For instance, the notation is used for
printing only if the occurrence of the parameter in term position
comes in the right-hand side before the occurrence in binding position.</p>
</section>
</section>
<section id="notations-with-recursive-patterns">
<span id="recursivenotations"></span><h3>Notations with recursive patterns<a class="headerlink" href="#notations-with-recursive-patterns" title="Permalink to this headline">¶</a></h3>
<p>A mechanism is provided for declaring elementary notations with
recursive patterns. The basic example is:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;[ x ; .. ; y ]&quot; := (</span><span class="coqdoc-var">cons</span><span> </span><span class="coqdoc-var">x</span><span> .. (</span><span class="coqdoc-var">cons</span><span> </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-var">nil</span><span>) ..).</span><span>
</span></dt></dl>
</div>
<p>On the right-hand side, an extra construction of the form <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">t</span> <span class="pre">..</span></code> can
be used. Notice that <code class="docutils literal notranslate"><span class="pre">..</span></code> is part of the Coq syntax and it must not be
confused with the three-dots notation “<code class="docutils literal notranslate"><span class="pre">…</span></code>” used in this manual to denote
a sequence of arbitrary size.</p>
<p>On the left-hand side, the part “<code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">s</span> <span class="pre">..</span> <span class="pre">s</span> <span class="pre">y</span></code>” of the notation parses
any number of times (but at least once) a sequence of expressions
separated by the sequence of tokens <code class="docutils literal notranslate"><span class="pre">s</span></code> (in the example, <code class="docutils literal notranslate"><span class="pre">s</span></code> is just “<code class="docutils literal notranslate"><span class="pre">;</span></code>”).</p>
<p>The right-hand side must contain a subterm of the form either
<code class="docutils literal notranslate"><span class="pre">φ(x,</span> <span class="pre">..</span> <span class="pre">φ(y,t)</span> <span class="pre">..)</span></code> or <code class="docutils literal notranslate"><span class="pre">φ(y,</span> <span class="pre">..</span> <span class="pre">φ(x,t)</span> <span class="pre">..)</span></code> where <span class="math notranslate nohighlight">\(φ([~]_E , [~]_I)\)</span>,
called the <em>iterator</em> of the recursive notation is an arbitrary expression with
distinguished placeholders and where <span class="math notranslate nohighlight">\(t\)</span> is called the <em>terminating
expression</em> of the recursive notation. In the example, we choose the names
<span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> but in practice they can of course be chosen
arbitrarily. Note that the placeholder <span class="math notranslate nohighlight">\([~]_I\)</span> has to occur only once but
<span class="math notranslate nohighlight">\([~]_E\)</span> can occur several times.</p>
<p>Parsing the notation produces a list of expressions which are used to
fill the first placeholder of the iterating pattern which itself is
repeatedly nested as many times as the length of the list, the second
placeholder being the nesting point. In the innermost occurrence of the
nested iterating pattern, the second placeholder is finally filled with the
terminating expression.</p>
<p>In the example above, the iterator <span class="math notranslate nohighlight">\(φ([~]_E , [~]_I)\)</span> is <span class="math notranslate nohighlight">\(cons [~]_E\, [~]_I\)</span>
and the terminating expression is <code class="docutils literal notranslate"><span class="pre">nil</span></code>.</p>
<p>Here is another example with the pattern associating on the left:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;( x , y , .. , z )&quot; := (</span><span class="coqdoc-var">pair</span><span> .. (</span><span class="coqdoc-var">pair</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span>) .. </span><span class="coqdoc-var">z</span><span>) (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 0).</span><span>
</span></dt></dl>
</div>
<p>Here is an example with more involved recursive patterns:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;[| t * ( x , y , .. , z ) ; ( a , b , .. , c )  * u |]&quot; :=</span><span>
  (</span><span class="coqdoc-var">pair</span><span> (</span><span class="coqdoc-var">pair</span><span> .. (</span><span class="coqdoc-var">pair</span><span> (</span><span class="coqdoc-var">pair</span><span> </span><span class="coqdoc-var">t</span><span> </span><span class="coqdoc-var">x</span><span>) (</span><span class="coqdoc-var">pair</span><span> </span><span class="coqdoc-var">t</span><span> </span><span class="coqdoc-var">y</span><span>)) .. (</span><span class="coqdoc-var">pair</span><span> </span><span class="coqdoc-var">t</span><span> </span><span class="coqdoc-var">z</span><span>))</span><span>
        (</span><span class="coqdoc-var">pair</span><span> .. (</span><span class="coqdoc-var">pair</span><span> (</span><span class="coqdoc-var">pair</span><span> </span><span class="coqdoc-var">a</span><span> </span><span class="coqdoc-var">u</span><span>) (</span><span class="coqdoc-var">pair</span><span> </span><span class="coqdoc-var">b</span><span> </span><span class="coqdoc-var">u</span><span>)) .. (</span><span class="coqdoc-var">pair</span><span> </span><span class="coqdoc-var">c</span><span> </span><span class="coqdoc-var">u</span><span>)))</span><span>
  (</span><span class="coqdoc-var">t</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 39).</span><span>
</span></dt></dl>
</div>
<p>To give a flavor of the extent and limits of the mechanism, here is an
example showing a notation for a chain of equalities. It relies on an
artificial expansion of the intended denotation so as to expose a
<code class="docutils literal notranslate"><span class="pre">φ(x,</span> <span class="pre">..</span> <span class="pre">φ(y,t)</span> <span class="pre">..)</span></code> structure, with the drawback that if ever the
beta-redexes are contracted, the notations stops to be used for
printing. Support for notations defined in this way should be considered
experimental.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;x  ⪯ y  ⪯ ..  ⪯ z  ⪯ t&quot; :=</span><span>
  ((</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">b</span><span> </span><span class="coqdoc-var">A</span><span> </span><span class="coqdoc-var">a</span><span> =&gt; </span><span class="coqdoc-var">a</span><span> &lt;= </span><span class="coqdoc-var">b</span><span> /\ </span><span class="coqdoc-var">A</span><span> </span><span class="coqdoc-var">b</span><span>) </span><span class="coqdoc-var">y</span><span> .. ((</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">b</span><span> </span><span class="coqdoc-var">A</span><span> </span><span class="coqdoc-var">a</span><span> =&gt; </span><span class="coqdoc-var">a</span><span> &lt;= </span><span class="coqdoc-var">b</span><span> /\ </span><span class="coqdoc-var">A</span><span> </span><span class="coqdoc-var">b</span><span>) </span><span class="coqdoc-var">z</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">b</span><span> =&gt; </span><span class="coqdoc-var">b</span><span> &lt;= </span><span class="coqdoc-var">t</span><span>)) .. </span><span class="coqdoc-var">x</span><span>)</span><span>
  (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 70, </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-var">next</span><span> </span><span class="coqdoc-keyword">level</span><span>, </span><span class="coqdoc-var">z</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-var">next</span><span> </span><span class="coqdoc-keyword">level</span><span>, </span><span class="coqdoc-var">t</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-var">next</span><span> </span><span class="coqdoc-keyword">level</span><span>).</span><span>
</span></dt></dl>
</div>
<p>Note finally that notations with recursive patterns can be reserved like
standard notations, they can also be declared within <a class="reference internal" href="#scopes"><span class="std std-ref">notation
scopes</span></a>.</p>
</section>
<section id="notations-with-recursive-patterns-involving-binders">
<span id="recursivenotationswithbinders"></span><h3>Notations with recursive patterns involving binders<a class="headerlink" href="#notations-with-recursive-patterns-involving-binders" title="Permalink to this headline">¶</a></h3>
<p>Recursive notations can also be used with binders. The basic example
is:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;'exists' x .. y , p&quot; :=</span><span>
  (</span><span class="coqdoc-var">ex</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">x</span><span> =&gt; .. (</span><span class="coqdoc-var">ex</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">y</span><span> =&gt; </span><span class="coqdoc-var">p</span><span>)) ..))</span><span>
  (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 200, </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">binder</span><span>, </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-var">binder</span><span>, </span><span class="coqdoc-tactic">right</span><span> </span><span class="coqdoc-keyword">associativity</span><span>).</span><span>
</span></dt></dl>
</div>
<p>The principle is the same as in <a class="reference internal" href="#recursivenotations"><span class="std std-ref">Notations with recursive patterns</span></a>
except that in the iterator
<span class="math notranslate nohighlight">\(φ([~]_E , [~]_I)\)</span>, the placeholder <span class="math notranslate nohighlight">\([~]_E\)</span> can also occur in
position of the binding variable of a <code class="docutils literal notranslate"><span class="pre">fun</span></code> or a <code class="docutils literal notranslate"><span class="pre">forall</span></code>.</p>
<p>To specify that the part “<code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">..</span> <span class="pre">y</span></code>” of the notation parses a sequence of
binders, <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> must be marked as <code class="docutils literal notranslate"><span class="pre">binder</span></code> in the list of <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-syntax_modifier"><span class="hole"><span class="pre">syntax_modifier</span></span></a></span></code>s
of the notation. The binders of the parsed sequence are used to fill the
occurrences of the first placeholder of the iterating pattern which is
repeatedly nested as many times as the number of binders generated. If ever the
generalization operator <code class="docutils literal notranslate"><span class="pre">'</span></code> (see <a class="reference internal" href="../language/extensions/implicit-arguments.html#implicit-generalization"><span class="std std-ref">Implicit generalization</span></a>) is
used in the binding list, the added binders are taken into account too.</p>
<p>There are two flavors of binder parsing. If <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> are marked as binder,
then a sequence such as <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">a</span></span> <span class="name"><span class="pre">b</span></span> <span class="name"><span class="pre">c</span></span> <span class="operator"><span class="pre">:</span></span> <span class="name"><span class="pre">T</span></span></code> will be accepted and interpreted as
the sequence of binders <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">a</span></span><span class="operator"><span class="pre">:</span></span><span class="name"><span class="pre">T</span></span><span class="operator"><span class="pre">)</span></span> <span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">b</span></span><span class="operator"><span class="pre">:</span></span><span class="name"><span class="pre">T</span></span><span class="operator"><span class="pre">)</span></span> <span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">c</span></span><span class="operator"><span class="pre">:</span></span><span class="name"><span class="pre">T</span></span><span class="operator"><span class="pre">)</span></span></code>. For instance, in the
notation above, the syntax <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">exists</span></span> <span class="name"><span class="pre">a</span></span> <span class="name"><span class="pre">b</span></span> <span class="operator"><span class="pre">:</span></span> <span class="name"><span class="pre">nat</span></span><span class="operator"><span class="pre">,</span></span> <span class="name"><span class="pre">a</span></span> <span class="operator"><span class="pre">=</span></span> <span class="name"><span class="pre">b</span></span></code> is valid.</p>
<p>The variables <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> can also be marked as closed binder in which
case only well-bracketed binders of the form <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">a</span></span> <span class="name"><span class="pre">b</span></span> <span class="name"><span class="pre">c</span></span><span class="operator"><span class="pre">:</span></span><span class="name"><span class="pre">T</span></span><span class="operator"><span class="pre">)</span></span></code> or <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">{</span></span><span class="name"><span class="pre">a</span></span> <span class="name"><span class="pre">b</span></span> <span class="name"><span class="pre">c</span></span><span class="operator"><span class="pre">:</span></span><span class="name"><span class="pre">T</span></span><span class="operator"><span class="pre">}</span></span></code>
etc. are accepted.</p>
<p>With closed binders, the recursive sequence in the left-hand side can
be of the more general form <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">s</span> <span class="pre">..</span> <span class="pre">s</span> <span class="pre">y</span></code> where <code class="docutils literal notranslate"><span class="pre">s</span></code> is an arbitrary sequence of
tokens. With open binders though, <code class="docutils literal notranslate"><span class="pre">s</span></code> has to be empty. Here is an
example of recursive notation with closed binders:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;'mylet' f x .. y :=  t 'in' u&quot;:=</span><span>
  (</span><span class="coqdoc-keyword">let</span><span> </span><span class="coqdoc-var">f</span><span> := </span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">x</span><span> =&gt; .. (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">y</span><span> =&gt; </span><span class="coqdoc-var">t</span><span>) .. </span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">u</span><span>)</span><span>
  (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 200, </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">closed</span><span> </span><span class="coqdoc-var">binder</span><span>, </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-var">closed</span><span> </span><span class="coqdoc-var">binder</span><span>, </span><span class="coqdoc-tactic">right</span><span> </span><span class="coqdoc-keyword">associativity</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>Identifier 'mylet' now a keyword
</span></dd>
</dl>
</div>
<p>A recursive pattern for binders can be used in position of a recursive
pattern for terms. Here is an example:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;'FUNAPP' x .. y , f&quot; :=</span><span>
  (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">x</span><span> =&gt; .. (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">y</span><span> =&gt; (.. (</span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">x</span><span>) ..) </span><span class="coqdoc-var">y</span><span> ) ..)</span><span>
  (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 200, </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">binder</span><span>, </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-var">binder</span><span>, </span><span class="coqdoc-tactic">right</span><span> </span><span class="coqdoc-keyword">associativity</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>Identifier 'FUNAPP' now a keyword
</span></dd>
</dl>
</div>
<p>If an occurrence of the <span class="math notranslate nohighlight">\([~]_E\)</span> is not in position of a binding
variable but of a term, it is the name used in the binding which is
used. Here is an example:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;'exists_non_null' x .. y  , P&quot; :=</span><span>
  (</span><span class="coqdoc-var">ex</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">x</span><span> =&gt; </span><span class="coqdoc-var">x</span><span> &lt;&gt; 0 /\ .. (</span><span class="coqdoc-var">ex</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">y</span><span> =&gt; </span><span class="coqdoc-var">y</span><span> &lt;&gt; 0 /\ </span><span class="coqdoc-var">P</span><span>)) ..))</span><span>
  (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 200, </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">binder</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>Identifier 'exists_non_null' now a keyword
</span></dd>
</dl>
</div>
</section>
<section id="predefined-entries">
<h3>Predefined entries<a class="headerlink" href="#predefined-entries" title="Permalink to this headline">¶</a></h3>
<p>By default, sub-expressions are parsed as terms and the corresponding
grammar entry is called <code class="docutils literal notranslate"><span class="pre">constr</span></code>. However, one may sometimes want
to restrict the syntax of terms in a notation. For instance, the
following notation will accept to parse only global reference in
position of <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">x</span></span></code>:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;'apply' f a1 .. an&quot; := (.. (</span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">a1</span><span>) .. </span><span class="coqdoc-var">an</span><span>)</span><span>
  (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 10, </span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">global</span><span>, </span><span class="coqdoc-var">a1</span><span>, </span><span class="coqdoc-var">an</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 9).</span><span>
</span></dt><dd class="coqtop-hidden"><span>Identifier 'apply' now a keyword
</span></dd>
</dl>
</div>
<p>In addition to <code class="docutils literal notranslate"><span class="pre">global</span></code>, one can restrict the syntax of a
sub-expression by using the entry names <code class="docutils literal notranslate"><span class="pre">ident</span></code>, <code class="docutils literal notranslate"><span class="pre">name</span></code> or <code class="docutils literal notranslate"><span class="pre">pattern</span></code>
already seen in <a class="reference internal" href="#notationswithbinders"><span class="std std-ref">Binders not bound in the notation</span></a>, even when the
corresponding expression is not used as a binder in the right-hand
side. E.g.:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;'apply_id' f a1 .. an&quot; := (.. (</span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">a1</span><span>) .. </span><span class="coqdoc-var">an</span><span>)</span><span>
  (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 10, </span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">ident</span><span>, </span><span class="coqdoc-var">a1</span><span>, </span><span class="coqdoc-var">an</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 9).</span><span>
</span></dt><dd class="coqtop-hidden"><span>Identifier 'apply_id' now a keyword
</span></dd>
</dl>
</div>
</section>
<section id="custom-entries">
<span id="id7"></span><h3>Custom entries<a class="headerlink" href="#custom-entries" title="Permalink to this headline">¶</a></h3>
<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Declare-Custom-Entry">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Declare</span></span></span> <span><span><span class="pre">Custom</span></span></span> <span><span><span class="pre">Entry</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></span><a class="headerlink" href="#coq:cmd.Declare-Custom-Entry" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines new grammar entries, called <em>custom
entries</em>, that can later be referred to using the entry name
<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">custom</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code>.</p>
<p>This command supports the <a class="reference internal" href="../language/core/modules.html#coq:attr.local" title="local"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">local</span></code></a> attribute, which limits the entry to the
current module.</p>
<p>Non-local custom entries survive module closing and are
declared when a file is Required.</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Example</p>
<p>For instance, we may want to define an ad hoc
parser for arithmetical operations and proceed as follows:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Inductive</span><span> </span><span class="coqdoc-var">Expr</span><span> :=</span><span>
| </span><span class="coqdoc-var">One</span><span> : </span><span class="coqdoc-var">Expr</span><span>
| </span><span class="coqdoc-var">Mul</span><span> : </span><span class="coqdoc-var">Expr</span><span> -&gt; </span><span class="coqdoc-var">Expr</span><span> -&gt; </span><span class="coqdoc-var">Expr</span><span>
| </span><span class="coqdoc-keyword">Add</span><span> : </span><span class="coqdoc-var">Expr</span><span> -&gt; </span><span class="coqdoc-var">Expr</span><span> -&gt; </span><span class="coqdoc-var">Expr</span><span>.</span><span>
</span></dt><dd><span>Expr is defined
Expr_rect is defined
Expr_ind is defined
Expr_rec is defined
Expr_sind is defined
</span></dd>
<dt><span></span><span>
</span><span class="coqdoc-var">Declare</span><span> </span><span class="coqdoc-var">Custom</span><span> </span><span class="coqdoc-var">Entry</span><span> </span><span class="coqdoc-var">expr</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;[ e ]&quot; := </span><span class="coqdoc-var">e</span><span> (</span><span class="coqdoc-var">e</span><span> </span><span class="coqdoc-var">custom</span><span> </span><span class="coqdoc-var">expr</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 2).</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;1&quot; := </span><span class="coqdoc-var">One</span><span> (</span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">custom</span><span> </span><span class="coqdoc-var">expr</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 0).</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;x y&quot; := (</span><span class="coqdoc-var">Mul</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span>) (</span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">custom</span><span> </span><span class="coqdoc-var">expr</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 1, </span><span class="coqdoc-tactic">left</span><span> </span><span class="coqdoc-keyword">associativity</span><span>).</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;x + y&quot; := (</span><span class="coqdoc-keyword">Add</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span>) (</span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">custom</span><span> </span><span class="coqdoc-var">expr</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 2, </span><span class="coqdoc-tactic">left</span><span> </span><span class="coqdoc-keyword">associativity</span><span>).</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;( x )&quot; := </span><span class="coqdoc-var">x</span><span> (</span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">custom</span><span> </span><span class="coqdoc-var">expr</span><span>, </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 2).</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;{ x }&quot; := </span><span class="coqdoc-var">x</span><span> (</span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">custom</span><span> </span><span class="coqdoc-var">expr</span><span>, </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-keyword">constr</span><span>).</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;x&quot; := </span><span class="coqdoc-var">x</span><span> (</span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">custom</span><span> </span><span class="coqdoc-var">expr</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 0, </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">ident</span><span>).</span><span>
</span></dt><dt><span></span><span>
</span><span class="coqdoc-keyword">Axiom</span><span> </span><span class="coqdoc-var">f</span><span> : </span><span class="coqdoc-var">nat</span><span> -&gt; </span><span class="coqdoc-var">Expr</span><span>.</span><span>
</span></dt><dd><span>f is declared
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-var">z</span><span> =&gt; [1 + </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-var">z</span><span> + {</span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">x</span><span>}].</span><span>
</span></dt><dd><span class="ansi-bold">fun</span><span> (x : nat) (y z : Expr) =&gt; </span><span>[</span><span>1</span><span> +</span><span> y z</span><span> +</span><span> </span><span>{</span><span>apply </span><span>f x</span><span>}</span><span>]</span><span>
     : nat</span><span> -&gt;</span><span> Expr</span><span> -&gt;</span><span> Expr</span><span> -&gt;</span><span> Expr
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Unset</span><span> </span><span class="coqdoc-keyword">Printing</span><span> </span><span class="coqdoc-var">Notations</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-var">z</span><span> =&gt; [1 + </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-var">z</span><span> + {</span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">x</span><span>}].</span><span>
</span></dt><dd><span class="ansi-bold">fun</span><span> (x : nat) (y z : Expr) =&gt; Add (Add One (Mul y z)) (f x)
     : </span><span class="ansi-bold">forall</span><span> (_ : nat) (_ : Expr) (_ : Expr), Expr
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Set</span><span> </span><span class="coqdoc-keyword">Printing</span><span> </span><span class="coqdoc-var">Notations</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">e</span><span> =&gt; </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">e</span><span> </span><span class="coqdoc-keyword">with</span><span>
| [1 + 1] =&gt; [1]</span><span>
| [</span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> + </span><span class="coqdoc-var">z</span><span>] =&gt; [</span><span class="coqdoc-var">x</span><span> + </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-var">z</span><span>]</span><span>
| </span><span class="coqdoc-var">y</span><span> =&gt; [</span><span class="coqdoc-var">y</span><span> + </span><span class="coqdoc-var">e</span><span>]</span><span>
</span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd><span class="ansi-bold">fun</span><span> e : Expr =&gt;
</span><span class="ansi-bold">match</span><span> e </span><span class="ansi-bold">with</span><span>
| </span><span>[</span><span>1</span><span> +</span><span> </span><span>1</span><span>]</span><span> =&gt; </span><span>[1]</span><span>
| </span><span>[</span><span>x y</span><span> +</span><span> z</span><span>]</span><span> =&gt; </span><span>[</span><span>x</span><span> +</span><span> y z</span><span>]</span><span>
| _ =&gt; </span><span>[</span><span>e</span><span> +</span><span> e</span><span>]</span><span>
</span><span class="ansi-bold">end</span><span>
     : Expr</span><span> -&gt;</span><span> Expr
</span></dd>
</dl>
</div>
</div>
<p>Custom entries have levels, like the main grammar of terms and grammar
of patterns have. The lower level is 0 and this is the level used by
default to put rules delimited with tokens on both ends. The level is
left to be inferred by Coq when using <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">in</span></span></span> <span><span><span class="pre">custom</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code>. The
level is otherwise given explicitly by using the syntax
<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">in</span></span></span> <span><span><span class="pre">custom</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span><span><span class="pre">at</span></span></span> <span><span><span class="pre">level</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-natural"><span class="hole"><span class="pre">natural</span></span></a></span></code>, where <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-natural"><span class="hole"><span class="pre">natural</span></span></a></span></code> refers to the level.</p>
<p>Levels are cumulative: a notation at level <code class="docutils literal notranslate"><span class="pre">n</span></code> of which the left end
is a term shall use rules at level less than <code class="docutils literal notranslate"><span class="pre">n</span></code> to parse this
subterm. More precisely, it shall use rules at level strictly less
than <code class="docutils literal notranslate"><span class="pre">n</span></code> if the rule is declared with <code class="docutils literal notranslate"><span class="pre">right</span> <span class="pre">associativity</span></code> and
rules at level less or equal than <code class="docutils literal notranslate"><span class="pre">n</span></code> if the rule is declared with
<code class="docutils literal notranslate"><span class="pre">left</span> <span class="pre">associativity</span></code>. Similarly, a notation at level <code class="docutils literal notranslate"><span class="pre">n</span></code> of which
the right end is a term shall use by default rules at level strictly
less than <code class="docutils literal notranslate"><span class="pre">n</span></code> to parse this subterm if the rule is declared left
associative and rules at level less or equal than <code class="docutils literal notranslate"><span class="pre">n</span></code> if the rule is
declared right associative. This is what happens for instance in the
rule</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;x + y&quot; := (</span><span class="coqdoc-keyword">Add</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span>) (</span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">custom</span><span> </span><span class="coqdoc-var">expr</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 2, </span><span class="coqdoc-tactic">left</span><span> </span><span class="coqdoc-keyword">associativity</span><span>).</span><span>
</span></dt></dl>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">x</span></code> is any expression parsed in entry
<code class="docutils literal notranslate"><span class="pre">expr</span></code> at level less or equal than <code class="docutils literal notranslate"><span class="pre">2</span></code> (including, recursively,
the given rule) and <code class="docutils literal notranslate"><span class="pre">y</span></code> is any expression parsed in entry <code class="docutils literal notranslate"><span class="pre">expr</span></code>
at level strictly less than <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p>
<p>Rules associated with an entry can refer different sub-entries. The
grammar entry name <code class="docutils literal notranslate"><span class="pre">constr</span></code> can be used to refer to the main grammar
of term as in the rule</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;{ x }&quot; := </span><span class="coqdoc-var">x</span><span> (</span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">custom</span><span> </span><span class="coqdoc-var">expr</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 0, </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-keyword">constr</span><span>).</span><span>
</span></dt></dl>
</div>
<p>which indicates that the subterm <code class="docutils literal notranslate"><span class="pre">x</span></code> should be
parsed using the main grammar. If not indicated, the level is computed
as for notations in <code class="docutils literal notranslate"><span class="pre">constr</span></code>, e.g. using 200 as default level for
inner sub-expressions. The level can otherwise be indicated explicitly
by using <code class="docutils literal notranslate"><span class="pre">constr</span> <span class="pre">at</span> <span class="pre">level</span> <span class="pre">n</span></code> for some <code class="docutils literal notranslate"><span class="pre">n</span></code>, or <code class="docutils literal notranslate"><span class="pre">constr</span> <span class="pre">at</span> <span class="pre">next</span>
<span class="pre">level</span></code>.</p>
<p>Conversely, custom entries can be used to parse sub-expressions of the
main grammar, or from another custom entry as is the case in</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;[ e ]&quot; := </span><span class="coqdoc-var">e</span><span> (</span><span class="coqdoc-var">e</span><span> </span><span class="coqdoc-var">custom</span><span> </span><span class="coqdoc-var">expr</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 2).</span><span>
</span></dt></dl>
</div>
<p>to indicate that <code class="docutils literal notranslate"><span class="pre">e</span></code> has to be parsed at level <code class="docutils literal notranslate"><span class="pre">2</span></code> of the grammar
associated with the custom entry <code class="docutils literal notranslate"><span class="pre">expr</span></code>. The level can be omitted, as in</p>
<div class="coqdoc literal-block docutils container">
<span><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;[ e ]&quot; := </span><span class="coqdoc-var">e</span><span> (</span><span class="coqdoc-var">e</span><span> </span><span class="coqdoc-var">custom</span><span> </span><span class="coqdoc-var">expr</span><span>).</span><span>
</span></span></div>
<p>in which case Coq infer it. If the sub-expression is at a border of
the notation (as e.g. <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> in <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">y</span></code>), the level is
determined by the associativity. If the sub-expression is not at the
border of the notation (as e.g. <code class="docutils literal notranslate"><span class="pre">e</span></code> in <code class="docutils literal notranslate"><span class="pre">&quot;[</span> <span class="pre">e</span> <span class="pre">]</span></code>), the level is
inferred to be the highest level used for the entry. In particular,
this level depends on the highest level existing in the entry at the
time of use of the notation.</p>
<p>In the absence of an explicit entry for parsing or printing a
sub-expression of a notation in a custom entry, the default is to
consider that this sub-expression is parsed or printed in the same
custom entry where the notation is defined. In particular, if <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">at</span>
<span class="pre">level</span> <span class="pre">n</span></code> is used for a sub-expression of a notation defined in custom
entry <code class="docutils literal notranslate"><span class="pre">foo</span></code>, it shall be understood the same as <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">custom</span> <span class="pre">foo</span> <span class="pre">at</span>
<span class="pre">level</span> <span class="pre">n</span></code>.</p>
<p>In general, rules are required to be <em>productive</em> on the right-hand
side, i.e. that they are bound to an expression which is not
reduced to a single variable. If the rule is not productive on the
right-hand side, as it is the case above for</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;( x )&quot; := </span><span class="coqdoc-var">x</span><span> (</span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">custom</span><span> </span><span class="coqdoc-var">expr</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 0, </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 2).</span><span>
</span></dt></dl>
</div>
<p>and</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;{ x }&quot; := </span><span class="coqdoc-var">x</span><span> (</span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">custom</span><span> </span><span class="coqdoc-var">expr</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 0, </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-keyword">constr</span><span>).</span><span>
</span></dt></dl>
</div>
<p>it is used as a <em>grammar coercion</em> which means that it is used to parse or
print an expression which is not available in the current grammar at the
current level of parsing or printing for this grammar but which is available
in another grammar or in another level of the current grammar. For instance,</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;( x )&quot; := </span><span class="coqdoc-var">x</span><span> (</span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">custom</span><span> </span><span class="coqdoc-var">expr</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 0, </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 2).</span><span>
</span></dt></dl>
</div>
<p>tells that parentheses can be inserted to parse or print an expression
declared at level <code class="docutils literal notranslate"><span class="pre">2</span></code> of <code class="docutils literal notranslate"><span class="pre">expr</span></code> whenever this expression is
expected to be used as a subterm at level 0 or 1.  This allows for
instance to parse and print <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Add</span></span> <span class="name"><span class="pre">x</span></span> <span class="name"><span class="pre">y</span></span></code> as a subterm of <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Mul</span></span> <span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">Add</span></span>
<span class="name"><span class="pre">x</span></span> <span class="name"><span class="pre">y</span></span><span class="operator"><span class="pre">)</span></span> <span class="name"><span class="pre">z</span></span></code> using the syntax <code class="docutils literal notranslate"><span class="pre">(x</span> <span class="pre">+</span> <span class="pre">y)</span> <span class="pre">z</span></code>. Similarly,</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;{ x }&quot; := </span><span class="coqdoc-var">x</span><span> (</span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">custom</span><span> </span><span class="coqdoc-var">expr</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 0, </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-keyword">constr</span><span>).</span><span>
</span></dt></dl>
</div>
<p>gives a way to let any arbitrary expression which is not handled by the
custom entry <code class="docutils literal notranslate"><span class="pre">expr</span></code> be parsed or printed by the main grammar of term
up to the insertion of a pair of curly brackets.</p>
<p>Another special situation is when parsing global references or
identifiers. To indicate that a custom entry should parse identifiers,
use the following form:</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl class="simple">
<dt class="coqtop-hidden"><span></span><span class="coqdoc-var">Declare</span><span> </span><span class="coqdoc-var">Custom</span><span> </span><span class="coqdoc-var">Entry</span><span> </span><span class="coqdoc-var">expr</span><span>.</span><span>
</span></dt></dl>
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;x&quot; := </span><span class="coqdoc-var">x</span><span> (</span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">custom</span><span> </span><span class="coqdoc-var">expr</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 0, </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">ident</span><span>).</span><span>
</span></dt></dl>
</div>
<p>Similarly, to indicate that a custom entry should parse global references
(i.e. qualified or unqualified identifiers), use the following form:</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl class="simple">
<dt class="coqtop-hidden"><span></span><span class="coqdoc-var">Declare</span><span> </span><span class="coqdoc-var">Custom</span><span> </span><span class="coqdoc-var">Entry</span><span> </span><span class="coqdoc-var">expr</span><span>.</span><span>
</span></dt></dl>
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;x&quot; := </span><span class="coqdoc-var">x</span><span> (</span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">custom</span><span> </span><span class="coqdoc-var">expr</span><span> </span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 0, </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">global</span><span>).</span><span>
</span></dt></dl>
</div>
<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Print-Custom-Grammar">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Print</span></span></span> <span><span><span class="pre">Custom</span></span></span> <span><span><span class="pre">Grammar</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></span><a class="headerlink" href="#coq:cmd.Print-Custom-Grammar" title="Permalink to this definition">¶</a></dt>
<dd><p>This displays the state of the grammar for terms associated with
the custom entry <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code></a>.</p>
</dd></dl>

</section>
<section id="syntax">
<span id="notationsyntax"></span><h3>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h3>
<p>Here are the syntax elements used by the various notation commands.</p>
<blockquote>
<div><span class="prodn-table"><span class="prodn-column-group"><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span></span><span class="prodn-row-group"><span class="prodn-row"><span class="prodn-cell-nonterminal"><span class="prodn-target"><span class="target" id="grammar-token-syntax_modifier"></span></span><span class="notation"><a class="reference internal" href="#grammar-token-syntax_modifier"><span class="hole">syntax_modifier</span></a></span></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">::=</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>at</span></span> <span><span>level</span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-natural"><span class="hole">natural</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>in</span></span> <span><span>custom</span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole">ident</span></a> <span class="repeat-wrapper"><span class="repeat"><span><span>at</span></span> <span><span>level</span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-natural"><span class="hole">natural</span></a></span><span class="notation-sup">?</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span class="repeat-wrapper-with-sub"><span class="repeat"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole">ident</span></a></span><span class="notation-sup">+</span><span class="notation-sub">,</span></span> <span class="alternative"><span class="alternative-block"><span><span>at</span></span> <a class="reference internal" href="#grammar-token-level"><span class="hole">level</span></a></span><span class="alternative-separator">​</span><span class="alternative-block"><span><span>in</span></span> <span><span>scope</span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole">ident</span></a></span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole">ident</span></a> <span><span>at</span></span> <a class="reference internal" href="#grammar-token-level"><span class="hole">level</span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="#grammar-token-binder_interp"><span class="hole">binder_interp</span></a></span><span class="notation-sup">?</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole">ident</span></a> <a class="reference internal" href="#grammar-token-explicit_subentry"><span class="hole">explicit_subentry</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole">ident</span></a> <a class="reference internal" href="#grammar-token-binder_interp"><span class="hole">binder_interp</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>left</span></span> <span><span>associativity</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>right</span></span> <span><span>associativity</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>no</span></span> <span><span>associativity</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>only</span></span> <span><span>parsing</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>format</span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-string"><span class="hole">string</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>only</span></span> <span><span>printing</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><span class="prodn-target"><span class="target" id="grammar-token-explicit_subentry"></span></span><span class="notation"><a class="reference internal" href="#grammar-token-explicit_subentry"><span class="hole">explicit_subentry</span></a></span></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">::=</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>ident</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>name</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>global</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>bigint</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>strict</span></span> <span><span>pattern</span></span> <span class="repeat-wrapper"><span class="repeat"><span><span>at</span></span> <span><span>level</span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-natural"><span class="hole">natural</span></a></span><span class="notation-sup">?</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>binder</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>closed</span></span> <span><span>binder</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>constr</span></span> <span class="repeat-wrapper"><span class="repeat"><span><span>at</span></span> <a class="reference internal" href="#grammar-token-level"><span class="hole">level</span></a></span><span class="notation-sup">?</span></span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="#grammar-token-binder_interp"><span class="hole">binder_interp</span></a></span><span class="notation-sup">?</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>custom</span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole">ident</span></a> <span class="repeat-wrapper"><span class="repeat"><span><span>at</span></span> <a class="reference internal" href="#grammar-token-level"><span class="hole">level</span></a></span><span class="notation-sup">?</span></span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="#grammar-token-binder_interp"><span class="hole">binder_interp</span></a></span><span class="notation-sup">?</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>pattern</span></span> <span class="repeat-wrapper"><span class="repeat"><span><span>at</span></span> <span><span>level</span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-natural"><span class="hole">natural</span></a></span><span class="notation-sup">?</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><span class="prodn-target"><span class="target" id="grammar-token-binder_interp"></span></span><span class="notation"><a class="reference internal" href="#grammar-token-binder_interp"><span class="hole">binder_interp</span></a></span></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">::=</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>as</span></span> <span><span>ident</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>as</span></span> <span><span>name</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>as</span></span> <span><span>pattern</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>as</span></span> <span><span>strict</span></span> <span><span>pattern</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><span class="prodn-target"><span class="target" id="grammar-token-level"></span></span><span class="notation"><a class="reference internal" href="#grammar-token-level"><span class="hole">level</span></a></span></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">::=</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>level</span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-natural"><span class="hole">natural</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>next</span></span> <span><span>level</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span></span></span></div></blockquote>
<p>Note that <code class="docutils literal notranslate"><span class="pre">_</span></code> by itself is a valid <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/assumptions.html#grammar-token-name"><span class="hole"><span class="pre">name</span></span></a></span></code> but is not a valid <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>No typing of the denoted expression is performed at definition
time. Type checking is done only at the time of use of the notation.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some examples of Notation may be found in the files composing
the initial state of Coq (see directory <code class="file docutils literal notranslate"><span class="pre">$COQLIB/theories/Init</span></code>).</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The notation <code class="docutils literal notranslate"><span class="pre">&quot;{</span> <span class="pre">x</span> <span class="pre">}&quot;</span></code> has a special status in the main grammars of
terms and patterns so that
complex notations of the form <code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">+</span> <span class="pre">{</span> <span class="pre">y</span> <span class="pre">}&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">*</span> <span class="pre">{</span> <span class="pre">y</span> <span class="pre">}&quot;</span></code> can be
nested with correct precedences. Especially, every notation involving
a pattern of the form <code class="docutils literal notranslate"><span class="pre">&quot;{</span> <span class="pre">x</span> <span class="pre">}&quot;</span></code> is parsed as a notation where the
pattern <code class="docutils literal notranslate"><span class="pre">&quot;{</span> <span class="pre">x</span> <span class="pre">}&quot;</span></code> has been simply replaced by <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> and the curly
braces are parsed separately. E.g. <code class="docutils literal notranslate"><span class="pre">&quot;y</span> <span class="pre">+</span> <span class="pre">{</span> <span class="pre">z</span> <span class="pre">}&quot;</span></code> is not parsed as a
term of the given form but as a term of the form <code class="docutils literal notranslate"><span class="pre">&quot;y</span> <span class="pre">+</span> <span class="pre">z&quot;</span></code> where <code class="docutils literal notranslate"><span class="pre">z</span></code>
has been parsed using the rule parsing <code class="docutils literal notranslate"><span class="pre">&quot;{</span> <span class="pre">x</span> <span class="pre">}&quot;</span></code>. Especially, level
and precedences for a rule including patterns of the form <code class="docutils literal notranslate"><span class="pre">&quot;{</span> <span class="pre">x</span> <span class="pre">}&quot;</span></code>
are relative not to the textual notation but to the notation where the
curly braces have been removed (e.g. the level and the associativity
given to some notation, say <code class="docutils literal notranslate"><span class="pre">&quot;{</span> <span class="pre">y</span> <span class="pre">}</span> <span class="pre">&amp;</span> <span class="pre">{</span> <span class="pre">z</span> <span class="pre">}&quot;</span></code> in fact applies to the
underlying <code class="docutils literal notranslate"><span class="pre">&quot;{</span> <span class="pre">x</span> <span class="pre">}&quot;</span></code>-free rule which is <code class="docutils literal notranslate"><span class="pre">&quot;y</span> <span class="pre">&amp;</span> <span class="pre">z&quot;</span></code>).</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Notations such as <code class="docutils literal notranslate"><span class="pre">&quot;(</span> <span class="pre">p</span> <span class="pre">|</span> <span class="pre">q</span> <span class="pre">)&quot;</span></code> (or starting with <code class="docutils literal notranslate"><span class="pre">&quot;(</span> <span class="pre">x</span> <span class="pre">|</span> <span class="pre">&quot;</span></code>,
more generally) are deprecated as they conflict with the syntax for
nested disjunctive patterns (see <a class="reference internal" href="../language/extensions/match.html#extendedpatternmatching"><span class="std std-ref">Extended pattern matching</span></a>),
and are not honored in pattern expressions.</p>
<dl class="coq warn">
<dt class="sig sig-object coq" id="coq:warn.Use-of-‘string’-Notation-is-deprecated-as-it-is-inconsistent-with-pattern-syntax">
<em class="property"><span class="sigannot"><span class="pre">Warning</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Use</span></span></span> <span><span><span class="pre">of</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-string"><span class="hole"><span class="pre">string</span></span></a> <span><span><span class="pre">Notation</span></span></span> <span><span><span class="pre">is</span></span></span> <span><span><span class="pre">deprecated</span></span></span> <span><span><span class="pre">as</span></span></span> <span><span><span class="pre">it</span></span></span> <span><span><span class="pre">is</span></span></span> <span><span><span class="pre">inconsistent</span></span></span> <span><span><span class="pre">with</span></span></span> <span><span><span class="pre">pattern</span></span></span> <span><span><span class="pre">syntax.</span></span></span></span></span><a class="headerlink" href="#coq:warn.Use-of-‘string’-Notation-is-deprecated-as-it-is-inconsistent-with-pattern-syntax" title="Permalink to this definition">¶</a></dt>
<dd><p>This warning is disabled by default to avoid spurious diagnostics
due to legacy notation in the Coq standard library.
It can be turned on with the <code class="docutils literal notranslate"><span class="pre">-w</span> <span class="pre">disj-pattern-notation</span></code> flag.</p>
</dd></dl>

</div>
<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.Unknown-custom-entry:-‘ident’">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Unknown</span></span></span> <span><span><span class="pre">custom</span></span></span> <span><span><span class="pre">entry:</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a><span><span><span class="pre">.</span></span></span></span></span><a class="headerlink" href="#coq:exn.Unknown-custom-entry:-‘ident’" title="Permalink to this definition">¶</a></dt>
<dd><p>Occurs when <a class="reference internal" href="#coq:cmd.Notation" title="Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Notation</span></code></a> or <a class="reference internal" href="#coq:cmd.Print-Notation" title="Print Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Notation</span></code></a> can't find the custom entry given by the user.</p>
</dd></dl>

</section>
</section>
<section id="notation-scopes">
<span id="scopes"></span><h2>Notation scopes<a class="headerlink" href="#notation-scopes" title="Permalink to this headline">¶</a></h2>
<p>A <span class="term-defn"><span class="target" id="term-notation-scope"></span>notation scope</span> is a set of notations for terms with their
interpretations. Notation scopes provide a weak, purely
syntactic form of notation overloading: a symbol may
refer to different definitions depending on which notation scopes
are currently open.  For instance, the infix symbol <code class="docutils literal notranslate"><span class="pre">+</span></code> can be
used to refer to distinct definitions of the addition operator,
such as for natural numbers, integers or reals.
Notation scopes can include an interpretation for numbers and
strings with the <a class="reference internal" href="#coq:cmd.Number-Notation" title="Number Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Notation</span></code></a> and <a class="reference internal" href="#coq:cmd.String-Notation" title="String Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">String</span> <span class="pre">Notation</span></code></a> commands.</p>
<blockquote>
<div><span class="prodn-table"><span class="prodn-column-group"><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span></span><span class="prodn-row-group"><span class="prodn-row"><span class="prodn-cell-nonterminal"><span class="prodn-target"><span class="target" id="grammar-token-scope"></span></span><span class="notation"><a class="reference internal" href="#grammar-token-scope"><span class="hole">scope</span></a></span></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">::=</span></code></span><span class="prodn-cell-production"><span class="notation"><a class="reference internal" href="#grammar-token-scope_name"><span class="hole">scope_name</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><a class="reference internal" href="#grammar-token-scope_key"><span class="hole">scope_key</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><span class="prodn-target"><span class="target" id="grammar-token-scope_name"></span></span><span class="notation"><a class="reference internal" href="#grammar-token-scope_name"><span class="hole">scope_name</span></a></span></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">::=</span></code></span><span class="prodn-cell-production"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole">ident</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><span class="prodn-target"><span class="target" id="grammar-token-scope_key"></span></span><span class="notation"><a class="reference internal" href="#grammar-token-scope_key"><span class="hole">scope_key</span></a></span></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">::=</span></code></span><span class="prodn-cell-production"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole">ident</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span></span></span></div></blockquote>
<p>Each notation scope has a single <a class="reference internal" href="#grammar-token-scope_name"><code class="xref std std-token docutils literal notranslate"><span class="pre">scope_name</span></code></a>, which by convention
ends with the suffix &quot;_scope&quot;, as in &quot;nat_scope&quot;.  One or more <a class="reference internal" href="#grammar-token-scope_key"><code class="xref std std-token docutils literal notranslate"><span class="pre">scope_key</span></code></a>s
(delimiting keys) may be associated with a notation scope with the <a class="reference internal" href="#coq:cmd.Delimit-Scope" title="Delimit Scope"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Delimit</span> <span class="pre">Scope</span></code></a> command.
Most commands use <a class="reference internal" href="#grammar-token-scope_name"><code class="xref std std-token docutils literal notranslate"><span class="pre">scope_name</span></code></a>; <a class="reference internal" href="#grammar-token-scope_key"><code class="xref std std-token docutils literal notranslate"><span class="pre">scope_key</span></code></a>s are used within <a class="reference internal" href="../language/core/basic.html#grammar-token-term"><code class="xref std std-token docutils literal notranslate"><span class="pre">term</span></code></a>s.</p>
<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Declare-Scope">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Declare</span></span></span> <span><span><span class="pre">Scope</span></span></span> <a class="reference internal" href="#grammar-token-scope_name"><span class="hole"><span class="pre">scope_name</span></span></a></span></span><a class="headerlink" href="#coq:cmd.Declare-Scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Declares a new notation scope. Note that the initial
state of Coq declares the following notation scopes:
<code class="docutils literal notranslate"><span class="pre">core_scope</span></code>, <code class="docutils literal notranslate"><span class="pre">type_scope</span></code>, <code class="docutils literal notranslate"><span class="pre">function_scope</span></code>, <code class="docutils literal notranslate"><span class="pre">nat_scope</span></code>,
<code class="docutils literal notranslate"><span class="pre">bool_scope</span></code>, <code class="docutils literal notranslate"><span class="pre">list_scope</span></code>, <code class="docutils literal notranslate"><span class="pre">dec_int_scope</span></code>, <code class="docutils literal notranslate"><span class="pre">dec_uint_scope</span></code>.</p>
<p>Use commands such as <a class="reference internal" href="#coq:cmd.Notation" title="Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Notation</span></code></a> to add notations to the scope.</p>
</dd></dl>

<section id="global-interpretation-rules-for-notations">
<h3>Global interpretation rules for notations<a class="headerlink" href="#global-interpretation-rules-for-notations" title="Permalink to this headline">¶</a></h3>
<p>At any time, the interpretation of a notation for a term is done within
a <em>stack</em> of notation scopes and <a class="reference internal" href="#term-lonely-notation"><span class="xref std std-term">lonely notations</span></a>. If a
notation is defined in multiple scopes, Coq uses the interpretation from
the most recently opened notation scope or declared lonely notation.</p>
<p>Note that &quot;stack&quot; is a misleading name.  Each scope or lonely notation can only appear in
the stack once.  New items are pushed onto the top of the stack, except that
adding a item that's already in the stack moves it to the top of the stack instead.
Scopes are removed by name (e.g. by <a class="reference internal" href="#coq:cmd.Close-Scope" title="Close Scope"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Close</span> <span class="pre">Scope</span></code></a>) wherever they are in the
stack, rather than through &quot;pop&quot; operations.</p>
<p>Use the <a class="reference internal" href="#coq:cmd.Print-Visibility" title="Print Visibility"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Visibility</span></code></a> command to display the current notation scope stack.</p>
<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Open-Scope">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Open</span></span></span> <span><span><span class="pre">Scope</span></span></span> <a class="reference internal" href="#grammar-token-scope"><span class="hole"><span class="pre">scope</span></span></a></span></span><a class="headerlink" href="#coq:cmd.Open-Scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a scope to the notation scope stack.  If the scope is already present,
the command moves it to the top of the stack.</p>
<p>If the command appears in a section: By default, the scope is only added within the
section.  Specifying <a class="reference internal" href="../language/core/modules.html#coq:attr.global" title="global"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">global</span></code></a> marks the scope for export as part of the current
module.  Specifying <a class="reference internal" href="../language/core/modules.html#coq:attr.local" title="local"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">local</span></code></a> behaves like the default.</p>
<p>If the command does not appear in a section: By default, the scope marks the scope for
export as part of the current module.  Specifying <a class="reference internal" href="../language/core/modules.html#coq:attr.local" title="local"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">local</span></code></a> prevents exporting the scope.
Specifying <a class="reference internal" href="../language/core/modules.html#coq:attr.global" title="global"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">global</span></code></a> behaves like the default.</p>
</dd></dl>

<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Close-Scope">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Close</span></span></span> <span><span><span class="pre">Scope</span></span></span> <a class="reference internal" href="#grammar-token-scope"><span class="hole"><span class="pre">scope</span></span></a></span></span><a class="headerlink" href="#coq:cmd.Close-Scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a scope from the notation scope stack.</p>
<p>If the command appears in a section: By default, the scope is only removed within the
section.  Specifying <a class="reference internal" href="../language/core/modules.html#coq:attr.global" title="global"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">global</span></code></a> marks the scope removal for export as part of the current
module.  Specifying <a class="reference internal" href="../language/core/modules.html#coq:attr.local" title="local"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">local</span></code></a> behaves like the default.</p>
<p>If the command does not appear in a section: By default, the scope marks the scope removal for
export as part of the current module.  Specifying <a class="reference internal" href="../language/core/modules.html#coq:attr.local" title="local"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">local</span></code></a> prevents exporting the removal.
Specifying <a class="reference internal" href="../language/core/modules.html#coq:attr.global" title="global"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">global</span></code></a> behaves like the default.</p>
</dd></dl>

</section>
<section id="local-interpretation-rules-for-notations">
<span id="localinterpretationrulesfornotations"></span><h3>Local interpretation rules for notations<a class="headerlink" href="#local-interpretation-rules-for-notations" title="Permalink to this headline">¶</a></h3>
<p>In addition to the global rules of interpretation of notations, some
ways to change the interpretation of subterms are available.</p>
<section id="opening-a-notation-scope-locally">
<h4>Opening a notation scope locally<a class="headerlink" href="#opening-a-notation-scope-locally" title="Permalink to this headline">¶</a></h4>
<span class="prodn-table"><span class="prodn-column-group"><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span></span><span class="prodn-row-group"><span class="prodn-row"><span class="prodn-cell-nonterminal"><span class="prodn-target"><span class="target" id="grammar-token-term_scope"></span></span><span class="notation"><a class="reference internal" href="#grammar-token-term_scope"><span class="hole">term_scope</span></a></span></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">::=</span></code></span><span class="prodn-cell-production"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-term0"><span class="hole">term0</span></a> <span><span>%</span></span> <a class="reference internal" href="#grammar-token-scope_key"><span class="hole">scope_key</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span></span></span><p>The notation scope stack can be locally extended within
a <a class="reference internal" href="../language/core/basic.html#grammar-token-term"><code class="xref std std-token docutils literal notranslate"><span class="pre">term</span></code></a> with the syntax
<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">(</span></span></span><a class="reference internal" href="../language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a><span><span><span class="pre">)%</span></span></span><a class="reference internal" href="#grammar-token-scope_key"><span class="hole"><span class="pre">scope_key</span></span></a></span></code> (or simply <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-term0"><span class="hole"><span class="pre">term0</span></span></a><span><span><span class="pre">%</span></span></span><a class="reference internal" href="#grammar-token-scope_key"><span class="hole"><span class="pre">scope_key</span></span></a></span></code> for atomic terms).</p>
<p>In this case, <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a></span></code> is
interpreted in the scope stack extended with the scope bound to <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-scope_key"><span class="hole"><span class="pre">scope_key</span></span></a></span></code>.</p>
<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Delimit-Scope">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Delimit</span></span></span> <span><span><span class="pre">Scope</span></span></span> <a class="reference internal" href="#grammar-token-scope_name"><span class="hole"><span class="pre">scope_name</span></span></a> <span><span><span class="pre">with</span></span></span> <a class="reference internal" href="#grammar-token-scope_key"><span class="hole"><span class="pre">scope_key</span></span></a></span></span><a class="headerlink" href="#coq:cmd.Delimit-Scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Binds the delimiting key <a class="reference internal" href="#grammar-token-scope_key"><code class="xref std std-token docutils literal notranslate"><span class="pre">scope_key</span></code></a> to a scope.</p>
</dd></dl>

<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Undelimit-Scope">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Undelimit</span></span></span> <span><span><span class="pre">Scope</span></span></span> <a class="reference internal" href="#grammar-token-scope_name"><span class="hole"><span class="pre">scope_name</span></span></a></span></span><a class="headerlink" href="#coq:cmd.Undelimit-Scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the delimiting keys associated with a scope.</p>
</dd></dl>

<p>The arguments of an <a class="reference internal" href="#abbreviations"><span class="std std-ref">abbreviation</span></a> can be interpreted
in a scope stack locally extended with a given scope by using the modifier
<code class="docutils literal notranslate"><span class="notation"><span class="repeat-wrapper-with-sub"><span class="repeat"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span><span class="notation-sub"><span class="pre">,</span></span></span> <span><span><span class="pre">in</span></span></span> <span><span><span class="pre">scope</span></span></span> <a class="reference internal" href="#grammar-token-scope_name"><span class="hole"><span class="pre">scope_name</span></span></a></span></code>.s</p>
</section>
<section id="binding-types-or-coercion-classes-to-notation-scopes">
<h4>Binding types or coercion classes to notation scopes<a class="headerlink" href="#binding-types-or-coercion-classes-to-notation-scopes" title="Permalink to this headline">¶</a></h4>
<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Bind-Scope">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Bind</span></span></span> <span><span><span class="pre">Scope</span></span></span> <a class="reference internal" href="#grammar-token-scope_name"><span class="hole"><span class="pre">scope_name</span></span></a> <span><span><span class="pre">with</span></span></span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="../addendum/implicit-coercions.html#grammar-token-coercion_class"><span class="hole"><span class="pre">coercion_class</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span></span></span></span><a class="headerlink" href="#coq:cmd.Bind-Scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Binds the notation scope <a class="reference internal" href="#grammar-token-scope_name"><code class="xref std std-token docutils literal notranslate"><span class="pre">scope_name</span></code></a> to the type or coercion class
<a class="reference internal" href="../addendum/implicit-coercions.html#grammar-token-coercion_class"><code class="xref std std-token docutils literal notranslate"><span class="pre">coercion_class</span></code></a>.
When bound, arguments of that type for any function will be interpreted in
that scope by default.  This default can be overridden for individual functions
with the <a class="reference internal" href="../language/extensions/arguments-command.html#coq:cmd.Arguments" title="Arguments"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Arguments</span></code></a> command. See <a class="reference internal" href="../language/extensions/arguments-command.html#binding-to-scope"><span class="std std-ref">Binding arguments to scopes</span></a> for details.
The association may be convenient
when a notation scope is naturally associated with a <a class="reference internal" href="../language/core/basic.html#grammar-token-type"><code class="xref std std-token docutils literal notranslate"><span class="pre">type</span></code></a> (e.g.
<code class="docutils literal notranslate"><span class="pre">nat</span></code> and the natural numbers).</p>
<p>Whether the argument of a function has some type <code class="docutils literal notranslate"><span class="pre">type</span></code> is determined
statically. For instance, if <code class="docutils literal notranslate"><span class="pre">f</span></code> is a polymorphic function of type
<code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">forall</span></span> <span class="name"><span class="pre">X</span></span><span class="operator"><span class="pre">:</span></span><span class="keyword type"><span class="pre">Type</span></span><span class="operator"><span class="pre">,</span></span> <span class="name"><span class="pre">X</span></span> <span class="operator"><span class="pre">-&gt;</span></span> <span class="name"><span class="pre">X</span></span></code> and type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">t</span></span></code> is bound to a scope <code class="docutils literal notranslate"><span class="pre">scope</span></code>,
then <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">a</span></span></code> of type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">t</span></span></code> in <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">f</span></span> <span class="name"><span class="pre">t</span></span> <span class="name"><span class="pre">a</span></span></code> is not recognized as an argument to
be interpreted in scope <code class="docutils literal notranslate"><span class="pre">scope</span></code>.</p>
<p>This command supports the <a class="reference internal" href="../language/core/modules.html#coq:attr.local" title="local"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">local</span></code></a>, <a class="reference internal" href="../language/core/modules.html#coq:attr.global" title="global"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">global</span></code></a>,
<a class="reference internal" href="#coq:attr.add_top" title="add_top"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">add_top</span></code></a> and <a class="reference internal" href="#coq:attr.add_bottom" title="add_bottom"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">add_bottom</span></code></a> attributes.</p>
<dl class="coq attr">
<dt class="sig sig-object coq" id="coq:attr.add_top">
<em class="property"><span class="sigannot"><span class="pre">Attribute</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">add</span></span></span><span><span><span class="pre">_</span></span></span><span><span><span class="pre">top</span></span></span></span></span><a class="headerlink" href="#coq:attr.add_top" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object coq" id="coq:attr.add_bottom">
<em class="property"><span class="sigannot"><span class="pre">Attribute</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">add</span></span></span><span><span><span class="pre">_</span></span></span><span><span><span class="pre">bottom</span></span></span></span></span><a class="headerlink" href="#coq:attr.add_bottom" title="Permalink to this definition">¶</a></dt>
<dd><p>These <a class="reference internal" href="../language/core/basic.html#term-attribute"><span class="std std-ref">attributes</span></a> allow adding additional
bindings at the top or bottom of the stack of already declared
bindings. In absence of such attributes, any new binding clears
the previous ones. This makes it possible to bind multiple scopes
to the same <a class="reference internal" href="../addendum/implicit-coercions.html#grammar-token-coercion_class"><code class="xref std std-token docutils literal notranslate"><span class="pre">coercion_class</span></code></a>.</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Example: Binding scopes to a type</p>
<p>Let's declare two scopes with a notation in each and an arbitrary
function on type <code class="docutils literal notranslate"><span class="pre">bool</span></code>.</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl>
<dt><span></span><span class="coqdoc-keyword">Declare Scope</span><span> </span><span class="coqdoc-var">T_scope</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Declare Scope</span><span> </span><span class="coqdoc-var">F_scope</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;#&quot; := </span><span class="coqdoc-var">true</span><span> (</span><span class="coqdoc-var">only</span><span> </span><span class="coqdoc-var">parsing</span><span>) : </span><span class="coqdoc-var">T_scope</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Notation</span><span> &quot;#&quot; := </span><span class="coqdoc-var">false</span><span> (</span><span class="coqdoc-var">only</span><span> </span><span class="coqdoc-var">parsing</span><span>) : </span><span class="coqdoc-var">F_scope</span><span>.</span><span>
</span></dt><dt><span></span><span>
</span><span class="coqdoc-keyword">Parameter</span><span> </span><span class="coqdoc-var">f</span><span> : </span><span class="coqdoc-var">bool</span><span> -&gt; </span><span class="coqdoc-var">bool</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>f is declared
</span></dd>
</dl>
</div>
<p>By default, the argument of <code class="docutils literal notranslate"><span class="pre">f</span></code> is interpreted in the
currently opened scopes.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Open</span><span> </span><span class="coqdoc-keyword">Scope</span><span> </span><span class="coqdoc-var">T_scope</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-var">f</span><span> #.</span><span>
</span></dt><dd><span>f true
     : bool
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Open</span><span> </span><span class="coqdoc-keyword">Scope</span><span> </span><span class="coqdoc-var">F_scope</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-var">f</span><span> #.</span><span>
</span></dt><dd><span>f false
     : bool
</span></dd>
</dl>
</div>
<p>This can be changed by binding scopes to the type <code class="docutils literal notranslate"><span class="pre">bool</span></code>.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Bind Scope</span><span> </span><span class="coqdoc-var">T_scope</span><span> </span><span class="coqdoc-keyword">with</span><span> </span><span class="coqdoc-var">bool</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-var">f</span><span> #.</span><span>
</span></dt><dd><span>f true
     : bool
</span></dd>
</dl>
</div>
<p>When multiple scopes are attached to a type, notations are
interpreted in the first scope containing them, from the top of
the stack.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span>#[</span><span class="coqdoc-var">add_top</span><span>] </span><span class="coqdoc-keyword">Bind</span><span> </span><span class="coqdoc-keyword">Scope</span><span> </span><span class="coqdoc-var">F_scope</span><span> </span><span class="coqdoc-keyword">with</span><span> </span><span class="coqdoc-var">bool</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-var">f</span><span> #.</span><span>
</span></dt><dd><span>f false
     : bool
</span></dd>
<dt><span></span><span>
</span><span class="coqdoc-keyword">Notation</span><span> &quot;##&quot; := (</span><span class="coqdoc-var">negb</span><span> </span><span class="coqdoc-var">false</span><span>) (</span><span class="coqdoc-var">only</span><span> </span><span class="coqdoc-var">parsing</span><span>) : </span><span class="coqdoc-var">T_scope</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-var">f</span><span> ##.</span><span>
</span></dt><dd><span>f (negb false)
     : bool
</span></dd>
</dl>
</div>
<p>Bindings for functions can be displayed with the
<a class="reference internal" href="../proof-engine/vernacular-commands.html#coq:cmd.About" title="About"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">About</span></code></a> command.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">About</span><span> </span><span class="coqdoc-var">f</span><span>.</span><span>
</span></dt><dd><span>f : bool</span><span> -&gt;</span><span> bool

f is not universe polymorphic
Arguments </span><span class="ansi-fg-light-green">f</span><span> _%F_scope%T_scope
Expands to: Constant Top.f
</span></dd>
</dl>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Such stacks of scopes can be handy to share notations
between multiple types. For instance, the scope <code class="docutils literal notranslate"><span class="pre">T_scope</span></code>
above could contain many generic notations used for both the
<code class="docutils literal notranslate"><span class="pre">bool</span></code> and <code class="docutils literal notranslate"><span class="pre">nat</span></code> types, while the scope <code class="docutils literal notranslate"><span class="pre">F_scope</span></code> could
override some of these notations specifically for
<code class="docutils literal notranslate"><span class="pre">bool</span></code> and another <code class="docutils literal notranslate"><span class="pre">F'_scope</span></code> could override them
specifically for <code class="docutils literal notranslate"><span class="pre">nat</span></code>, which could then be bound to
<code class="docutils literal notranslate"><span class="pre">%F'_scope%T_scope</span></code>.</p>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When active, a bound scope has effect on all defined functions
(even if they are defined after the <a class="reference internal" href="#coq:cmd.Bind-Scope" title="Bind Scope"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Bind</span> <span class="pre">Scope</span></code></a> directive), except
if argument scopes were assigned explicitly using the
<a class="reference internal" href="../language/extensions/arguments-command.html#coq:cmd.Arguments" title="Arguments"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Arguments</span></code></a> command.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The scopes <code class="docutils literal notranslate"><span class="pre">type_scope</span></code> and <code class="docutils literal notranslate"><span class="pre">function_scope</span></code> also have a local
effect on interpretation. See the next section.</p>
</div>
</dd></dl>

</section>
</section>
<section id="the-type-scope-notation-scope">
<h3>The <code class="docutils literal notranslate"><span class="pre">type_scope</span></code> notation scope<a class="headerlink" href="#the-type-scope-notation-scope" title="Permalink to this headline">¶</a></h3>
<p id="index-0">The scope <code class="docutils literal notranslate"><span class="pre">type_scope</span></code> has a special status. It is a primitive interpretation
scope which is temporarily activated each time a subterm of an expression is
expected to be a type. It is delimited by the key <code class="docutils literal notranslate"><span class="pre">type</span></code>, and bound to the
coercion class <code class="docutils literal notranslate"><span class="pre">Sortclass</span></code>. It is also used in certain situations where an
expression is statically known to be a type, including the conclusion and the
type of hypotheses within an Ltac goal match (see
<a class="reference internal" href="../proof-engine/ltac.html#ltac-match-goal"><span class="std std-ref">Pattern matching on goals and hypotheses: match goal</span></a>), the statement of a theorem, the type of a definition,
the type of a binder, the domain and codomain of implication, the codomain of
products, and more generally any type argument of a declared or defined
constant.</p>
</section>
<section id="the-function-scope-notation-scope">
<h3>The <code class="docutils literal notranslate"><span class="pre">function_scope</span></code> notation scope<a class="headerlink" href="#the-function-scope-notation-scope" title="Permalink to this headline">¶</a></h3>
<p id="index-1">The scope <code class="docutils literal notranslate"><span class="pre">function_scope</span></code> also has a special status.
It is temporarily activated each time the argument of a global reference is
recognized to be a <code class="docutils literal notranslate"><span class="pre">Funclass</span></code> instance, i.e., of type <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">forall</span></span> <span class="name"><span class="pre">x</span></span><span class="operator"><span class="pre">:</span></span><span class="name"><span class="pre">A</span></span><span class="operator"><span class="pre">,</span></span> <span class="name"><span class="pre">B</span></span></code> or
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">A</span></span> <span class="operator"><span class="pre">-&gt;</span></span> <span class="name"><span class="pre">B</span></span></code>.</p>
</section>
<section id="notation-scopes-used-in-the-standard-library-of-coq">
<span id="id8"></span><h3>Notation scopes used in the standard library of Coq<a class="headerlink" href="#notation-scopes-used-in-the-standard-library-of-coq" title="Permalink to this headline">¶</a></h3>
<p>We give an overview of the scopes used in the standard library of Coq.
For a complete list of notations in each scope, use the commands <a class="reference internal" href="#coq:cmd.Print-Scopes" title="Print Scopes"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span>
<span class="pre">Scopes</span></code></a> or <a class="reference internal" href="#coq:cmd.Print-Scope" title="Print Scope"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Scope</span></code></a>.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">type_scope</span></code></dt><dd><p>This scope includes infix * for product types and infix + for sum types. It
is delimited by the key <code class="docutils literal notranslate"><span class="pre">type</span></code>, and bound to the coercion class
<code class="docutils literal notranslate"><span class="pre">Sortclass</span></code>, as described above.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">function_scope</span></code></dt><dd><p>This scope is delimited by the key <code class="docutils literal notranslate"><span class="pre">function</span></code>, and bound to the coercion class
<code class="docutils literal notranslate"><span class="pre">Funclass</span></code>, as described above.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nat_scope</span></code></dt><dd><p>This scope includes the standard arithmetical operators and relations on type
nat. Positive integer numbers in this scope are mapped to their canonical
representent built from <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">O</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">S</span></span></code>. The scope is delimited by the key
<code class="docutils literal notranslate"><span class="pre">nat</span></code>, and bound to the type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">nat</span></span></code> (see above).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">N_scope</span></code></dt><dd><p>This scope includes the standard arithmetical operators and relations on
type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">N</span></span></code> (binary natural numbers). It is delimited by the key <code class="docutils literal notranslate"><span class="pre">N</span></code> and comes
with an interpretation for numbers as closed terms of type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">N</span></span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Z_scope</span></code></dt><dd><p>This scope includes the standard arithmetical operators and relations on
type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Z</span></span></code> (binary integer numbers). It is delimited by the key <code class="docutils literal notranslate"><span class="pre">Z</span></code> and comes
with an interpretation for numbers as closed terms of type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Z</span></span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">positive_scope</span></code></dt><dd><p>This scope includes the standard arithmetical operators and relations on
type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">positive</span></span></code> (binary strictly positive numbers). It is delimited by
key <code class="docutils literal notranslate"><span class="pre">positive</span></code> and comes with an interpretation for numbers as closed
terms of type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">positive</span></span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Q_scope</span></code></dt><dd><p>This scope includes the standard arithmetical operators and relations on
type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Q</span></span></code> (rational numbers defined as fractions of an integer and a
strictly positive integer modulo the equality of the numerator-
denominator cross-product) and comes with an interpretation for numbers
as closed terms of type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Q</span></span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Qc_scope</span></code></dt><dd><p>This scope includes the standard arithmetical operators and relations on the
type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Qc</span></span></code> of rational numbers defined as the type of irreducible
fractions of an integer and a strictly positive integer.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">R_scope</span></code></dt><dd><p>This scope includes the standard arithmetical operators and relations on
type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">R</span></span></code> (axiomatic real numbers). It is delimited by the key <code class="docutils literal notranslate"><span class="pre">R</span></code> and comes
with an interpretation for numbers using the <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">IZR</span></span></code> morphism from binary
integer numbers to <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">R</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Z.pow_pos</span></span></code> for potential exponent parts.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bool_scope</span></code></dt><dd><p>This scope includes notations for the boolean operators. It is delimited by the
key <code class="docutils literal notranslate"><span class="pre">bool</span></code>, and bound to the type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">bool</span></span></code> (see above).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">list_scope</span></code></dt><dd><p>This scope includes notations for the list operators. It is delimited by the key
<code class="docutils literal notranslate"><span class="pre">list</span></code>, and bound to the type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">list</span></span></code> (see above).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">core_scope</span></code></dt><dd><p>This scope includes the notation for pairs. It is delimited by the key <code class="docutils literal notranslate"><span class="pre">core</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">string_scope</span></code></dt><dd><p>This scope includes notation for strings as elements of the type string.
Special characters and escaping follow Coq conventions on strings (see
<a class="reference internal" href="../language/core/basic.html#lexical-conventions"><span class="std std-ref">Lexical conventions</span></a>). Especially, there is no convention to visualize non
printable characters of a string. The file <code class="file docutils literal notranslate"><span class="pre">String.v</span></code> shows an example
that contains quotes, a newline and a beep (i.e. the ASCII character
of code 7).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">char_scope</span></code></dt><dd><p>This scope includes interpretation for all strings of the form <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>
where <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">c</span></span></code> is an ASCII character, or of the form <code class="docutils literal notranslate"><span class="pre">&quot;nnn&quot;</span></code> where nnn is
a three-digit number (possibly with leading 0s), or of the form
<code class="docutils literal notranslate"><span class="pre">&quot;&quot;&quot;&quot;</span></code>. Their respective denotations are the ASCII code of <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">c</span></span></code>, the
decimal ASCII code <code class="docutils literal notranslate"><span class="pre">nnn</span></code>, or the ascii code of the character <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> (i.e.
the ASCII code 34), all of them being represented in the type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">ascii</span></span></code>.</p>
</dd>
</dl>
</section>
<section id="displaying-information-about-scopes">
<h3>Displaying information about scopes<a class="headerlink" href="#displaying-information-about-scopes" title="Permalink to this headline">¶</a></h3>
<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Print-Visibility">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Print</span></span></span> <span><span><span class="pre">Visibility</span></span></span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="#grammar-token-scope_name"><span class="hole"><span class="pre">scope_name</span></span></a></span><span class="notation-sup"><span class="pre">?</span></span></span></span></span><a class="headerlink" href="#coq:cmd.Print-Visibility" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the current notation scope stack. The top of the stack
is displayed last. Notations in scopes whose interpretation is hidden
by the same notation in a more recently opened scope are not displayed.
Hence each notation is displayed only once.</p>
<p>If <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-scope_name"><span class="hole"><span class="pre">scope_name</span></span></a></span></code> is specified,
displays the current notation scope stack
as if the scope <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-scope_name"><span class="hole"><span class="pre">scope_name</span></span></a></span></code> is pushed on top of the stack. This is
useful to see how a subterm occurring locally in the scope is
interpreted.</p>
</dd></dl>

<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Print-Scopes">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Print</span></span></span> <span><span><span class="pre">Scopes</span></span></span></span></span><a class="headerlink" href="#coq:cmd.Print-Scopes" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays, for each existing notation scope, all accessible notations
(whether or not currently in the notation scope stack),
the most-recently defined delimiting key and the class the notation scope is bound to.
The display also includes <a class="reference internal" href="#term-lonely-notation"><span class="xref std std-term">lonely notations</span></a>.</p>
<p>Use the <a class="reference internal" href="#coq:cmd.Print-Visibility" title="Print Visibility"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Visibility</span></code></a> command to display the current notation scope stack.</p>
</dd></dl>

<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Print-Scope">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Print</span></span></span> <span><span><span class="pre">Scope</span></span></span> <a class="reference internal" href="#grammar-token-scope_name"><span class="hole"><span class="pre">scope_name</span></span></a></span></span><a class="headerlink" href="#coq:cmd.Print-Scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays all notations defined in the notation scope <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-scope_name"><span class="hole"><span class="pre">scope_name</span></span></a></span></code>.
It also displays the delimiting key and the class to which the
scope is bound, if any.</p>
</dd></dl>

</section>
</section>
<section id="abbreviations">
<span id="id9"></span><h2>Abbreviations<a class="headerlink" href="#abbreviations" title="Permalink to this headline">¶</a></h2>
<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Notation-(abbreviation)">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Notation</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">parm</span></sub></span></a></span><span class="notation-sup"><span class="pre">*</span></span></span> <span><span><span class="pre">:=</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-one_term"><span class="hole"><span class="pre">one_term</span></span></a> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">(</span></span></span> <span class="repeat-wrapper-with-sub"><span class="repeat"><a class="reference internal" href="#grammar-token-syntax_modifier"><span class="hole"><span class="pre">syntax_modifier</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span><span class="notation-sub"><span class="pre">,</span></span></span> <span><span><span class="pre">)</span></span></span></span><span class="notation-sup"><span class="pre">?</span></span></span></span></span><a class="headerlink" href="#coq:cmd.Notation-(abbreviation)" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines an abbreviation <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code></a> with the parameters <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">parm</span></sub></span></a></span></code>.</p>
<p>This command supports the <a class="reference internal" href="../language/core/modules.html#coq:attr.local" title="local"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">local</span></code></a> attribute, which limits the notation to the
current module.</p>
<p>An <em>abbreviation</em> is a name, possibly applied to arguments, that
denotes a (presumably) more complex expression. Here are examples:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt class="coqtop-hidden"><span></span><span class="coqdoc-keyword">Require</span><span> </span><span class="coqdoc-keyword">Import</span><span> </span><span class="coqdoc-var">List</span><span>.</span><span>
</span></dt><dt class="coqtop-hidden"><span></span><span class="coqdoc-keyword">Require</span><span> </span><span class="coqdoc-keyword">Import</span><span> </span><span class="coqdoc-var">Relations</span><span>.</span><span>
</span></dt><dt class="coqtop-hidden"><span></span><span class="coqdoc-keyword">Set</span><span> </span><span class="coqdoc-keyword">Printing</span><span> </span><span class="coqdoc-var">Notations</span><span>.</span><span>
</span></dt></dl>
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> </span><span class="coqdoc-var">Nlist</span><span> := (</span><span class="coqdoc-var">list</span><span> </span><span class="coqdoc-var">nat</span><span>).</span><span>
</span></dt></dl>
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> 1 :: 2 :: 3 :: </span><span class="coqdoc-var">nil</span><span>.</span><span>
</span></dt><dd><span>1 </span><span>:: </span><span>2 </span><span>:: </span><span>3 </span><span>:: </span><span>nil
     : Nlist
</span></dd>
</dl>
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> </span><span class="coqdoc-var">reflexive</span><span> </span><span class="coqdoc-var">R</span><span> := (</span><span class="coqdoc-keyword">forall</span><span> </span><span class="coqdoc-var">x</span><span>, </span><span class="coqdoc-var">R</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">x</span><span>).</span><span>
</span></dt></dl>
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-keyword">forall</span><span> </span><span class="coqdoc-var">A</span><span>:</span><span class="coqdoc-keyword">Prop</span><span>, </span><span class="coqdoc-var">A</span><span> &lt;-&gt; </span><span class="coqdoc-var">A</span><span>.</span><span>
</span></dt><dd><span>reflexive iff
     : </span><span class="ansi-fg-yellow ansi-bold">Prop</span><span>
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-var">reflexive</span><span> </span><span class="coqdoc-var">iff</span><span>.</span><span>
</span></dt><dd><span>reflexive iff
     : </span><span class="ansi-fg-yellow ansi-bold">Prop</span><span>
</span></dd>
</dl>
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> </span><span class="coqdoc-var">Plus1</span><span> </span><span class="coqdoc-var">B</span><span> := (</span><span class="coqdoc-var">Nat.add</span><span> </span><span class="coqdoc-var">B</span><span> 1).</span><span>
</span></dt></dl>
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Compute</span><span> (</span><span class="coqdoc-var">Plus1</span><span> 3).</span><span>
</span></dt><dd><span>     = 4
     : nat
</span></dd>
</dl>
</div>
<p>An abbreviation expects no precedence nor associativity, since it
is parsed as an usual application. Abbreviations are used as
much as possible by the Coq printers unless the modifier <code class="docutils literal notranslate"><span class="pre">(only</span>
<span class="pre">parsing)</span></code> is given.</p>
<p>An abbreviation is bound to an absolute name as an ordinary definition is
and it also can be referred to by a qualified name.</p>
<p>Abbreviations are syntactic in the sense that they are bound to
expressions which are not typed at the time of the definition of the
abbreviation but at the time they are used. Especially, abbreviations
can be bound to terms with holes (i.e. with “<code class="docutils literal notranslate"><span class="pre">_</span></code>”). For example:</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl class="simple">
<dt class="coqtop-hidden"><span></span><span class="coqdoc-keyword">Set</span><span> </span><span class="coqdoc-keyword">Strict</span><span> </span><span class="coqdoc-keyword">Implicit</span><span>.</span><span>
</span></dt><dt class="coqtop-hidden"><span></span><span class="coqdoc-keyword">Set</span><span> </span><span class="coqdoc-keyword">Printing</span><span> </span><span class="coqdoc-var">Depth</span><span> 50.</span><span>
</span></dt></dl>
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">explicit_id</span><span> (</span><span class="coqdoc-var">A</span><span>:</span><span class="coqdoc-keyword">Set</span><span>) (</span><span class="coqdoc-var">a</span><span>:</span><span class="coqdoc-var">A</span><span>) := </span><span class="coqdoc-var">a</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>explicit_id is defined
</span></dd>
</dl>
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> </span><span class="coqdoc-var">id</span><span> := (</span><span class="coqdoc-var">explicit_id</span><span> </span><span class="coqdoc-var">_</span><span>).</span><span>
</span></dt></dl>
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> (</span><span class="coqdoc-var">id</span><span> 0).</span><span>
</span></dt><dd><span>id 0
     : nat
</span></dd>
</dl>
</div>
<p>Abbreviations disappear when a section is closed. No typing of the
denoted expression is performed at definition time. Type checking is
done only at the time of use of the abbreviation.</p>
<p>Like for notations, if the right-hand side of an abbreviation is a
partially applied constant, the abbreviation inherits the implicit
arguments and notation scopes of the constant. As an
exception, if the right-hand side is just of the form <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">&#64;</span></span></span><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a></span></code>,
this conventionally stops the inheritance of implicit arguments.</p>
<p>Like for notations, it is possible to bind binders in
abbreviations. Here is an example:</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">force2</span><span> </span><span class="coqdoc-var">q</span><span> (</span><span class="coqdoc-var">P</span><span>:</span><span class="coqdoc-var">nat</span><span>*</span><span class="coqdoc-var">nat</span><span> -&gt; </span><span class="coqdoc-keyword">Prop</span><span>) :=</span><span>
  (</span><span class="coqdoc-keyword">forall</span><span> </span><span class="coqdoc-var">n'</span><span>, </span><span class="coqdoc-var">n'</span><span> &gt;= </span><span class="coqdoc-var">fst</span><span> </span><span class="coqdoc-var">q</span><span> -&gt; </span><span class="coqdoc-keyword">forall</span><span> </span><span class="coqdoc-var">p'</span><span>, </span><span class="coqdoc-var">p'</span><span> &gt;= </span><span class="coqdoc-var">snd</span><span> </span><span class="coqdoc-var">q</span><span> -&gt; </span><span class="coqdoc-var">P</span><span> </span><span class="coqdoc-var">q</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>force2 is defined
</span></dd>
<dt><span></span><span>
</span><span class="coqdoc-keyword">Notation</span><span> </span><span class="coqdoc-var">F</span><span> </span><span class="coqdoc-var">p</span><span> </span><span class="coqdoc-var">P</span><span> := (</span><span class="coqdoc-var">force2</span><span> </span><span class="coqdoc-var">p</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">p</span><span> =&gt; </span><span class="coqdoc-var">P</span><span>)).</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-tactic">exists</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span>, </span><span class="coqdoc-var">F</span><span> (</span><span class="coqdoc-var">x</span><span>,</span><span class="coqdoc-var">y</span><span>) (</span><span class="coqdoc-var">x</span><span> &gt;= 1 /\ </span><span class="coqdoc-var">y</span><span> &gt;= 2).</span><span>
</span></dt><dd class="coqtop-hidden"><span>exists</span><span> x y : nat</span><span>,</span><span> F </span><span>(</span><span>x</span><span>,</span><span> y</span><span>)</span><span> (x</span><span> &gt;=</span><span> 1</span><span> /\</span><span> y</span><span> &gt;=</span><span> 2)
     : </span><span class="ansi-fg-yellow ansi-bold">Prop</span><span>
</span></dd>
</dl>
</div>
</dd></dl>

</section>
<section id="numbers-and-strings">
<h2>Numbers and strings<a class="headerlink" href="#numbers-and-strings" title="Permalink to this headline">¶</a></h2>
<span class="prodn-table"><span class="prodn-column-group"><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span></span><span class="prodn-row-group"><span class="prodn-row"><span class="prodn-cell-nonterminal"><span class="prodn-target"><span class="target" id="grammar-token-number_or_string"></span></span><span class="notation"><a class="reference internal" href="#grammar-token-number_or_string"><span class="hole">number_or_string</span></a></span></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">::=</span></code></span><span class="prodn-cell-production"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-number"><span class="hole">number</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-string"><span class="hole">string</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span></span></span><p>Numbers and strings have no predefined semantics in the calculus. They are
merely notations that can be bound to objects through the notation mechanism.
Initially, numbers are bound to <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">nat</span></span></span></span></code>, Peano’s representation of natural
numbers (see <a class="reference internal" href="../language/coq-library.html#datatypes"><span class="std std-ref">Datatypes</span></a>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Negative integers are not at the same level as <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-natural"><span class="hole"><span class="pre">natural</span></span></a></span></code>, for this
would make precedence unnatural.</p>
</div>
<section id="number-notations">
<span id="id10"></span><h3>Number notations<a class="headerlink" href="#number-notations" title="Permalink to this headline">¶</a></h3>
<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Number-Notation">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Number</span></span></span> <span><span><span class="pre">Notation</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">print</span></sub></span></a> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">(</span></span></span> <span class="repeat-wrapper-with-sub"><span class="repeat"><a class="reference internal" href="#grammar-token-number_modifier"><span class="hole"><span class="pre">number_modifier</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span><span class="notation-sub"><span class="pre">,</span></span></span> <span><span><span class="pre">)</span></span></span></span><span class="notation-sup"><span class="pre">?</span></span></span> <span><span><span class="pre">:</span></span></span> <a class="reference internal" href="#grammar-token-scope_name"><span class="hole"><span class="pre">scope_name</span></span></a></span></span><a class="headerlink" href="#coq:cmd.Number-Notation" title="Permalink to this definition">¶</a></dt>
<dd><span class="prodn-table"><span class="prodn-column-group"><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span></span><span class="prodn-row-group"><span class="prodn-row"><span class="prodn-cell-nonterminal"><span class="prodn-target"><span class="target" id="grammar-token-number_modifier"></span></span><span class="notation"><a class="reference internal" href="#grammar-token-number_modifier"><span class="hole">number_modifier</span></a></span></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">::=</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>warning</span></span> <span><span>after</span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-bignat"><span class="hole">bignat</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>abstract</span></span> <span><span>after</span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-bignat"><span class="hole">bignat</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><a class="reference internal" href="#grammar-token-number_string_via"><span class="hole">number_string_via</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><span class="prodn-target"><span class="target" id="grammar-token-number_string_via"></span></span><span class="notation"><a class="reference internal" href="#grammar-token-number_string_via"><span class="hole">number_string_via</span></a></span></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">::=</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>via</span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole">qualid</span></a> <span><span>mapping</span></span> <span><span>[</span></span> <span class="repeat-wrapper-with-sub"><span class="repeat"><span class="repeated-alternative"><span class="alternative-block"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole">qualid</span></a> <span><span>=&gt;</span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole">qualid</span></a></span><span class="alternative-separator">​</span><span class="alternative-block"><span><span>[</span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole">qualid</span></a> <span><span>]</span></span> <span><span>=&gt;</span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole">qualid</span></a></span></span></span><span class="notation-sup">+</span><span class="notation-sub">,</span></span> <span><span>]</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span></span></span><p>Customizes the way number literals are parsed and printed within the current
<a class="reference internal" href="#term-notation-scope"><span class="xref std std-term">notation scope</span></a>.</p>
<blockquote>
<div><dl>
<dt><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code></dt><dd><p>the name of an inductive type,
while <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a></span></code> and <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">print</span></sub></span></a></span></code> should be the names of the
parsing and printing functions, respectively.  The parsing function
<code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a></span></code> should have one of the following types:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Number.int</span></span></span> <span><span><span class="pre">-&gt;</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Number.int</span></span></span> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">option</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Number.uint</span></span></span> <span><span><span class="pre">-&gt;</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Number.uint</span></span></span> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">option</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Z</span></span></span> <span><span><span class="pre">-&gt;</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Z</span></span></span> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">option</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">PrimInt63.pos</span></span></span><span><span><span class="pre">_</span></span></span><span><span><span class="pre">neg</span></span></span><span><span><span class="pre">_</span></span></span><span><span><span class="pre">int63</span></span></span> <span><span><span class="pre">-&gt;</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">PrimInt63.pos</span></span></span><span><span><span class="pre">_</span></span></span><span><span><span class="pre">neg</span></span></span><span><span><span class="pre">_</span></span></span><span><span><span class="pre">int63</span></span></span> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">option</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">PrimFloat.float</span></span></span> <span><span><span class="pre">-&gt;</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">PrimFloat.float</span></span></span> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">option</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Number.number</span></span></span> <span><span><span class="pre">-&gt;</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Number.number</span></span></span> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">option</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code></p></li>
</ul>
</div></blockquote>
<p>And the printing function <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">print</span></sub></span></a></span></code> should have one of the
following types:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">Number.int</span></span></span></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">option</span></span></span> <span><span><span class="pre">Number.int</span></span></span></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">Number.uint</span></span></span></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">option</span></span></span> <span><span><span class="pre">Number.uint</span></span></span></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">Z</span></span></span></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">option</span></span></span> <span><span><span class="pre">Z</span></span></span></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">PrimInt63.pos</span></span></span><span><span><span class="pre">_</span></span></span><span><span><span class="pre">neg</span></span></span><span><span><span class="pre">_</span></span></span><span><span><span class="pre">int63</span></span></span></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">option</span></span></span> <span><span><span class="pre">PrimInt63.pos</span></span></span><span><span><span class="pre">_</span></span></span><span><span><span class="pre">neg</span></span></span><span><span><span class="pre">_</span></span></span><span><span><span class="pre">int63</span></span></span></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">PrimFloat.float</span></span></span></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">option</span></span></span> <span><span><span class="pre">PrimFloat.float</span></span></span></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">Number.number</span></span></span></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">option</span></span></span> <span><span><span class="pre">Number.number</span></span></span></span></code></p></li>
</ul>
</div></blockquote>
<p>When parsing, the application of the parsing function
<code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a></span></code> to the number will be fully reduced, and universes
of the resulting term will be refreshed.</p>
<p>Note that only fully-reduced ground terms (terms containing only
function application, constructors, inductive type families,
sorts, primitive integers, primitive floats, primitive arrays and type
constants for primitive types) will be considered for printing.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Instead of an inductive type, <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code> can be <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">PrimInt63.int</span></span></span></span></code>
or <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">PrimFloat.float</span></span></span></span></code>,
in which case <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">print</span></sub></span></a></span></code> takes <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">PrimInt63.int</span></span></span><span><span><span class="pre">_</span></span></span><span><span><span class="pre">wrapper</span></span></span></span></code>
or <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">PrimFloat.float</span></span></span><span><span><span class="pre">_</span></span></span><span><span><span class="pre">wrapper</span></span></span></span></code> as input
instead of <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">PrimInt63.int</span></span></span></span></code> or <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">PrimFloat.float</span></span></span></span></code>. See below for an
<a class="reference internal" href="#example-number-notation-primitive-int"><span class="std std-ref">example</span></a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">PrimFloat.float</span></span></span></span></code> is used as input type of
<code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a></span></code>, only numerical values will be parsed
this way, (no infinities nor NaN). Similarly, printers
<code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">print</span></sub></span></a></span></code> with output type <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">PrimFloat.float</span></span></span></span></code>
or <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">option</span></span></span> <span><span><span class="pre">PrimFloat.float</span></span></span></span></code> are ignored when they return
non numerical values.</p>
</div>
</dd>
</dl>
<dl id="number-string-via">
<dt><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">via</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">ind</span></sub></span></a> <span><span><span class="pre">mapping</span></span></span> <span><span><span class="pre">[</span></span></span> <span class="repeat-wrapper-with-sub"><span class="repeat"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">constant</span></sub></span></a> <span><span><span class="pre">=&gt;</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">constructor</span></sub></span></a></span><span class="notation-sup"><span class="pre">+</span></span><span class="notation-sub"><span class="pre">,</span></span></span> <span><span><span class="pre">]</span></span></span></span></code></dt><dd><p>When using this option, <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code> no
longer needs to be an inductive type and is instead mapped to the
inductive type <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">ind</span></sub></span></a></span></code> according to the provided
list of pairs, whose first component <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">constant</span></sub></span></a></span></code> is a
constant of type <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code>
(or a function of type <code class="docutils literal notranslate"><span class="notation"><span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">_</span></span></span> <span><span><span class="pre">-&gt;</span></span></span></span><span class="notation-sup"><span class="pre">*</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code>) and the second a
constructor of type <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">ind</span></sub></span></a></span></code>. The type
<code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code> is then replaced by <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">ind</span></sub></span></a></span></code> in the
above parser and printer types.</p>
<p>When <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">constant</span></sub></span></a></span></code> is surrounded by square brackets,
all the implicit arguments of <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">constant</span></sub></span></a></span></code> (whether maximally inserted or not) are ignored
when translating to <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">constructor</span></sub></span></a></span></code> (i.e., before
applying <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">print</span></sub></span></a></span></code>) and replaced with implicit
argument holes <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">_</span></span></code> when translating from
<code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">constructor</span></sub></span></a></span></code> to <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">constant</span></sub></span></a></span></code> (after
<code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a></span></code>). See below for an <a class="reference internal" href="#example-number-notation-implicit-args"><span class="std std-ref">example</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The implicit status of the arguments is considered
only at notation declaration time, any further
modification of this status has no impact
on the previously declared notations.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In case of multiple implicit options (for instance
<code class="code Coq docutils literal notranslate"><span class="keyword namespace"><span class="pre">Arguments</span></span> <span class="name"><span class="pre">eq_refl</span></span> <span class="operator"><span class="pre">{</span></span><span class="name"><span class="pre">A</span></span><span class="operator"><span class="pre">}%</span></span><span class="name"><span class="pre">type_scope</span></span> <span class="operator"><span class="pre">{</span></span><span class="name"><span class="pre">x</span></span><span class="operator"><span class="pre">},</span></span> <span class="operator"><span class="pre">[_]</span></span> <span class="operator"><span class="pre">_</span></span></code>), an
argument is considered implicit when it is implicit in any of the
options.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To use a <a class="reference internal" href="../language/core/sorts.html#grammar-token-sort"><code class="xref std std-token docutils literal notranslate"><span class="pre">sort</span></code></a> as the target type <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code>, use an <a class="reference internal" href="#abbreviations"><span class="std std-ref">abbreviation</span></a>
as in the <a class="reference internal" href="#example-number-notation-non-inductive"><span class="std std-ref">example below</span></a>.</p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">warning</span></span></span> <span><span><span class="pre">after</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-bignat"><span class="hole"><span class="pre">bignat</span></span></a></span></code></dt><dd><p>displays a warning message about a possible stack
overflow when calling <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a></span></code> to parse a literal larger than <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-bignat"><span class="hole"><span class="pre">bignat</span></span></a></span></code>.</p>
<dl class="coq warn">
<dt class="sig sig-object coq" id="coq:warn.Stack-overflow-or-segmentation-fault-happens-when-working-with-large-numbers-in-‘type’-(threshold-may-vary-depending-on-your-system-limits-and-on-the-command-executed)">
<em class="property"><span class="sigannot"><span class="pre">Warning</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Stack</span></span></span> <span><span><span class="pre">overflow</span></span></span> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">segmentation</span></span></span> <span><span><span class="pre">fault</span></span></span> <span><span><span class="pre">happens</span></span></span> <span><span><span class="pre">when</span></span></span> <span><span><span class="pre">working</span></span></span> <span><span><span class="pre">with</span></span></span> <span><span><span class="pre">large</span></span></span> <span><span><span class="pre">numbers</span></span></span> <span><span><span class="pre">in</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a> <span><span><span class="pre">(threshold</span></span></span> <span><span><span class="pre">may</span></span></span> <span><span><span class="pre">vary</span></span></span> <span><span><span class="pre">depending</span></span></span> <span><span><span class="pre">on</span></span></span> <span><span><span class="pre">your</span></span></span> <span><span><span class="pre">system</span></span></span> <span><span><span class="pre">limits</span></span></span> <span><span><span class="pre">and</span></span></span> <span><span><span class="pre">on</span></span></span> <span><span><span class="pre">the</span></span></span> <span><span><span class="pre">command</span></span></span> <span><span><span class="pre">executed).</span></span></span></span></span><a class="headerlink" href="#coq:warn.Stack-overflow-or-segmentation-fault-happens-when-working-with-large-numbers-in-‘type’-(threshold-may-vary-depending-on-your-system-limits-and-on-the-command-executed)" title="Permalink to this definition">¶</a></dt>
<dd><p>When a <a class="reference internal" href="#coq:cmd.Number-Notation" title="Number Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Notation</span></code></a> is registered in the current scope
with <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">(warning</span></span></span> <span><span><span class="pre">after</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-bignat"><span class="hole"><span class="pre">bignat</span></span></a><span><span><span class="pre">)</span></span></span></span></code>, this warning is emitted when
parsing a number greater than or equal to <a class="reference internal" href="../language/core/basic.html#grammar-token-bignat"><code class="xref std std-token docutils literal notranslate"><span class="pre">bignat</span></code></a>.</p>
</dd></dl>

</dd>
<dt><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">abstract</span></span></span> <span><span><span class="pre">after</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-bignat"><span class="hole"><span class="pre">bignat</span></span></a></span></code></dt><dd><p>returns <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">(</span></span></span><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a> <span><span><span class="pre">m)</span></span></span></span></code> when parsing a literal
<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">m</span></span></span></span></code> that's greater than <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-bignat"><span class="hole"><span class="pre">bignat</span></span></a></span></code> rather than reducing
it to a normal form.  Here <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">m</span></span></code> will be a
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Number.int</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Number.uint</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Z</span></span></code> or <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Number.number</span></span></code>, depending on the
type of the parsing function <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a></span></code>. This allows for a
more compact representation of literals in types such as <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">nat</span></span></code>,
and limits parse failures due to stack overflow.  Note that a
warning will be emitted when an integer larger than <a class="reference internal" href="../language/core/basic.html#grammar-token-bignat"><code class="xref std std-token docutils literal notranslate"><span class="pre">bignat</span></code></a>
is parsed.  Note that <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">(abstract</span></span></span> <span><span><span class="pre">after</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-bignat"><span class="hole"><span class="pre">bignat</span></span></a><span><span><span class="pre">)</span></span></span></span></code> has no effect
when <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a></span></code> lands in an <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">option</span></span></code> type.</p>
<dl class="coq warn">
<dt class="sig sig-object coq" id="coq:warn.To-avoid-stack-overflow,-large-numbers-in-‘type’-are-interpreted-as-applications-of-‘qualid’">
<em class="property"><span class="sigannot"><span class="pre">Warning</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">To</span></span></span> <span><span><span class="pre">avoid</span></span></span> <span><span><span class="pre">stack</span></span></span> <span><span><span class="pre">overflow,</span></span></span> <span><span><span class="pre">large</span></span></span> <span><span><span class="pre">numbers</span></span></span> <span><span><span class="pre">in</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a> <span><span><span class="pre">are</span></span></span> <span><span><span class="pre">interpreted</span></span></span> <span><span><span class="pre">as</span></span></span> <span><span><span class="pre">applications</span></span></span> <span><span><span class="pre">of</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a><span><span><span class="pre">.</span></span></span></span></span><a class="headerlink" href="#coq:warn.To-avoid-stack-overflow,-large-numbers-in-‘type’-are-interpreted-as-applications-of-‘qualid’" title="Permalink to this definition">¶</a></dt>
<dd><p>When a <a class="reference internal" href="#coq:cmd.Number-Notation" title="Number Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Notation</span></code></a> is registered in the current scope
with <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">(abstract</span></span></span> <span><span><span class="pre">after</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-bignat"><span class="hole"><span class="pre">bignat</span></span></a><span><span><span class="pre">)</span></span></span></span></code>, this warning is emitted when
parsing a number greater than or equal to <a class="reference internal" href="../language/core/basic.html#grammar-token-bignat"><code class="xref std std-token docutils literal notranslate"><span class="pre">bignat</span></code></a>.
Typically, this indicates that the fully computed representation
of numbers can be so large that non-tail-recursive OCaml
functions run out of stack space when trying to walk them.</p>
</dd></dl>

<dl class="coq warn">
<dt class="sig sig-object coq" id="coq:warn.The-'abstract-after'-directive-has-no-effect-when-the-parsing-function-(‘qualid’)-targets-an-option-type">
<em class="property"><span class="sigannot"><span class="pre">Warning</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">The</span></span></span> <span>'<span><span class="pre">abstract</span></span></span> <span><span><span class="pre">after</span></span>'</span> <span><span><span class="pre">directive</span></span></span> <span><span><span class="pre">has</span></span></span> <span><span><span class="pre">no</span></span></span> <span><span><span class="pre">effect</span></span></span> <span><span><span class="pre">when</span></span></span> <span><span><span class="pre">the</span></span></span> <span><span><span class="pre">parsing</span></span></span> <span><span><span class="pre">function</span></span></span> <span><span><span class="pre">(</span></span></span><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a><span><span><span class="pre">)</span></span></span> <span><span><span class="pre">targets</span></span></span> <span><span><span class="pre">an</span></span></span> <span><span><span class="pre">option</span></span></span> <span><span><span class="pre">type.</span></span></span></span></span><a class="headerlink" href="#coq:warn.The-'abstract-after'-directive-has-no-effect-when-the-parsing-function-(‘qualid’)-targets-an-option-type" title="Permalink to this definition">¶</a></dt>
<dd><p>As noted above, the <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">(abstract</span></span></span> <span><span><span class="pre">after</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-natural"><span class="hole"><span class="pre">natural</span></span></a><span><span><span class="pre">)</span></span></span></span></code> directive has no
effect when <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a></span></code> lands in an <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">option</span></span></code> type.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.'via'-and-'abstract'-cannot-be-used-together">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span>'<span><span class="pre">via</span></span>'</span> <span><span><span class="pre">and</span></span></span> <span>'<span><span class="pre">abstract</span></span>'</span> <span><span><span class="pre">cannot</span></span></span> <span><span><span class="pre">be</span></span></span> <span><span><span class="pre">used</span></span></span> <span><span><span class="pre">together.</span></span></span></span></span><a class="headerlink" href="#coq:exn.'via'-and-'abstract'-cannot-be-used-together" title="Permalink to this definition">¶</a></dt>
<dd><p>With the <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">abstract</span></span></span> <span><span><span class="pre">after</span></span></span></span></code> option, the parser function
<code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a></span></code> does not reduce large numbers to a normal form,
which prevents doing the translation given in the <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">mapping</span></span></span></span></code> list.</p>
</dd></dl>

</dd>
</dl>
</div></blockquote>
<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.Cannot-interpret-this-number-as-a-value-of-type-‘type’">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Cannot</span></span></span> <span><span><span class="pre">interpret</span></span></span> <span><span><span class="pre">this</span></span></span> <span><span><span class="pre">number</span></span></span> <span><span><span class="pre">as</span></span></span> <span><span><span class="pre">a</span></span></span> <span><span><span class="pre">value</span></span></span> <span><span><span class="pre">of</span></span></span> <span><span><span class="pre">type</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a></span></span><a class="headerlink" href="#coq:exn.Cannot-interpret-this-number-as-a-value-of-type-‘type’" title="Permalink to this definition">¶</a></dt>
<dd><p>The number notation registered for <a class="reference internal" href="../language/core/basic.html#grammar-token-type"><code class="xref std std-token docutils literal notranslate"><span class="pre">type</span></code></a> does not support
the given number.  This error is given when the interpretation
function returns <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">None</span></span></code>, or if the interpretation is registered
only for integers or non-negative integers, and the given number
has a fractional or exponent part or is negative.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.overflow-in-int63-literal-‘bigint’">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">overflow</span></span></span> <span><span><span class="pre">in</span></span></span> <span><span><span class="pre">int63</span></span></span> <span><span><span class="pre">literal</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-bigint"><span class="hole"><span class="pre">bigint</span></span></a></span></span><a class="headerlink" href="#coq:exn.overflow-in-int63-literal-‘bigint’" title="Permalink to this definition">¶</a></dt>
<dd><p>The constant's absolute value is too big to fit into a 63-bit integer <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">PrimInt63.int</span></span></span></span></code>.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.‘qualid’-should-go-from-Number.int-to-‘type’-or-(option-‘type’).-Instead-of-Number.int,-the-types-Number.uint-or-Z-or-PrimInt63.pos_neg_int63-or-PrimFloat.float-or-Number.number-could-be-used-(you-may-need-to-require-BinNums-or-Number-or-PrimInt63-or-PrimFloat-first)">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a> <span><span><span class="pre">should</span></span></span> <span><span><span class="pre">go</span></span></span> <span><span><span class="pre">from</span></span></span> <span><span><span class="pre">Number.int</span></span></span> <span><span><span class="pre">to</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">(option</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a><span><span><span class="pre">).</span></span></span> <span><span><span class="pre">Instead</span></span></span> <span><span><span class="pre">of</span></span></span> <span><span><span class="pre">Number.int,</span></span></span> <span><span><span class="pre">the</span></span></span> <span><span><span class="pre">types</span></span></span> <span><span><span class="pre">Number.uint</span></span></span> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">Z</span></span></span> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">PrimInt63.pos</span></span></span><span><span><span class="pre">_</span></span></span><span><span><span class="pre">neg</span></span></span><span><span><span class="pre">_</span></span></span><span><span><span class="pre">int63</span></span></span> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">PrimFloat.float</span></span></span> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">Number.number</span></span></span> <span><span><span class="pre">could</span></span></span> <span><span><span class="pre">be</span></span></span> <span><span><span class="pre">used</span></span></span> <span><span><span class="pre">(you</span></span></span> <span><span><span class="pre">may</span></span></span> <span><span><span class="pre">need</span></span></span> <span><span><span class="pre">to</span></span></span> <span><span><span class="pre">require</span></span></span> <span><span><span class="pre">BinNums</span></span></span> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">Number</span></span></span> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">PrimInt63</span></span></span> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">PrimFloat</span></span></span> <span><span><span class="pre">first).</span></span></span></span></span><a class="headerlink" href="#coq:exn.‘qualid’-should-go-from-Number.int-to-‘type’-or-(option-‘type’).-Instead-of-Number.int,-the-types-Number.uint-or-Z-or-PrimInt63.pos_neg_int63-or-PrimFloat.float-or-Number.number-could-be-used-(you-may-need-to-require-BinNums-or-Number-or-PrimInt63-or-PrimFloat-first)" title="Permalink to this definition">¶</a></dt>
<dd><p>The parsing function given to the <a class="reference internal" href="#coq:cmd.Number-Notation" title="Number Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Notation</span></code></a>
command is not of the right type.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.‘qualid’-should-go-from-‘type’-to-Number.int-or-(option-Number.int).-Instead-of-Number.int,-the-types-Number.uint-or-Z-or-PrimInt63.pos_neg_int63-or-Number.number-could-be-used-(you-may-need-to-require-BinNums-or-Number-or-PrimInt63-first)">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">print</span></sub></span></a> <span><span><span class="pre">should</span></span></span> <span><span><span class="pre">go</span></span></span> <span><span><span class="pre">from</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a> <span><span><span class="pre">to</span></span></span> <span><span><span class="pre">Number.int</span></span></span> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">(option</span></span></span> <span><span><span class="pre">Number.int).</span></span></span> <span><span><span class="pre">Instead</span></span></span> <span><span><span class="pre">of</span></span></span> <span><span><span class="pre">Number.int,</span></span></span> <span><span><span class="pre">the</span></span></span> <span><span><span class="pre">types</span></span></span> <span><span><span class="pre">Number.uint</span></span></span> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">Z</span></span></span> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">PrimInt63.pos</span></span></span><span><span><span class="pre">_</span></span></span><span><span><span class="pre">neg</span></span></span><span><span><span class="pre">_</span></span></span><span><span><span class="pre">int63</span></span></span> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">Number.number</span></span></span> <span><span><span class="pre">could</span></span></span> <span><span><span class="pre">be</span></span></span> <span><span><span class="pre">used</span></span></span> <span><span><span class="pre">(you</span></span></span> <span><span><span class="pre">may</span></span></span> <span><span><span class="pre">need</span></span></span> <span><span><span class="pre">to</span></span></span> <span><span><span class="pre">require</span></span></span> <span><span><span class="pre">BinNums</span></span></span> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">Number</span></span></span> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">PrimInt63</span></span></span> <span><span><span class="pre">first).</span></span></span></span></span><a class="headerlink" href="#coq:exn.‘qualid’-should-go-from-‘type’-to-Number.int-or-(option-Number.int).-Instead-of-Number.int,-the-types-Number.uint-or-Z-or-PrimInt63.pos_neg_int63-or-Number.number-could-be-used-(you-may-need-to-require-BinNums-or-Number-or-PrimInt63-first)" title="Permalink to this definition">¶</a></dt>
<dd><p>The printing function given to the <a class="reference internal" href="#coq:cmd.Number-Notation" title="Number Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Notation</span></code></a>
command is not of the right type.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.Unexpected-term-‘term’-while-parsing-a-number-notation">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Unexpected</span></span></span> <span><span><span class="pre">term</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a> <span><span><span class="pre">while</span></span></span> <span><span><span class="pre">parsing</span></span></span> <span><span><span class="pre">a</span></span></span> <span><span><span class="pre">number</span></span></span> <span><span><span class="pre">notation.</span></span></span></span></span><a class="headerlink" href="#coq:exn.Unexpected-term-‘term’-while-parsing-a-number-notation" title="Permalink to this definition">¶</a></dt>
<dd><p>Parsing functions must always return ground terms, made up of
function application, constructors, inductive type families, sorts and primitive
integers.  Parsing functions may not return terms containing
axioms, bare (co)fixpoints, lambdas, etc.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.Unexpected-non-option-term-‘term’-while-parsing-a-number-notation">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Unexpected</span></span></span> <span><span><span class="pre">non-option</span></span></span> <span><span><span class="pre">term</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a> <span><span><span class="pre">while</span></span></span> <span><span><span class="pre">parsing</span></span></span> <span><span><span class="pre">a</span></span></span> <span><span><span class="pre">number</span></span></span> <span><span><span class="pre">notation.</span></span></span></span></span><a class="headerlink" href="#coq:exn.Unexpected-non-option-term-‘term’-while-parsing-a-number-notation" title="Permalink to this definition">¶</a></dt>
<dd><p>Parsing functions expected to return an <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">option</span></span></code> must always
return a concrete <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Some</span></span></code> or <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">None</span></span></code> when applied to a
concrete number expressed as a (hexa)decimal.  They may not return
opaque constants.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.Multiple-'via'-options">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Multiple</span></span></span> <span>'<span><span class="pre">via</span></span>'</span> <span><span><span class="pre">options.</span></span></span></span></span><a class="headerlink" href="#coq:exn.Multiple-'via'-options" title="Permalink to this definition">¶</a></dt>
<dd><p>At most one <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">via</span></span></code> option can be given.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.Multiple-'warning-after'-or-'abstract-after'-options">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Multiple</span></span></span> <span>'<span><span class="pre">warning</span></span></span> <span><span><span class="pre">after</span></span>'</span> <span><span><span class="pre">or</span></span></span> <span>'<span><span class="pre">abstract</span></span></span> <span><span><span class="pre">after</span></span>'</span> <span><span><span class="pre">options.</span></span></span></span></span><a class="headerlink" href="#coq:exn.Multiple-'warning-after'-or-'abstract-after'-options" title="Permalink to this definition">¶</a></dt>
<dd><p>At most one <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">warning</span></span> <span class="keyword"><span class="pre">after</span></span></code> or <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">abstract</span></span> <span class="keyword"><span class="pre">after</span></span></code> option can be given.</p>
</dd></dl>

</dd></dl>

</section>
<section id="string-notations">
<span id="id11"></span><h3>String notations<a class="headerlink" href="#string-notations" title="Permalink to this headline">¶</a></h3>
<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.String-Notation">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">String</span></span></span> <span><span><span class="pre">Notation</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">print</span></sub></span></a> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">(</span></span></span> <a class="reference internal" href="#grammar-token-number_string_via"><span class="hole"><span class="pre">number_string_via</span></span></a> <span><span><span class="pre">)</span></span></span></span><span class="notation-sup"><span class="pre">?</span></span></span> <span><span><span class="pre">:</span></span></span> <a class="reference internal" href="#grammar-token-scope_name"><span class="hole"><span class="pre">scope_name</span></span></a></span></span><a class="headerlink" href="#coq:cmd.String-Notation" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Allows the user to customize how strings are parsed and printed.</p>
<blockquote>
<div><dl>
<dt><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code></dt><dd><p>the name of an inductive type,
while <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a></span></code> and <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">print</span></sub></span></a></span></code> should be the names of the
parsing and printing functions, respectively.  The parsing function
<code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a></span></code> should have one of the following types:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Byte.byte</span></span></span> <span><span><span class="pre">-&gt;</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Byte.byte</span></span></span> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">option</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">list</span></span></span> <span><span><span class="pre">Byte.byte</span></span></span> <span><span><span class="pre">-&gt;</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">list</span></span></span> <span><span><span class="pre">Byte.byte</span></span></span> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">option</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code></p></li>
</ul>
</div></blockquote>
<p>The printing function <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">print</span></sub></span></a></span></code> should have one of the
following types:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">Byte.byte</span></span></span></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">option</span></span></span> <span><span><span class="pre">Byte.byte</span></span></span></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">list</span></span></span> <span><span><span class="pre">Byte.byte</span></span></span></span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a> <span><span><span class="pre">-&gt;</span></span></span> <span><span><span class="pre">option</span></span></span> <span><span><span class="pre">(list</span></span></span> <span><span><span class="pre">Byte.byte)</span></span></span></span></code></p></li>
</ul>
</div></blockquote>
<p>When parsing, the application of the parsing function
<code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a></span></code> to the string will be fully reduced, and universes
of the resulting term will be refreshed.</p>
<p>Note that only fully-reduced ground terms (terms containing only
function application, constructors, inductive type families,
sorts, primitive integers, primitive floats, primitive arrays and type
constants for primitive types) will be considered for printing.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">via</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">ind</span></sub></span></a> <span><span><span class="pre">mapping</span></span></span> <span><span><span class="pre">[</span></span></span> <span class="repeat-wrapper-with-sub"><span class="repeat"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">constant</span></sub></span></a> <span><span><span class="pre">=&gt;</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">constructor</span></sub></span></a></span><span class="notation-sup"><span class="pre">+</span></span><span class="notation-sub"><span class="pre">,</span></span></span> <span><span><span class="pre">]</span></span></span></span></code></dt><dd><p>works as for <a class="reference internal" href="#number-string-via"><span class="std std-ref">number notations above</span></a>.</p>
</dd>
</dl>
</div></blockquote>
</div></blockquote>
<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.Cannot-interpret-this-string-as-a-value-of-type-‘type’">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Cannot</span></span></span> <span><span><span class="pre">interpret</span></span></span> <span><span><span class="pre">this</span></span></span> <span><span><span class="pre">string</span></span></span> <span><span><span class="pre">as</span></span></span> <span><span><span class="pre">a</span></span></span> <span><span><span class="pre">value</span></span></span> <span><span><span class="pre">of</span></span></span> <span><span><span class="pre">type</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a></span></span><a class="headerlink" href="#coq:exn.Cannot-interpret-this-string-as-a-value-of-type-‘type’" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>The string notation registered for <a class="reference internal" href="../language/core/basic.html#grammar-token-type"><code class="xref std std-token docutils literal notranslate"><span class="pre">type</span></code></a> does not support
the given string.  This error is given when the interpretation
function returns <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">None</span></span></code>.</p>
</div></blockquote>
<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.‘qualid’-should-go-from-Byte.byte-or-(list-Byte.byte)-to-‘type’-or-(option-‘type’)">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a> <span><span><span class="pre">should</span></span></span> <span><span><span class="pre">go</span></span></span> <span><span><span class="pre">from</span></span></span> <span><span><span class="pre">Byte.byte</span></span></span> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">(list</span></span></span> <span><span><span class="pre">Byte.byte)</span></span></span> <span><span><span class="pre">to</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">(option</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a><span><span><span class="pre">).</span></span></span></span></span><a class="headerlink" href="#coq:exn.‘qualid’-should-go-from-Byte.byte-or-(list-Byte.byte)-to-‘type’-or-(option-‘type’)" title="Permalink to this definition">¶</a></dt>
<dd><p>The parsing function given to the <a class="reference internal" href="#coq:cmd.String-Notation" title="String Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">String</span> <span class="pre">Notation</span></code></a>
command is not of the right type.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.‘qualid’-should-go-from-‘type’-to-Byte.byte-or-(option-Byte.byte)-or-(list-Byte.byte)-or-(option-(list-Byte.byte))">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">print</span></sub></span></a> <span><span><span class="pre">should</span></span></span> <span><span><span class="pre">go</span></span></span> <span><span><span class="pre">from</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a> <span><span><span class="pre">to</span></span></span> <span><span><span class="pre">Byte.byte</span></span></span> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">(option</span></span></span> <span><span><span class="pre">Byte.byte)</span></span></span> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">(list</span></span></span> <span><span><span class="pre">Byte.byte)</span></span></span> <span><span><span class="pre">or</span></span></span> <span><span><span class="pre">(option</span></span></span> <span><span><span class="pre">(list</span></span></span> <span><span><span class="pre">Byte.byte)).</span></span></span></span></span><a class="headerlink" href="#coq:exn.‘qualid’-should-go-from-‘type’-to-Byte.byte-or-(option-Byte.byte)-or-(list-Byte.byte)-or-(option-(list-Byte.byte))" title="Permalink to this definition">¶</a></dt>
<dd><p>The printing function given to the <a class="reference internal" href="#coq:cmd.String-Notation" title="String Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">String</span> <span class="pre">Notation</span></code></a>
command is not of the right type.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.Unexpected-term-‘term’-while-parsing-a-string-notation">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Unexpected</span></span></span> <span><span><span class="pre">term</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a> <span><span><span class="pre">while</span></span></span> <span><span><span class="pre">parsing</span></span></span> <span><span><span class="pre">a</span></span></span> <span><span><span class="pre">string</span></span></span> <span><span><span class="pre">notation.</span></span></span></span></span><a class="headerlink" href="#coq:exn.Unexpected-term-‘term’-while-parsing-a-string-notation" title="Permalink to this definition">¶</a></dt>
<dd><p>Parsing functions must always return ground terms, made up of
function application, constructors, inductive type families, sorts and primitive
integers.  Parsing functions may not return terms containing
axioms, bare (co)fixpoints, lambdas, etc.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.Unexpected-non-option-term-‘term’-while-parsing-a-string-notation">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Unexpected</span></span></span> <span><span><span class="pre">non-option</span></span></span> <span><span><span class="pre">term</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a> <span><span><span class="pre">while</span></span></span> <span><span><span class="pre">parsing</span></span></span> <span><span><span class="pre">a</span></span></span> <span><span><span class="pre">string</span></span></span> <span><span><span class="pre">notation.</span></span></span></span></span><a class="headerlink" href="#coq:exn.Unexpected-non-option-term-‘term’-while-parsing-a-string-notation" title="Permalink to this definition">¶</a></dt>
<dd><p>Parsing functions expected to return an <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">option</span></span></code> must always
return a concrete <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Some</span></span></code> or <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">None</span></span></code> when applied to a
concrete string expressed as a decimal.  They may not return
opaque constants.</p>
</dd></dl>

</dd></dl>

</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Number or string notations for parameterized inductive types can be
added by declaring an <a class="reference internal" href="#abbreviations"><span class="std std-ref">abbreviation</span></a> for the
inductive which instantiates all parameters. See <a class="reference internal" href="#example-string-notation-parameterized-inductive"><span class="std std-ref">example below</span></a>.</p>
</div>
<p>The following errors apply to both string and number notations:</p>
<blockquote>
<div><dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.‘type’-is-not-an-inductive-type">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a> <span><span><span class="pre">is</span></span></span> <span><span><span class="pre">not</span></span></span> <span><span><span class="pre">an</span></span></span> <span><span><span class="pre">inductive</span></span></span> <span><span><span class="pre">type.</span></span></span></span></span><a class="headerlink" href="#coq:exn.‘type’-is-not-an-inductive-type" title="Permalink to this definition">¶</a></dt>
<dd><p>String and number notations can only be declared for inductive types.
Declare string or numeral notations for non-inductive types using <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-number_string_via"><span class="hole"><span class="pre">number_string_via</span></span></a></span></code>.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.‘qualid’-was-already-mapped-to-‘qualid’-and-cannot-be-remapped-to-‘qualid’">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a> <span><span><span class="pre">was</span></span></span> <span><span><span class="pre">already</span></span></span> <span><span><span class="pre">mapped</span></span></span> <span><span><span class="pre">to</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a> <span><span><span class="pre">and</span></span></span> <span><span><span class="pre">cannot</span></span></span> <span><span><span class="pre">be</span></span></span> <span><span><span class="pre">remapped</span></span></span> <span><span><span class="pre">to</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a></span></span><a class="headerlink" href="#coq:exn.‘qualid’-was-already-mapped-to-‘qualid’-and-cannot-be-remapped-to-‘qualid’" title="Permalink to this definition">¶</a></dt>
<dd><p>Duplicates are not allowed in the <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">mapping</span></span></span></span></code> list.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.Missing-mapping-for-constructor-‘qualid’">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Missing</span></span></span> <span><span><span class="pre">mapping</span></span></span> <span><span><span class="pre">for</span></span></span> <span><span><span class="pre">constructor</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a></span></span><a class="headerlink" href="#coq:exn.Missing-mapping-for-constructor-‘qualid’" title="Permalink to this definition">¶</a></dt>
<dd><p>A mapping should be provided for <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a></span></code> in the <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">mapping</span></span></span></span></code> list.</p>
</dd></dl>

<dl class="coq warn">
<dt class="sig sig-object coq" id="coq:warn.‘type’-was-already-mapped-to-‘type’,-mapping-it-also-to-‘type’-might-yield-ill-typed-terms-when-using-the-notation">
<em class="property"><span class="sigannot"><span class="pre">Warning</span></span></em> <span class="sig-name descname"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a> <span><span><span class="pre">was</span></span></span> <span><span><span class="pre">already</span></span></span> <span><span><span class="pre">mapped</span></span></span> <span><span><span class="pre">to</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a><span><span><span class="pre">,</span></span></span> <span><span><span class="pre">mapping</span></span></span> <span><span><span class="pre">it</span></span></span> <span><span><span class="pre">also</span></span></span> <span><span><span class="pre">to</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a> <span><span><span class="pre">might</span></span></span> <span><span><span class="pre">yield</span></span></span> <span><span><span class="pre">ill</span></span></span> <span><span><span class="pre">typed</span></span></span> <span><span><span class="pre">terms</span></span></span> <span><span><span class="pre">when</span></span></span> <span><span><span class="pre">using</span></span></span> <span><span><span class="pre">the</span></span></span> <span><span><span class="pre">notation.</span></span></span></span></span><a class="headerlink" href="#coq:warn.‘type’-was-already-mapped-to-‘type’,-mapping-it-also-to-‘type’-might-yield-ill-typed-terms-when-using-the-notation" title="Permalink to this definition">¶</a></dt>
<dd><p>Two pairs in the <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">mapping</span></span></span></span></code> list associate types that might be incompatible.</p>
</dd></dl>

<dl class="coq warn">
<dt class="sig sig-object coq" id="coq:warn.Type-of-‘qualid’-seems-incompatible-with-the-type-of-‘qualid’.-Expected-type-is:-‘type’-instead-of-‘type’.-This-might-yield-ill-typed-terms-when-using-the-notation">
<em class="property"><span class="sigannot"><span class="pre">Warning</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Type</span></span></span> <span><span><span class="pre">of</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a> <span><span><span class="pre">seems</span></span></span> <span><span><span class="pre">incompatible</span></span></span> <span><span><span class="pre">with</span></span></span> <span><span><span class="pre">the</span></span></span> <span><span><span class="pre">type</span></span></span> <span><span><span class="pre">of</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a><span><span><span class="pre">.</span></span></span> <span><span><span class="pre">Expected</span></span></span> <span><span><span class="pre">type</span></span></span> <span><span><span class="pre">is:</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a> <span><span><span class="pre">instead</span></span></span> <span><span><span class="pre">of</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a><span><span><span class="pre">.</span></span></span> <span><span><span class="pre">This</span></span></span> <span><span><span class="pre">might</span></span></span> <span><span><span class="pre">yield</span></span></span> <span><span><span class="pre">ill</span></span></span> <span><span><span class="pre">typed</span></span></span> <span><span><span class="pre">terms</span></span></span> <span><span><span class="pre">when</span></span></span> <span><span><span class="pre">using</span></span></span> <span><span><span class="pre">the</span></span></span> <span><span><span class="pre">notation.</span></span></span></span></span><a class="headerlink" href="#coq:warn.Type-of-‘qualid’-seems-incompatible-with-the-type-of-‘qualid’.-Expected-type-is:-‘type’-instead-of-‘type’.-This-might-yield-ill-typed-terms-when-using-the-notation" title="Permalink to this definition">¶</a></dt>
<dd><p>A mapping given in the <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">mapping</span></span></span></span></code> list associates a constant with a seemingly incompatible constructor.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.Cannot-interpret-in-‘scope_name’-because-‘qualid’-could-not-be-found-in-the-current-environment">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Cannot</span></span></span> <span><span><span class="pre">interpret</span></span></span> <span><span><span class="pre">in</span></span></span> <a class="reference internal" href="#grammar-token-scope_name"><span class="hole"><span class="pre">scope_name</span></span></a> <span><span><span class="pre">because</span></span></span> <a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a> <span><span><span class="pre">could</span></span></span> <span><span><span class="pre">not</span></span></span> <span><span><span class="pre">be</span></span></span> <span><span><span class="pre">found</span></span></span> <span><span><span class="pre">in</span></span></span> <span><span><span class="pre">the</span></span></span> <span><span><span class="pre">current</span></span></span> <span><span><span class="pre">environment.</span></span></span></span></span><a class="headerlink" href="#coq:exn.Cannot-interpret-in-‘scope_name’-because-‘qualid’-could-not-be-found-in-the-current-environment" title="Permalink to this definition">¶</a></dt>
<dd><p>The inductive type used to register the string or number notation is no
longer available in the environment.  Most likely, this is because
the notation was declared inside a functor for an
inductive type inside the functor.  This use case is not currently
supported.</p>
<p>Alternatively, you might be trying to use a primitive token
notation from a plugin which forgot to specify which module you
must <code class="code Coq docutils literal notranslate"><span class="keyword namespace"><span class="pre">Require</span></span></code> for access to that notation.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.Syntax-error:-[prim:reference]-expected-after-'Notation'-(in-[vernac:command])">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Syntax</span></span></span> <span><span><span class="pre">error:</span></span></span> <span><span><span class="pre">[prim:reference]</span></span></span> <span><span><span class="pre">expected</span></span></span> <span><span><span class="pre">after</span></span></span> <span>'<span><span class="pre">Notation</span></span>'</span> <span><span><span class="pre">(in</span></span></span> <span><span><span class="pre">[vernac:command]).</span></span></span></span></span><a class="headerlink" href="#coq:exn.Syntax-error:-[prim:reference]-expected-after-'Notation'-(in-[vernac:command])" title="Permalink to this definition">¶</a></dt>
<dd><p>The type passed to <a class="reference internal" href="#coq:cmd.String-Notation" title="String Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">String</span> <span class="pre">Notation</span></code></a> or <a class="reference internal" href="#coq:cmd.Number-Notation" title="Number Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Notation</span></code></a> must be a single qualified
identifier.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.Syntax-error:-[prim:reference]-expected-after-[prim:reference]-(in-[vernac:command])">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Syntax</span></span></span> <span><span><span class="pre">error:</span></span></span> <span><span><span class="pre">[prim:reference]</span></span></span> <span><span><span class="pre">expected</span></span></span> <span><span><span class="pre">after</span></span></span> <span><span><span class="pre">[prim:reference]</span></span></span> <span><span><span class="pre">(in</span></span></span> <span><span><span class="pre">[vernac:command]).</span></span></span></span></span><a class="headerlink" href="#coq:exn.Syntax-error:-[prim:reference]-expected-after-[prim:reference]-(in-[vernac:command])" title="Permalink to this definition">¶</a></dt>
<dd><p>Both functions passed to <a class="reference internal" href="#coq:cmd.String-Notation" title="String Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">String</span> <span class="pre">Notation</span></code></a> or <a class="reference internal" href="#coq:cmd.Number-Notation" title="Number Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Notation</span></code></a> must be single qualified
identifiers.</p>
</dd></dl>

<dl class="coq exn">
<dt class="sig sig-object coq" id="coq:exn.‘qualid’-is-bound-to-a-notation-that-does-not-denote-a-reference">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a> <span><span><span class="pre">is</span></span></span> <span><span><span class="pre">bound</span></span></span> <span><span><span class="pre">to</span></span></span> <span><span><span class="pre">a</span></span></span> <span><span><span class="pre">notation</span></span></span> <span><span><span class="pre">that</span></span></span> <span><span><span class="pre">does</span></span></span> <span><span><span class="pre">not</span></span></span> <span><span><span class="pre">denote</span></span></span> <span><span><span class="pre">a</span></span></span> <span><span><span class="pre">reference.</span></span></span></span></span><a class="headerlink" href="#coq:exn.‘qualid’-is-bound-to-a-notation-that-does-not-denote-a-reference" title="Permalink to this definition">¶</a></dt>
<dd><p>Identifiers passed to <a class="reference internal" href="#coq:cmd.String-Notation" title="String Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">String</span> <span class="pre">Notation</span></code></a> or <a class="reference internal" href="#coq:cmd.Number-Notation" title="Number Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Notation</span></code></a> must be global
references, or notations which evaluate to single qualified identifiers.</p>
</dd></dl>

</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Example: Number Notation for radix 3</p>
<p>The following example parses and prints natural numbers
whose digits are <code class="code Coq docutils literal notranslate"><span class="literal number integer"><span class="pre">0</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="literal number integer"><span class="pre">1</span></span></code> or <code class="code Coq docutils literal notranslate"><span class="literal number integer"><span class="pre">2</span></span></code> as terms of the following
inductive type encoding radix 3 numbers.</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl>
<dt><span></span><span class="coqdoc-keyword">Inductive</span><span> </span><span class="coqdoc-var">radix3</span><span> : </span><span class="coqdoc-keyword">Set</span><span> :=</span><span>
  | </span><span class="coqdoc-var">x0</span><span> : </span><span class="coqdoc-var">radix3</span><span>
  | </span><span class="coqdoc-var">x3</span><span> : </span><span class="coqdoc-var">radix3</span><span> -&gt; </span><span class="coqdoc-var">radix3</span><span>
  | </span><span class="coqdoc-var">x3p1</span><span> : </span><span class="coqdoc-var">radix3</span><span> -&gt; </span><span class="coqdoc-var">radix3</span><span>
  | </span><span class="coqdoc-var">x3p2</span><span> : </span><span class="coqdoc-var">radix3</span><span> -&gt; </span><span class="coqdoc-var">radix3</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>radix3 is defined
radix3_rect is defined
radix3_ind is defined
radix3_rec is defined
radix3_sind is defined
</span></dd>
</dl>
</div>
<p>We first define a parsing function</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">of_uint_dec</span><span> (</span><span class="coqdoc-var">u</span><span> : </span><span class="coqdoc-var">Decimal.uint</span><span>) : </span><span class="coqdoc-var">option</span><span> </span><span class="coqdoc-var">radix3</span><span> :=</span><span>
  </span><span class="coqdoc-keyword">let</span><span> </span><span class="coqdoc-keyword">fix</span><span> </span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">u</span><span> := </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">u</span><span> </span><span class="coqdoc-keyword">with</span><span>
    | </span><span class="coqdoc-var">Decimal.Nil</span><span> =&gt; </span><span class="coqdoc-var">Some</span><span> </span><span class="coqdoc-var">x0</span><span>
    | </span><span class="coqdoc-var">Decimal.D0</span><span> </span><span class="coqdoc-var">u</span><span> =&gt; </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">u</span><span> </span><span class="coqdoc-keyword">with</span><span> </span><span class="coqdoc-var">Some</span><span> </span><span class="coqdoc-var">u</span><span> =&gt; </span><span class="coqdoc-var">Some</span><span> (</span><span class="coqdoc-var">x3</span><span> </span><span class="coqdoc-var">u</span><span>) | </span><span class="coqdoc-var">None</span><span> =&gt; </span><span class="coqdoc-var">None</span><span> </span><span class="coqdoc-keyword">end</span><span>
    | </span><span class="coqdoc-var">Decimal.D1</span><span> </span><span class="coqdoc-var">u</span><span> =&gt; </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">u</span><span> </span><span class="coqdoc-keyword">with</span><span> </span><span class="coqdoc-var">Some</span><span> </span><span class="coqdoc-var">u</span><span> =&gt; </span><span class="coqdoc-var">Some</span><span> (</span><span class="coqdoc-var">x3p1</span><span> </span><span class="coqdoc-var">u</span><span>) | </span><span class="coqdoc-var">None</span><span> =&gt; </span><span class="coqdoc-var">None</span><span> </span><span class="coqdoc-keyword">end</span><span>
    | </span><span class="coqdoc-var">Decimal.D2</span><span> </span><span class="coqdoc-var">u</span><span> =&gt; </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">u</span><span> </span><span class="coqdoc-keyword">with</span><span> </span><span class="coqdoc-var">Some</span><span> </span><span class="coqdoc-var">u</span><span> =&gt; </span><span class="coqdoc-var">Some</span><span> (</span><span class="coqdoc-var">x3p2</span><span> </span><span class="coqdoc-var">u</span><span>) | </span><span class="coqdoc-var">None</span><span> =&gt; </span><span class="coqdoc-var">None</span><span> </span><span class="coqdoc-keyword">end</span><span>
    | </span><span class="coqdoc-var">_</span><span> =&gt; </span><span class="coqdoc-var">None</span><span> </span><span class="coqdoc-keyword">end</span><span> </span><span class="coqdoc-tactic">in</span><span>
  </span><span class="coqdoc-var">f</span><span> (</span><span class="coqdoc-var">Decimal.rev</span><span> </span><span class="coqdoc-var">u</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>of_uint_dec is defined
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">of_uint</span><span> (</span><span class="coqdoc-var">u</span><span> : </span><span class="coqdoc-var">Number.uint</span><span>) : </span><span class="coqdoc-var">option</span><span> </span><span class="coqdoc-var">radix3</span><span> :=</span><span>
  </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">u</span><span> </span><span class="coqdoc-keyword">with</span><span> </span><span class="coqdoc-var">Number.UIntDecimal</span><span> </span><span class="coqdoc-var">u</span><span> =&gt; </span><span class="coqdoc-var">of_uint_dec</span><span> </span><span class="coqdoc-var">u</span><span> | </span><span class="coqdoc-var">Number.UIntHexadecimal</span><span> </span><span class="coqdoc-var">_</span><span> =&gt; </span><span class="coqdoc-var">None</span><span> </span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>of_uint is defined
</span></dd>
</dl>
</div>
<p>and a printing function</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">to_uint_dec</span><span> (</span><span class="coqdoc-var">x</span><span> : </span><span class="coqdoc-var">radix3</span><span>) : </span><span class="coqdoc-var">Decimal.uint</span><span> :=</span><span>
  </span><span class="coqdoc-keyword">let</span><span> </span><span class="coqdoc-keyword">fix</span><span> </span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">x</span><span> := </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-keyword">with</span><span>
    | </span><span class="coqdoc-var">x0</span><span> =&gt; </span><span class="coqdoc-var">Decimal.Nil</span><span>
    | </span><span class="coqdoc-var">x3</span><span> </span><span class="coqdoc-var">x</span><span> =&gt; </span><span class="coqdoc-var">Decimal.D0</span><span> (</span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">x</span><span>)</span><span>
    | </span><span class="coqdoc-var">x3p1</span><span> </span><span class="coqdoc-var">x</span><span> =&gt; </span><span class="coqdoc-var">Decimal.D1</span><span> (</span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">x</span><span>)</span><span>
    | </span><span class="coqdoc-var">x3p2</span><span> </span><span class="coqdoc-var">x</span><span> =&gt; </span><span class="coqdoc-var">Decimal.D2</span><span> (</span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">x</span><span>) </span><span class="coqdoc-keyword">end</span><span> </span><span class="coqdoc-tactic">in</span><span>
  </span><span class="coqdoc-var">Decimal.rev</span><span> (</span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">x</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>to_uint_dec is defined
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">to_uint</span><span> (</span><span class="coqdoc-var">x</span><span> : </span><span class="coqdoc-var">radix3</span><span>) : </span><span class="coqdoc-var">Number.uint</span><span> := </span><span class="coqdoc-var">Number.UIntDecimal</span><span> (</span><span class="coqdoc-var">to_uint_dec</span><span> </span><span class="coqdoc-var">x</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>to_uint is defined
</span></dd>
</dl>
</div>
<p>before declaring the notation</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Declare Scope</span><span> </span><span class="coqdoc-var">radix3_scope</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Open</span><span> </span><span class="coqdoc-keyword">Scope</span><span> </span><span class="coqdoc-var">radix3_scope</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Number Notation</span><span> </span><span class="coqdoc-var">radix3</span><span> </span><span class="coqdoc-var">of_uint</span><span> </span><span class="coqdoc-var">to_uint</span><span> : </span><span class="coqdoc-var">radix3_scope</span><span>.</span><span>
</span></dt></dl>
</div>
<p>We can check the printer</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-var">x3p2</span><span> (</span><span class="coqdoc-var">x3p1</span><span> </span><span class="coqdoc-var">x0</span><span>).</span><span>
</span></dt><dd><span>12
     : radix3
</span></dd>
</dl>
</div>
<p>and the parser</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Set Printing All</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Check</span><span> 120.</span><span>
</span></dt><dd><span>x3 (x3p2 (x3p1 x0))
     : radix3
</span></dd>
</dl>
</div>
<p>Digits other than <code class="code Coq docutils literal notranslate"><span class="literal number integer"><span class="pre">0</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="literal number integer"><span class="pre">1</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="literal number integer"><span class="pre">2</span></span></code> are rejected.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> 3.</span><span>
</span></dt><dd><span>Toplevel input, characters 6-7:
&gt; Check 3.
&gt;       ^
</span><span class="ansi-fg-white ansi-bg-red ansi-bold">Error:</span><span> Cannot interpret this number as a value of type radix3
</span></dd>
</dl>
</div>
</div>
<div class="admonition note" id="example-number-notation-primitive-int">
<p class="admonition-title">Example: Number Notation for primitive integers</p>
<p>This shows the use of the primitive
integers <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">PrimInt63.int</span></span></span></span></code> as <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">type</span></sub></span></a></span></code>. It is the way
parsing and printing of primitive integers are actually implemented
in <code class="docutils literal notranslate"><span class="pre">PrimInt63.v</span></code>.</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl>
<dt><span></span><span class="coqdoc-keyword">Require</span><span> </span><span class="coqdoc-keyword">Import</span><span> </span><span class="coqdoc-var">PrimInt63</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">parser</span><span> (</span><span class="coqdoc-var">x</span><span> : </span><span class="coqdoc-var">pos_neg_int63</span><span>) : </span><span class="coqdoc-var">option</span><span> </span><span class="coqdoc-var">int</span><span> :=</span><span>
  </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-keyword">with</span><span> </span><span class="coqdoc-var">Pos</span><span> </span><span class="coqdoc-var">p</span><span> =&gt; </span><span class="coqdoc-var">Some</span><span> </span><span class="coqdoc-var">p</span><span> | </span><span class="coqdoc-var">Neg</span><span> </span><span class="coqdoc-var">_</span><span> =&gt; </span><span class="coqdoc-var">None</span><span> </span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>parser is defined
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">printer</span><span> (</span><span class="coqdoc-var">x</span><span> : </span><span class="coqdoc-var">int_wrapper</span><span>) : </span><span class="coqdoc-var">pos_neg_int63</span><span> := </span><span class="coqdoc-var">Pos</span><span> (</span><span class="coqdoc-var">int_wrap</span><span> </span><span class="coqdoc-var">x</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>printer is defined
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Number Notation</span><span> </span><span class="coqdoc-var">int</span><span> </span><span class="coqdoc-var">parser</span><span> </span><span class="coqdoc-var">printer</span><span> : </span><span class="coqdoc-var">uint63_scope</span><span>.</span><span>
</span></dt></dl>
</div>
</div>
<div class="admonition note" id="example-number-notation-non-inductive">
<p class="admonition-title">Example: Number Notation for a non-inductive type</p>
<p>The following example encodes the terms in the form <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">sum</span></span> <span class="name"><span class="pre">unit</span></span> <span class="operator"><span class="pre">(</span></span> <span class="operator"><span class="pre">...</span></span> <span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">sum</span></span> <span class="name"><span class="pre">unit</span></span> <span class="name"><span class="pre">unit</span></span><span class="operator"><span class="pre">)</span></span> <span class="operator"><span class="pre">...</span></span> <span class="operator"><span class="pre">)</span></span></code>
as the number of units in the term. For instance <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">sum</span></span> <span class="name"><span class="pre">unit</span></span> <span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">sum</span></span> <span class="name"><span class="pre">unit</span></span> <span class="name"><span class="pre">unit</span></span><span class="operator"><span class="pre">)</span></span></code>
is encoded as <code class="code Coq docutils literal notranslate"><span class="literal number integer"><span class="pre">3</span></span></code> while <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">unit</span></span></code> is <code class="code Coq docutils literal notranslate"><span class="literal number integer"><span class="pre">1</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="literal number integer"><span class="pre">0</span></span></code> stands for <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Empty_set</span></span></code>.
The inductive <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">I</span></span></code> will be used as <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">ind</span></sub></span></a></span></code>.</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl>
<dt><span></span><span class="coqdoc-keyword">Inductive</span><span> </span><span class="coqdoc-var">I</span><span> := </span><span class="coqdoc-var">Iempty</span><span> : </span><span class="coqdoc-var">I</span><span> | </span><span class="coqdoc-var">Iunit</span><span> : </span><span class="coqdoc-var">I</span><span> | </span><span class="coqdoc-var">Isum</span><span> : </span><span class="coqdoc-var">I</span><span> -&gt; </span><span class="coqdoc-var">I</span><span> -&gt; </span><span class="coqdoc-var">I</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>I is defined
I_rect is defined
I_ind is defined
I_rec is defined
I_sind is defined
</span></dd>
</dl>
</div>
<p>We then define <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">parse</span></sub></span></a></span></code> and <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span><sub><span class="pre">print</span></sub></span></a></span></code></p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">of_uint</span><span> (</span><span class="coqdoc-var">x</span><span> : </span><span class="coqdoc-var">Number.uint</span><span>) : </span><span class="coqdoc-var">I</span><span> :=</span><span>
  </span><span class="coqdoc-keyword">let</span><span> </span><span class="coqdoc-keyword">fix</span><span> </span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">n</span><span> := </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-keyword">with</span><span>
    | </span><span class="coqdoc-var">O</span><span> =&gt; </span><span class="coqdoc-var">Iempty</span><span> | </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">O</span><span> =&gt; </span><span class="coqdoc-var">Iunit</span><span>
    | </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">n</span><span> =&gt; </span><span class="coqdoc-var">Isum</span><span> </span><span class="coqdoc-var">Iunit</span><span> (</span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">n</span><span>) </span><span class="coqdoc-keyword">end</span><span> </span><span class="coqdoc-tactic">in</span><span>
  </span><span class="coqdoc-var">f</span><span> (</span><span class="coqdoc-var">Nat.of_num_uint</span><span> </span><span class="coqdoc-var">x</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>of_uint is defined
</span></dd>
<dt><span></span><span>
</span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">to_uint</span><span> (</span><span class="coqdoc-var">x</span><span> : </span><span class="coqdoc-var">I</span><span>) : </span><span class="coqdoc-var">Number.uint</span><span> :=</span><span>
  </span><span class="coqdoc-keyword">let</span><span> </span><span class="coqdoc-keyword">fix</span><span> </span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">i</span><span> := </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">i</span><span> </span><span class="coqdoc-keyword">with</span><span>
    | </span><span class="coqdoc-var">Iempty</span><span> =&gt; </span><span class="coqdoc-var">O</span><span> | </span><span class="coqdoc-var">Iunit</span><span> =&gt; 1</span><span>
    | </span><span class="coqdoc-var">Isum</span><span> </span><span class="coqdoc-var">i1</span><span> </span><span class="coqdoc-var">i2</span><span> =&gt; </span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">i1</span><span> + </span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">i2</span><span> </span><span class="coqdoc-keyword">end</span><span> </span><span class="coqdoc-tactic">in</span><span>
  </span><span class="coqdoc-var">Nat.to_num_uint</span><span> (</span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">x</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>to_uint is defined
</span></dd>
<dt><span></span><span>
</span><span class="coqdoc-keyword">Inductive</span><span> </span><span class="coqdoc-var">sum</span><span> (</span><span class="coqdoc-var">A</span><span> : </span><span class="coqdoc-keyword">Set</span><span>) (</span><span class="coqdoc-var">B</span><span> : </span><span class="coqdoc-keyword">Set</span><span>) : </span><span class="coqdoc-keyword">Set</span><span> := </span><span class="coqdoc-var">pair</span><span> : </span><span class="coqdoc-var">A</span><span> -&gt; </span><span class="coqdoc-var">B</span><span> -&gt; </span><span class="coqdoc-var">sum</span><span> </span><span class="coqdoc-var">A</span><span> </span><span class="coqdoc-var">B</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>sum is defined
sum_rect is defined
sum_ind is defined
sum_rec is defined
sum_sind is defined
</span></dd>
</dl>
</div>
<p>the number notation itself</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> </span><span class="coqdoc-var">nSet</span><span> := </span><span class="coqdoc-keyword">Set</span><span> (</span><span class="coqdoc-var">only</span><span> </span><span class="coqdoc-var">parsing</span><span>).</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Number Notation</span><span> </span><span class="coqdoc-var">nSet</span><span> </span><span class="coqdoc-var">of_uint</span><span> </span><span class="coqdoc-var">to_uint</span><span> (</span><span class="coqdoc-var">via</span><span> </span><span class="coqdoc-var">I</span><span>
  </span><span class="coqdoc-var">mapping</span><span> [</span><span class="coqdoc-var">Empty_set</span><span> =&gt; </span><span class="coqdoc-var">Iempty</span><span>, </span><span class="coqdoc-var">unit</span><span> =&gt; </span><span class="coqdoc-var">Iunit</span><span>, </span><span class="coqdoc-var">sum</span><span> =&gt; </span><span class="coqdoc-var">Isum</span><span>]) : </span><span class="coqdoc-var">type_scope</span><span>.</span><span>
</span></dt></dl>
</div>
<p>and check the printer</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Local Open</span><span> </span><span class="coqdoc-keyword">Scope</span><span> </span><span class="coqdoc-var">type_scope</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-var">sum</span><span> </span><span class="coqdoc-var">unit</span><span> (</span><span class="coqdoc-var">sum</span><span> </span><span class="coqdoc-var">unit</span><span> </span><span class="coqdoc-var">unit</span><span>).</span><span>
</span></dt><dd><span>3
     : </span><span class="ansi-fg-yellow ansi-bold">Set</span><span>
</span></dd>
</dl>
</div>
<p>and the parser</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Set Printing All</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Check</span><span> 3.</span><span>
</span></dt><dd><span>sum unit (sum unit unit)
     : </span><span class="ansi-fg-yellow ansi-bold">Set</span><span>
</span></dd>
</dl>
</div>
</div>
<div class="admonition note" id="example-number-notation-implicit-args">
<p class="admonition-title">Example: Number Notation with implicit arguments</p>
<p>The following example parses and prints natural numbers between
<code class="code Coq docutils literal notranslate"><span class="literal number integer"><span class="pre">0</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">n</span></span><span class="operator"><span class="pre">-</span></span><span class="literal number integer"><span class="pre">1</span></span></code> as terms of type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Fin.t</span></span> <span class="name"><span class="pre">n</span></span></code>.</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl>
<dt><span></span><span class="coqdoc-keyword">Require</span><span> </span><span class="coqdoc-keyword">Import</span><span> </span><span class="coqdoc-var">Vector</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Print</span><span> </span><span class="coqdoc-var">Fin.t</span><span>.</span><span>
</span></dt><dd><span class="ansi-fg-light-red ansi-bold">Inductive</span><span> t : nat</span><span> -&gt;</span><span> </span><span class="ansi-fg-yellow ansi-bold">Set</span><span> :=
    F1 : </span><span class="ansi-bold">forall</span><span> n : nat, </span><span class="ansi-fg-light-magenta">Fin</span><span>.</span><span class="ansi-fg-light-green">t</span><span> (S n)
  | FS : </span><span class="ansi-bold">forall</span><span> n : nat, </span><span class="ansi-fg-light-magenta">Fin</span><span>.</span><span class="ansi-fg-light-green">t</span><span> n</span><span> -&gt;</span><span> </span><span class="ansi-fg-light-magenta">Fin</span><span>.</span><span class="ansi-fg-light-green">t</span><span> (S n).

Arguments </span><span class="ansi-fg-light-magenta">Fin</span><span>.</span><span class="ansi-fg-light-green">t</span><span> _%nat_scope
Arguments </span><span class="ansi-fg-light-magenta">Fin</span><span>.</span><span class="ansi-fg-light-green">F1</span><span> {n}%nat_scope
Arguments </span><span class="ansi-fg-light-magenta">Fin</span><span>.</span><span class="ansi-fg-light-green">FS</span><span> {n}%nat_scope _
</span></dd>
</dl>
</div>
<p>Note the implicit arguments of <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Fin.F1</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Fin.FS</span></span></code>,
which won't appear in the corresponding inductive type.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Inductive</span><span> </span><span class="coqdoc-var">I</span><span> := </span><span class="coqdoc-var">I1</span><span> : </span><span class="coqdoc-var">I</span><span> | </span><span class="coqdoc-var">IS</span><span> : </span><span class="coqdoc-var">I</span><span> -&gt; </span><span class="coqdoc-var">I</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>I is defined
I_rect is defined
I_ind is defined
I_rec is defined
I_sind is defined
</span></dd>
<dt><span></span><span>
</span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">of_uint</span><span> (</span><span class="coqdoc-var">x</span><span> : </span><span class="coqdoc-var">Number.uint</span><span>) : </span><span class="coqdoc-var">I</span><span> :=</span><span>
  </span><span class="coqdoc-keyword">let</span><span> </span><span class="coqdoc-keyword">fix</span><span> </span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">n</span><span> := </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-keyword">with</span><span> </span><span class="coqdoc-var">O</span><span> =&gt; </span><span class="coqdoc-var">I1</span><span> | </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">n</span><span> =&gt; </span><span class="coqdoc-var">IS</span><span> (</span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">n</span><span>) </span><span class="coqdoc-keyword">end</span><span> </span><span class="coqdoc-tactic">in</span><span>
  </span><span class="coqdoc-var">f</span><span> (</span><span class="coqdoc-var">Nat.of_num_uint</span><span> </span><span class="coqdoc-var">x</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>of_uint is defined
</span></dd>
<dt><span></span><span>
</span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">to_uint</span><span> (</span><span class="coqdoc-var">x</span><span> : </span><span class="coqdoc-var">I</span><span>) : </span><span class="coqdoc-var">Number.uint</span><span> :=</span><span>
  </span><span class="coqdoc-keyword">let</span><span> </span><span class="coqdoc-keyword">fix</span><span> </span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">i</span><span> := </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">i</span><span> </span><span class="coqdoc-keyword">with</span><span> </span><span class="coqdoc-var">I1</span><span> =&gt; </span><span class="coqdoc-var">O</span><span> | </span><span class="coqdoc-var">IS</span><span> </span><span class="coqdoc-var">n</span><span> =&gt; </span><span class="coqdoc-var">S</span><span> (</span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">n</span><span>) </span><span class="coqdoc-keyword">end</span><span> </span><span class="coqdoc-tactic">in</span><span>
  </span><span class="coqdoc-var">Nat.to_num_uint</span><span> (</span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">x</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>to_uint is defined
</span></dd>
<dt><span></span><span>
</span><span class="coqdoc-keyword">Declare Scope</span><span> </span><span class="coqdoc-var">fin_scope</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Delimit</span><span> </span><span class="coqdoc-keyword">Scope</span><span> </span><span class="coqdoc-var">fin_scope</span><span> </span><span class="coqdoc-keyword">with</span><span> </span><span class="coqdoc-var">fin</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Local Open</span><span> </span><span class="coqdoc-keyword">Scope</span><span> </span><span class="coqdoc-var">fin_scope</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Number Notation</span><span> </span><span class="coqdoc-var">Fin.t</span><span> </span><span class="coqdoc-var">of_uint</span><span> </span><span class="coqdoc-var">to_uint</span><span> (</span><span class="coqdoc-var">via</span><span> </span><span class="coqdoc-var">I</span><span>
  </span><span class="coqdoc-var">mapping</span><span> [[</span><span class="coqdoc-var">Fin.F1</span><span>] =&gt; </span><span class="coqdoc-var">I1</span><span>, [</span><span class="coqdoc-var">Fin.FS</span><span>] =&gt; </span><span class="coqdoc-var">IS</span><span>]) : </span><span class="coqdoc-var">fin_scope</span><span>.</span><span>
</span></dt></dl>
</div>
<p>Now <code class="code Coq docutils literal notranslate"><span class="literal number integer"><span class="pre">2</span></span></code> is parsed as <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Fin.FS</span></span> <span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">Fin.FS</span></span> <span class="name"><span class="pre">Fin.F1</span></span><span class="operator"><span class="pre">)</span></span></code>, that is
<code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">&#64;</span></span><span class="name"><span class="pre">Fin.FS</span></span> <span class="operator"><span class="pre">_</span></span> <span class="operator"><span class="pre">(&#64;</span></span><span class="name"><span class="pre">Fin.FS</span></span> <span class="operator"><span class="pre">_</span></span> <span class="operator"><span class="pre">(&#64;</span></span><span class="name"><span class="pre">Fin.F1</span></span> <span class="operator"><span class="pre">_))</span></span></code>.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> 2.</span><span>
</span></dt><dd><span>2
     : </span><span class="ansi-fg-light-magenta">Fin</span><span>.</span><span class="ansi-fg-light-green">t</span><span> (S (S (S </span><span class="ansi-fg-light-blue">?n</span><span>)))
where
?n : [ |- nat]
</span></dd>
</dl>
</div>
<p>which can be of type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Fin.t</span></span> <span class="literal number integer"><span class="pre">3</span></span></code> (numbers <code class="code Coq docutils literal notranslate"><span class="literal number integer"><span class="pre">0</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="literal number integer"><span class="pre">1</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="literal number integer"><span class="pre">2</span></span></code>)</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> 2 : </span><span class="coqdoc-var">Fin.t</span><span> 3.</span><span>
</span></dt><dd><span>2 : </span><span class="ansi-fg-light-magenta">Fin</span><span>.</span><span class="ansi-fg-light-green">t</span><span> 3
     : </span><span class="ansi-fg-light-magenta">Fin</span><span>.</span><span class="ansi-fg-light-green">t</span><span> 3
</span></dd>
</dl>
</div>
<p>but cannot be of type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Fin.t</span></span> <span class="literal number integer"><span class="pre">2</span></span></code> (only <code class="code Coq docutils literal notranslate"><span class="literal number integer"><span class="pre">0</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="literal number integer"><span class="pre">1</span></span></code>)</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> 2 : </span><span class="coqdoc-var">Fin.t</span><span> 2.</span><span>
</span></dt><dd><span>Toplevel input, characters 6-7:
&gt; Check 2 : Fin.t 2.
&gt;       ^
</span><span class="ansi-fg-white ansi-bg-red ansi-bold">Error:</span><span>
The term &quot;2&quot; has type &quot;</span><span class="ansi-fg-light-magenta">Fin</span><span>.</span><span class="ansi-fg-light-green">t</span><span> (S (S (S </span><span class="ansi-fg-light-blue">?n</span><span>)))&quot;
while it is expected to have type &quot;</span><span class="ansi-fg-light-magenta">Fin</span><span>.</span><span class="ansi-fg-light-green">t</span><span> 2&quot;.
</span></dd>
</dl>
</div>
</div>
<div class="admonition note" id="example-string-notation-parameterized-inductive">
<p class="admonition-title">Example: String Notation with a parameterized inductive type</p>
<p>The parameter <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Byte.byte</span></span></code> for the parameterized inductive type
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">list</span></span></code> is given through an <a class="reference internal" href="#abbreviations"><span class="std std-ref">abbreviation</span></a>.</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl>
<dt><span></span><span class="coqdoc-keyword">Notation</span><span> </span><span class="coqdoc-var">string</span><span> := (</span><span class="coqdoc-var">list</span><span> </span><span class="coqdoc-var">Byte.byte</span><span>) (</span><span class="coqdoc-var">only</span><span> </span><span class="coqdoc-var">parsing</span><span>).</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">id_string</span><span> := &#64;</span><span class="coqdoc-var">id</span><span> </span><span class="coqdoc-var">string</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>id_string is defined
</span></dd>
<dt><span></span><span>
</span><span class="coqdoc-keyword">String Notation</span><span> </span><span class="coqdoc-var">string</span><span> </span><span class="coqdoc-var">id_string</span><span> </span><span class="coqdoc-var">id_string</span><span> : </span><span class="coqdoc-var">list_scope</span><span>.</span><span>
</span></dt></dl>
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> &quot;abc&quot;%</span><span class="coqdoc-var">list</span><span>.</span><span>
</span></dt><dd><span>&quot;abc&quot;%list
     : list </span><span class="ansi-fg-light-magenta">Byte</span><span>.</span><span class="ansi-fg-light-green">byte</span><span>
</span></dd>
</dl>
</div>
</div>
</section>
</section>
<section id="tactic-notations">
<span id="tacticnotation"></span><h2>Tactic Notations<a class="headerlink" href="#tactic-notations" title="Permalink to this headline">¶</a></h2>
<p>Tactic notations allow customizing the syntax of tactics.</p>
<dl class="coq cmd">
<dt class="sig sig-object coq" id="coq:cmd.Tactic-Notation">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Tactic</span></span></span> <span><span><span class="pre">Notation</span></span></span> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">(</span></span></span> <span><span><span class="pre">at</span></span></span> <span><span><span class="pre">level</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-natural"><span class="hole"><span class="pre">natural</span></span></a> <span><span><span class="pre">)</span></span></span></span><span class="notation-sup"><span class="pre">?</span></span></span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="#grammar-token-ltac_production_item"><span class="hole"><span class="pre">ltac_production_item</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span></span> <span><span><span class="pre">:=</span></span></span> <a class="reference internal" href="../proof-engine/ltac.html#grammar-token-ltac_expr"><span class="hole"><span class="pre">ltac_expr</span></span></a></span></span><a class="headerlink" href="#coq:cmd.Tactic-Notation" title="Permalink to this definition">¶</a></dt>
<dd><span class="prodn-table"><span class="prodn-column-group"><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span></span><span class="prodn-row-group"><span class="prodn-row"><span class="prodn-cell-nonterminal"><span class="prodn-target"><span class="target" id="grammar-token-ltac_production_item"></span></span><span class="notation"><a class="reference internal" href="#grammar-token-ltac_production_item"><span class="hole">ltac_production_item</span></a></span></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">::=</span></code></span><span class="prodn-cell-production"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-string"><span class="hole">string</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole">ident</span></a> <span class="repeat-wrapper"><span class="repeat"><span><span>(</span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole">ident</span></a> <span class="repeat-wrapper"><span class="repeat"><span><span>,</span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-string"><span class="hole">string</span></a></span><span class="notation-sup">?</span></span> <span><span>)</span></span></span><span class="notation-sup">?</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span></span></span><p>Defines a <em>tactic notation</em>, which extends the parsing and pretty-printing of tactics.</p>
<p>This command supports the <a class="reference internal" href="../language/core/modules.html#coq:attr.local" title="local"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">local</span></code></a> attribute, which limits the notation to the
current module.</p>
<blockquote>
<div><dl class="simple">
<dt><a class="reference internal" href="../language/core/basic.html#grammar-token-natural"><code class="xref std std-token docutils literal notranslate"><span class="pre">natural</span></code></a></dt><dd><p>The parsing precedence to assign to the notation.  This information is particularly
relevant for notations for tacticals.  Levels can be in the range 0 .. 5 (default is 5).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="notation"><span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="#grammar-token-ltac_production_item"><span class="hole"><span class="pre">ltac_production_item</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span></span></span></code></dt><dd><p>The notation syntax.  Notations for simple tactics should begin with a <a class="reference internal" href="../language/core/basic.html#grammar-token-string"><code class="xref std std-token docutils literal notranslate"><span class="pre">string</span></code></a>.
Note that <code class="docutils literal notranslate"><span class="pre">Tactic</span> <span class="pre">Notation</span> <span class="pre">foo</span> <span class="pre">:=</span> <span class="pre">idtac</span></code> is not valid; it should be <code class="docutils literal notranslate"><span class="pre">Tactic</span> <span class="pre">Notation</span> <span class="pre">&quot;foo&quot;</span> <span class="pre">:=</span> <span class="pre">idtac</span></code>.</p>
</dd>
<dt><a class="reference internal" href="../language/core/basic.html#grammar-token-string"><code class="xref std std-token docutils literal notranslate"><span class="pre">string</span></code></a></dt><dd><p>represents a literal value in the notation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code></dt><dd><p>is the name of a grammar nonterminal listed in the table below.  In a few cases,
to maintain backward compatibility, the name differs from the nonterminal name
used elsewhere in the documentation.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">(</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">parm</span></sub></span></a> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">,</span></span></span> <a class="reference internal" href="../language/core/basic.html#grammar-token-string"><span class="hole"><span class="pre">string</span><sub><span class="pre">s</span></sub></span></a></span><span class="notation-sup"><span class="pre">?</span></span></span> <span><span><span class="pre">)</span></span></span></span></code></dt><dd><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">parm</span></sub></span></a></span></code> is the parameter name associated with <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code>.   The <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-string"><span class="hole"><span class="pre">string</span><sub><span class="pre">s</span></sub></span></a></span></code>
is the separator string to use when <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code> specifies a list with separators
(i.e. <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code> ends with <code class="docutils literal notranslate"><span class="pre">_list_sep</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../proof-engine/ltac.html#grammar-token-ltac_expr"><span class="hole"><span class="pre">ltac_expr</span></span></a></span></code></dt><dd><p>The tactic expression to substitute for the notation.  <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">parm</span></sub></span></a></span></code>
tokens appearing in <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../proof-engine/ltac.html#grammar-token-ltac_expr"><span class="hole"><span class="pre">ltac_expr</span></span></a></span></code> are substituted with the associated
nonterminal value.</p>
</dd>
</dl>
</div></blockquote>
<p>For example, the following command defines a notation with a single parameter <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="simple">
<dt><span></span><span class="coqdoc-keyword">Tactic Notation</span><span> &quot;destruct_with_eqn&quot; </span><span class="coqdoc-keyword">constr</span><span>(</span><span class="coqdoc-var">x</span><span>) := </span><span class="coqdoc-tactic">destruct</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">eqn</span><span>:?.</span><span>
</span></dt></dl>
</div>
<p>For a complex example, examine the 16 <code class="docutils literal notranslate"><span class="pre">Tactic</span> <span class="pre">Notation</span> <span class="pre">&quot;setoid_replace&quot;</span></code>s
defined in <code class="file docutils literal notranslate"><span class="pre">$COQLIB/theories/Classes/SetoidTactics.v</span></code>, which are designed
to accept any subset of 4 optional parameters.</p>
<p>The nonterminals that can specified in the tactic notation are:</p>
<blockquote>
<div></div></blockquote>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Specified <a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code></a></p></th>
<th class="head"><p>Parsed as</p></th>
<th class="head"><p>Interpreted as</p></th>
<th class="head"><p>as in tactic</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ident</span></code></p></td>
<td><p><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code></a></p></td>
<td><p>a user-given name</p></td>
<td><p><a class="reference internal" href="../proof-engine/tactics.html#coq:tacn.intro" title="intro"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">intro</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">simple_intropattern</span></code></p></td>
<td><p><a class="reference internal" href="../proof-engine/tactics.html#grammar-token-simple_intropattern"><code class="xref std std-token docutils literal notranslate"><span class="pre">simple_intropattern</span></code></a></p></td>
<td><p>an introduction pattern</p></td>
<td><p><a class="reference internal" href="../proof-engine/tactics.html#coq:tacn.assert" title="assert"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">assert</span></code></a> <code class="docutils literal notranslate"><span class="pre">as</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">hyp</span></code></p></td>
<td><p><a class="reference internal" href="../language/core/basic.html#grammar-token-ident"><code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code></a></p></td>
<td><p>a hypothesis defined in context</p></td>
<td><p><a class="reference internal" href="../proof-engine/tactics.html#coq:tacn.clear" title="clear"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">clear</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">reference</span></code></p></td>
<td><p><a class="reference internal" href="../language/core/modules.html#grammar-token-qualid"><code class="xref std std-token docutils literal notranslate"><span class="pre">qualid</span></code></a></p></td>
<td><p>a qualified identifier</p></td>
<td><p>name of an <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub>-defined tactic</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">smart_global</span></code></p></td>
<td><p><a class="reference internal" href="../proof-engine/vernacular-commands.html#grammar-token-reference"><code class="xref std std-token docutils literal notranslate"><span class="pre">reference</span></code></a></p></td>
<td><p>a global reference of term</p></td>
<td><p><a class="reference internal" href="../proofs/writing-proofs/equality.html#coq:tacn.unfold" title="unfold"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">unfold</span></code></a>, <a class="reference internal" href="../proofs/writing-proofs/equality.html#coq:tacn.with_strategy" title="with_strategy"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">with_strategy</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">constr</span></code></p></td>
<td><p><a class="reference internal" href="../language/core/basic.html#grammar-token-one_term"><code class="xref std std-token docutils literal notranslate"><span class="pre">one_term</span></code></a></p></td>
<td><p>a term</p></td>
<td><p><a class="reference internal" href="../proof-engine/tactics.html#coq:tacn.exact" title="exact"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">exact</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">uconstr</span></code></p></td>
<td><p><a class="reference internal" href="../language/core/basic.html#grammar-token-one_term"><code class="xref std std-token docutils literal notranslate"><span class="pre">one_term</span></code></a></p></td>
<td><p>an untyped term</p></td>
<td><p><a class="reference internal" href="../proof-engine/tactics.html#coq:tacn.refine" title="refine"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">refine</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">integer</span></code></p></td>
<td><p><a class="reference internal" href="../language/core/basic.html#grammar-token-integer"><code class="xref std std-token docutils literal notranslate"><span class="pre">integer</span></code></a></p></td>
<td><p>an integer</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">int_or_var</span></code></p></td>
<td><p><a class="reference internal" href="../proof-engine/ltac.html#grammar-token-int_or_var"><code class="xref std std-token docutils literal notranslate"><span class="pre">int_or_var</span></code></a></p></td>
<td><p>an integer</p></td>
<td><p><a class="reference internal" href="../proof-engine/ltac.html#coq:tacn.do" title="do"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">do</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">strategy_level</span></code></p></td>
<td><p><a class="reference internal" href="../proofs/writing-proofs/equality.html#grammar-token-strategy_level"><code class="xref std std-token docutils literal notranslate"><span class="pre">strategy_level</span></code></a></p></td>
<td><p>a strategy level</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">strategy_level_or_var</span></code></p></td>
<td><p><a class="reference internal" href="../proofs/writing-proofs/equality.html#grammar-token-strategy_level_or_var"><code class="xref std std-token docutils literal notranslate"><span class="pre">strategy_level_or_var</span></code></a></p></td>
<td><p>a strategy level</p></td>
<td><p><a class="reference internal" href="../proofs/writing-proofs/equality.html#coq:tacn.with_strategy" title="with_strategy"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">with_strategy</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tactic</span></code></p></td>
<td><p><a class="reference internal" href="../proof-engine/ltac.html#grammar-token-ltac_expr"><code class="xref std std-token docutils literal notranslate"><span class="pre">ltac_expr</span></code></a></p></td>
<td><p>a tactic</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">tactic</span></code><em>n</em> (<em>n</em> in 0..5)</p></td>
<td><p><a class="reference internal" href="../proof-engine/ltac.html#grammar-token-ltac_expr"><code class="xref std std-token docutils literal notranslate"><span class="pre">ltac_expr</span></code></a><em>n</em></p></td>
<td><p>a tactic at level <em>n</em></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><em>entry</em><code class="docutils literal notranslate"><span class="pre">_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="notation"><span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">entry</span></span></span></span><span class="notation-sup"><span class="pre">*</span></span></span></span></code></p></td>
<td><p>a list of how <em>entry</em> is interpreted</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ne_</span></code><em>entry</em><code class="docutils literal notranslate"><span class="pre">_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="notation"><span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">entry</span></span></span></span><span class="notation-sup"><span class="pre">+</span></span></span></span></code></p></td>
<td><p>a list of how <em>entry</em> is interpreted</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><em>entry</em><code class="docutils literal notranslate"><span class="pre">_list_sep</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="notation"><span class="repeat-wrapper-with-sub"><span class="repeat"><span><span><span class="pre">entry</span></span></span></span><span class="notation-sup"><span class="pre">*</span></span><span class="notation-sub"><span class="pre">s</span></span></span></span></code></p></td>
<td><p>a list of how <em>entry</em> is interpreted</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ne_</span></code><em>entry</em><code class="docutils literal notranslate"><span class="pre">_list_sep</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="notation"><span class="repeat-wrapper-with-sub"><span class="repeat"><span><span><span class="pre">entry</span></span></span></span><span class="notation-sup"><span class="pre">+</span></span><span class="notation-sub"><span class="pre">s</span></span></span></span></code></p></td>
<td><p>a list of how <em>entry</em> is interpreted</p></td>
<td></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order to be bound in tactic definitions, each
syntactic entry for argument type must include the case
of a simple <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub> identifier as part of what it
parses. This is naturally the case for <code class="docutils literal notranslate"><span class="pre">ident</span></code>,
<code class="docutils literal notranslate"><span class="pre">simple_intropattern</span></code>, <code class="docutils literal notranslate"><span class="pre">reference</span></code>, <code class="docutils literal notranslate"><span class="pre">constr</span></code>, ...
but not for <code class="docutils literal notranslate"><span class="pre">integer</span></code> nor for <code class="docutils literal notranslate"><span class="pre">strategy_level</span></code>.  This
is the reason for introducing special entries
<code class="docutils literal notranslate"><span class="pre">int_or_var</span></code> and <code class="docutils literal notranslate"><span class="pre">strategy_level_or_var</span></code> which
evaluate to integers or strategy levels only,
respectively, but which syntactically includes
identifiers in order to be usable in tactic definitions.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <em>entry</em><code class="docutils literal notranslate"><span class="pre">_list*</span></code> and <code class="docutils literal notranslate"><span class="pre">ne_</span></code><em>entry</em><code class="docutils literal notranslate"><span class="pre">_list*</span></code>
entries can be used in primitive tactics or in other
notations at places where a list of the underlying entry
can be used: entry is either <code class="docutils literal notranslate"><span class="pre">constr</span></code>, <code class="docutils literal notranslate"><span class="pre">hyp</span></code>,
<code class="docutils literal notranslate"><span class="pre">integer</span></code>, <code class="docutils literal notranslate"><span class="pre">reference</span></code>, <code class="docutils literal notranslate"><span class="pre">strategy_level</span></code>,
<code class="docutils literal notranslate"><span class="pre">strategy_level_or_var</span></code>, or <code class="docutils literal notranslate"><span class="pre">int_or_var</span></code>.</p>
</div>
</dd></dl>

<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="and-or-levels"><span class="brackets"><a class="fn-backref" href="#id3">1</a></span></dt>
<dd><p>which are the levels effectively chosen in the current
implementation of Coq</p>
</dd>
<dt class="label" id="no-associativity"><span class="brackets"><a class="fn-backref" href="#id4">2</a></span></dt>
<dd><p>Coq accepts notations declared as nonassociative but the parser on
which Coq is built, namely Camlp5, currently does not implement <code class="docutils literal notranslate"><span class="pre">no</span> <span class="pre">associativity</span></code> and
replaces it with <code class="docutils literal notranslate"><span class="pre">left</span> <span class="pre">associativity</span></code>; hence it is the same for Coq: <code class="docutils literal notranslate"><span class="pre">no</span> <span class="pre">associativity</span></code>
is in fact <code class="docutils literal notranslate"><span class="pre">left</span> <span class="pre">associativity</span></code> for the purposes of parsing</p>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../language/extensions/match.html" class="btn btn-neutral float-left" title="Extended pattern matching" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../language/extensions/arguments-command.html" class="btn btn-neutral float-right" title="Setting properties of a function&#39;s arguments" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 1999-2021, Inria, CNRS and contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  




  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Other versions</span>
      v: 8.18.0
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="https://coq.github.io/doc/master/refman/">dev</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/current/refman/">stable</a></dd>
        
          <dd><a href="https://coq.github.io/doc/v8.18/refman/">8.18</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.17.1/refman/">8.17</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.16.1/refman/">8.16</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.15.2/refman/">8.15</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.14.1/refman/">8.14</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.13.2/refman/">8.13</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.12.2/refman/">8.12</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.11.2/refman/">8.11</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.10.2/refman/">8.10</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.9.1/refman/">8.9</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.8.2/refman/">8.8</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.7.2/refman/">8.7</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.6.1/refman/">8.6</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.5pl3/refman/">8.5</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.4pl6/refman/">8.4</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.3pl5/refman/">8.3</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.2pl3/refman/">8.2</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.1pl6/refman/">8.1</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.0/doc/">8.0</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="https://github.com/coq/coq/releases/download/V8.18.0/coq-8.18.0-reference-manual.pdf">PDF</a></dd>
        
      </dl>
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>