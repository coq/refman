

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Extended pattern matching &mdash; Coq 8.17.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/notations.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/ansi.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/coqdoc.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/notations.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pre-text.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Syntax extensions and notation scopes" href="../../user-extensions/syntax-extensions.html" />
    <link rel="prev" title="Implicit arguments" href="implicit-arguments.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Coq
          

          
          </a>

          
            
            
              <div class="version">
                8.17.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Introduction and Contents</a></li>
</ul>
<p class="caption"><span class="caption-text">Specification language</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../core/index.html">Core language</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../core/basic.html">Basic notions and conventions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../core/basic.html#syntax-and-lexical-conventions">Syntax and lexical conventions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../core/basic.html#syntax-conventions">Syntax conventions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../core/basic.html#lexical-conventions">Lexical conventions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../core/basic.html#essential-vocabulary">Essential vocabulary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/basic.html#settings">Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../core/basic.html#attributes">Attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../core/basic.html#flags-options-and-tables">Flags, Options and Tables</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../core/sorts.html">Sorts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core/assumptions.html">Functions and assumptions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../core/assumptions.html#binders">Binders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/assumptions.html#functions-fun-and-function-types-forall">Functions (fun) and function types (forall)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/assumptions.html#function-application">Function application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/assumptions.html#assumptions">Assumptions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../core/definitions.html">Definitions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../core/definitions.html#let-in-definitions">Let-in definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/definitions.html#type-cast">Type cast</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/definitions.html#top-level-definitions">Top-level definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/definitions.html#assertions-and-proofs">Assertions and proofs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../core/conversion.html">Conversion rules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../core/conversion.html#conversion">α-conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/conversion.html#reduction">β-reduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/conversion.html#delta-reduction-sect">δ-reduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/conversion.html#id4">ι-reduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/conversion.html#id7">ζ-reduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/conversion.html#expansion">η-expansion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/conversion.html#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/conversion.html#proof-irrelevance">Proof Irrelevance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/conversion.html#convertibility">Convertibility</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cic.html">Typing rules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cic.html#the-terms">The terms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cic.html#id6">Typing rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cic.html#subtyping-rules">Subtyping rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cic.html#admissible-rules-for-global-environments">Admissible rules for global environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cic.html#the-calculus-of-inductive-constructions-with-impredicative-set">The Calculus of Inductive Constructions with impredicative Set</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../core/variants.html">Variants and the <code class="docutils literal notranslate"><span class="pre">match</span></code> construct</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../core/variants.html#id1">Variants</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../core/variants.html#private-matching-inductive-types">Private (matching) inductive types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../core/variants.html#definition-by-cases-match">Definition by cases: match</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../core/records.html">Record types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../core/records.html#defining-record-types">Defining record types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/records.html#constructing-records">Constructing records</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/records.html#accessing-fields-projections">Accessing fields (projections)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/records.html#settings-for-printing-records">Settings for printing records</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/records.html#primitive-projections">Primitive Projections</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../core/records.html#reduction">Reduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../core/records.html#compatibility-projections-and-match">Compatibility Projections and <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">match</span></span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../core/inductive.html">Inductive types and recursive functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../core/inductive.html#inductive-types">Inductive types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../core/inductive.html#simple-inductive-types">Simple inductive types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../core/inductive.html#simple-annotated-inductive-types">Simple annotated inductive types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../core/inductive.html#parameterized-inductive-types">Parameterized inductive types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../core/inductive.html#mutually-defined-inductive-types">Mutually defined inductive types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../core/inductive.html#recursive-functions-fix">Recursive functions: fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/inductive.html#top-level-recursive-functions">Top-level recursive functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/inductive.html#theory-of-inductive-definitions">Theory of inductive definitions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../core/inductive.html#types-of-inductive-objects">Types of inductive objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="../core/inductive.html#well-formed-inductive-definitions">Well-formed inductive definitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../core/inductive.html#destructors">Destructors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../core/inductive.html#fixpoint-definitions">Fixpoint definitions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../core/coinductive.html">Coinductive types and corecursive functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../core/coinductive.html#coinductive-types">Coinductive types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../core/coinductive.html#caveat">Caveat</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../core/coinductive.html#co-recursive-functions-cofix">Co-recursive functions: cofix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/coinductive.html#top-level-definitions-of-corecursive-functions">Top-level definitions of corecursive functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../core/sections.html">Section mechanism</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core/modules.html">The Module System</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../core/modules.html#modules-and-module-types">Modules and module types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/modules.html#using-modules">Using modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../core/modules.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../core/modules.html#typing-modules">Typing Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/modules.html#qualified-names">Qualified names</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/modules.html#controlling-the-scope-of-commands-with-locality-attributes">Controlling the scope of commands with locality attributes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../core/primitive.html">Primitive objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../core/primitive.html#primitive-integers">Primitive Integers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/primitive.html#primitive-floats">Primitive Floats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/primitive.html#primitive-arrays">Primitive Arrays</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../addendum/universe-polymorphism.html">Polymorphic Universes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/universe-polymorphism.html#general-presentation">General Presentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/universe-polymorphism.html#polymorphic-monomorphic">Polymorphic, Monomorphic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/universe-polymorphism.html#cumulative-noncumulative">Cumulative, NonCumulative</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/universe-polymorphism.html#specifying-cumulativity">Specifying cumulativity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/universe-polymorphism.html#cumulativity-weak-constraints">Cumulativity Weak Constraints</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/universe-polymorphism.html#global-and-local-universes">Global and local universes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/universe-polymorphism.html#conversion-and-unification">Conversion and unification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/universe-polymorphism.html#minimization">Minimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/universe-polymorphism.html#explicit-universes">Explicit Universes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/universe-polymorphism.html#printing-universes">Printing universes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/universe-polymorphism.html#polymorphic-definitions">Polymorphic definitions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/universe-polymorphism.html#universe-polymorphism-and-sections">Universe polymorphism and sections</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../addendum/sprop.html">SProp (proof irrelevant propositions)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/sprop.html#basic-constructs">Basic constructs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/sprop.html#encodings-for-strict-propositions">Encodings for strict propositions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/sprop.html#definitional-uip">Definitional UIP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/sprop.html#non-termination-with-uip">Non Termination with UIP</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/sprop.html#issues-with-non-cumulativity">Issues with non-cumulativity</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Language extensions</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="evars.html">Existential variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="evars.html#inferable-subterms">Inferable subterms</a></li>
<li class="toctree-l3"><a class="reference internal" href="evars.html#e-tactics-that-can-create-existential-variables">e* tactics that can create existential variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="evars.html#automatic-resolution-of-existential-variables">Automatic resolution of existential variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="evars.html#explicit-display-of-existential-instances-for-pretty-printing">Explicit display of existential instances for pretty-printing</a></li>
<li class="toctree-l3"><a class="reference internal" href="evars.html#solving-existential-variables-using-tactics">Solving existential variables using tactics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="implicit-arguments.html">Implicit arguments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="implicit-arguments.html#the-different-kinds-of-implicit-arguments">The different kinds of implicit arguments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="implicit-arguments.html#implicit-arguments-inferable-from-the-knowledge-of-other-arguments-of-a-function">Implicit arguments inferable from the knowledge of other arguments of a function</a></li>
<li class="toctree-l4"><a class="reference internal" href="implicit-arguments.html#implicit-arguments-inferable-by-resolution">Implicit arguments inferable by resolution</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="implicit-arguments.html#maximal-and-non-maximal-insertion-of-implicit-arguments">Maximal and non-maximal insertion of implicit arguments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="implicit-arguments.html#trailing-implicit-arguments">Trailing Implicit Arguments</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="implicit-arguments.html#casual-use-of-implicit-arguments">Casual use of implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="implicit-arguments.html#declaration-of-implicit-arguments">Declaration of implicit arguments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="implicit-arguments.html#implicit-argument-binders">Implicit Argument Binders</a></li>
<li class="toctree-l4"><a class="reference internal" href="implicit-arguments.html#mode-for-automatic-declaration-of-implicit-arguments">Mode for automatic declaration of implicit arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="implicit-arguments.html#controlling-strict-implicit-arguments">Controlling strict implicit arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="implicit-arguments.html#controlling-contextual-implicit-arguments">Controlling contextual implicit arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="implicit-arguments.html#controlling-reversible-pattern-implicit-arguments">Controlling reversible-pattern implicit arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="implicit-arguments.html#controlling-the-insertion-of-implicit-arguments-not-followed-by-explicit-arguments">Controlling the insertion of implicit arguments not followed by explicit arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="implicit-arguments.html#combining-manual-declaration-and-automatic-declaration">Combining manual declaration and automatic declaration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="implicit-arguments.html#explicit-applications">Explicit applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="implicit-arguments.html#displaying-implicit-arguments">Displaying implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="implicit-arguments.html#displaying-implicit-arguments-when-pretty-printing">Displaying implicit arguments when pretty-printing</a></li>
<li class="toctree-l3"><a class="reference internal" href="implicit-arguments.html#interaction-with-subtyping">Interaction with subtyping</a></li>
<li class="toctree-l3"><a class="reference internal" href="implicit-arguments.html#deactivation-of-implicit-arguments-for-parsing">Deactivation of implicit arguments for parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="implicit-arguments.html#implicit-types-of-variables">Implicit types of variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="implicit-arguments.html#implicit-generalization">Implicit generalization</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Extended pattern matching</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#variants-and-extensions-of-match">Variants and extensions of <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">match</span></span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#multiple-and-nested-pattern-matching">Multiple and nested pattern matching</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pattern-matching-on-boolean-values-the-if-expression">Pattern-matching on boolean values: the if expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="#irrefutable-patterns-the-destructuring-let-variants">Irrefutable patterns: the destructuring let variants</a></li>
<li class="toctree-l4"><a class="reference internal" href="#controlling-pretty-printing-of-match-expressions">Controlling pretty-printing of match expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#conventions-about-unused-pattern-matching-variables">Conventions about unused pattern-matching variables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#patterns">Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multiple-patterns">Multiple patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#aliasing-subpatterns">Aliasing subpatterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nested-patterns">Nested patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#disjunctive-patterns">Disjunctive patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#about-patterns-of-parametric-types">About patterns of parametric types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parameters-in-patterns">Parameters in patterns</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#implicit-arguments-in-patterns">Implicit arguments in patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#matching-objects-of-dependent-types">Matching objects of dependent types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#understanding-dependencies-in-patterns">Understanding dependencies in patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#when-the-elimination-predicate-must-be-provided">When the elimination predicate must be provided</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dependent-pattern-matching">Dependent pattern matching</a></li>
<li class="toctree-l4"><a class="reference internal" href="#multiple-dependent-pattern-matching">Multiple dependent pattern matching</a></li>
<li class="toctree-l4"><a class="reference internal" href="#patterns-in-in">Patterns in <code class="docutils literal notranslate"><span class="pre">in</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#using-pattern-matching-to-write-proofs">Using pattern matching to write proofs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pattern-matching-on-inductive-objects-involving-local-definitions">Pattern-matching on inductive objects involving local definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pattern-matching-and-coercions">Pattern-matching and coercions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#when-does-the-expansion-strategy-fail">When does the expansion strategy fail?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../user-extensions/syntax-extensions.html">Syntax extensions and notation scopes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#notations">Notations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#basic-notations">Basic notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#precedences-and-associativity">Precedences and associativity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#complex-notations">Complex notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#simple-factorization-rules">Simple factorization rules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#use-of-notations-for-printing">Use of notations for printing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#the-infix-command">The Infix command</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#reserving-notations">Reserving notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#simultaneous-definition-of-terms-and-notations">Simultaneous definition of terms and notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#enabling-and-disabling-notations">Enabling and disabling notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#displaying-information-about-notations">Displaying information about notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#locating-notations">Locating notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#inheritance-of-the-properties-of-arguments-of-constants-bound-to-a-notation">Inheritance of the properties of arguments of constants bound to a notation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#notations-and-binders">Notations and binders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#notations-with-recursive-patterns">Notations with recursive patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#notations-with-recursive-patterns-involving-binders">Notations with recursive patterns involving binders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#predefined-entries">Predefined entries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#custom-entries">Custom entries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#syntax">Syntax</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#notation-scopes">Notation scopes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#global-interpretation-rules-for-notations">Global interpretation rules for notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#local-interpretation-rules-for-notations">Local interpretation rules for notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#the-type-scope-notation-scope">The <code class="docutils literal notranslate"><span class="pre">type_scope</span></code> notation scope</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#the-function-scope-notation-scope">The <code class="docutils literal notranslate"><span class="pre">function_scope</span></code> notation scope</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#notation-scopes-used-in-the-standard-library-of-coq">Notation scopes used in the standard library of Coq</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#displaying-information-about-scopes">Displaying information about scopes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#abbreviations">Abbreviations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#numbers-and-strings">Numbers and strings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#number-notations">Number notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#string-notations">String notations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../user-extensions/syntax-extensions.html#tactic-notations">Tactic Notations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="arguments-command.html">Setting properties of a function's arguments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="arguments-command.html#manual-declaration-of-implicit-arguments">Manual declaration of implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="arguments-command.html#automatic-declaration-of-implicit-arguments">Automatic declaration of implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="arguments-command.html#renaming-implicit-arguments">Renaming implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="arguments-command.html#binding-arguments-to-scopes">Binding arguments to scopes</a></li>
<li class="toctree-l3"><a class="reference internal" href="arguments-command.html#effects-of-arguments-on-unfolding">Effects of <code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Arguments</span></code> on unfolding</a></li>
<li class="toctree-l3"><a class="reference internal" href="arguments-command.html#bidirectionality-hints">Bidirectionality hints</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../addendum/implicit-coercions.html">Implicit Coercions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/implicit-coercions.html#general-presentation">General Presentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/implicit-coercions.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/implicit-coercions.html#id1">Coercions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/implicit-coercions.html#reversible-coercions">Reversible Coercions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/implicit-coercions.html#identity-coercions">Identity Coercions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/implicit-coercions.html#inheritance-graph">Inheritance Graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/implicit-coercions.html#declaring-coercions">Declaring Coercions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/implicit-coercions.html#displaying-available-coercions">Displaying Available Coercions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/implicit-coercions.html#activating-the-printing-of-coercions">Activating the Printing of Coercions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/implicit-coercions.html#classes-as-records">Classes as Records</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/implicit-coercions.html#coercions-and-sections">Coercions and Sections</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/implicit-coercions.html#coercions-and-modules">Coercions and Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/implicit-coercions.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../addendum/type-classes.html">Typeclasses</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/type-classes.html#class-and-instance-declarations">Class and Instance declarations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/type-classes.html#binding-classes">Binding classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/type-classes.html#parameterized-instances">Parameterized Instances</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/type-classes.html#sections-and-contexts">Sections and contexts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/type-classes.html#building-hierarchies">Building hierarchies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/type-classes.html#superclasses">Superclasses</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/type-classes.html#substructures">Substructures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/type-classes.html#summary-of-the-commands">Summary of the commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/type-classes.html#typeclasses-transparent-typeclasses-opaque">Typeclasses Transparent, Typeclasses Opaque</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/type-classes.html#settings">Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/type-classes.html#typeclasses-eauto">Typeclasses eauto</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="canonical.html">Canonical Structures</a><ul>
<li class="toctree-l3"><a class="reference internal" href="canonical.html#declaration-of-canonical-structures">Declaration of canonical structures</a></li>
<li class="toctree-l3"><a class="reference internal" href="canonical.html#notation-overloading">Notation overloading</a><ul>
<li class="toctree-l4"><a class="reference internal" href="canonical.html#derived-canonical-structures">Derived Canonical Structures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="canonical.html#hierarchy-of-structures">Hierarchy of structures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="canonical.html#compact-declaration-of-canonical-structures">Compact declaration of Canonical Structures</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../addendum/program.html">Program</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/program.html#elaborating-programs">Elaborating programs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/program.html#syntactic-control-over-equalities">Syntactic control over equalities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/program.html#program-definition">Program Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/program.html#program-fixpoint">Program Fixpoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/program.html#program-lemma">Program Lemma</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/program.html#solving-obligations">Solving obligations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/program.html#frequently-asked-questions">Frequently Asked Questions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../proof-engine/vernacular-commands.html">Commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/vernacular-commands.html#displaying">Displaying</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/vernacular-commands.html#query-commands">Query commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/vernacular-commands.html#requests-to-the-environment">Requests to the environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/vernacular-commands.html#printing-flags">Printing flags</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/vernacular-commands.html#loading-files">Loading files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/vernacular-commands.html#compiled-files">Compiled files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/vernacular-commands.html#load-paths">Load paths</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/vernacular-commands.html#extra-dependencies">Extra Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/vernacular-commands.html#backtracking">Backtracking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/vernacular-commands.html#quitting-and-debugging">Quitting and debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/vernacular-commands.html#controlling-display">Controlling display</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/vernacular-commands.html#printing-constructions-in-full">Printing constructions in full</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/vernacular-commands.html#controlling-typing-flags">Controlling Typing Flags</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/vernacular-commands.html#internal-registration-commands">Internal registration commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/vernacular-commands.html#exposing-constants-to-ocaml-libraries">Exposing constants to OCaml libraries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/vernacular-commands.html#inlining-hints-for-the-fast-reduction-machines">Inlining hints for the fast reduction machines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/vernacular-commands.html#registering-primitive-operations">Registering primitive operations</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Proofs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../proofs/writing-proofs/index.html">Basic proof writing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../proofs/writing-proofs/proof-mode.html">Proof mode</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/proof-mode.html#proof-state">Proof State</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/proof-mode.html#entering-and-exiting-proof-mode">Entering and exiting proof mode</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proofs/writing-proofs/proof-mode.html#proof-using-options">Proof using options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proofs/writing-proofs/proof-mode.html#name-a-set-of-section-hypotheses-for-proof-using">Name a set of section hypotheses for <code class="docutils literal notranslate"><span class="pre">Proof</span> <span class="pre">using</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/proof-mode.html#proof-modes">Proof modes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/proof-mode.html#managing-goals">Managing goals</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proofs/writing-proofs/proof-mode.html#focusing-goals">Focusing goals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proofs/writing-proofs/proof-mode.html#shelving-goals">Shelving goals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proofs/writing-proofs/proof-mode.html#reordering-goals">Reordering goals</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/proof-mode.html#proving-a-subgoal-as-a-separate-lemma-abstract">Proving a subgoal as a separate lemma: abstract</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/proof-mode.html#requesting-information">Requesting information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/proof-mode.html#showing-differences-between-proof-steps">Showing differences between proof steps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proofs/writing-proofs/proof-mode.html#how-to-enable-diffs">How to enable diffs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proofs/writing-proofs/proof-mode.html#how-diffs-are-calculated">How diffs are calculated</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proofs/writing-proofs/proof-mode.html#show-proof-differences">&quot;Show Proof&quot; differences</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/proof-mode.html#delaying-solving-unification-constraints">Delaying solving unification constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/proof-mode.html#proof-maintenance">Proof maintenance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/proof-mode.html#controlling-proof-mode">Controlling proof mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/proof-mode.html#controlling-memory-usage">Controlling memory usage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../proof-engine/tactics.html">Tactics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/tactics.html#common-elements-of-tactics">Common elements of tactics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/tactics.html#reserved-keywords">Reserved keywords</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/tactics.html#invocation-of-tactics">Invocation of tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/tactics.html#bindings">Bindings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/tactics.html#intro-patterns">Intro patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/tactics.html#occurrence-clauses">Occurrence clauses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/tactics.html#applying-theorems">Applying theorems</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/tactics.html#managing-the-local-context">Managing the local context</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/tactics.html#controlling-the-proof-flow">Controlling the proof flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/tactics.html#classical-tactics">Classical tactics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/tactics.html#performance-oriented-tactic-variants">Performance-oriented tactic variants</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../proofs/writing-proofs/equality.html">Reasoning with equalities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/equality.html#tactics-for-simple-equalities">Tactics for simple equalities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/equality.html#rewriting-with-leibniz-and-setoid-equality">Rewriting with Leibniz and setoid equality</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/equality.html#rewriting-with-definitional-equality">Rewriting with definitional equality</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/equality.html#applying-conversion-rules">Applying conversion rules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proofs/writing-proofs/equality.html#fast-reduction-tactics-vm-compute-and-native-compute">Fast reduction tactics: vm_compute and native_compute</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proofs/writing-proofs/equality.html#computing-in-a-term-eval-and-eval">Computing in a term: eval and Eval</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/equality.html#controlling-reduction-strategies-and-the-conversion-algorithm">Controlling reduction strategies and the conversion algorithm</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../proofs/writing-proofs/reasoning-inductives.html">Reasoning with inductive types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/reasoning-inductives.html#applying-constructors">Applying constructors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/reasoning-inductives.html#case-analysis">Case analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/reasoning-inductives.html#induction">Induction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/reasoning-inductives.html#equality-of-inductive-types">Equality of inductive types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proofs/writing-proofs/reasoning-inductives.html#helper-tactics">Helper tactics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/reasoning-inductives.html#generation-of-induction-principles-with-scheme">Generation of induction principles with <code class="docutils literal notranslate"><span class="pre">Scheme</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proofs/writing-proofs/reasoning-inductives.html#automatic-declaration-of-schemes">Automatic declaration of schemes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proofs/writing-proofs/reasoning-inductives.html#combined-scheme">Combined Scheme</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/reasoning-inductives.html#generation-of-inversion-principles-with-derive-inversion">Generation of inversion principles with <code class="docutils literal notranslate"><span class="pre">Derive</span></code> <code class="docutils literal notranslate"><span class="pre">Inversion</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/writing-proofs/reasoning-inductives.html#examples-of-dependent-destruction-dependent-induction">Examples of <code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">dependent</span> <span class="pre">destruction</span></code> / <code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">dependent</span> <span class="pre">induction</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proofs/writing-proofs/reasoning-inductives.html#a-larger-example">A larger example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html">The <span class="smallcaps">SSReflect</span> proof language</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#introduction">Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#acknowledgments">Acknowledgments</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#usage">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#getting-started">Getting started</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#compatibility-issues">Compatibility issues</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#gallina-extensions">Gallina extensions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#pattern-assignment">Pattern assignment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#pattern-conditional">Pattern conditional</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#parametric-polymorphism">Parametric polymorphism</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#anonymous-arguments">Anonymous arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#wildcards">Wildcards</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#definitions">Definitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#abbreviations">Abbreviations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#basic-localization">Basic localization</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#basic-tactics">Basic tactics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#bookkeeping">Bookkeeping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#the-defective-tactics">The defective tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#discharge">Discharge</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#introduction-in-the-context">Introduction in the context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#generation-of-equations">Generation of equations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#type-families">Type families</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#control-flow">Control flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#indentation-and-bullets">Indentation and bullets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#terminators">Terminators</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#selectors">Selectors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#iteration">Iteration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#localization">Localization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#structure">Structure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#rewriting">Rewriting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#an-extended-rewrite-tactic">An extended rewrite tactic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#remarks-and-examples">Remarks and examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#rewriting-under-binders">Rewriting under binders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#locking-unlocking">Locking, unlocking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#congruence">Congruence</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#contextual-patterns">Contextual patterns</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#syntax">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#matching-contextual-patterns">Matching contextual patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#patterns-for-recurrent-contexts">Patterns for recurrent contexts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#views-and-reflection">Views and reflection</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#interpreting-eliminations">Interpreting eliminations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#interpreting-assumptions">Interpreting assumptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#interpreting-goals">Interpreting goals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#boolean-reflection">Boolean reflection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#the-reflect-predicate">The reflect predicate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#general-mechanism-for-interpreting-goals-and-assumptions">General mechanism for interpreting goals and assumptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#interpreting-equivalences">Interpreting equivalences</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#declaring-new-hint-views">Declaring new Hint Views</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#multiple-views">Multiple views</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#synopsis-and-index">Synopsis and Index</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#items-and-switches">Items and switches</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#tactics">Tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#tacticals">Tacticals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#commands">Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ssreflect-proof-language.html#settings">Settings</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../proofs/automatic-tactics/index.html">Automatic solvers and programmable tactics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../proofs/automatic-tactics/logic.html">Solvers for logic and equality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../addendum/micromega.html">Micromega: solvers for arithmetic goals over ordered rings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/micromega.html#short-description-of-the-tactics">Short description of the tactics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/micromega.html#positivstellensatz-refutations"><em>Positivstellensatz</em> refutations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/micromega.html#lra-a-decision-procedure-for-linear-real-and-rational-arithmetic"><code class="docutils literal notranslate"><span class="pre">lra</span></code>: a decision procedure for linear real and rational arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/micromega.html#lia-a-tactic-for-linear-integer-arithmetic"><code class="docutils literal notranslate"><span class="pre">lia</span></code>: a tactic for linear integer arithmetic</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/micromega.html#high-level-view-of-lia">High level view of <code class="docutils literal notranslate"><span class="pre">lia</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/micromega.html#cutting-plane-proofs">Cutting plane proofs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/micromega.html#case-split">Case split</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/micromega.html#nra-a-proof-procedure-for-non-linear-arithmetic"><code class="docutils literal notranslate"><span class="pre">nra</span></code>: a proof procedure for non-linear arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/micromega.html#nia-a-proof-procedure-for-non-linear-integer-arithmetic"><code class="docutils literal notranslate"><span class="pre">nia</span></code>: a proof procedure for non-linear integer arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/micromega.html#psatz-a-proof-procedure-for-non-linear-arithmetic"><code class="docutils literal notranslate"><span class="pre">psatz</span></code>: a proof procedure for non-linear arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/micromega.html#zify-pre-processing-of-arithmetic-goals"><code class="docutils literal notranslate"><span class="pre">zify</span></code>: pre-processing of arithmetic goals</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../addendum/ring.html">ring and field: solvers for polynomial and rational equations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/ring.html#what-does-this-tactic-do">What does this tactic do?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/ring.html#the-variables-map">The variables map</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/ring.html#is-it-automatic">Is it automatic?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/ring.html#concrete-usage-in-coq">Concrete usage in Coq</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/ring.html#adding-a-ring-structure">Adding a ring structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/ring.html#how-does-it-work">How does it work?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/ring.html#dealing-with-fields">Dealing with fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/ring.html#adding-a-new-field-structure">Adding a new field structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/ring.html#history-of-ring">History of ring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/ring.html#discussion">Discussion</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../addendum/nsatz.html">Nsatz: a solver for equalities in integral domains</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/nsatz.html#more-about-nsatz">More about <code class="docutils literal notranslate"><span class="pre">nsatz</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../proofs/automatic-tactics/auto.html">Programmable proof search</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/automatic-tactics/auto.html#hint-databases">Hint databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/automatic-tactics/auto.html#creating-hint-databases">Creating Hint databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/automatic-tactics/auto.html#creating-hints">Creating Hints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/automatic-tactics/auto.html#hint-databases-defined-in-the-coq-standard-library">Hint databases defined in the Coq standard library</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/automatic-tactics/auto.html#hint-locality">Hint locality</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proofs/automatic-tactics/auto.html#setting-implicit-automation-tactics">Setting implicit automation tactics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../addendum/generalized-rewriting.html">Generalized rewriting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/generalized-rewriting.html#introduction-to-generalized-rewriting">Introduction to generalized rewriting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/generalized-rewriting.html#relations-and-morphisms">Relations and morphisms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/generalized-rewriting.html#adding-new-relations-and-morphisms">Adding new relations and morphisms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/generalized-rewriting.html#rewriting-and-nonreflexive-relations">Rewriting and nonreflexive relations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/generalized-rewriting.html#rewriting-and-nonsymmetric-relations">Rewriting and nonsymmetric relations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/generalized-rewriting.html#rewriting-in-ambiguous-setoid-contexts">Rewriting in ambiguous setoid contexts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/generalized-rewriting.html#rewriting-with-type-valued-relations">Rewriting with <code class="docutils literal notranslate"><span class="pre">Type</span></code> valued relations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/generalized-rewriting.html#declaring-rewrite-relations">Declaring rewrite relations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/generalized-rewriting.html#commands-and-tactics">Commands and tactics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/generalized-rewriting.html#first-class-setoids-and-morphisms">First class setoids and morphisms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/generalized-rewriting.html#tactics-enabled-on-user-provided-relations">Tactics enabled on user provided relations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/generalized-rewriting.html#printing-relations-and-morphisms">Printing relations and morphisms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/generalized-rewriting.html#deprecated-syntax-and-backward-incompatibilities">Deprecated syntax and backward incompatibilities</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/generalized-rewriting.html#extensions">Extensions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/generalized-rewriting.html#rewriting-under-binders">Rewriting under binders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/generalized-rewriting.html#subrelations">Subrelations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/generalized-rewriting.html#constant-unfolding">Constant unfolding</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/generalized-rewriting.html#strategies-for-rewriting">Strategies for rewriting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/generalized-rewriting.html#usage">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/generalized-rewriting.html#definitions">Definitions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../proofs/creating-tactics/index.html">Creating new tactics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../proof-engine/ltac.html">Ltac</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac.html#syntax">Syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac.html#values">Values</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#syntactic-values">Syntactic values</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#substitution">Substitution</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#local-definitions-let">Local definitions: let</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#function-construction-and-application">Function construction and application</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#tactics-in-terms">Tactics in terms</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac.html#goal-selectors">Goal selectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac.html#processing-multiple-goals">Processing multiple goals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac.html#branching-and-backtracking">Branching and backtracking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac.html#control-flow">Control flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#sequence">Sequence: ;</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#do-loop">Do loop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#repeat-loop">Repeat loop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#catching-errors-try">Catching errors: try</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#conditional-branching-tryif">Conditional branching: tryif</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac.html#alternatives">Alternatives</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#branching-with-backtracking">Branching with backtracking: +</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#local-application-of-tactics">Local application of tactics: [&gt; ... ]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#first-tactic-to-succeed">First tactic to succeed</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#solving">Solving</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#first-tactic-to-make-progress">First tactic to make progress: ||</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#detecting-progress">Detecting progress</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac.html#success-and-failure">Success and failure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#checking-for-success-assert-succeeds">Checking for success: assert_succeeds</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#checking-for-failure-assert-fails">Checking for failure: assert_fails</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#failing">Failing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#soft-cut-once">Soft cut: once</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#checking-for-a-single-success-exactly-once">Checking for a single success: exactly_once</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac.html#manipulating-values">Manipulating values</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#pattern-matching-on-terms-match">Pattern matching on terms: match</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#pattern-matching-on-goals-and-hypotheses-match-goal">Pattern matching on goals and hypotheses: match goal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#filling-a-term-context">Filling a term context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#generating-fresh-hypothesis-names">Generating fresh hypothesis names</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#computing-in-a-term-eval">Computing in a term: eval</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#getting-the-type-of-a-term">Getting the type of a term</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#manipulating-untyped-terms-type-term">Manipulating untyped terms: type_term</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#counting-goals-numgoals">Counting goals: numgoals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#testing-boolean-expressions-guard">Testing boolean expressions: guard</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#checking-properties-of-terms">Checking properties of terms</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac.html#timing">Timing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#timeout">Timeout</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#timing-a-tactic">Timing a tactic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#timing-a-tactic-that-evaluates-to-a-term-time-constr">Timing a tactic that evaluates to a term: time_constr</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac.html#print-identity-tactic-idtac">Print/identity tactic: idtac</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac.html#tactic-toplevel-definitions">Tactic toplevel definitions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#defining-ltac-symbols">Defining <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub> symbols</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#printing-ltac-tactics">Printing <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub> tactics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac.html#examples-of-using-ltac">Examples of using <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#proof-that-the-natural-numbers-have-at-least-two-elements">Proof that the natural numbers have at least two elements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#proving-that-a-list-is-a-permutation-of-a-second-list">Proving that a list is a permutation of a second list</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#deciding-intuitionistic-propositional-logic">Deciding intuitionistic propositional logic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#deciding-type-isomorphisms">Deciding type isomorphisms</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac.html#debugging-ltac-tactics">Debugging <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub> tactics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#backtraces">Backtraces</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#tracing-execution">Tracing execution</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#interactive-debugger">Interactive debugger</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#profiling-ltac-tactics">Profiling <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub> tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac.html#run-time-optimization-tactic">Run-time optimization tactic</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../proof-engine/ltac2.html">Ltac2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac2.html#general-design">General design</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac2.html#ml-component">ML component</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#type-syntax">Type Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#type-declarations">Type declarations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#apis">APIs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#term-syntax">Term Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#ltac2-definitions">Ltac2 Definitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#printing-ltac2-tactics">Printing Ltac2 tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#reduction">Reduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#typing">Typing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#effects">Effects</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac2.html#meta-programming">Meta-programming</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#id3">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#quotations">Quotations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#term-antiquotations">Term Antiquotations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#match-over-terms">Match over terms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#match-over-goals">Match over goals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#match-on-values">Match on values</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac2.html#notations">Notations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#abbreviations">Abbreviations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#defining-tactics">Defining tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#syntactic-classes">Syntactic classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac2.html#evaluation">Evaluation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac2.html#debug">Debug</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac2.html#compatibility-layer-with-ltac1">Compatibility layer with Ltac1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#ltac1-from-ltac2">Ltac1 from Ltac2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#ltac2-from-ltac1">Ltac2 from Ltac1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#switching-between-ltac-languages">Switching between Ltac languages</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../proof-engine/ltac2.html#transition-from-ltac1">Transition from Ltac1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#syntax-changes">Syntax changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#tactic-delay">Tactic delay</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#variable-binding">Variable binding</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proof-engine/ltac2.html#exception-catching">Exception catching</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Using Coq</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../using/libraries/index.html">Libraries and plugins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../coq-library.html">The Coq library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../coq-library.html#the-prelude">The prelude</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../coq-library.html#notations">Notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../coq-library.html#logic">Logic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../coq-library.html#datatypes">Datatypes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../coq-library.html#specification">Specification</a></li>
<li class="toctree-l4"><a class="reference internal" href="../coq-library.html#basic-arithmetic">Basic Arithmetic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../coq-library.html#well-founded-recursion">Well-founded recursion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../coq-library.html#accessing-the-type-level">Accessing the Type level</a></li>
<li class="toctree-l4"><a class="reference internal" href="../coq-library.html#tactics">Tactics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../coq-library.html#the-standard-library">The standard library</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../coq-library.html#survey">Survey</a></li>
<li class="toctree-l4"><a class="reference internal" href="../coq-library.html#peanos-arithmetic-nat">Peano’s arithmetic (nat)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../coq-library.html#notations-for-integer-arithmetic">Notations for integer arithmetic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../coq-library.html#real-numbers-library">Real numbers library</a></li>
<li class="toctree-l4"><a class="reference internal" href="../coq-library.html#list-library">List library</a></li>
<li class="toctree-l4"><a class="reference internal" href="../coq-library.html#floats-library">Floats library</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../coq-library.html#users-contributions">Users’ contributions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../addendum/extraction.html">Program extraction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/extraction.html#generating-ml-code">Generating ML Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/extraction.html#extraction-options">Extraction Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/extraction.html#setting-the-target-language">Setting the target language</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/extraction.html#inlining-and-optimizations">Inlining and optimizations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/extraction.html#extra-elimination-of-useless-arguments">Extra elimination of useless arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/extraction.html#realizing-axioms">Realizing axioms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/extraction.html#realizing-inductive-types">Realizing inductive types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/extraction.html#avoiding-conflicts-with-existing-filenames">Avoiding conflicts with existing filenames</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/extraction.html#additional-settings">Additional settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/extraction.html#differences-between-coq-and-ml-type-systems">Differences between Coq and ML type systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/extraction.html#some-examples">Some examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/extraction.html#a-detailed-example-euclidean-division">A detailed example: Euclidean division</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/extraction.html#extraction-s-horror-museum">Extraction's horror museum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/extraction.html#users-contributions">Users' Contributions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../addendum/miscellaneous-extensions.html">Program derivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../using/libraries/funind.html">Functional induction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../using/libraries/funind.html#advanced-recursive-functions">Advanced recursive functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../using/libraries/funind.html#tactics">Tactics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../using/libraries/funind.html#generation-of-induction-principles-with-functional-scheme">Generation of induction principles with <code class="docutils literal notranslate"><span class="pre">Functional</span></code> <code class="docutils literal notranslate"><span class="pre">Scheme</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../using/libraries/writing.html">Writing Coq libraries and plugins</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../using/libraries/writing.html#deprecating-library-objects-or-tactics">Deprecating library objects or tactics</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../using/tools/index.html">Command-line and graphical tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../practical-tools/utilities.html">Building Coq Projects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/utilities.html#coq-configuration-basics">Coq configuration basics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../practical-tools/utilities.html#installing-coq-and-coq-packages-with-opam">Installing Coq and Coq packages with opam</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../practical-tools/utilities.html#setup-for-working-on-your-own-projects">Setup for working on your own projects</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../practical-tools/utilities.html#building-a-project-with-coqproject-overview">Building a project with _CoqProject (overview)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../practical-tools/utilities.html#logical-paths-and-the-load-path">Logical paths and the load path</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../practical-tools/utilities.html#modifying-multiple-interdependent-projects-at-the-same-time">Modifying multiple interdependent projects at the same time</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../practical-tools/utilities.html#installed-and-uninstalled-packages">Installed and uninstalled packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../practical-tools/utilities.html#upgrading-to-a-new-version-of-coq">Upgrading to a new version of Coq</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/utilities.html#building-a-coq-project-with-coq-makefile-details">Building a Coq project with coq_makefile (details)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../practical-tools/utilities.html#comments">Comments</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/utilities.html#building-a-coq-project-with-dune">Building a Coq project with Dune</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/utilities.html#coqdep-computing-module-dependencies">coqdep: Computing Module dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/utilities.html#split-compilation-of-native-computation-files">Split compilation of native computation files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/utilities.html#using-coq-as-a-library">Using Coq as a library</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/utilities.html#embedded-coq-phrases-inside-latex-documents">Embedded Coq phrases inside <span class="smallcaps">LaTeX</span> documents</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/utilities.html#man-pages">Man pages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../practical-tools/coq-commands.html">Coq commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/coq-commands.html#interactive-use-coqtop">Interactive use (coqtop)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/coq-commands.html#batch-compilation-coqc">Batch compilation (coqc)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/coq-commands.html#customization-at-launch-time">Customization at launch time</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/coq-commands.html#command-parameters">Command parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../practical-tools/coq-commands.html#coqrc-start-up-script"><code class="docutils literal notranslate"><span class="pre">coqrc</span></code> start up script</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../practical-tools/coq-commands.html#environment-variables">Environment variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../practical-tools/coq-commands.html#command-line-options">Command line options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/coq-commands.html#compiled-interfaces-produced-using-vos">Compiled interfaces (produced using <code class="docutils literal notranslate"><span class="pre">-vos</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/coq-commands.html#compiled-libraries-checker-coqchk">Compiled libraries checker (coqchk)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../using/tools/coqdoc.html">Documenting Coq files with coqdoc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../using/tools/coqdoc.html#principles">Principles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../using/tools/coqdoc.html#coq-material-inside-documentation">Coq material inside documentation.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../using/tools/coqdoc.html#pretty-printing">Pretty-printing.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../using/tools/coqdoc.html#sections">Sections</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../using/tools/coqdoc.html#lists">Lists.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../using/tools/coqdoc.html#rules">Rules.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../using/tools/coqdoc.html#emphasis">Emphasis.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../using/tools/coqdoc.html#escaping-to-latex-and-html">Escaping to <span class="smallcaps">LaTeX</span> and HTML.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../using/tools/coqdoc.html#verbatim">Verbatim</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../using/tools/coqdoc.html#hyperlinks">Hyperlinks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../using/tools/coqdoc.html#hiding-showing-parts-of-the-source">Hiding / Showing parts of the source</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../using/tools/coqdoc.html#usage">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../using/tools/coqdoc.html#command-line-options">Command line options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../using/tools/coqdoc.html#the-coqdoc-latex-style-file">The coqdoc <span class="smallcaps">LaTeX</span> style file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../practical-tools/coqide.html">CoqIDE</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/coqide.html#managing-files-and-buffers-basic-editing">Managing files and buffers, basic editing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/coqide.html#running-coq-scripts">Running Coq scripts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/coqide.html#asynchronous-mode">Asynchronous mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/coqide.html#commands-and-templates">Commands and templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/coqide.html#queries">Queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/coqide.html#compilation">Compilation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/coqide.html#customizations">Customizations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../practical-tools/coqide.html#preferences">Preferences</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../practical-tools/coqide.html#key-bindings">Key bindings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/coqide.html#using-unicode-symbols">Using Unicode symbols</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../practical-tools/coqide.html#displaying-unicode-symbols">Displaying Unicode symbols</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../practical-tools/coqide.html#bindings-for-input-of-unicode-symbols">Bindings for input of Unicode symbols</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../practical-tools/coqide.html#adding-custom-bindings">Adding custom bindings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../practical-tools/coqide.html#character-encoding-for-saved-files">Character encoding for saved files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../practical-tools/coqide.html#debugger">Debugger</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../practical-tools/coqide.html#breakpoints">Breakpoints</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../practical-tools/coqide.html#call-stack-and-variables">Call Stack and Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../practical-tools/coqide.html#supported-use-cases">Supported use cases</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../addendum/parallel-proof-processing.html">Asynchronous and Parallel Proof Processing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/parallel-proof-processing.html#proof-annotations">Proof annotations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/parallel-proof-processing.html#automatic-suggestion-of-proof-annotations">Automatic suggestion of proof annotations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/parallel-proof-processing.html#proof-blocks-and-error-resilience">Proof blocks and error resilience</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/parallel-proof-processing.html#caveats">Caveats</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/parallel-proof-processing.html#interactive-mode">Interactive mode</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../addendum/parallel-proof-processing.html#id3">Caveats</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/parallel-proof-processing.html#batch-mode">Batch mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../addendum/parallel-proof-processing.html#limiting-the-number-of-parallel-workers">Limiting the number of parallel workers</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/history-and-changes/index.html">History and recent changes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../history.html">Early history of Coq</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../history.html#historical-roots">Historical roots</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../history.html#versions-1-to-5">Versions 1 to 5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../history.html#version-1">Version 1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../history.html#version-2">Version 2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../history.html#version-3">Version 3</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../history.html#version-4">Version 4</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../history.html#version-5">Version 5</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../history.html#versions-6">Versions 6</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../history.html#version-6-1">Version 6.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../history.html#version-6-2">Version 6.2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../history.html#version-6-3">Version 6.3</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../history.html#versions-7">Versions 7</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../history.html#summary-of-changes">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../history.html#details-of-changes-in-7-0-and-7-1">Details of changes in 7.0 and 7.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../history.html#details-of-changes-in-7-2">Details of changes in 7.2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../history.html#details-of-changes-in-7-3">Details of changes in 7.3</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../history.html#details-of-changes-in-7-4">Details of changes in 7.4</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changes.html">Recent changes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changes.html#version-8-17">Version 8.17</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#summary-of-changes">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-17-0">Changes in 8.17.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-17-1">Changes in 8.17.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../changes.html#version-8-16">Version 8.16</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#id154">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-16-0">Changes in 8.16.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-16-1">Changes in 8.16.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../changes.html#version-8-15">Version 8.15</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#id316">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-15-0">Changes in 8.15.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-15-1">Changes in 8.15.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-15-2">Changes in 8.15.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../changes.html#version-8-14">Version 8.14</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#id544">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-14-0">Changes in 8.14.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-14-1">Changes in 8.14.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../changes.html#version-8-13">Version 8.13</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#id740">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-13-beta1">Changes in 8.13+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-13-0">Changes in 8.13.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-13-1">Changes in 8.13.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-13-2">Changes in 8.13.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../changes.html#version-8-12">Version 8.12</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#id904">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-12-beta1">Changes in 8.12+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-12-0">Changes in 8.12.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-12-1">Changes in 8.12.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-12-2">Changes in 8.12.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../changes.html#version-8-11">Version 8.11</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#id1210">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-11-beta1">Changes in 8.11+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-11-0">Changes in 8.11.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-11-1">Changes in 8.11.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-11-2">Changes in 8.11.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../changes.html#version-8-10">Version 8.10</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#id1348">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#other-changes-in-8-10-beta1">Other changes in 8.10+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-10-beta2">Changes in 8.10+beta2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-10-beta3">Changes in 8.10+beta3</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-10-0">Changes in 8.10.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-10-1">Changes in 8.10.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-10-2">Changes in 8.10.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../changes.html#version-8-9">Version 8.9</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#id1495">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-9-beta1">Details of changes in 8.9+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-8-0">Changes in 8.8.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#changes-in-8-8-1">Changes in 8.8.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../changes.html#version-8-8">Version 8.8</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#id1497">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-8-beta1">Details of changes in 8.8+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-8-0">Details of changes in 8.8.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-8-1">Details of changes in 8.8.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-8-2">Details of changes in 8.8.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../changes.html#version-8-7">Version 8.7</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#id1498">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#potential-compatibility-issues">Potential compatibility issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-7-beta1">Details of changes in 8.7+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-7-beta2">Details of changes in 8.7+beta2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-7-0">Details of changes in 8.7.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-7-1">Details of changes in 8.7.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-7-2">Details of changes in 8.7.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../changes.html#version-8-6">Version 8.6</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#id1499">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#potential-sources-of-incompatibilities">Potential sources of incompatibilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-6beta1">Details of changes in 8.6beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-6">Details of changes in 8.6</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-6-1">Details of changes in 8.6.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../changes.html#version-8-5">Version 8.5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#id1500">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#id1501">Potential sources of incompatibilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-5beta1">Details of changes in 8.5beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-5beta2">Details of changes in 8.5beta2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-5beta3">Details of changes in 8.5beta3</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-5">Details of changes in 8.5</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-5pl1">Details of changes in 8.5pl1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-5pl2">Details of changes in 8.5pl2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-5pl3">Details of changes in 8.5pl3</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../changes.html#version-8-4">Version 8.4</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#id1502">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#id1504">Potential sources of incompatibilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-4beta">Details of changes in 8.4beta</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-4beta2">Details of changes in 8.4beta2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-4">Details of changes in 8.4</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../changes.html#version-8-3">Version 8.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#id1505">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes">Details of changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../changes.html#version-8-2">Version 8.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#id1506">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#id1507">Details of changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../changes.html#version-8-1">Version 8.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#id1508">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-1beta">Details of changes in 8.1beta</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-1gamma">Details of changes in 8.1gamma</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-1">Details of changes in 8.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../changes.html#version-8-0">Version 8.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#id1509">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-0beta-old-syntax">Details of changes in 8.0beta old syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-0beta-new-syntax">Details of changes in 8.0beta new syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changes.html#details-of-changes-in-8-0">Details of changes in 8.0</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/indexes/index.html">Indexes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../std-glossindex.html">Glossary index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../coq-cmdindex.html">Command index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../coq-tacindex.html">Tactic index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../coq-attrindex.html">Attribute index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../coq-optindex.html">Flags, options and tables index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../coq-exnindex.html">Errors and warnings index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../genindex.html">General index</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../zebibliography.html">Bibliography</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Coq</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Language extensions</a> &raquo;</li>
        
      <li>Extended pattern matching</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/coq/coq/blob/master/doc/sphinx/language/extensions/match.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="math-preamble math notranslate nohighlight">
\[\begin{split}\newcommand{\as}{\kw{as}}
\newcommand{\case}{\kw{case}}
\newcommand{\cons}{\textsf{cons}}
\newcommand{\consf}{\textsf{consf}}
\newcommand{\emptyf}{\textsf{emptyf}}
\newcommand{\End}{\kw{End}}
\newcommand{\kwend}{\kw{end}}
\newcommand{\even}{\textsf{even}}
\newcommand{\evenO}{\textsf{even}_\textsf{O}}
\newcommand{\evenS}{\textsf{even}_\textsf{S}}
\newcommand{\Fix}{\kw{Fix}}
\newcommand{\fix}{\kw{fix}}
\newcommand{\for}{\textsf{for}}
\newcommand{\forest}{\textsf{forest}}
\newcommand{\Functor}{\kw{Functor}}
\newcommand{\In}{\kw{in}}
\newcommand{\ind}[3]{\kw{Ind}~[#1]\left(#2\mathrm{~:=~}#3\right)}
\newcommand{\Indp}[4]{\kw{Ind}_{#4}[#1](#2:=#3)}
\newcommand{\Indpstr}[5]{\kw{Ind}_{#4}[#1](#2:=#3)/{#5}}
\newcommand{\injective}{\kw{injective}}
\newcommand{\kw}[1]{\textsf{#1}}
\newcommand{\length}{\textsf{length}}
\newcommand{\letin}[3]{\kw{let}~#1:=#2~\kw{in}~#3}
\newcommand{\List}{\textsf{list}}
\newcommand{\lra}{\longrightarrow}
\newcommand{\Match}{\kw{match}}
\newcommand{\Mod}[3]{{\kw{Mod}}({#1}:{#2}\,\zeroone{:={#3}})}
\newcommand{\ModImp}[3]{{\kw{Mod}}({#1}:{#2}:={#3})}
\newcommand{\ModA}[2]{{\kw{ModA}}({#1}=={#2})}
\newcommand{\ModS}[2]{{\kw{Mod}}({#1}:{#2})}
\newcommand{\ModType}[2]{{\kw{ModType}}({#1}:={#2})}
\newcommand{\mto}{.\;}
\newcommand{\nat}{\textsf{nat}}
\newcommand{\Nil}{\textsf{nil}}
\newcommand{\nilhl}{\textsf{nil\_hl}}
\newcommand{\nO}{\textsf{O}}
\newcommand{\node}{\textsf{node}}
\newcommand{\nS}{\textsf{S}}
\newcommand{\odd}{\textsf{odd}}
\newcommand{\oddS}{\textsf{odd}_\textsf{S}}
\newcommand{\ovl}[1]{\overline{#1}}
\newcommand{\Pair}{\textsf{pair}}
\newcommand{\plus}{\mathsf{plus}}
\newcommand{\SProp}{\textsf{SProp}}
\newcommand{\Prop}{\textsf{Prop}}
\newcommand{\return}{\kw{return}}
\newcommand{\Set}{\textsf{Set}}
\newcommand{\Sort}{\mathcal{S}}
\newcommand{\Str}{\textsf{Stream}}
\newcommand{\Struct}{\kw{Struct}}
\newcommand{\subst}[3]{#1\{#2/#3\}}
\newcommand{\tl}{\textsf{tl}}
\newcommand{\tree}{\textsf{tree}}
\newcommand{\trii}{\triangleright_\iota}
\newcommand{\Type}{\textsf{Type}}
\newcommand{\WEV}[3]{\mbox{$#1[] \vdash #2 \lra  #3$}}
\newcommand{\WEVT}[3]{\mbox{$#1[] \vdash #2 \lra$}\\ \mbox{$ #3$}}
\newcommand{\WF}[2]{{\mathcal{W\!F}}(#1)[#2]}
\newcommand{\WFE}[1]{\WF{E}{#1}}
\newcommand{\WFT}[2]{#1[] \vdash {\mathcal{W\!F}}(#2)}
\newcommand{\WFTWOLINES}[2]{{\mathcal{W\!F}}\begin{array}{l}(#1)\\\mbox{}[{#2}]\end{array}}
\newcommand{\with}{\kw{with}}
\newcommand{\WS}[3]{#1[] \vdash #2 &lt;: #3}
\newcommand{\WSE}[2]{\WS{E}{#1}{#2}}
\newcommand{\WT}[4]{#1[#2] \vdash #3 : #4}
\newcommand{\WTE}[3]{\WT{E}{#1}{#2}{#3}}
\newcommand{\WTEG}[2]{\WTE{\Gamma}{#1}{#2}}
\newcommand{\WTM}[3]{\WT{#1}{}{#2}{#3}}
\newcommand{\zeroone}[1]{[{#1}]}
\end{split}\]</div>
<div class="section" id="extended-pattern-matching">
<span id="extendedpatternmatching"></span><h1>Extended pattern matching<a class="headerlink" href="#extended-pattern-matching" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Authors</dt>
<dd class="field-odd"><p>Cristina Cornes and Hugo Herbelin</p>
</dd>
</dl>
<p>This section describes the full form of pattern matching in Coq terms.</p>
<div class="section" id="variants-and-extensions-of-match">
<h2>Variants and extensions of <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">match</span></span></code><a class="headerlink" href="#variants-and-extensions-of-match" title="Permalink to this headline">¶</a></h2>
<div class="section" id="multiple-and-nested-pattern-matching">
<span id="mult-match"></span><h3>Multiple and nested pattern matching<a class="headerlink" href="#multiple-and-nested-pattern-matching" title="Permalink to this headline">¶</a></h3>
<p>The basic version of <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">match</span></span></code> allows pattern matching on simple
patterns. As an extension, multiple nested patterns or disjunction of
patterns are allowed, as in ML-like languages
(cf. <a class="reference internal" href="#multiple-patterns"><span class="std std-ref">Multiple patterns</span></a> and <a class="reference internal" href="#nested-patterns"><span class="std std-ref">Nested patterns</span></a>).</p>
<p>The extension just acts as a macro that is expanded during parsing
into a sequence of match on simple patterns. Especially, a
construction defined using the extended match is generally printed
under its expanded form (see <a class="reference internal" href="#coq:flag.Printing-Matching" title="Printing Matching"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Matching</span></code></a>).</p>
</div>
<div class="section" id="pattern-matching-on-boolean-values-the-if-expression">
<span id="if-then-else"></span><h3>Pattern-matching on boolean values: the if expression<a class="headerlink" href="#pattern-matching-on-boolean-values-the-if-expression" title="Permalink to this headline">¶</a></h3>
<span class="prodn-table"><span class="prodn-column-group"><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span></span><span class="prodn-row-group"><span class="prodn-row"><span class="prodn-cell-nonterminal"><span class="prodn-target"><span class="target" id="grammar-token-term_if"></span></span><span class="notation"><a class="reference internal" href="#grammar-token-term_if"><span class="hole">term_if</span></a></span></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">::=</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>if</span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole">term</span></a> <span class="repeat-wrapper"><span class="repeat"><span class="repeat-wrapper"><span class="repeat"><span><span>as</span></span> <a class="reference internal" href="../core/assumptions.html#grammar-token-name"><span class="hole">name</span></a></span><span class="notation-sup">?</span></span> <span><span>return</span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term100"><span class="hole">term100</span></a></span><span class="notation-sup">?</span></span> <span><span>then</span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole">term</span></a> <span><span>else</span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole">term</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span></span></span><p>For inductive types with exactly two constructors and for pattern matching
expressions that do not depend on the arguments of the constructors, it is possible
to use a <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">…</span> <span class="pre">then</span> <span class="pre">…</span> <span class="pre">else</span></code> notation. For instance, the definition</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">not</span><span> (</span><span class="coqdoc-var">b</span><span>:</span><span class="coqdoc-var">bool</span><span>) :=</span><span>
</span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">b</span><span> </span><span class="coqdoc-keyword">with</span><span>
| </span><span class="coqdoc-var">true</span><span> =&gt; </span><span class="coqdoc-var">false</span><span>
| </span><span class="coqdoc-var">false</span><span> =&gt; </span><span class="coqdoc-var">true</span><span>
</span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd><span>not is defined
</span></dd>
</dl>
</div>
<p>can be alternatively written</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">not</span><span> (</span><span class="coqdoc-var">b</span><span>:</span><span class="coqdoc-var">bool</span><span>) := </span><span class="coqdoc-keyword">if</span><span> </span><span class="coqdoc-var">b</span><span> </span><span class="coqdoc-keyword">then</span><span> </span><span class="coqdoc-var">false</span><span> </span><span class="coqdoc-keyword">else</span><span> </span><span class="coqdoc-var">true</span><span>.</span><span>
</span></dt><dd><span>not is defined
</span></dd>
</dl>
</div>
<p>More generally, for an inductive type with constructors <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">1</span></sub></span></a></span></code>
and <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">2</span></sub></span></a></span></code>, the following terms are equal:</p>
<p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">if</span></span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span><sub><span class="pre">0</span></sub></span></a> <span class="repeat-wrapper"><span class="repeat"><span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">as</span></span></span> <a class="reference internal" href="../core/assumptions.html#grammar-token-name"><span class="hole"><span class="pre">name</span></span></a></span><span class="notation-sup"><span class="pre">?</span></span></span> <span><span><span class="pre">return</span></span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a></span><span class="notation-sup"><span class="pre">?</span></span></span> <span><span><span class="pre">then</span></span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span><sub><span class="pre">1</span></sub></span></a> <span><span><span class="pre">else</span></span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span><sub><span class="pre">2</span></sub></span></a></span></code></p>
<p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">match</span></span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span><sub><span class="pre">0</span></sub></span></a> <span class="repeat-wrapper"><span class="repeat"><span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">as</span></span></span> <a class="reference internal" href="../core/assumptions.html#grammar-token-name"><span class="hole"><span class="pre">name</span></span></a></span><span class="notation-sup"><span class="pre">?</span></span></span> <span><span><span class="pre">return</span></span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a></span><span class="notation-sup"><span class="pre">?</span></span></span> <span><span><span class="pre">with</span></span></span> <span class="pre">|</span> <a class="reference internal" href="../core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">1</span></sub></span></a> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">_</span></span></span></span><span class="notation-sup"><span class="pre">*</span></span></span> <span><span><span class="pre">=&gt;</span></span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span><sub><span class="pre">1</span></sub></span></a> <span class="pre">|</span> <a class="reference internal" href="../core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">2</span></sub></span></a> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">_</span></span></span></span><span class="notation-sup"><span class="pre">*</span></span></span> <span><span><span class="pre">=&gt;</span></span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span><sub><span class="pre">2</span></sub></span></a> <span><span><span class="pre">end</span></span></span></span></code></p>
<div class="admonition note">
<p class="admonition-title">Example</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">x</span><span> (</span><span class="coqdoc-var">H</span><span>:{</span><span class="coqdoc-var">x</span><span>=0}+{</span><span class="coqdoc-var">x</span><span>&lt;&gt;0}) =&gt;</span><span>
</span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">H</span><span> </span><span class="coqdoc-keyword">with</span><span>
| </span><span class="coqdoc-tactic">left</span><span> </span><span class="coqdoc-var">_</span><span> =&gt; </span><span class="coqdoc-var">true</span><span>
| </span><span class="coqdoc-tactic">right</span><span> </span><span class="coqdoc-var">_</span><span> =&gt; </span><span class="coqdoc-var">false</span><span>
</span><span class="coqdoc-keyword">end</span><span>).</span><span>
</span></dt><dd><span class="ansi-bold">fun</span><span> (x : nat) (H : </span><span>{</span><span>x</span><span> =</span><span> 0</span><span>}</span><span> </span><span>+</span><span> </span><span>{</span><span>x</span><span> &lt;&gt;</span><span> 0</span><span>}</span><span>) =&gt; </span><span class="ansi-bold">if</span><span> H </span><span class="ansi-bold">then</span><span> true </span><span class="ansi-bold">else</span><span> false
     : </span><span class="ansi-bold">forall</span><span> x : nat, </span><span>{</span><span>x</span><span> =</span><span> 0</span><span>}</span><span> </span><span>+</span><span> </span><span>{</span><span>x</span><span> &lt;&gt;</span><span> 0</span><span>}</span><span> -&gt;</span><span> bool
</span></dd>
</dl>
</div>
</div>
<p>Notice that the printing uses the <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">if</span></span></code> syntax because <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">sumbool</span></span></code> is
declared as such (see <a class="reference internal" href="#controlling-match-pp"><span class="std std-ref">Controlling pretty-printing of match expressions</span></a>).</p>
</div>
<div class="section" id="irrefutable-patterns-the-destructuring-let-variants">
<span id="irrefutable-patterns"></span><h3>Irrefutable patterns: the destructuring let variants<a class="headerlink" href="#irrefutable-patterns-the-destructuring-let-variants" title="Permalink to this headline">¶</a></h3>
<p>Pattern-matching on terms inhabiting inductive type having only one
constructor can be alternatively written using <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">let</span></span> <span class="name builtin pseudo"><span class="pre">…</span></span> <span class="keyword"><span class="pre">in</span></span> <span class="name builtin pseudo"><span class="pre">…</span></span></code>
constructions. There are two variants of them.</p>
<span class="prodn-table"><span class="prodn-column-group"><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span></span><span class="prodn-row-group"><span class="prodn-row"><span class="prodn-cell-nonterminal"><span class="prodn-target"><span class="target" id="grammar-token-destructuring_let"></span></span><span class="notation"><a class="reference internal" href="#grammar-token-destructuring_let"><span class="hole">destructuring_let</span></a></span></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">::=</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>let</span></span> <span><span>(</span></span> <span class="repeat-wrapper-with-sub"><span class="repeat"><a class="reference internal" href="../core/assumptions.html#grammar-token-name"><span class="hole">name</span></a></span><span class="notation-sup">*</span><span class="notation-sub">,</span></span> <span><span>)</span></span> <span class="repeat-wrapper"><span class="repeat"><span class="repeat-wrapper"><span class="repeat"><span><span>as</span></span> <a class="reference internal" href="../core/assumptions.html#grammar-token-name"><span class="hole">name</span></a></span><span class="notation-sup">?</span></span> <span><span>return</span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term100"><span class="hole">term100</span></a></span><span class="notation-sup">?</span></span> <span><span>:=</span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole">term</span></a> <span><span>in</span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole">term</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>let</span></span> <span>'</span> <a class="reference internal" href="../core/variants.html#grammar-token-pattern"><span class="hole">pattern</span></a> <span><span>:=</span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole">term</span></a> <span class="repeat-wrapper"><span class="repeat"><span><span>return</span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term100"><span class="hole">term100</span></a></span><span class="notation-sup">?</span></span> <span><span>in</span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole">term</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>let</span></span> <span>'</span> <a class="reference internal" href="../core/variants.html#grammar-token-pattern"><span class="hole">pattern</span></a> <span><span>in</span></span> <a class="reference internal" href="../core/variants.html#grammar-token-pattern"><span class="hole">pattern</span></a> <span><span>:=</span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole">term</span></a> <span><span>return</span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term100"><span class="hole">term100</span></a> <span><span>in</span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole">term</span></a></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span></span></span><div class="section" id="first-destructuring-let-syntax">
<h4>First destructuring let syntax<a class="headerlink" href="#first-destructuring-let-syntax" title="Permalink to this headline">¶</a></h4>
<p>The expression <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">let</span></span></span> <span><span><span class="pre">(</span></span></span> <span class="repeat-wrapper-with-sub"><span class="repeat"><a class="reference internal" href="../core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">i</span></sub></span></a></span><span class="notation-sup"><span class="pre">*</span></span><span class="notation-sub"><span class="pre">,</span></span></span> <span><span><span class="pre">)</span></span></span> <span><span><span class="pre">:=</span></span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span><sub><span class="pre">0</span></sub></span></a> <span><span><span class="pre">in</span></span></span> <a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span><sub><span class="pre">1</span></sub></span></a></span></code>
performs case analysis on <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span><sub><span class="pre">0</span></sub></span></a></span></code> whose type must be an
inductive type with exactly one constructor.  The number of variables
<code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">i</span></sub></span></a></span></code> must correspond to the number of arguments of this
constructor.  Then, in <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span><sub><span class="pre">1</span></sub></span></a></span></code>, these variables are bound to the
arguments of the constructor in <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span><sub><span class="pre">0</span></sub></span></a></span></code>.  For instance, the
definition</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">fst</span><span> (</span><span class="coqdoc-var">A</span><span> </span><span class="coqdoc-var">B</span><span>:</span><span class="coqdoc-keyword">Set</span><span>) (</span><span class="coqdoc-var">H</span><span>:</span><span class="coqdoc-var">A</span><span> * </span><span class="coqdoc-var">B</span><span>) := </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">H</span><span> </span><span class="coqdoc-keyword">with</span><span>
| </span><span class="coqdoc-var">pair</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> =&gt; </span><span class="coqdoc-var">x</span><span>
</span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd><span>fst is defined
</span></dd>
</dl>
</div>
<p>can be alternatively written</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">fst</span><span> (</span><span class="coqdoc-var">A</span><span> </span><span class="coqdoc-var">B</span><span>:</span><span class="coqdoc-keyword">Set</span><span>) (</span><span class="coqdoc-var">p</span><span>:</span><span class="coqdoc-var">A</span><span> * </span><span class="coqdoc-var">B</span><span>) := </span><span class="coqdoc-keyword">let</span><span> (</span><span class="coqdoc-var">x</span><span>, </span><span class="coqdoc-var">_</span><span>) := </span><span class="coqdoc-var">p</span><span> </span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">x</span><span>.</span><span>
</span></dt><dd><span>fst is defined
</span></dd>
</dl>
</div>
<p>Notice that reduction is different from regular <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">let</span></span> <span class="name builtin pseudo"><span class="pre">…</span></span> <span class="keyword"><span class="pre">in</span></span> <span class="name builtin pseudo"><span class="pre">…</span></span></code>
construction since it happens only if <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span><sub><span class="pre">0</span></sub></span></a></span></code> is in constructor form.
Otherwise, the reduction is blocked.</p>
<p>The pretty-printing of a definition by matching on a irrefutable
pattern can either be done using <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">match</span></span></code> or the <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">let</span></span></code> construction
(see Section <a class="reference internal" href="#controlling-match-pp"><span class="std std-ref">Controlling pretty-printing of match expressions</span></a>).</p>
<p>If term inhabits an inductive type with one constructor <code class="docutils literal notranslate"><span class="pre">C</span></code>, we have an
equivalence between</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>let (ident₁, …, identₙ) [dep_ret_type] := term in term&#39;
</pre></div>
</div>
<p>and</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>match term [dep_ret_type] with
C ident₁ … identₙ =&gt; term&#39;
end
</pre></div>
</div>
</div>
<div class="section" id="second-destructuring-let-syntax">
<h4>Second destructuring let syntax<a class="headerlink" href="#second-destructuring-let-syntax" title="Permalink to this headline">¶</a></h4>
<p>Another destructuring let syntax is available for inductive types with
one constructor by giving an arbitrary pattern instead of just a tuple
for all the arguments. For example, the preceding example can be
written:</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">fst</span><span> (</span><span class="coqdoc-var">A</span><span> </span><span class="coqdoc-var">B</span><span>:</span><span class="coqdoc-keyword">Set</span><span>) (</span><span class="coqdoc-var">p</span><span>:</span><span class="coqdoc-var">A</span><span>*</span><span class="coqdoc-var">B</span><span>) := </span><span class="coqdoc-keyword">let</span><span> '</span><span class="coqdoc-var">pair</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">_</span><span> := </span><span class="coqdoc-var">p</span><span> </span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">x</span><span>.</span><span>
</span></dt><dd><span>fst is defined
</span></dd>
</dl>
</div>
<p>This is useful to match deeper inside tuples and also to use notations
for the pattern, as the syntax <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">let</span></span> <span class="name builtin pseudo"><span class="pre">’</span></span><span class="name"><span class="pre">p</span></span> <span class="operator"><span class="pre">:=</span></span> <span class="name"><span class="pre">t</span></span> <span class="keyword"><span class="pre">in</span></span> <span class="name"><span class="pre">b</span></span></code> allows arbitrary
patterns to do the deconstruction. For example:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">deep_tuple</span><span> (</span><span class="coqdoc-var">A</span><span>:</span><span class="coqdoc-keyword">Set</span><span>) (</span><span class="coqdoc-var">x</span><span>:(</span><span class="coqdoc-var">A</span><span>*</span><span class="coqdoc-var">A</span><span>)*(</span><span class="coqdoc-var">A</span><span>*</span><span class="coqdoc-var">A</span><span>)) : </span><span class="coqdoc-var">A</span><span>*</span><span class="coqdoc-var">A</span><span>*</span><span class="coqdoc-var">A</span><span>*</span><span class="coqdoc-var">A</span><span> :=</span><span>
</span><span class="coqdoc-keyword">let</span><span> '((</span><span class="coqdoc-var">a</span><span>,</span><span class="coqdoc-var">b</span><span>), (</span><span class="coqdoc-var">c</span><span>, </span><span class="coqdoc-var">d</span><span>)) := </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-tactic">in</span><span> (</span><span class="coqdoc-var">a</span><span>,</span><span class="coqdoc-var">b</span><span>,</span><span class="coqdoc-var">c</span><span>,</span><span class="coqdoc-var">d</span><span>).</span><span>
</span></dt><dd><span>deep_tuple is defined
</span></dd>
<dt><span></span><span>
</span><span class="coqdoc-keyword">Notation</span><span> &quot; x 'With' p &quot; := (</span><span class="coqdoc-var">exist</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">p</span><span>) (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 20).</span><span>
</span></dt><dd><span>Identifier 'With' now a keyword
</span></dd>
<dt><span></span><span>
</span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">proj1_sig'</span><span> (</span><span class="coqdoc-var">A</span><span>:</span><span class="coqdoc-keyword">Set</span><span>) (</span><span class="coqdoc-var">P</span><span>:</span><span class="coqdoc-var">A</span><span>-&gt;</span><span class="coqdoc-keyword">Prop</span><span>) (</span><span class="coqdoc-var">t</span><span>:{ </span><span class="coqdoc-var">x</span><span>:</span><span class="coqdoc-var">A</span><span> | </span><span class="coqdoc-var">P</span><span> </span><span class="coqdoc-var">x</span><span> }) : </span><span class="coqdoc-var">A</span><span> :=</span><span>
</span><span class="coqdoc-keyword">let</span><span> '</span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">With</span><span> </span><span class="coqdoc-var">p</span><span> := </span><span class="coqdoc-var">t</span><span> </span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">x</span><span>.</span><span>
</span></dt><dd><span>proj1_sig' is defined
</span></dd>
</dl>
</div>
<p>When printing definitions which are written using this construct it
takes precedence over let printing directives for the datatype under
consideration (see Section <a class="reference internal" href="#controlling-match-pp"><span class="std std-ref">Controlling pretty-printing of match expressions</span></a>).</p>
</div>
</div>
<div class="section" id="controlling-pretty-printing-of-match-expressions">
<span id="controlling-match-pp"></span><h3>Controlling pretty-printing of match expressions<a class="headerlink" href="#controlling-pretty-printing-of-match-expressions" title="Permalink to this headline">¶</a></h3>
<p>The following commands give some control over the pretty-printing
of <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">match</span></span></code> expressions.</p>
<div class="section" id="printing-nested-patterns">
<h4>Printing nested patterns<a class="headerlink" href="#printing-nested-patterns" title="Permalink to this headline">¶</a></h4>
<dl class="coq flag">
<dt id="coq:flag.Printing-Matching">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span><span>Printing</span></span> <span><span>Matching</span></span></span></code><a class="headerlink" href="#coq:flag.Printing-Matching" title="Permalink to this definition">¶</a></dt>
<dd><p>The Calculus of Inductive Constructions knows pattern matching only
over simple patterns. It is however convenient to re-factorize nested
pattern matching into a single pattern matching over a nested
pattern.</p>
<p>When this <a class="reference internal" href="../core/basic.html#term-flag"><span class="xref std std-term">flag</span></a> is on (default), Coq’s printer tries to do such
limited re-factorization.
Turning it off tells Coq to print only simple pattern matching problems
in the same way as the Coq kernel handles them.</p>
</dd></dl>

</div>
<div class="section" id="factorization-of-clauses-with-same-right-hand-side">
<h4>Factorization of clauses with same right-hand side<a class="headerlink" href="#factorization-of-clauses-with-same-right-hand-side" title="Permalink to this headline">¶</a></h4>
<dl class="coq flag">
<dt id="coq:flag.Printing-Factorizable-Match-Patterns">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span><span>Printing</span></span> <span><span>Factorizable</span></span> <span><span>Match</span></span> <span><span>Patterns</span></span></span></code><a class="headerlink" href="#coq:flag.Printing-Factorizable-Match-Patterns" title="Permalink to this definition">¶</a></dt>
<dd><p>When several patterns share the same right-hand side, it is additionally
possible to share the clauses using disjunctive patterns. Assuming that the
printing matching mode is on, this <a class="reference internal" href="../core/basic.html#term-flag"><span class="xref std std-term">flag</span></a> (on by default) tells Coq's
printer to try to do this kind of factorization.</p>
</dd></dl>

</div>
<div class="section" id="use-of-a-default-clause">
<h4>Use of a default clause<a class="headerlink" href="#use-of-a-default-clause" title="Permalink to this headline">¶</a></h4>
<dl class="coq flag">
<dt id="coq:flag.Printing-Allow-Match-Default-Clause">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span><span>Printing</span></span> <span><span>Allow</span></span> <span><span>Match</span></span> <span><span>Default</span></span> <span><span>Clause</span></span></span></code><a class="headerlink" href="#coq:flag.Printing-Allow-Match-Default-Clause" title="Permalink to this definition">¶</a></dt>
<dd><p>When several patterns share the same right-hand side which do not depend on the
arguments of the patterns, yet an extra factorization is possible: the
disjunction of patterns can be replaced with a <code class="docutils literal notranslate"><span class="pre">_</span></code> default clause. Assuming that
the printing matching mode and the factorization mode are on, this <a class="reference internal" href="../core/basic.html#term-flag"><span class="xref std std-term">flag</span></a> (on by
default) tells Coq's printer to use a default clause when relevant.</p>
</dd></dl>

</div>
<div class="section" id="printing-of-wildcard-patterns">
<h4>Printing of wildcard patterns<a class="headerlink" href="#printing-of-wildcard-patterns" title="Permalink to this headline">¶</a></h4>
<dl class="coq flag">
<dt id="coq:flag.Printing-Wildcard">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span><span>Printing</span></span> <span><span>Wildcard</span></span></span></code><a class="headerlink" href="#coq:flag.Printing-Wildcard" title="Permalink to this definition">¶</a></dt>
<dd><p>Some variables in a pattern may not occur in the right-hand side of
the pattern matching clause. When this <a class="reference internal" href="../core/basic.html#term-flag"><span class="xref std std-term">flag</span></a> is on (default), the
variables having no occurrences in the right-hand side of the
pattern matching clause are just printed using the wildcard symbol
“_”.</p>
</dd></dl>

</div>
<div class="section" id="printing-of-the-elimination-predicate">
<h4>Printing of the elimination predicate<a class="headerlink" href="#printing-of-the-elimination-predicate" title="Permalink to this headline">¶</a></h4>
<dl class="coq flag">
<dt id="coq:flag.Printing-Synth">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span><span>Printing</span></span> <span><span>Synth</span></span></span></code><a class="headerlink" href="#coq:flag.Printing-Synth" title="Permalink to this definition">¶</a></dt>
<dd><p>In most of the cases, the type of the result of a matched term is
mechanically synthesizable. Especially, if the result type does not
depend of the matched term. When this <a class="reference internal" href="../core/basic.html#term-flag"><span class="xref std std-term">flag</span></a> is on (default),
the result type is not printed when Coq knows that it can re-
synthesize it.</p>
</dd></dl>

</div>
<div class="section" id="printing-matching-on-irrefutable-patterns">
<h4>Printing matching on irrefutable patterns<a class="headerlink" href="#printing-matching-on-irrefutable-patterns" title="Permalink to this headline">¶</a></h4>
<p>If an inductive type has just one constructor, pattern matching can be
written using the first destructuring let syntax.</p>
<dl class="coq table">
<dt id="coq:table.Printing-Let">
<em class="property"><span class="sigannot">Table</span></em> <code class="sig-name descname"><span class="notation"><span><span>Printing</span></span> <span><span>Let</span></span> <a class="reference internal" href="../core/modules.html#grammar-token-qualid"><span class="hole">qualid</span></a></span></code><a class="headerlink" href="#coq:table.Printing-Let" title="Permalink to this definition">¶</a></dt>
<dd><p>This <a class="reference internal" href="../core/basic.html#term-table"><span class="xref std std-term">table</span></a> specifies a set of qualids for which pattern matching is displayed using a let expression.
Note that this only applies to pattern matching instances entered with <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">match</span></span></code>.
It doesn't affect pattern matching explicitly entered with a destructuring
<code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">let</span></span></code>.
Use the <a class="reference internal" href="../core/basic.html#coq:cmd.Add" title="Add"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Add</span></code></a> and <a class="reference internal" href="../core/basic.html#coq:cmd.Remove" title="Remove"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Remove</span></code></a> commands to update this set.</p>
</dd></dl>

</div>
<div class="section" id="printing-matching-on-booleans">
<h4>Printing matching on booleans<a class="headerlink" href="#printing-matching-on-booleans" title="Permalink to this headline">¶</a></h4>
<p>If an inductive type is isomorphic to the boolean type, pattern matching
can be written using <code class="docutils literal notranslate"><span class="pre">if</span></code> … <code class="docutils literal notranslate"><span class="pre">then</span></code> … <code class="docutils literal notranslate"><span class="pre">else</span></code> ….  This table controls
which types are written this way:</p>
<dl class="coq table">
<dt id="coq:table.Printing-If">
<em class="property"><span class="sigannot">Table</span></em> <code class="sig-name descname"><span class="notation"><span><span>Printing</span></span> <span><span>If</span></span> <a class="reference internal" href="../core/modules.html#grammar-token-qualid"><span class="hole">qualid</span></a></span></code><a class="headerlink" href="#coq:table.Printing-If" title="Permalink to this definition">¶</a></dt>
<dd><p>This <a class="reference internal" href="../core/basic.html#term-table"><span class="xref std std-term">table</span></a> specifies a set of qualids for which pattern matching is displayed using
<code class="docutils literal notranslate"><span class="pre">if</span></code> … <code class="docutils literal notranslate"><span class="pre">then</span></code> … <code class="docutils literal notranslate"><span class="pre">else</span></code> ….  Use the <a class="reference internal" href="../core/basic.html#coq:cmd.Add" title="Add"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Add</span></code></a> and <a class="reference internal" href="../core/basic.html#coq:cmd.Remove" title="Remove"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Remove</span></code></a>
commands to update this set.</p>
</dd></dl>

<p>This example emphasizes what the printing settings offer.</p>
<div class="admonition note">
<p class="admonition-title">Example</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">snd</span><span> (</span><span class="coqdoc-var">A</span><span> </span><span class="coqdoc-var">B</span><span>:</span><span class="coqdoc-keyword">Set</span><span>) (</span><span class="coqdoc-var">H</span><span>:</span><span class="coqdoc-var">A</span><span> * </span><span class="coqdoc-var">B</span><span>) := </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">H</span><span> </span><span class="coqdoc-keyword">with</span><span>
| </span><span class="coqdoc-var">pair</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> =&gt; </span><span class="coqdoc-var">y</span><span>
</span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd><span>snd is defined
</span></dd>
<dt><span></span><span>
</span><span class="coqdoc-var">Test</span><span> </span><span class="coqdoc-keyword">Printing</span><span> </span><span class="coqdoc-keyword">Let</span><span> </span><span class="coqdoc-keyword">for</span><span> </span><span class="coqdoc-var">prod</span><span>.</span><span>
</span></dt><dd><span>Cases on elements of prod are printed using a `let' form
</span></dd>
<dt><span></span><span>
</span><span class="coqdoc-keyword">Print</span><span> </span><span class="coqdoc-var">snd</span><span>.</span><span>
</span></dt><dd><span>snd =
</span><span class="ansi-bold">fun</span><span> (A B : </span><span class="ansi-fg-yellow ansi-bold">Set</span><span>) (H : A</span><span> *</span><span> B) =&gt; </span><span class="ansi-bold">let</span><span> (_, y) := H</span><span class="ansi-bold"> in</span><span> y
     : </span><span class="ansi-bold">forall</span><span> A B : </span><span class="ansi-fg-yellow ansi-bold">Set</span><span>, A</span><span> *</span><span> B</span><span> -&gt;</span><span> B

Arguments </span><span class="ansi-fg-light-green">snd</span><span> (A B)%type_scope H
</span></dd>
<dt><span></span><span>
</span><span class="coqdoc-var">Remove</span><span> </span><span class="coqdoc-keyword">Printing</span><span> </span><span class="coqdoc-keyword">Let</span><span> </span><span class="coqdoc-var">prod</span><span>.</span><span>
</span></dt><dt><span></span><span>
</span><span class="coqdoc-keyword">Unset</span><span> </span><span class="coqdoc-keyword">Printing</span><span> </span><span class="coqdoc-var">Synth</span><span>.</span><span>
</span></dt><dt><span></span><span>
</span><span class="coqdoc-keyword">Unset</span><span> </span><span class="coqdoc-keyword">Printing</span><span> </span><span class="coqdoc-var">Wildcard</span><span>.</span><span>
</span></dt><dt><span></span><span>
</span><span class="coqdoc-keyword">Print</span><span> </span><span class="coqdoc-var">snd</span><span>.</span><span>
</span></dt><dd><span>snd =
</span><span class="ansi-bold">fun</span><span> (A B : </span><span class="ansi-fg-yellow ansi-bold">Set</span><span>) (H : A</span><span> *</span><span> B) =&gt; </span><span class="ansi-bold">match</span><span> H </span><span class="ansi-bold">return</span><span> B </span><span class="ansi-bold">with</span><span>
                               | </span><span>(</span><span>x</span><span>,</span><span> y</span><span>)</span><span> =&gt; y
                               </span><span class="ansi-bold">end</span><span>
     : </span><span class="ansi-bold">forall</span><span> A B : </span><span class="ansi-fg-yellow ansi-bold">Set</span><span>, A</span><span> *</span><span> B</span><span> -&gt;</span><span> B

Arguments </span><span class="ansi-fg-light-green">snd</span><span> (A B)%type_scope H
</span></dd>
</dl>
</div>
</div>
</div>
</div>
<div class="section" id="conventions-about-unused-pattern-matching-variables">
<h3>Conventions about unused pattern-matching variables<a class="headerlink" href="#conventions-about-unused-pattern-matching-variables" title="Permalink to this headline">¶</a></h3>
<p>Pattern-matching variables that are not used on the right-hand side of <code class="docutils literal notranslate"><span class="pre">=&gt;</span></code> are
considered the sign of a potential error. For instance, it could
result from an undetected misspelled constant constructor. By default,
a warning is issued in such situations.</p>
<dl class="coq warn">
<dt id="coq:warn.Unused-variable-‘ident’-might-be-a-misspelled-constructor.-Use-_-or-_‘ident’-to-silence-this-warning.">
<em class="property"><span class="sigannot">Warning</span></em> <code class="sig-name descname"><span class="notation"><span><span>Unused</span></span> <span><span>variable</span></span> <a class="reference internal" href="../core/basic.html#grammar-token-ident"><span class="hole">ident</span></a> <span><span>might</span></span> <span><span>be</span></span> <span><span>a</span></span> <span><span>misspelled</span></span> <span><span>constructor.</span></span> <span><span>Use</span></span> <span><span>_</span></span> <span><span>or</span></span> <span><span>_</span></span><a class="reference internal" href="../core/basic.html#grammar-token-ident"><span class="hole">ident</span></a> <span><span>to</span></span> <span><span>silence</span></span> <span><span>this</span></span> <span><span>warning.</span></span></span></code><a class="headerlink" href="#coq:warn.Unused-variable-‘ident’-might-be-a-misspelled-constructor.-Use-_-or-_‘ident’-to-silence-this-warning." title="Permalink to this definition">¶</a></dt>
<dd><p>This indicates that an unused pattern variable <a class="reference internal" href="../core/basic.html#grammar-token-ident"><code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code></a>
occurs in a pattern-matching clause.</p>
<p>The warning can be deactivated by using a variable name starting
with <code class="docutils literal notranslate"><span class="pre">_</span></code> or by setting <code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">Warnings</span>
<span class="pre">&quot;-unused-pattern-matching-variable&quot;</span></code>.</p>
<p>Here is an example where the warning is activated.</p>
<div class="admonition note">
<p class="admonition-title">Example</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">is_zero</span><span> (</span><span class="coqdoc-var">o</span><span> : </span><span class="coqdoc-var">option</span><span> </span><span class="coqdoc-var">nat</span><span>) := </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">o</span><span> </span><span class="coqdoc-keyword">with</span><span>
| </span><span class="coqdoc-var">Some</span><span> </span><span class="coqdoc-var">_</span><span> =&gt; </span><span class="coqdoc-var">true</span><span>
| </span><span class="coqdoc-var">x</span><span> =&gt; </span><span class="coqdoc-var">false</span><span>
</span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd><span>Toplevel input, characters 71-72:
&gt; Definition is_zero (o : option nat) := match o with | Some _ =&gt; true | x =&gt; false end.
&gt;                                                                        ^
</span><span class="ansi-fg-white ansi-bg-yellow ansi-bold">Warning:</span><span> Unused variable x might be a misspelled constructor. Use _ or _x to
silence this warning. [unused-pattern-matching-variable,pattern-matching]
is_zero is defined
</span></dd>
</dl>
</div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="patterns">
<h2>Patterns<a class="headerlink" href="#patterns" title="Permalink to this headline">¶</a></h2>
<p>The full syntax of <code class="docutils literal notranslate"><span class="pre">match</span></code> is presented in <a class="reference internal" href="../core/variants.html#match-term"><span class="std std-ref">Definition by cases: match</span></a>.
Identifiers in patterns are either constructor names or variables. Any
identifier that is not the constructor of an inductive or coinductive
type is considered to be a variable. A variable name cannot occur more
than once in a given pattern. It is recommended to start variable
names by a lowercase letter.</p>
<p>If a pattern has the form <code class="docutils literal notranslate"><span class="pre">c</span> <span class="pre">x</span></code> where <code class="docutils literal notranslate"><span class="pre">c</span></code> is a constructor symbol and x
is a linear vector of (distinct) variables, it is called <em>simple</em>: it
is the kind of pattern recognized by the basic version of match. On
the opposite, if it is a variable <code class="docutils literal notranslate"><span class="pre">x</span></code> or has the form <code class="docutils literal notranslate"><span class="pre">c</span> <span class="pre">p</span></code> with <code class="docutils literal notranslate"><span class="pre">p</span></code> not
only made of variables, the pattern is called <em>nested</em>.</p>
<p>A variable pattern matches any value, and the identifier is bound to
that value. The pattern “<code class="docutils literal notranslate"><span class="pre">_</span></code>” (called “don't care” or “wildcard” symbol)
also matches any value, but does not bind anything. It may occur an
arbitrary number of times in a pattern. Alias patterns written
<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">(</span></span></span><a class="reference internal" href="../core/variants.html#grammar-token-pattern"><span class="hole"><span class="pre">pattern</span></span></a> <span><span><span class="pre">as</span></span></span> <a class="reference internal" href="../core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a><span><span><span class="pre">)</span></span></span></span></code> are also accepted. This pattern matches the
same values as <a class="reference internal" href="../core/variants.html#grammar-token-pattern"><code class="xref std std-token docutils literal notranslate"><span class="pre">pattern</span></code></a> does and <a class="reference internal" href="../core/basic.html#grammar-token-ident"><code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code></a> is bound to the matched
value. A pattern of the form <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../core/variants.html#grammar-token-pattern"><span class="hole"><span class="pre">pattern</span></span></a> <span class="pre">|</span> <a class="reference internal" href="../core/variants.html#grammar-token-pattern"><span class="hole"><span class="pre">pattern</span></span></a></span></code> is called disjunctive. A
list of patterns separated with commas is also considered as a pattern
and is called <em>multiple pattern</em>. However multiple patterns can only
occur at the root of pattern matching equations. Disjunctions of
<em>multiple patterns</em> are allowed though.</p>
<p>Since extended <code class="docutils literal notranslate"><span class="pre">match</span></code> expressions are compiled into the primitive ones,
the expressiveness of the theory remains the same. Once parsing has finished
only simple patterns remain. The original nesting of the <code class="docutils literal notranslate"><span class="pre">match</span></code> expressions
is recovered at printing time. An easy way to see the result
of the expansion is to toggle off the nesting performed at printing
(use here <a class="reference internal" href="#coq:flag.Printing-Matching" title="Printing Matching"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Matching</span></code></a>), then by printing the term with <a class="reference internal" href="../../proof-engine/vernacular-commands.html#coq:cmd.Print" title="Print"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span></code></a>
if the term is a <a class="reference internal" href="../core/definitions.html#term-constant"><span class="xref std std-term">constant</span></a>, or using the command <a class="reference internal" href="../../proof-engine/vernacular-commands.html#coq:cmd.Check" title="Check"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Check</span></code></a>.</p>
<p>The extended <code class="docutils literal notranslate"><span class="pre">match</span></code> still accepts an optional <em>elimination predicate</em>
given after the keyword <code class="docutils literal notranslate"><span class="pre">return</span></code>. Given a pattern matching expression,
if all the right-hand-sides of <code class="docutils literal notranslate"><span class="pre">=&gt;</span></code> have the same
type, then this type can be sometimes synthesized, and so we can omit
the return part. Otherwise the predicate after return has to be
provided, like for the basicmatch.</p>
<p>Let us illustrate through examples the different aspects of extended
pattern matching. Consider for example the function that computes the
maximum of two natural numbers. We can write it in primitive syntax
by:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Fixpoint</span><span> </span><span class="coqdoc-var">max</span><span> (</span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span>:</span><span class="coqdoc-var">nat</span><span>) {</span><span class="coqdoc-keyword">struct</span><span> </span><span class="coqdoc-var">m</span><span>} : </span><span class="coqdoc-var">nat</span><span> :=</span><span>
  </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-keyword">with</span><span>
  | </span><span class="coqdoc-var">O</span><span> =&gt; </span><span class="coqdoc-var">m</span><span>
  | </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">n'</span><span> =&gt; </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">m</span><span> </span><span class="coqdoc-keyword">with</span><span>
            | </span><span class="coqdoc-var">O</span><span> =&gt; </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">n'</span><span>
            | </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">m'</span><span> =&gt; </span><span class="coqdoc-var">S</span><span> (</span><span class="coqdoc-var">max</span><span> </span><span class="coqdoc-var">n'</span><span> </span><span class="coqdoc-var">m'</span><span>)</span><span>
            </span><span class="coqdoc-keyword">end</span><span>
  </span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>max is defined
max is recursively defined (guarded on 2nd argument)
</span></dd>
</dl>
</div>
</div>
<div class="section" id="multiple-patterns">
<span id="id1"></span><h2>Multiple patterns<a class="headerlink" href="#multiple-patterns" title="Permalink to this headline">¶</a></h2>
<p>Using multiple patterns in the definition of <code class="docutils literal notranslate"><span class="pre">max</span></code> lets us write:</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl>
<dt><span></span><span class="coqdoc-keyword">Fixpoint</span><span> </span><span class="coqdoc-var">max</span><span> (</span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span>:</span><span class="coqdoc-var">nat</span><span>) {</span><span class="coqdoc-keyword">struct</span><span> </span><span class="coqdoc-var">m</span><span>} : </span><span class="coqdoc-var">nat</span><span> :=</span><span>
    </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">n</span><span>, </span><span class="coqdoc-var">m</span><span> </span><span class="coqdoc-keyword">with</span><span>
    | </span><span class="coqdoc-var">O</span><span>, </span><span class="coqdoc-var">_</span><span> =&gt; </span><span class="coqdoc-var">m</span><span>
    | </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">n'</span><span>, </span><span class="coqdoc-var">O</span><span> =&gt; </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">n'</span><span>
    | </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">n'</span><span>, </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">m'</span><span> =&gt; </span><span class="coqdoc-var">S</span><span> (</span><span class="coqdoc-var">max</span><span> </span><span class="coqdoc-var">n'</span><span> </span><span class="coqdoc-var">m'</span><span>)</span><span>
    </span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>max is defined
max is recursively defined (guarded on 2nd argument)
</span></dd>
</dl>
</div>
<p>which will be compiled into the previous form.</p>
<p>The pattern matching compilation strategy examines patterns from left
to right. A match expression is generated <strong>only</strong> when there is at least
one constructor in the column of patterns. E.g. the following example
does not build a match expression.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">x</span><span>:</span><span class="coqdoc-var">nat</span><span> =&gt; </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-keyword">return</span><span> </span><span class="coqdoc-var">nat</span><span> </span><span class="coqdoc-keyword">with</span><span>
                    | </span><span class="coqdoc-var">y</span><span> =&gt; </span><span class="coqdoc-var">y</span><span>
                    </span><span class="coqdoc-keyword">end</span><span>).</span><span>
</span></dt><dd><span class="ansi-bold">fun</span><span> x : nat =&gt; x
     : nat</span><span> -&gt;</span><span> nat
</span></dd>
</dl>
</div>
</div>
<div class="section" id="aliasing-subpatterns">
<h2>Aliasing subpatterns<a class="headerlink" href="#aliasing-subpatterns" title="Permalink to this headline">¶</a></h2>
<p>We can also use <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">as</span></span></span> <a class="reference internal" href="../core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code> to associate a name to a sub-pattern:</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl>
<dt><span></span><span class="coqdoc-keyword">Fixpoint</span><span> </span><span class="coqdoc-var">max</span><span> (</span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span>:</span><span class="coqdoc-var">nat</span><span>) {</span><span class="coqdoc-keyword">struct</span><span> </span><span class="coqdoc-var">n</span><span>} : </span><span class="coqdoc-var">nat</span><span> :=</span><span>
  </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">n</span><span>, </span><span class="coqdoc-var">m</span><span> </span><span class="coqdoc-keyword">with</span><span>
  | </span><span class="coqdoc-var">O</span><span>, </span><span class="coqdoc-var">_</span><span> =&gt; </span><span class="coqdoc-var">m</span><span>
  | </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">n'</span><span> </span><span class="coqdoc-keyword">as</span><span> </span><span class="coqdoc-var">p</span><span>, </span><span class="coqdoc-var">O</span><span> =&gt; </span><span class="coqdoc-var">p</span><span>
  | </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">n'</span><span>, </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">m'</span><span> =&gt; </span><span class="coqdoc-var">S</span><span> (</span><span class="coqdoc-var">max</span><span> </span><span class="coqdoc-var">n'</span><span> </span><span class="coqdoc-var">m'</span><span>)</span><span>
  </span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>max is defined
max is recursively defined (guarded on 1st argument)
</span></dd>
</dl>
</div>
</div>
<div class="section" id="nested-patterns">
<span id="id2"></span><h2>Nested patterns<a class="headerlink" href="#nested-patterns" title="Permalink to this headline">¶</a></h2>
<p>Here is now an example of nested patterns:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Fixpoint</span><span> </span><span class="coqdoc-var">even</span><span> (</span><span class="coqdoc-var">n</span><span>:</span><span class="coqdoc-var">nat</span><span>) : </span><span class="coqdoc-var">bool</span><span> :=</span><span>
  </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-keyword">with</span><span>
  | </span><span class="coqdoc-var">O</span><span> =&gt; </span><span class="coqdoc-var">true</span><span>
  | </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">O</span><span> =&gt; </span><span class="coqdoc-var">false</span><span>
  | </span><span class="coqdoc-var">S</span><span> (</span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">n'</span><span>) =&gt; </span><span class="coqdoc-var">even</span><span> </span><span class="coqdoc-var">n'</span><span>
  </span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>even is defined
even is recursively defined (guarded on 1st argument)
</span></dd>
</dl>
</div>
<p>This is compiled into:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Unset</span><span> </span><span class="coqdoc-keyword">Printing</span><span> </span><span class="coqdoc-var">Matching</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Print</span><span> </span><span class="coqdoc-var">even</span><span>.</span><span>
</span></dt><dd><span>even =
fix even (n : nat) : bool :=
  </span><span class="ansi-bold">match</span><span> n </span><span class="ansi-bold">with</span><span>
  | 0 =&gt; true
  | S n0 =&gt; </span><span class="ansi-bold">match</span><span> n0 </span><span class="ansi-bold">with</span><span>
            | 0 =&gt; false
            | S n' =&gt; even n'
            </span><span class="ansi-bold">end</span><span>
  </span><span class="ansi-bold">end</span><span>
     : nat</span><span> -&gt;</span><span> bool

Arguments </span><span class="ansi-fg-light-green">even</span><span> n%nat_scope
</span></dd>
</dl>
<span></span><dl class="simple">
<dt class="coqtop-hidden"><span></span><span class="coqdoc-keyword">Set</span><span> </span><span class="coqdoc-keyword">Printing</span><span> </span><span class="coqdoc-var">Matching</span><span>.</span><span>
</span></dt></dl>
</div>
<p>In the previous examples patterns do not conflict with, but sometimes
it is comfortable to write patterns that admit a nontrivial
superposition. Consider the boolean function <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">lef</span></span></code> that given two
natural numbers yields <code class="code Coq docutils literal notranslate"><span class="name builtin pseudo"><span class="pre">true</span></span></code> if the first one is less or equal than the
second one and <code class="code Coq docutils literal notranslate"><span class="name builtin pseudo"><span class="pre">false</span></span></code> otherwise. We can write it as follows:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Fixpoint</span><span> </span><span class="coqdoc-var">lef</span><span> (</span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span>:</span><span class="coqdoc-var">nat</span><span>) {</span><span class="coqdoc-keyword">struct</span><span> </span><span class="coqdoc-var">m</span><span>} : </span><span class="coqdoc-var">bool</span><span> :=</span><span>
  </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">n</span><span>, </span><span class="coqdoc-var">m</span><span> </span><span class="coqdoc-keyword">with</span><span>
  | </span><span class="coqdoc-var">O</span><span>, </span><span class="coqdoc-var">_</span><span> =&gt; </span><span class="coqdoc-var">true</span><span>
  | </span><span class="coqdoc-var">_</span><span>, </span><span class="coqdoc-var">O</span><span> =&gt; </span><span class="coqdoc-var">false</span><span>
  | </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">n</span><span>, </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">m</span><span> =&gt; </span><span class="coqdoc-var">lef</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span>
  </span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>lef is defined
lef is recursively defined (guarded on 2nd argument)
</span></dd>
</dl>
</div>
<p>Note that the first and the second multiple pattern overlap because
the couple of values <code class="docutils literal notranslate"><span class="pre">O</span> <span class="pre">O</span></code> matches both. Thus, what is the result of the
function on those values? To eliminate ambiguity we use the <em>textual
priority rule:</em> we consider patterns to be ordered from top to bottom. A
value is matched by the pattern at the ith row if and only if it is
not matched by some pattern from a previous row. Thus in the example, <code class="docutils literal notranslate"><span class="pre">O</span> <span class="pre">O</span></code>
is matched by the first pattern, and so <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">lef</span></span> <span class="name"><span class="pre">O</span></span> <span class="name"><span class="pre">O</span></span><span class="operator"><span class="pre">)</span></span></code> yields true.</p>
<p>Another way to write this function is:</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl>
<dt><span></span><span class="coqdoc-keyword">Fixpoint</span><span> </span><span class="coqdoc-var">lef</span><span> (</span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span>:</span><span class="coqdoc-var">nat</span><span>) {</span><span class="coqdoc-keyword">struct</span><span> </span><span class="coqdoc-var">m</span><span>} : </span><span class="coqdoc-var">bool</span><span> :=</span><span>
  </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">n</span><span>, </span><span class="coqdoc-var">m</span><span> </span><span class="coqdoc-keyword">with</span><span>
  | </span><span class="coqdoc-var">O</span><span>, </span><span class="coqdoc-var">_</span><span> =&gt; </span><span class="coqdoc-var">true</span><span>
  | </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">n</span><span>, </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">m</span><span> =&gt; </span><span class="coqdoc-var">lef</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span>
  | </span><span class="coqdoc-var">_</span><span>, </span><span class="coqdoc-var">_</span><span> =&gt; </span><span class="coqdoc-var">false</span><span>
  </span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>lef is defined
lef is recursively defined (guarded on 2nd argument)
</span></dd>
</dl>
</div>
<p>Here the last pattern superposes with the first two. Because of the
priority rule, the last pattern will be used only for values that do
not match neither the first nor the second one.</p>
<p>Terms with useless patterns are not accepted by the system. Here is an
example:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-var">Fail</span><span> </span><span class="coqdoc-keyword">Check</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">x</span><span>:</span><span class="coqdoc-var">nat</span><span> =&gt;</span><span>
              </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-keyword">with</span><span>
              | </span><span class="coqdoc-var">O</span><span> =&gt; </span><span class="coqdoc-var">true</span><span>
              | </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">_</span><span> =&gt; </span><span class="coqdoc-var">false</span><span>
              | </span><span class="coqdoc-var">x</span><span> =&gt; </span><span class="coqdoc-var">true</span><span>
              </span><span class="coqdoc-keyword">end</span><span>).</span><span>
</span></dt><dd><span>The command has indeed failed with message:
Pattern &quot;x&quot; is redundant in this clause.
</span></dd>
</dl>
</div>
</div>
<div class="section" id="disjunctive-patterns">
<h2>Disjunctive patterns<a class="headerlink" href="#disjunctive-patterns" title="Permalink to this headline">¶</a></h2>
<p>Multiple patterns that share the same right-hand-side can be
factorized using the notation <code class="docutils literal notranslate"><span class="notation"><span class="repeat-wrapper-with-sub"><span class="repeat"><span class="repeat-wrapper-with-sub"><span class="repeat"><a class="reference internal" href="../core/variants.html#grammar-token-pattern"><span class="hole"><span class="pre">pattern</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span><span class="notation-sub"><span class="pre">,</span></span></span></span><span class="notation-sup"><span class="pre">+</span></span><span class="notation-sub"><span class="pre">|</span></span></span></span></code>. For
instance, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">max</span></span></code> can be rewritten as follows:</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl>
<dt><span></span><span class="coqdoc-keyword">Fixpoint</span><span> </span><span class="coqdoc-var">max</span><span> (</span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span>:</span><span class="coqdoc-var">nat</span><span>) {</span><span class="coqdoc-keyword">struct</span><span> </span><span class="coqdoc-var">m</span><span>} : </span><span class="coqdoc-var">nat</span><span> :=</span><span>
  </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">n</span><span>, </span><span class="coqdoc-var">m</span><span> </span><span class="coqdoc-keyword">with</span><span>
  | </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">n'</span><span>, </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">m'</span><span> =&gt; </span><span class="coqdoc-var">S</span><span> (</span><span class="coqdoc-var">max</span><span> </span><span class="coqdoc-var">n'</span><span> </span><span class="coqdoc-var">m'</span><span>)</span><span>
  | 0, </span><span class="coqdoc-var">p</span><span> | </span><span class="coqdoc-var">p</span><span>, 0 =&gt; </span><span class="coqdoc-var">p</span><span>
  </span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>max is defined
max is recursively defined (guarded on 2nd argument)
</span></dd>
</dl>
</div>
<p>Similarly, factorization of (not necessarily multiple) patterns that
share the same variables is possible by using the notation <code class="docutils literal notranslate"><span class="notation"><span class="repeat-wrapper-with-sub"><span class="repeat"><a class="reference internal" href="../core/variants.html#grammar-token-pattern"><span class="hole"><span class="pre">pattern</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span><span class="notation-sub"><span class="pre">|</span></span></span></span></code>.
Here is an example:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">filter_2_4</span><span> (</span><span class="coqdoc-var">n</span><span>:</span><span class="coqdoc-var">nat</span><span>) : </span><span class="coqdoc-var">nat</span><span> :=</span><span>
  </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-keyword">with</span><span>
  | 2 </span><span class="coqdoc-keyword">as</span><span> </span><span class="coqdoc-var">m</span><span> | 4 </span><span class="coqdoc-keyword">as</span><span> </span><span class="coqdoc-var">m</span><span> =&gt; </span><span class="coqdoc-var">m</span><span>
  | </span><span class="coqdoc-var">_</span><span> =&gt; 0</span><span>
  </span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>filter_2_4 is defined
</span></dd>
</dl>
</div>
<p>Nested disjunctive patterns are allowed, inside parentheses, with the
notation <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">(</span></span></span><span class="repeat-wrapper-with-sub"><span class="repeat"><a class="reference internal" href="../core/variants.html#grammar-token-pattern"><span class="hole"><span class="pre">pattern</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span><span class="notation-sub"><span class="pre">|</span></span></span><span><span><span class="pre">)</span></span></span></span></code>, as in:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">filter_some_square_corners</span><span> (</span><span class="coqdoc-var">p</span><span>:</span><span class="coqdoc-var">nat</span><span>*</span><span class="coqdoc-var">nat</span><span>) : </span><span class="coqdoc-var">nat</span><span>*</span><span class="coqdoc-var">nat</span><span> :=</span><span>
  </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">p</span><span> </span><span class="coqdoc-keyword">with</span><span>
  | ((2 </span><span class="coqdoc-keyword">as</span><span> </span><span class="coqdoc-var">m</span><span> | 4 </span><span class="coqdoc-keyword">as</span><span> </span><span class="coqdoc-var">m</span><span>), (3 </span><span class="coqdoc-keyword">as</span><span> </span><span class="coqdoc-var">n</span><span> | 5 </span><span class="coqdoc-keyword">as</span><span> </span><span class="coqdoc-var">n</span><span>)) =&gt; (</span><span class="coqdoc-var">m</span><span>,</span><span class="coqdoc-var">n</span><span>)</span><span>
  | </span><span class="coqdoc-var">_</span><span> =&gt; (0,0)</span><span>
  </span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>filter_some_square_corners is defined
</span></dd>
</dl>
</div>
</div>
<div class="section" id="about-patterns-of-parametric-types">
<h2>About patterns of parametric types<a class="headerlink" href="#about-patterns-of-parametric-types" title="Permalink to this headline">¶</a></h2>
<div class="section" id="parameters-in-patterns">
<h3>Parameters in patterns<a class="headerlink" href="#parameters-in-patterns" title="Permalink to this headline">¶</a></h3>
<p>When matching objects of a parametric type, parameters do not bind in
patterns. They must be substituted by “<code class="docutils literal notranslate"><span class="pre">_</span></code>”. Consider for example the
type of polymorphic lists:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Inductive</span><span> </span><span class="coqdoc-var">List</span><span> (</span><span class="coqdoc-var">A</span><span>:</span><span class="coqdoc-keyword">Set</span><span>) : </span><span class="coqdoc-keyword">Set</span><span> :=</span><span>
| </span><span class="coqdoc-var">nil</span><span> : </span><span class="coqdoc-var">List</span><span> </span><span class="coqdoc-var">A</span><span>
| </span><span class="coqdoc-var">cons</span><span> : </span><span class="coqdoc-var">A</span><span> -&gt; </span><span class="coqdoc-var">List</span><span> </span><span class="coqdoc-var">A</span><span> -&gt; </span><span class="coqdoc-var">List</span><span> </span><span class="coqdoc-var">A</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>List is defined
List_rect is defined
List_ind is defined
List_rec is defined
List_sind is defined
</span></dd>
</dl>
</div>
<p>We can check the function <em>tail</em>:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span>
  (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">l</span><span>:</span><span class="coqdoc-var">List</span><span> </span><span class="coqdoc-var">nat</span><span> =&gt;</span><span>
     </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">l</span><span> </span><span class="coqdoc-keyword">with</span><span>
     | </span><span class="coqdoc-var">nil</span><span> </span><span class="coqdoc-var">_</span><span> =&gt; </span><span class="coqdoc-var">nil</span><span> </span><span class="coqdoc-var">nat</span><span>
     | </span><span class="coqdoc-var">cons</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">l'</span><span> =&gt; </span><span class="coqdoc-var">l'</span><span>
     </span><span class="coqdoc-keyword">end</span><span>).</span><span>
</span></dt><dd><span class="ansi-bold">fun</span><span> l : List nat =&gt; </span><span class="ansi-bold">match</span><span> l </span><span class="ansi-bold">with</span><span>
                    | nil _ =&gt; nil nat
                    | cons _ _ l' =&gt; l'
                    </span><span class="ansi-bold">end</span><span>
     : List nat</span><span> -&gt;</span><span> List nat
</span></dd>
</dl>
</div>
<p>When we use parameters in patterns there is an error message:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-var">Fail</span><span> </span><span class="coqdoc-keyword">Check</span><span>
  (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">l</span><span>:</span><span class="coqdoc-var">List</span><span> </span><span class="coqdoc-var">nat</span><span> =&gt;</span><span>
     </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">l</span><span> </span><span class="coqdoc-keyword">with</span><span>
     | </span><span class="coqdoc-var">nil</span><span> </span><span class="coqdoc-var">A</span><span> =&gt; </span><span class="coqdoc-var">nil</span><span> </span><span class="coqdoc-var">nat</span><span>
     | </span><span class="coqdoc-var">cons</span><span> </span><span class="coqdoc-var">A</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">l'</span><span> =&gt; </span><span class="coqdoc-var">l'</span><span>
     </span><span class="coqdoc-keyword">end</span><span>).</span><span>
</span></dt><dd><span>The command has indeed failed with message:
The parameters do not bind in patterns; they must be replaced by '_'.
</span></dd>
</dl>
</div>
<dl class="coq flag">
<dt id="coq:flag.Asymmetric-Patterns">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span><span>Asymmetric</span></span> <span><span>Patterns</span></span></span></code><a class="headerlink" href="#coq:flag.Asymmetric-Patterns" title="Permalink to this definition">¶</a></dt>
<dd><p>This <a class="reference internal" href="../core/basic.html#term-flag"><span class="xref std std-term">flag</span></a> (off by default) removes parameters from constructors in patterns:</p>
</dd></dl>

<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Set</span><span> </span><span class="coqdoc-var">Asymmetric</span><span> </span><span class="coqdoc-var">Patterns</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Check</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">l</span><span>:</span><span class="coqdoc-var">List</span><span> </span><span class="coqdoc-var">nat</span><span> =&gt;</span><span>
  </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">l</span><span> </span><span class="coqdoc-keyword">with</span><span>
  | </span><span class="coqdoc-var">nil</span><span> =&gt; </span><span class="coqdoc-var">nil</span><span> </span><span class="coqdoc-var">_</span><span>
  | </span><span class="coqdoc-var">cons</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">l'</span><span> =&gt; </span><span class="coqdoc-var">l'</span><span>
  </span><span class="coqdoc-keyword">end</span><span>).</span><span>
</span></dt><dd><span class="ansi-bold">fun</span><span> l : List nat =&gt; </span><span class="ansi-bold">match</span><span> l </span><span class="ansi-bold">with</span><span>
                    | &#64;nil _ =&gt; nil nat
                    | &#64;cons _ _ l' =&gt; l'
                    </span><span class="ansi-bold">end</span><span>
     : List nat</span><span> -&gt;</span><span> List nat
</span></dd>
<dt><span></span><span class="coqdoc-keyword">Unset</span><span> </span><span class="coqdoc-var">Asymmetric</span><span> </span><span class="coqdoc-var">Patterns</span><span>.</span><span>
</span></dt></dl>
</div>
</div>
</div>
<div class="section" id="implicit-arguments-in-patterns">
<h2>Implicit arguments in patterns<a class="headerlink" href="#implicit-arguments-in-patterns" title="Permalink to this headline">¶</a></h2>
<p>By default, implicit arguments are omitted in patterns. So we write:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Arguments</span><span> </span><span class="coqdoc-var">nil</span><span> {</span><span class="coqdoc-var">A</span><span>}.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Arguments</span><span> </span><span class="coqdoc-var">cons</span><span> [</span><span class="coqdoc-var">A</span><span>] </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">_</span><span>.</span><span>
</span></dt><dt><span></span><span class="coqdoc-keyword">Check</span><span>
  (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">l</span><span>:</span><span class="coqdoc-var">List</span><span> </span><span class="coqdoc-var">nat</span><span> =&gt;</span><span>
     </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">l</span><span> </span><span class="coqdoc-keyword">with</span><span>
     | </span><span class="coqdoc-var">nil</span><span> =&gt; </span><span class="coqdoc-var">nil</span><span>
     | </span><span class="coqdoc-var">cons</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">l'</span><span> =&gt; </span><span class="coqdoc-var">l'</span><span>
     </span><span class="coqdoc-keyword">end</span><span>).</span><span>
</span></dt><dd><span class="ansi-bold">fun</span><span> l : List nat =&gt; </span><span class="ansi-bold">match</span><span> l </span><span class="ansi-bold">with</span><span>
                    | nil =&gt; nil
                    | cons _ l' =&gt; l'
                    </span><span class="ansi-bold">end</span><span>
     : List nat</span><span> -&gt;</span><span> List nat
</span></dd>
</dl>
</div>
<p>But the possibility to use all the arguments is given by “<code class="docutils literal notranslate"><span class="pre">&#64;</span></code>” implicit
explicitations (as for terms, see <a class="reference internal" href="implicit-arguments.html#explicit-applications"><span class="std std-ref">Explicit applications</span></a>).</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span>
  (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">l</span><span>:</span><span class="coqdoc-var">List</span><span> </span><span class="coqdoc-var">nat</span><span> =&gt;</span><span>
     </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">l</span><span> </span><span class="coqdoc-keyword">with</span><span>
     | &#64;</span><span class="coqdoc-var">nil</span><span> </span><span class="coqdoc-var">_</span><span> =&gt; &#64;</span><span class="coqdoc-var">nil</span><span> </span><span class="coqdoc-var">nat</span><span>
     | &#64;</span><span class="coqdoc-var">cons</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">l'</span><span> =&gt; </span><span class="coqdoc-var">l'</span><span>
     </span><span class="coqdoc-keyword">end</span><span>).</span><span>
</span></dt><dd><span class="ansi-bold">fun</span><span> l : List nat =&gt; </span><span class="ansi-bold">match</span><span> l </span><span class="ansi-bold">with</span><span>
                    | nil =&gt; nil
                    | cons _ l' =&gt; l'
                    </span><span class="ansi-bold">end</span><span>
     : List nat</span><span> -&gt;</span><span> List nat
</span></dd>
</dl>
</div>
</div>
<div class="section" id="matching-objects-of-dependent-types">
<span id="matching-dependent"></span><h2>Matching objects of dependent types<a class="headerlink" href="#matching-objects-of-dependent-types" title="Permalink to this headline">¶</a></h2>
<p>The previous examples illustrate pattern matching on objects of non-
dependent types, but we can also use the expansion strategy to
destructure objects of dependent types. Consider the type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">listn</span></span></code> of
lists of a certain length:</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl>
<dt><span></span><span class="coqdoc-keyword">Inductive</span><span> </span><span class="coqdoc-var">listn</span><span> : </span><span class="coqdoc-var">nat</span><span> -&gt; </span><span class="coqdoc-keyword">Set</span><span> :=</span><span>
| </span><span class="coqdoc-var">niln</span><span> : </span><span class="coqdoc-var">listn</span><span> 0</span><span>
| </span><span class="coqdoc-var">consn</span><span> : </span><span class="coqdoc-keyword">forall</span><span> </span><span class="coqdoc-var">n</span><span>:</span><span class="coqdoc-var">nat</span><span>, </span><span class="coqdoc-var">nat</span><span> -&gt; </span><span class="coqdoc-var">listn</span><span> </span><span class="coqdoc-var">n</span><span> -&gt; </span><span class="coqdoc-var">listn</span><span> (</span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">n</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>listn is defined
listn_rect is defined
listn_ind is defined
listn_rec is defined
listn_sind is defined
</span></dd>
</dl>
</div>
</div>
<div class="section" id="understanding-dependencies-in-patterns">
<h2>Understanding dependencies in patterns<a class="headerlink" href="#understanding-dependencies-in-patterns" title="Permalink to this headline">¶</a></h2>
<p>We can define the function length over <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">listn</span></span></code> by:</p>
<div class="coqdoc literal-block docutils container">
<span><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">length</span><span> (</span><span class="coqdoc-var">n</span><span>:</span><span class="coqdoc-var">nat</span><span>) (</span><span class="coqdoc-var">l</span><span>:</span><span class="coqdoc-var">listn</span><span> </span><span class="coqdoc-var">n</span><span>) := </span><span class="coqdoc-var">n</span><span>.</span><span>
</span></span></div>
<p>Just for illustrating pattern matching, we can define it by case
analysis:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">length</span><span> (</span><span class="coqdoc-var">n</span><span>:</span><span class="coqdoc-var">nat</span><span>) (</span><span class="coqdoc-var">l</span><span>:</span><span class="coqdoc-var">listn</span><span> </span><span class="coqdoc-var">n</span><span>) :=</span><span>
  </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">l</span><span> </span><span class="coqdoc-keyword">with</span><span>
  | </span><span class="coqdoc-var">niln</span><span> =&gt; 0</span><span>
  | </span><span class="coqdoc-var">consn</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">_</span><span> =&gt; </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">n</span><span>
  </span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>length is defined
</span></dd>
</dl>
</div>
<p>We can understand the meaning of this definition using the same
notions of usual pattern matching.</p>
</div>
<div class="section" id="when-the-elimination-predicate-must-be-provided">
<h2>When the elimination predicate must be provided<a class="headerlink" href="#when-the-elimination-predicate-must-be-provided" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dependent-pattern-matching">
<h3>Dependent pattern matching<a class="headerlink" href="#dependent-pattern-matching" title="Permalink to this headline">¶</a></h3>
<p>The examples given so far do not need an explicit elimination
predicate because all the right hand sides have the same type and Coq
succeeds to synthesize it. Unfortunately when dealing with dependent
patterns it often happens that we need to write cases where the types
of the right hand sides are different instances of the elimination predicate. The
function <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">concat</span></span></code> for <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">listn</span></span></code> is an example where the branches have
different types and we need to provide the elimination predicate:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Fixpoint</span><span> </span><span class="coqdoc-var">concat</span><span> (</span><span class="coqdoc-var">n</span><span>:</span><span class="coqdoc-var">nat</span><span>) (</span><span class="coqdoc-var">l</span><span>:</span><span class="coqdoc-var">listn</span><span> </span><span class="coqdoc-var">n</span><span>) (</span><span class="coqdoc-var">m</span><span>:</span><span class="coqdoc-var">nat</span><span>) (</span><span class="coqdoc-var">l'</span><span>:</span><span class="coqdoc-var">listn</span><span> </span><span class="coqdoc-var">m</span><span>) {</span><span class="coqdoc-keyword">struct</span><span> </span><span class="coqdoc-var">l</span><span>} :</span><span>
 </span><span class="coqdoc-var">listn</span><span> (</span><span class="coqdoc-var">n</span><span> + </span><span class="coqdoc-var">m</span><span>) :=</span><span>
  </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">l</span><span> </span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">listn</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-keyword">return</span><span> </span><span class="coqdoc-var">listn</span><span> (</span><span class="coqdoc-var">n</span><span> + </span><span class="coqdoc-var">m</span><span>) </span><span class="coqdoc-keyword">with</span><span>
  | </span><span class="coqdoc-var">niln</span><span> =&gt; </span><span class="coqdoc-var">l'</span><span>
  | </span><span class="coqdoc-var">consn</span><span> </span><span class="coqdoc-var">n'</span><span> </span><span class="coqdoc-var">a</span><span> </span><span class="coqdoc-var">y</span><span> =&gt; </span><span class="coqdoc-var">consn</span><span> (</span><span class="coqdoc-var">n'</span><span> + </span><span class="coqdoc-var">m</span><span>) </span><span class="coqdoc-var">a</span><span> (</span><span class="coqdoc-var">concat</span><span> </span><span class="coqdoc-var">n'</span><span> </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-var">m</span><span> </span><span class="coqdoc-var">l'</span><span>)</span><span>
  </span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>concat is defined
concat is recursively defined (guarded on 2nd argument)
</span></dd>
</dl>
<span></span><dl class="simple">
<dt class="coqtop-hidden"><span></span><span class="coqdoc-keyword">Reset</span><span> </span><span class="coqdoc-var">concat</span><span>.</span><span>
</span></dt></dl>
</div>
<p>The elimination predicate is <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">fun</span></span> <span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">n</span></span><span class="operator"><span class="pre">:</span></span><span class="name"><span class="pre">nat</span></span><span class="operator"><span class="pre">)</span></span> <span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">l</span></span><span class="operator"><span class="pre">:</span></span><span class="name"><span class="pre">listn</span></span> <span class="name"><span class="pre">n</span></span><span class="operator"><span class="pre">)</span></span> <span class="operator"><span class="pre">=&gt;</span></span> <span class="name"><span class="pre">listn</span></span> <span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">n</span></span><span class="operator"><span class="pre">+</span></span><span class="name"><span class="pre">m</span></span><span class="operator"><span class="pre">)</span></span></code>.
In general if <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">m</span></span></code> has type <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">I</span></span> <span class="name"><span class="pre">q1</span></span> <span class="name builtin pseudo"><span class="pre">…</span></span> <span class="name"><span class="pre">qr</span></span> <span class="name"><span class="pre">t1</span></span> <span class="name builtin pseudo"><span class="pre">…</span></span> <span class="name"><span class="pre">ts</span></span><span class="operator"><span class="pre">)</span></span></code> where <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">q1</span></span><span class="operator"><span class="pre">,</span></span> <span class="name builtin pseudo"><span class="pre">…</span></span><span class="operator"><span class="pre">,</span></span> <span class="name"><span class="pre">qr</span></span></code>
are parameters, the elimination predicate should be of the form <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">fun</span></span> <span class="name"><span class="pre">y1</span></span> <span class="name builtin pseudo"><span class="pre">…</span></span> <span class="name"><span class="pre">ys</span></span> <span class="name"><span class="pre">x</span></span> <span class="operator"><span class="pre">:</span></span> <span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">I</span></span> <span class="name"><span class="pre">q1</span></span> <span class="name builtin pseudo"><span class="pre">…</span></span> <span class="name"><span class="pre">qr</span></span> <span class="name"><span class="pre">y1</span></span> <span class="name builtin pseudo"><span class="pre">…</span></span> <span class="name"><span class="pre">ys</span></span> <span class="operator"><span class="pre">)</span></span> <span class="operator"><span class="pre">=&gt;</span></span> <span class="name"><span class="pre">Q</span></span></code>.</p>
<p>In the concrete syntax, it should be written :
<code class="docutils literal notranslate"><span class="pre">match</span> <span class="pre">m</span> <span class="pre">as</span> <span class="pre">x</span> <span class="pre">in</span> <span class="pre">(I</span> <span class="pre">_</span> <span class="pre">…</span> <span class="pre">_</span> <span class="pre">y1</span> <span class="pre">…</span> <span class="pre">ys)</span> <span class="pre">return</span> <span class="pre">Q</span> <span class="pre">with</span> <span class="pre">…</span> <span class="pre">end</span></code>.
The variables which appear in the <code class="docutils literal notranslate"><span class="pre">in</span></code> and <code class="docutils literal notranslate"><span class="pre">as</span></code> clause are new and bounded
in the property <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Q</span></span></code> in the return clause. The parameters of the
inductive definitions should not be mentioned and are replaced by <code class="docutils literal notranslate"><span class="pre">_</span></code>.</p>
</div>
<div class="section" id="multiple-dependent-pattern-matching">
<h3>Multiple dependent pattern matching<a class="headerlink" href="#multiple-dependent-pattern-matching" title="Permalink to this headline">¶</a></h3>
<p>Recall that a list of patterns is also a pattern. So, when we
destructure several terms at the same time and the branches have
different types we need to provide the elimination predicate for this
multiple pattern. It is done using the same scheme: each term may be
associated with an <code class="docutils literal notranslate"><span class="pre">as</span></code> clause and an <code class="docutils literal notranslate"><span class="pre">in</span></code> clause in order to introduce
a dependent product.</p>
<p>For example, an equivalent definition for <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">concat</span></span></code> (even though the
matching on the second term is trivial) would have been:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Fixpoint</span><span> </span><span class="coqdoc-var">concat</span><span> (</span><span class="coqdoc-var">n</span><span>:</span><span class="coqdoc-var">nat</span><span>) (</span><span class="coqdoc-var">l</span><span>:</span><span class="coqdoc-var">listn</span><span> </span><span class="coqdoc-var">n</span><span>) (</span><span class="coqdoc-var">m</span><span>:</span><span class="coqdoc-var">nat</span><span>) (</span><span class="coqdoc-var">l'</span><span>:</span><span class="coqdoc-var">listn</span><span> </span><span class="coqdoc-var">m</span><span>) {</span><span class="coqdoc-keyword">struct</span><span> </span><span class="coqdoc-var">l</span><span>} :</span><span>
 </span><span class="coqdoc-var">listn</span><span> (</span><span class="coqdoc-var">n</span><span> + </span><span class="coqdoc-var">m</span><span>) :=</span><span>
  </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">l</span><span> </span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">listn</span><span> </span><span class="coqdoc-var">n</span><span>, </span><span class="coqdoc-var">l'</span><span> </span><span class="coqdoc-keyword">return</span><span> </span><span class="coqdoc-var">listn</span><span> (</span><span class="coqdoc-var">n</span><span> + </span><span class="coqdoc-var">m</span><span>) </span><span class="coqdoc-keyword">with</span><span>
  | </span><span class="coqdoc-var">niln</span><span>, </span><span class="coqdoc-var">x</span><span> =&gt; </span><span class="coqdoc-var">x</span><span>
  | </span><span class="coqdoc-var">consn</span><span> </span><span class="coqdoc-var">n'</span><span> </span><span class="coqdoc-var">a</span><span> </span><span class="coqdoc-var">y</span><span>, </span><span class="coqdoc-var">x</span><span> =&gt; </span><span class="coqdoc-var">consn</span><span> (</span><span class="coqdoc-var">n'</span><span> + </span><span class="coqdoc-var">m</span><span>) </span><span class="coqdoc-var">a</span><span> (</span><span class="coqdoc-var">concat</span><span> </span><span class="coqdoc-var">n'</span><span> </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-var">m</span><span> </span><span class="coqdoc-var">x</span><span>)</span><span>
  </span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>concat is defined
concat is recursively defined (guarded on 2nd argument)
</span></dd>
</dl>
</div>
<p>Even without real matching over the second term, this construction can
be used to keep types linked. If <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">a</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">b</span></span></code> are two <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">listn</span></span></code> of the same
length, by writing</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">n</span><span> (</span><span class="coqdoc-var">a</span><span> </span><span class="coqdoc-var">b</span><span>: </span><span class="coqdoc-var">listn</span><span> </span><span class="coqdoc-var">n</span><span>) =&gt;</span><span>
 </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">a</span><span>, </span><span class="coqdoc-var">b</span><span> </span><span class="coqdoc-keyword">with</span><span>
 | </span><span class="coqdoc-var">niln</span><span>, </span><span class="coqdoc-var">b0</span><span> =&gt; </span><span class="coqdoc-var">tt</span><span>
 | </span><span class="coqdoc-var">consn</span><span> </span><span class="coqdoc-var">n'</span><span> </span><span class="coqdoc-var">a</span><span> </span><span class="coqdoc-var">y</span><span>, </span><span class="coqdoc-var">bS</span><span> =&gt; </span><span class="coqdoc-var">tt</span><span>
 </span><span class="coqdoc-keyword">end</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span class="ansi-bold">fun</span><span> (n : nat) (a _ : listn n) =&gt; </span><span class="ansi-bold">match</span><span> a </span><span class="ansi-bold">with</span><span>
                                 | niln | _ =&gt; tt
                                 </span><span class="ansi-bold">end</span><span>
     : </span><span class="ansi-bold">forall</span><span> n : nat, listn n</span><span> -&gt;</span><span> listn n</span><span> -&gt;</span><span> unit
</span></dd>
</dl>
</div>
<p>we have a copy of <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">b</span></span></code> in type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">listn</span></span> <span class="literal number integer"><span class="pre">0</span></span></code> resp. <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">listn</span></span> <span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">S</span></span> <span class="name"><span class="pre">n'</span></span><span class="operator"><span class="pre">)</span></span></code>.</p>
</div>
<div class="section" id="patterns-in-in">
<span id="match-in-patterns"></span><h3>Patterns in <code class="docutils literal notranslate"><span class="pre">in</span></code><a class="headerlink" href="#patterns-in-in" title="Permalink to this headline">¶</a></h3>
<p>If the type of the matched term is more precise than an inductive
applied to variables, arguments of the inductive in the <code class="docutils literal notranslate"><span class="pre">in</span></code> branch can
be more complicated patterns than a variable.</p>
<p>Moreover, constructors whose types do not follow the same pattern will
become impossible branches. In an impossible branch, you can answer
anything but False_rect unit has the advantage to be subterm of
anything.</p>
<p>To be concrete: the <code class="docutils literal notranslate"><span class="pre">tail</span></code> function can be written:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">tail</span><span> </span><span class="coqdoc-var">n</span><span> (</span><span class="coqdoc-var">v</span><span>: </span><span class="coqdoc-var">listn</span><span> (</span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">n</span><span>)) :=</span><span>
  </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">v</span><span> </span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">listn</span><span> (</span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">m</span><span>) </span><span class="coqdoc-keyword">return</span><span> </span><span class="coqdoc-var">listn</span><span> </span><span class="coqdoc-var">m</span><span> </span><span class="coqdoc-keyword">with</span><span>
  | </span><span class="coqdoc-var">niln</span><span> =&gt; </span><span class="coqdoc-var">False_rect</span><span> </span><span class="coqdoc-var">unit</span><span>
  | </span><span class="coqdoc-var">consn</span><span> </span><span class="coqdoc-var">n'</span><span> </span><span class="coqdoc-var">a</span><span> </span><span class="coqdoc-var">y</span><span> =&gt; </span><span class="coqdoc-var">y</span><span>
  </span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>tail is defined
</span></dd>
</dl>
</div>
<p>and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">tail</span></span> <span class="name"><span class="pre">n</span></span> <span class="name"><span class="pre">v</span></span></code> will be subterm of <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">v</span></span></code>.</p>
</div>
</div>
<div class="section" id="using-pattern-matching-to-write-proofs">
<h2>Using pattern matching to write proofs<a class="headerlink" href="#using-pattern-matching-to-write-proofs" title="Permalink to this headline">¶</a></h2>
<p>In all the previous examples the elimination predicate does not depend
on the object(s) matched. But it may depend and the typical case is
when we write a proof by induction or a function that yields an object
of a dependent type. An example of a proof written using <code class="docutils literal notranslate"><span class="pre">match</span></code> is given
in the description of the tactic <a class="reference internal" href="../../proof-engine/tactics.html#coq:tacn.refine" title="refine"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">refine</span></code></a>.</p>
<p>For example, we can write the function <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">buildlist</span></span></code> that given a natural
number <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">n</span></span></code> builds a list of length <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">n</span></span></code> containing zeros as follows:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Fixpoint</span><span> </span><span class="coqdoc-var">buildlist</span><span> (</span><span class="coqdoc-var">n</span><span>:</span><span class="coqdoc-var">nat</span><span>) : </span><span class="coqdoc-var">listn</span><span> </span><span class="coqdoc-var">n</span><span> :=</span><span>
  </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-keyword">return</span><span> </span><span class="coqdoc-var">listn</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-keyword">with</span><span>
  | </span><span class="coqdoc-var">O</span><span> =&gt; </span><span class="coqdoc-var">niln</span><span>
  | </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">n</span><span> =&gt; </span><span class="coqdoc-var">consn</span><span> </span><span class="coqdoc-var">n</span><span> 0 (</span><span class="coqdoc-var">buildlist</span><span> </span><span class="coqdoc-var">n</span><span>)</span><span>
  </span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>buildlist is defined
buildlist is recursively defined (guarded on 1st argument)
</span></dd>
</dl>
</div>
<p>We can also use multiple patterns. Consider the following definition
of the predicate less-equal <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Le</span></span></code>:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Inductive</span><span> </span><span class="coqdoc-var">LE</span><span> : </span><span class="coqdoc-var">nat</span><span> -&gt; </span><span class="coqdoc-var">nat</span><span> -&gt; </span><span class="coqdoc-keyword">Prop</span><span> :=</span><span>
  | </span><span class="coqdoc-var">LEO</span><span> : </span><span class="coqdoc-keyword">forall</span><span> </span><span class="coqdoc-var">n</span><span>:</span><span class="coqdoc-var">nat</span><span>, </span><span class="coqdoc-var">LE</span><span> 0 </span><span class="coqdoc-var">n</span><span>
  | </span><span class="coqdoc-var">LES</span><span> : </span><span class="coqdoc-keyword">forall</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span>:</span><span class="coqdoc-var">nat</span><span>, </span><span class="coqdoc-var">LE</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span> -&gt; </span><span class="coqdoc-var">LE</span><span> (</span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">n</span><span>) (</span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">m</span><span>).</span><span>
</span></dt><dd class="coqtop-hidden"><span>LE is defined
LE_ind is defined
LE_sind is defined
</span></dd>
</dl>
</div>
<p>We can use multiple patterns to write the proof of the lemma
<code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">forall</span></span> <span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">n</span></span> <span class="name"><span class="pre">m</span></span><span class="operator"><span class="pre">:</span></span><span class="name"><span class="pre">nat</span></span><span class="operator"><span class="pre">),</span></span> <span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">LE</span></span> <span class="name"><span class="pre">n</span></span> <span class="name"><span class="pre">m</span></span><span class="operator"><span class="pre">)</span></span> <span class="operator"><span class="pre">\/</span></span> <span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">LE</span></span> <span class="name"><span class="pre">m</span></span> <span class="name"><span class="pre">n</span></span><span class="operator"><span class="pre">)</span></span></code>:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Fixpoint</span><span> </span><span class="coqdoc-var">dec</span><span> (</span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span>:</span><span class="coqdoc-var">nat</span><span>) {</span><span class="coqdoc-keyword">struct</span><span> </span><span class="coqdoc-var">n</span><span>} : </span><span class="coqdoc-var">LE</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span> \/ </span><span class="coqdoc-var">LE</span><span> </span><span class="coqdoc-var">m</span><span> </span><span class="coqdoc-var">n</span><span> :=</span><span>
  </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">n</span><span>, </span><span class="coqdoc-var">m</span><span> </span><span class="coqdoc-keyword">return</span><span> </span><span class="coqdoc-var">LE</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span> \/ </span><span class="coqdoc-var">LE</span><span> </span><span class="coqdoc-var">m</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-keyword">with</span><span>
  | </span><span class="coqdoc-var">O</span><span>, </span><span class="coqdoc-var">x</span><span> =&gt; </span><span class="coqdoc-var">or_introl</span><span> (</span><span class="coqdoc-var">LE</span><span> </span><span class="coqdoc-var">x</span><span> 0) (</span><span class="coqdoc-var">LEO</span><span> </span><span class="coqdoc-var">x</span><span>)</span><span>
  | </span><span class="coqdoc-var">x</span><span>, </span><span class="coqdoc-var">O</span><span> =&gt; </span><span class="coqdoc-var">or_intror</span><span> (</span><span class="coqdoc-var">LE</span><span> </span><span class="coqdoc-var">x</span><span> 0) (</span><span class="coqdoc-var">LEO</span><span> </span><span class="coqdoc-var">x</span><span>)</span><span>
  | </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-keyword">as</span><span> </span><span class="coqdoc-var">n'</span><span>, </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">m</span><span> </span><span class="coqdoc-keyword">as</span><span> </span><span class="coqdoc-var">m'</span><span> =&gt;</span><span>
      </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">dec</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span> </span><span class="coqdoc-keyword">with</span><span>
      | </span><span class="coqdoc-var">or_introl</span><span> </span><span class="coqdoc-var">h</span><span> =&gt; </span><span class="coqdoc-var">or_introl</span><span> (</span><span class="coqdoc-var">LE</span><span> </span><span class="coqdoc-var">m'</span><span> </span><span class="coqdoc-var">n'</span><span>) (</span><span class="coqdoc-var">LES</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span> </span><span class="coqdoc-var">h</span><span>)</span><span>
      | </span><span class="coqdoc-var">or_intror</span><span> </span><span class="coqdoc-var">h</span><span> =&gt; </span><span class="coqdoc-var">or_intror</span><span> (</span><span class="coqdoc-var">LE</span><span> </span><span class="coqdoc-var">n'</span><span> </span><span class="coqdoc-var">m'</span><span>) (</span><span class="coqdoc-var">LES</span><span> </span><span class="coqdoc-var">m</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">h</span><span>)</span><span>
      </span><span class="coqdoc-keyword">end</span><span>
  </span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>dec is defined
dec is recursively defined (guarded on 1st argument)
</span></dd>
</dl>
</div>
<p>In the example of <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">dec</span></span></code>, the first match is dependent while the second
is not.</p>
<p>The user can also use match in combination with the tactic <a class="reference internal" href="../../proof-engine/tactics.html#coq:tacn.refine" title="refine"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">refine</span></code></a>
to build incomplete proofs beginning with a <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">match</span></span></code> construction.</p>
</div>
<div class="section" id="pattern-matching-on-inductive-objects-involving-local-definitions">
<h2>Pattern-matching on inductive objects involving local definitions<a class="headerlink" href="#pattern-matching-on-inductive-objects-involving-local-definitions" title="Permalink to this headline">¶</a></h2>
<p>If local definitions (<code class="docutils literal notranslate"><span class="pre">let</span> <span class="pre">:=</span></code>) occur in the type of a constructor, then there
are two ways to match on this constructor. Either the local
definitions are skipped and matching is done only on the true
arguments of the constructors, or the bindings for local definitions
can also be caught in the matching.</p>
<div class="admonition note">
<p class="admonition-title">Example</p>
<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl>
<dt><span></span><span class="coqdoc-keyword">Inductive</span><span> </span><span class="coqdoc-var">list</span><span> : </span><span class="coqdoc-var">nat</span><span> -&gt; </span><span class="coqdoc-keyword">Set</span><span> :=</span><span>
| </span><span class="coqdoc-var">nil</span><span> : </span><span class="coqdoc-var">list</span><span> 0</span><span>
| </span><span class="coqdoc-var">cons</span><span> : </span><span class="coqdoc-keyword">forall</span><span> </span><span class="coqdoc-var">n</span><span>:</span><span class="coqdoc-var">nat</span><span>, </span><span class="coqdoc-keyword">let</span><span> </span><span class="coqdoc-var">m</span><span> := (2 * </span><span class="coqdoc-var">n</span><span>) </span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">list</span><span> </span><span class="coqdoc-var">m</span><span> -&gt; </span><span class="coqdoc-var">list</span><span> (</span><span class="coqdoc-var">S</span><span> (</span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">m</span><span>)).</span><span>
</span></dt><dd class="coqtop-hidden"><span>list is defined
list_rect is defined
list_ind is defined
list_rec is defined
list_sind is defined
</span></dd>
</dl>
</div>
<p>In the next example, the local definition is not caught.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Fixpoint</span><span> </span><span class="coqdoc-var">length</span><span> </span><span class="coqdoc-var">n</span><span> (</span><span class="coqdoc-var">l</span><span>:</span><span class="coqdoc-var">list</span><span> </span><span class="coqdoc-var">n</span><span>) {</span><span class="coqdoc-keyword">struct</span><span> </span><span class="coqdoc-var">l</span><span>} : </span><span class="coqdoc-var">nat</span><span> :=</span><span>
  </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">l</span><span> </span><span class="coqdoc-keyword">with</span><span>
  | </span><span class="coqdoc-var">nil</span><span> =&gt; 0</span><span>
  | </span><span class="coqdoc-var">cons</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">l0</span><span> =&gt; </span><span class="coqdoc-var">S</span><span> (</span><span class="coqdoc-var">length</span><span> (2 * </span><span class="coqdoc-var">n</span><span>) </span><span class="coqdoc-var">l0</span><span>)</span><span>
  </span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>length is defined
length is recursively defined (guarded on 2nd argument)
</span></dd>
</dl>
</div>
<p>But in this example, it is.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Fixpoint</span><span> </span><span class="coqdoc-var">length'</span><span> </span><span class="coqdoc-var">n</span><span> (</span><span class="coqdoc-var">l</span><span>:</span><span class="coqdoc-var">list</span><span> </span><span class="coqdoc-var">n</span><span>) {</span><span class="coqdoc-keyword">struct</span><span> </span><span class="coqdoc-var">l</span><span>} : </span><span class="coqdoc-var">nat</span><span> :=</span><span>
  </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">l</span><span> </span><span class="coqdoc-keyword">with</span><span>
  | </span><span class="coqdoc-var">nil</span><span> =&gt; 0</span><span>
  | &#64;</span><span class="coqdoc-var">cons</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">m</span><span> </span><span class="coqdoc-var">l0</span><span> =&gt; </span><span class="coqdoc-var">S</span><span> (</span><span class="coqdoc-var">length'</span><span> </span><span class="coqdoc-var">m</span><span> </span><span class="coqdoc-var">l0</span><span>)</span><span>
  </span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>length' is defined
length' is recursively defined (guarded on 2nd argument)
</span></dd>
</dl>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For a given matching clause, either none of the local
definitions or all of them can be caught.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can only catch let bindings in mode where you bind all
variables and so you have to use <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> syntax.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>this feature is incoherent with the fact that parameters
cannot be caught and consequently is somehow hidden. For example,
there is no mention of it in error messages.</p>
</div>
</div>
<div class="section" id="pattern-matching-and-coercions">
<h2>Pattern-matching and coercions<a class="headerlink" href="#pattern-matching-and-coercions" title="Permalink to this headline">¶</a></h2>
<p>If a mismatch occurs between the expected type of a pattern and its
actual type, a coercion made from constructors is sought. If such a
coercion can be found, it is automatically inserted around the
pattern.</p>
<div class="admonition note">
<p class="admonition-title">Example</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Inductive</span><span> </span><span class="coqdoc-var">I</span><span> : </span><span class="coqdoc-keyword">Set</span><span> :=</span><span>
  | </span><span class="coqdoc-var">C1</span><span> : </span><span class="coqdoc-var">nat</span><span> -&gt; </span><span class="coqdoc-var">I</span><span>
  | </span><span class="coqdoc-var">C2</span><span> : </span><span class="coqdoc-var">I</span><span> -&gt; </span><span class="coqdoc-var">I</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>I is defined
I_rect is defined
I_ind is defined
I_rec is defined
I_sind is defined
</span></dd>
<dt><span></span><span>
</span><span class="coqdoc-keyword">Coercion</span><span> </span><span class="coqdoc-var">C1</span><span> : </span><span class="coqdoc-var">nat</span><span> &gt;-&gt; </span><span class="coqdoc-var">I</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>C1 is now a coercion
</span></dd>
</dl>
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Check</span><span> (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">x</span><span> =&gt; </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-keyword">with</span><span>
                | </span><span class="coqdoc-var">C2</span><span> </span><span class="coqdoc-var">O</span><span> =&gt; 0</span><span>
                | </span><span class="coqdoc-var">_</span><span> =&gt; 0</span><span>
                </span><span class="coqdoc-keyword">end</span><span>).</span><span>
</span></dt><dd><span class="ansi-bold">fun</span><span> x : I =&gt; </span><span class="ansi-bold">match</span><span> x </span><span class="ansi-bold">with</span><span>
             | C1 _ | _ =&gt; 0
             </span><span class="ansi-bold">end</span><span>
     : I</span><span> -&gt;</span><span> nat
</span></dd>
</dl>
</div>
</div>
</div>
<div class="section" id="when-does-the-expansion-strategy-fail">
<h2>When does the expansion strategy fail?<a class="headerlink" href="#when-does-the-expansion-strategy-fail" title="Permalink to this headline">¶</a></h2>
<p>The strategy works very like in ML languages when treating patterns of
non-dependent types. But there are new cases of failure that are due to
the presence of dependencies.</p>
<p>The error messages of the current implementation may be sometimes
confusing. When the tactic fails because patterns are somehow
incorrect then error messages refer to the initial expression. But the
strategy may succeed to build an expression whose sub-expressions are
well typed when the whole expression is not. In this situation the
message makes reference to the expanded expression. We encourage
users, when they have patterns with the same outer constructor in
different equations, to name the variable patterns in the same
positions with the same name. E.g. to write <code class="docutils literal notranslate"><span class="pre">(cons</span> <span class="pre">n</span> <span class="pre">O</span> <span class="pre">x)</span> <span class="pre">=&gt;</span> <span class="pre">e1</span></code> and
<code class="docutils literal notranslate"><span class="pre">(cons</span> <span class="pre">n</span> <span class="pre">_</span> <span class="pre">x)</span> <span class="pre">=&gt;</span> <span class="pre">e2</span></code> instead of <code class="docutils literal notranslate"><span class="pre">(cons</span> <span class="pre">n</span> <span class="pre">O</span> <span class="pre">x)</span> <span class="pre">=&gt;</span> <span class="pre">e1</span></code> and
<code class="docutils literal notranslate"><span class="pre">(cons</span> <span class="pre">n'</span> <span class="pre">_</span> <span class="pre">x')</span> <span class="pre">=&gt;</span> <span class="pre">e2</span></code>. This helps to maintain certain name correspondence between the
generated expression and the original.</p>
<p>Here is a summary of the error messages corresponding to each
situation:</p>
<dl class="coq exn">
<dt id="coq:exn.The-constructor-‘ident’-expects-‘natural’-arguments">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span><span>The</span></span> <span><span>constructor</span></span> <a class="reference internal" href="../core/basic.html#grammar-token-ident"><span class="hole">ident</span></a> <span><span>expects</span></span> <a class="reference internal" href="../core/basic.html#grammar-token-natural"><span class="hole">natural</span></a> <span><span>arguments.</span></span></span></code><a class="headerlink" href="#coq:exn.The-constructor-‘ident’-expects-‘natural’-arguments" title="Permalink to this definition">¶</a></dt>
<dt id="coq:exn.The-variable-ident-is-bound-several-times-in-pattern-term">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span><span>The</span></span> <span><span>variable</span></span> <span><span>ident</span></span> <span><span>is</span></span> <span><span>bound</span></span> <span><span>several</span></span> <span><span>times</span></span> <span><span>in</span></span> <span><span>pattern</span></span> <span><span>term</span></span></span></code><a class="headerlink" href="#coq:exn.The-variable-ident-is-bound-several-times-in-pattern-term" title="Permalink to this definition">¶</a></dt>
<dt id="coq:exn.Found-a-constructor-of-inductive-type-term-while-a-constructor-of-term-is-expected">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span><span>Found</span></span> <span><span>a</span></span> <span><span>constructor</span></span> <span><span>of</span></span> <span><span>inductive</span></span> <span><span>type</span></span> <span><span>term</span></span> <span><span>while</span></span> <span><span>a</span></span> <span><span>constructor</span></span> <span><span>of</span></span> <span><span>term</span></span> <span><span>is</span></span> <span><span>expected</span></span></span></code><a class="headerlink" href="#coq:exn.Found-a-constructor-of-inductive-type-term-while-a-constructor-of-term-is-expected" title="Permalink to this definition">¶</a></dt>
<dd><p>Patterns are incorrect (because constructors are not applied to the correct number of
arguments, because they are not linear or they are wrongly typed).</p>
</dd></dl>

<dl class="coq exn">
<dt id="coq:exn.Non-exhaustive-pattern-matching">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span><span>Non</span></span> <span><span>exhaustive</span></span> <span><span>pattern</span></span> <span><span>matching.</span></span></span></code><a class="headerlink" href="#coq:exn.Non-exhaustive-pattern-matching" title="Permalink to this definition">¶</a></dt>
<dd><p>The pattern matching is not exhaustive.</p>
</dd></dl>

<dl class="coq exn">
<dt id="coq:exn.The-elimination-predicate-term-should-be-of-arity-‘natural’-(for-non-dependent-case)-or-‘natural’-(for-dependent-case)">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span><span>The</span></span> <span><span>elimination</span></span> <span><span>predicate</span></span> <span><span>term</span></span> <span><span>should</span></span> <span><span>be</span></span> <span><span>of</span></span> <span><span>arity</span></span> <a class="reference internal" href="../core/basic.html#grammar-token-natural"><span class="hole">natural</span></a> <span><span>(for</span></span> <span><span>non</span></span> <span><span>dependent</span></span> <span><span>case)</span></span> <span><span>or</span></span> <a class="reference internal" href="../core/basic.html#grammar-token-natural"><span class="hole">natural</span></a> <span><span>(for</span></span> <span><span>dependent</span></span> <span><span>case).</span></span></span></code><a class="headerlink" href="#coq:exn.The-elimination-predicate-term-should-be-of-arity-‘natural’-(for-non-dependent-case)-or-‘natural’-(for-dependent-case)" title="Permalink to this definition">¶</a></dt>
<dd><p>The elimination predicate provided to match has not the expected arity.</p>
</dd></dl>

<dl class="coq exn">
<dt id="coq:exn.Unable-to-infer-a-match-predicate">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span><span>Unable</span></span> <span><span>to</span></span> <span><span>infer</span></span> <span><span>a</span></span> <span><span>match</span></span> <span><span>predicate</span></span></span></code><a class="headerlink" href="#coq:exn.Unable-to-infer-a-match-predicate" title="Permalink to this definition">¶</a></dt>
<dt id="coq:exn.Either-there-is-a-type-incompatibility-or-the-problem-involves-dependencies">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span><span>Either</span></span> <span><span>there</span></span> <span><span>is</span></span> <span><span>a</span></span> <span><span>type</span></span> <span><span>incompatibility</span></span> <span><span>or</span></span> <span><span>the</span></span> <span><span>problem</span></span> <span><span>involves</span></span> <span><span>dependencies.</span></span></span></code><a class="headerlink" href="#coq:exn.Either-there-is-a-type-incompatibility-or-the-problem-involves-dependencies" title="Permalink to this definition">¶</a></dt>
<dd><p>There is a type mismatch between the different branches. The user should
provide an elimination predicate.</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../user-extensions/syntax-extensions.html" class="btn btn-neutral float-right" title="Syntax extensions and notation scopes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="implicit-arguments.html" class="btn btn-neutral float-left" title="Implicit arguments" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 1999-2021, Inria, CNRS and contributors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  




  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Other versions</span>
      v: 8.17.1
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="https://coq.github.io/doc/master/refman/">dev</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/current/refman/">stable</a></dd>
        
          <dd><a href="https://coq.github.io/doc/v8.17/refman/">8.17</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.16.1/refman/">8.16</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.15.2/refman/">8.15</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.14.1/refman/">8.14</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.13.2/refman/">8.13</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.12.2/refman/">8.12</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.11.2/refman/">8.11</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.10.2/refman/">8.10</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.9.1/refman/">8.9</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.8.2/refman/">8.8</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.7.2/refman/">8.7</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.6.1/refman/">8.6</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.5pl3/refman/">8.5</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.4pl6/refman/">8.4</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.3pl5/refman/">8.3</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.2pl3/refman/">8.2</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.1pl6/refman/">8.1</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.0/doc/">8.0</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="https://github.com/coq/coq/releases/download/V8.17.1/coq-8.17.1-reference-manual.pdf">PDF</a></dd>
        
      </dl>
    </div>
  </div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>