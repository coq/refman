

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Recent changes &mdash; Coq 8.17.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/notations.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/ansi.css" type="text/css" />
  <link rel="stylesheet" href="_static/coqdoc.css" type="text/css" />
  <link rel="stylesheet" href="_static/notations.css" type="text/css" />
  <link rel="stylesheet" href="_static/pre-text.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Indexes" href="appendix/indexes/index.html" />
    <link rel="prev" title="Early history of Coq" href="history.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Coq
          

          
          </a>

          
            
            
              <div class="version">
                8.17.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Introduction and Contents</a></li>
</ul>
<p class="caption"><span class="caption-text">Specification language</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="language/core/index.html">Core language</a><ul>
<li class="toctree-l2"><a class="reference internal" href="language/core/basic.html">Basic notions and conventions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="language/core/basic.html#syntax-and-lexical-conventions">Syntax and lexical conventions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="language/core/basic.html#syntax-conventions">Syntax conventions</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/core/basic.html#lexical-conventions">Lexical conventions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="language/core/basic.html#essential-vocabulary">Essential vocabulary</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/basic.html#settings">Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="language/core/basic.html#attributes">Attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/core/basic.html#flags-options-and-tables">Flags, Options and Tables</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="language/core/sorts.html">Sorts</a></li>
<li class="toctree-l2"><a class="reference internal" href="language/core/assumptions.html">Functions and assumptions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="language/core/assumptions.html#binders">Binders</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/assumptions.html#functions-fun-and-function-types-forall">Functions (fun) and function types (forall)</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/assumptions.html#function-application">Function application</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/assumptions.html#assumptions">Assumptions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="language/core/definitions.html">Definitions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="language/core/definitions.html#let-in-definitions">Let-in definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/definitions.html#type-cast">Type cast</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/definitions.html#top-level-definitions">Top-level definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/definitions.html#assertions-and-proofs">Assertions and proofs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="language/core/conversion.html">Conversion rules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="language/core/conversion.html#conversion">α-conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/conversion.html#reduction">β-reduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/conversion.html#delta-reduction-sect">δ-reduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/conversion.html#id4">ι-reduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/conversion.html#id7">ζ-reduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/conversion.html#expansion">η-expansion</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/conversion.html#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/conversion.html#proof-irrelevance">Proof Irrelevance</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/conversion.html#convertibility">Convertibility</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="language/cic.html">Typing rules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="language/cic.html#the-terms">The terms</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/cic.html#id6">Typing rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/cic.html#subtyping-rules">Subtyping rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/cic.html#admissible-rules-for-global-environments">Admissible rules for global environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/cic.html#the-calculus-of-inductive-constructions-with-impredicative-set">The Calculus of Inductive Constructions with impredicative Set</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="language/core/variants.html">Variants and the <code class="docutils literal notranslate"><span class="pre">match</span></code> construct</a><ul>
<li class="toctree-l3"><a class="reference internal" href="language/core/variants.html#id1">Variants</a><ul>
<li class="toctree-l4"><a class="reference internal" href="language/core/variants.html#private-matching-inductive-types">Private (matching) inductive types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="language/core/variants.html#definition-by-cases-match">Definition by cases: match</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="language/core/records.html">Record types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="language/core/records.html#defining-record-types">Defining record types</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/records.html#constructing-records">Constructing records</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/records.html#accessing-fields-projections">Accessing fields (projections)</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/records.html#settings-for-printing-records">Settings for printing records</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/records.html#primitive-projections">Primitive Projections</a><ul>
<li class="toctree-l4"><a class="reference internal" href="language/core/records.html#reduction">Reduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/core/records.html#compatibility-projections-and-match">Compatibility Projections and <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">match</span></span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="language/core/inductive.html">Inductive types and recursive functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="language/core/inductive.html#inductive-types">Inductive types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="language/core/inductive.html#simple-inductive-types">Simple inductive types</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/core/inductive.html#simple-annotated-inductive-types">Simple annotated inductive types</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/core/inductive.html#parameterized-inductive-types">Parameterized inductive types</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/core/inductive.html#mutually-defined-inductive-types">Mutually defined inductive types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="language/core/inductive.html#recursive-functions-fix">Recursive functions: fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/inductive.html#top-level-recursive-functions">Top-level recursive functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/inductive.html#theory-of-inductive-definitions">Theory of inductive definitions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="language/core/inductive.html#types-of-inductive-objects">Types of inductive objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/core/inductive.html#well-formed-inductive-definitions">Well-formed inductive definitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/core/inductive.html#destructors">Destructors</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/core/inductive.html#fixpoint-definitions">Fixpoint definitions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="language/core/coinductive.html">Coinductive types and corecursive functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="language/core/coinductive.html#coinductive-types">Coinductive types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="language/core/coinductive.html#caveat">Caveat</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="language/core/coinductive.html#co-recursive-functions-cofix">Co-recursive functions: cofix</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/coinductive.html#top-level-definitions-of-corecursive-functions">Top-level definitions of corecursive functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="language/core/sections.html">Section mechanism</a></li>
<li class="toctree-l2"><a class="reference internal" href="language/core/modules.html">The Module System</a><ul>
<li class="toctree-l3"><a class="reference internal" href="language/core/modules.html#modules-and-module-types">Modules and module types</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/modules.html#using-modules">Using modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="language/core/modules.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="language/core/modules.html#typing-modules">Typing Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/modules.html#qualified-names">Qualified names</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/modules.html#controlling-the-scope-of-commands-with-locality-attributes">Controlling the scope of commands with locality attributes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="language/core/primitive.html">Primitive objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="language/core/primitive.html#primitive-integers">Primitive Integers</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/primitive.html#primitive-floats">Primitive Floats</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/core/primitive.html#primitive-arrays">Primitive Arrays</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="addendum/universe-polymorphism.html">Polymorphic Universes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="addendum/universe-polymorphism.html#general-presentation">General Presentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/universe-polymorphism.html#polymorphic-monomorphic">Polymorphic, Monomorphic</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/universe-polymorphism.html#cumulative-noncumulative">Cumulative, NonCumulative</a><ul>
<li class="toctree-l4"><a class="reference internal" href="addendum/universe-polymorphism.html#specifying-cumulativity">Specifying cumulativity</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/universe-polymorphism.html#cumulativity-weak-constraints">Cumulativity Weak Constraints</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="addendum/universe-polymorphism.html#global-and-local-universes">Global and local universes</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/universe-polymorphism.html#conversion-and-unification">Conversion and unification</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/universe-polymorphism.html#minimization">Minimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/universe-polymorphism.html#explicit-universes">Explicit Universes</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/universe-polymorphism.html#printing-universes">Printing universes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="addendum/universe-polymorphism.html#polymorphic-definitions">Polymorphic definitions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="addendum/universe-polymorphism.html#universe-polymorphism-and-sections">Universe polymorphism and sections</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="addendum/sprop.html">SProp (proof irrelevant propositions)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="addendum/sprop.html#basic-constructs">Basic constructs</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/sprop.html#encodings-for-strict-propositions">Encodings for strict propositions</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/sprop.html#definitional-uip">Definitional UIP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="addendum/sprop.html#non-termination-with-uip">Non Termination with UIP</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="addendum/sprop.html#issues-with-non-cumulativity">Issues with non-cumulativity</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="language/extensions/index.html">Language extensions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="language/extensions/evars.html">Existential variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/evars.html#inferable-subterms">Inferable subterms</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/evars.html#e-tactics-that-can-create-existential-variables">e* tactics that can create existential variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/evars.html#automatic-resolution-of-existential-variables">Automatic resolution of existential variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/evars.html#explicit-display-of-existential-instances-for-pretty-printing">Explicit display of existential instances for pretty-printing</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/evars.html#solving-existential-variables-using-tactics">Solving existential variables using tactics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="language/extensions/implicit-arguments.html">Implicit arguments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/implicit-arguments.html#the-different-kinds-of-implicit-arguments">The different kinds of implicit arguments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/implicit-arguments.html#implicit-arguments-inferable-from-the-knowledge-of-other-arguments-of-a-function">Implicit arguments inferable from the knowledge of other arguments of a function</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/implicit-arguments.html#implicit-arguments-inferable-by-resolution">Implicit arguments inferable by resolution</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/implicit-arguments.html#maximal-and-non-maximal-insertion-of-implicit-arguments">Maximal and non-maximal insertion of implicit arguments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/implicit-arguments.html#trailing-implicit-arguments">Trailing Implicit Arguments</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/implicit-arguments.html#casual-use-of-implicit-arguments">Casual use of implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/implicit-arguments.html#declaration-of-implicit-arguments">Declaration of implicit arguments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/implicit-arguments.html#implicit-argument-binders">Implicit Argument Binders</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/implicit-arguments.html#mode-for-automatic-declaration-of-implicit-arguments">Mode for automatic declaration of implicit arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/implicit-arguments.html#controlling-strict-implicit-arguments">Controlling strict implicit arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/implicit-arguments.html#controlling-contextual-implicit-arguments">Controlling contextual implicit arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/implicit-arguments.html#controlling-reversible-pattern-implicit-arguments">Controlling reversible-pattern implicit arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/implicit-arguments.html#controlling-the-insertion-of-implicit-arguments-not-followed-by-explicit-arguments">Controlling the insertion of implicit arguments not followed by explicit arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/implicit-arguments.html#combining-manual-declaration-and-automatic-declaration">Combining manual declaration and automatic declaration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/implicit-arguments.html#explicit-applications">Explicit applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/implicit-arguments.html#displaying-implicit-arguments">Displaying implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/implicit-arguments.html#displaying-implicit-arguments-when-pretty-printing">Displaying implicit arguments when pretty-printing</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/implicit-arguments.html#interaction-with-subtyping">Interaction with subtyping</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/implicit-arguments.html#deactivation-of-implicit-arguments-for-parsing">Deactivation of implicit arguments for parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/implicit-arguments.html#implicit-types-of-variables">Implicit types of variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/implicit-arguments.html#implicit-generalization">Implicit generalization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="language/extensions/match.html">Extended pattern matching</a><ul>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/match.html#variants-and-extensions-of-match">Variants and extensions of <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">match</span></span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/match.html#multiple-and-nested-pattern-matching">Multiple and nested pattern matching</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/match.html#pattern-matching-on-boolean-values-the-if-expression">Pattern-matching on boolean values: the if expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/match.html#irrefutable-patterns-the-destructuring-let-variants">Irrefutable patterns: the destructuring let variants</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/match.html#controlling-pretty-printing-of-match-expressions">Controlling pretty-printing of match expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/match.html#conventions-about-unused-pattern-matching-variables">Conventions about unused pattern-matching variables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/match.html#patterns">Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/match.html#multiple-patterns">Multiple patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/match.html#aliasing-subpatterns">Aliasing subpatterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/match.html#nested-patterns">Nested patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/match.html#disjunctive-patterns">Disjunctive patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/match.html#about-patterns-of-parametric-types">About patterns of parametric types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/match.html#parameters-in-patterns">Parameters in patterns</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/match.html#implicit-arguments-in-patterns">Implicit arguments in patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/match.html#matching-objects-of-dependent-types">Matching objects of dependent types</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/match.html#understanding-dependencies-in-patterns">Understanding dependencies in patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/match.html#when-the-elimination-predicate-must-be-provided">When the elimination predicate must be provided</a><ul>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/match.html#dependent-pattern-matching">Dependent pattern matching</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/match.html#multiple-dependent-pattern-matching">Multiple dependent pattern matching</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/match.html#patterns-in-in">Patterns in <code class="docutils literal notranslate"><span class="pre">in</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/match.html#using-pattern-matching-to-write-proofs">Using pattern matching to write proofs</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/match.html#pattern-matching-on-inductive-objects-involving-local-definitions">Pattern-matching on inductive objects involving local definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/match.html#pattern-matching-and-coercions">Pattern-matching and coercions</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/match.html#when-does-the-expansion-strategy-fail">When does the expansion strategy fail?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="user-extensions/syntax-extensions.html">Syntax extensions and notation scopes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="user-extensions/syntax-extensions.html#notations">Notations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#basic-notations">Basic notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#precedences-and-associativity">Precedences and associativity</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#complex-notations">Complex notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#simple-factorization-rules">Simple factorization rules</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#use-of-notations-for-printing">Use of notations for printing</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#the-infix-command">The Infix command</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#reserving-notations">Reserving notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#simultaneous-definition-of-terms-and-notations">Simultaneous definition of terms and notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#enabling-and-disabling-notations">Enabling and disabling notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#displaying-information-about-notations">Displaying information about notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#locating-notations">Locating notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#inheritance-of-the-properties-of-arguments-of-constants-bound-to-a-notation">Inheritance of the properties of arguments of constants bound to a notation</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#notations-and-binders">Notations and binders</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#notations-with-recursive-patterns">Notations with recursive patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#notations-with-recursive-patterns-involving-binders">Notations with recursive patterns involving binders</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#predefined-entries">Predefined entries</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#custom-entries">Custom entries</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#syntax">Syntax</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="user-extensions/syntax-extensions.html#notation-scopes">Notation scopes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#global-interpretation-rules-for-notations">Global interpretation rules for notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#local-interpretation-rules-for-notations">Local interpretation rules for notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#the-type-scope-notation-scope">The <code class="docutils literal notranslate"><span class="pre">type_scope</span></code> notation scope</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#the-function-scope-notation-scope">The <code class="docutils literal notranslate"><span class="pre">function_scope</span></code> notation scope</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#notation-scopes-used-in-the-standard-library-of-coq">Notation scopes used in the standard library of Coq</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#displaying-information-about-scopes">Displaying information about scopes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="user-extensions/syntax-extensions.html#abbreviations">Abbreviations</a></li>
<li class="toctree-l3"><a class="reference internal" href="user-extensions/syntax-extensions.html#numbers-and-strings">Numbers and strings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#number-notations">Number notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-extensions/syntax-extensions.html#string-notations">String notations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="user-extensions/syntax-extensions.html#tactic-notations">Tactic Notations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="language/extensions/arguments-command.html">Setting properties of a function's arguments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/arguments-command.html#manual-declaration-of-implicit-arguments">Manual declaration of implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/arguments-command.html#automatic-declaration-of-implicit-arguments">Automatic declaration of implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/arguments-command.html#renaming-implicit-arguments">Renaming implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/arguments-command.html#binding-arguments-to-scopes">Binding arguments to scopes</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/arguments-command.html#effects-of-arguments-on-unfolding">Effects of <code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Arguments</span></code> on unfolding</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/arguments-command.html#bidirectionality-hints">Bidirectionality hints</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="addendum/implicit-coercions.html">Implicit Coercions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="addendum/implicit-coercions.html#general-presentation">General Presentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/implicit-coercions.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/implicit-coercions.html#id1">Coercions</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/implicit-coercions.html#reversible-coercions">Reversible Coercions</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/implicit-coercions.html#identity-coercions">Identity Coercions</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/implicit-coercions.html#inheritance-graph">Inheritance Graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/implicit-coercions.html#declaring-coercions">Declaring Coercions</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/implicit-coercions.html#displaying-available-coercions">Displaying Available Coercions</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/implicit-coercions.html#activating-the-printing-of-coercions">Activating the Printing of Coercions</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/implicit-coercions.html#classes-as-records">Classes as Records</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/implicit-coercions.html#coercions-and-sections">Coercions and Sections</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/implicit-coercions.html#coercions-and-modules">Coercions and Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/implicit-coercions.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="addendum/type-classes.html">Typeclasses</a><ul>
<li class="toctree-l3"><a class="reference internal" href="addendum/type-classes.html#class-and-instance-declarations">Class and Instance declarations</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/type-classes.html#binding-classes">Binding classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/type-classes.html#parameterized-instances">Parameterized Instances</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/type-classes.html#sections-and-contexts">Sections and contexts</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/type-classes.html#building-hierarchies">Building hierarchies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="addendum/type-classes.html#superclasses">Superclasses</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/type-classes.html#substructures">Substructures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="addendum/type-classes.html#summary-of-the-commands">Summary of the commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="addendum/type-classes.html#typeclasses-transparent-typeclasses-opaque">Typeclasses Transparent, Typeclasses Opaque</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/type-classes.html#settings">Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/type-classes.html#typeclasses-eauto">Typeclasses eauto</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="language/extensions/canonical.html">Canonical Structures</a><ul>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/canonical.html#declaration-of-canonical-structures">Declaration of canonical structures</a></li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/canonical.html#notation-overloading">Notation overloading</a><ul>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/canonical.html#derived-canonical-structures">Derived Canonical Structures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="language/extensions/canonical.html#hierarchy-of-structures">Hierarchy of structures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="language/extensions/canonical.html#compact-declaration-of-canonical-structures">Compact declaration of Canonical Structures</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="addendum/program.html">Program</a><ul>
<li class="toctree-l3"><a class="reference internal" href="addendum/program.html#elaborating-programs">Elaborating programs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="addendum/program.html#syntactic-control-over-equalities">Syntactic control over equalities</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/program.html#program-definition">Program Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/program.html#program-fixpoint">Program Fixpoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/program.html#program-lemma">Program Lemma</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="addendum/program.html#solving-obligations">Solving obligations</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/program.html#frequently-asked-questions">Frequently Asked Questions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="proof-engine/vernacular-commands.html">Commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/vernacular-commands.html#displaying">Displaying</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/vernacular-commands.html#query-commands">Query commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/vernacular-commands.html#requests-to-the-environment">Requests to the environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/vernacular-commands.html#printing-flags">Printing flags</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/vernacular-commands.html#loading-files">Loading files</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/vernacular-commands.html#compiled-files">Compiled files</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/vernacular-commands.html#load-paths">Load paths</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/vernacular-commands.html#extra-dependencies">Extra Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/vernacular-commands.html#backtracking">Backtracking</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/vernacular-commands.html#quitting-and-debugging">Quitting and debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/vernacular-commands.html#controlling-display">Controlling display</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/vernacular-commands.html#printing-constructions-in-full">Printing constructions in full</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/vernacular-commands.html#controlling-typing-flags">Controlling Typing Flags</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/vernacular-commands.html#internal-registration-commands">Internal registration commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/vernacular-commands.html#exposing-constants-to-ocaml-libraries">Exposing constants to OCaml libraries</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/vernacular-commands.html#inlining-hints-for-the-fast-reduction-machines">Inlining hints for the fast reduction machines</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/vernacular-commands.html#registering-primitive-operations">Registering primitive operations</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Proofs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="proofs/writing-proofs/index.html">Basic proof writing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="proofs/writing-proofs/proof-mode.html">Proof mode</a><ul>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/proof-mode.html#proof-state">Proof State</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/proof-mode.html#entering-and-exiting-proof-mode">Entering and exiting proof mode</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proofs/writing-proofs/proof-mode.html#proof-using-options">Proof using options</a></li>
<li class="toctree-l4"><a class="reference internal" href="proofs/writing-proofs/proof-mode.html#name-a-set-of-section-hypotheses-for-proof-using">Name a set of section hypotheses for <code class="docutils literal notranslate"><span class="pre">Proof</span> <span class="pre">using</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/proof-mode.html#proof-modes">Proof modes</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/proof-mode.html#managing-goals">Managing goals</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proofs/writing-proofs/proof-mode.html#focusing-goals">Focusing goals</a></li>
<li class="toctree-l4"><a class="reference internal" href="proofs/writing-proofs/proof-mode.html#shelving-goals">Shelving goals</a></li>
<li class="toctree-l4"><a class="reference internal" href="proofs/writing-proofs/proof-mode.html#reordering-goals">Reordering goals</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/proof-mode.html#proving-a-subgoal-as-a-separate-lemma-abstract">Proving a subgoal as a separate lemma: abstract</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/proof-mode.html#requesting-information">Requesting information</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/proof-mode.html#showing-differences-between-proof-steps">Showing differences between proof steps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proofs/writing-proofs/proof-mode.html#how-to-enable-diffs">How to enable diffs</a></li>
<li class="toctree-l4"><a class="reference internal" href="proofs/writing-proofs/proof-mode.html#how-diffs-are-calculated">How diffs are calculated</a></li>
<li class="toctree-l4"><a class="reference internal" href="proofs/writing-proofs/proof-mode.html#show-proof-differences">&quot;Show Proof&quot; differences</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/proof-mode.html#delaying-solving-unification-constraints">Delaying solving unification constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/proof-mode.html#proof-maintenance">Proof maintenance</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/proof-mode.html#controlling-proof-mode">Controlling proof mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/proof-mode.html#controlling-memory-usage">Controlling memory usage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="proof-engine/tactics.html">Tactics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/tactics.html#common-elements-of-tactics">Common elements of tactics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/tactics.html#reserved-keywords">Reserved keywords</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/tactics.html#invocation-of-tactics">Invocation of tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/tactics.html#bindings">Bindings</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/tactics.html#intro-patterns">Intro patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/tactics.html#occurrence-clauses">Occurrence clauses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/tactics.html#applying-theorems">Applying theorems</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/tactics.html#managing-the-local-context">Managing the local context</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/tactics.html#controlling-the-proof-flow">Controlling the proof flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/tactics.html#classical-tactics">Classical tactics</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/tactics.html#performance-oriented-tactic-variants">Performance-oriented tactic variants</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="proofs/writing-proofs/equality.html">Reasoning with equalities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/equality.html#tactics-for-simple-equalities">Tactics for simple equalities</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/equality.html#rewriting-with-leibniz-and-setoid-equality">Rewriting with Leibniz and setoid equality</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/equality.html#rewriting-with-definitional-equality">Rewriting with definitional equality</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/equality.html#applying-conversion-rules">Applying conversion rules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proofs/writing-proofs/equality.html#fast-reduction-tactics-vm-compute-and-native-compute">Fast reduction tactics: vm_compute and native_compute</a></li>
<li class="toctree-l4"><a class="reference internal" href="proofs/writing-proofs/equality.html#computing-in-a-term-eval-and-eval">Computing in a term: eval and Eval</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/equality.html#controlling-reduction-strategies-and-the-conversion-algorithm">Controlling reduction strategies and the conversion algorithm</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html">Reasoning with inductive types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#applying-constructors">Applying constructors</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#case-analysis">Case analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#induction">Induction</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#equality-of-inductive-types">Equality of inductive types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#helper-tactics">Helper tactics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#generation-of-induction-principles-with-scheme">Generation of induction principles with <code class="docutils literal notranslate"><span class="pre">Scheme</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#automatic-declaration-of-schemes">Automatic declaration of schemes</a></li>
<li class="toctree-l4"><a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#combined-scheme">Combined Scheme</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#generation-of-inversion-principles-with-derive-inversion">Generation of inversion principles with <code class="docutils literal notranslate"><span class="pre">Derive</span></code> <code class="docutils literal notranslate"><span class="pre">Inversion</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#examples-of-dependent-destruction-dependent-induction">Examples of <code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">dependent</span> <span class="pre">destruction</span></code> / <code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">dependent</span> <span class="pre">induction</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#a-larger-example">A larger example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html">The <span class="smallcaps">SSReflect</span> proof language</a><ul>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#introduction">Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#acknowledgments">Acknowledgments</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#usage">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#getting-started">Getting started</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#compatibility-issues">Compatibility issues</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#gallina-extensions">Gallina extensions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#pattern-assignment">Pattern assignment</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#pattern-conditional">Pattern conditional</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#parametric-polymorphism">Parametric polymorphism</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#anonymous-arguments">Anonymous arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#wildcards">Wildcards</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#definitions">Definitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#abbreviations">Abbreviations</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#basic-localization">Basic localization</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#basic-tactics">Basic tactics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#bookkeeping">Bookkeeping</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#the-defective-tactics">The defective tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#discharge">Discharge</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#introduction-in-the-context">Introduction in the context</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#generation-of-equations">Generation of equations</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#type-families">Type families</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#control-flow">Control flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#indentation-and-bullets">Indentation and bullets</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#terminators">Terminators</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#selectors">Selectors</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#iteration">Iteration</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#localization">Localization</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#structure">Structure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#rewriting">Rewriting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#an-extended-rewrite-tactic">An extended rewrite tactic</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#remarks-and-examples">Remarks and examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#rewriting-under-binders">Rewriting under binders</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#locking-unlocking">Locking, unlocking</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#congruence">Congruence</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#contextual-patterns">Contextual patterns</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#syntax">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#matching-contextual-patterns">Matching contextual patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#patterns-for-recurrent-contexts">Patterns for recurrent contexts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#views-and-reflection">Views and reflection</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#interpreting-eliminations">Interpreting eliminations</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#interpreting-assumptions">Interpreting assumptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#interpreting-goals">Interpreting goals</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#boolean-reflection">Boolean reflection</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#the-reflect-predicate">The reflect predicate</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#general-mechanism-for-interpreting-goals-and-assumptions">General mechanism for interpreting goals and assumptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#interpreting-equivalences">Interpreting equivalences</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#declaring-new-hint-views">Declaring new Hint Views</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#multiple-views">Multiple views</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#synopsis-and-index">Synopsis and Index</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#items-and-switches">Items and switches</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#tactics">Tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#tacticals">Tacticals</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#commands">Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ssreflect-proof-language.html#settings">Settings</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="proofs/automatic-tactics/index.html">Automatic solvers and programmable tactics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="proofs/automatic-tactics/logic.html">Solvers for logic and equality</a></li>
<li class="toctree-l2"><a class="reference internal" href="addendum/micromega.html">Micromega: solvers for arithmetic goals over ordered rings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="addendum/micromega.html#short-description-of-the-tactics">Short description of the tactics</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/micromega.html#positivstellensatz-refutations"><em>Positivstellensatz</em> refutations</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/micromega.html#lra-a-decision-procedure-for-linear-real-and-rational-arithmetic"><code class="docutils literal notranslate"><span class="pre">lra</span></code>: a decision procedure for linear real and rational arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/micromega.html#lia-a-tactic-for-linear-integer-arithmetic"><code class="docutils literal notranslate"><span class="pre">lia</span></code>: a tactic for linear integer arithmetic</a><ul>
<li class="toctree-l4"><a class="reference internal" href="addendum/micromega.html#high-level-view-of-lia">High level view of <code class="docutils literal notranslate"><span class="pre">lia</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/micromega.html#cutting-plane-proofs">Cutting plane proofs</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/micromega.html#case-split">Case split</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="addendum/micromega.html#nra-a-proof-procedure-for-non-linear-arithmetic"><code class="docutils literal notranslate"><span class="pre">nra</span></code>: a proof procedure for non-linear arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/micromega.html#nia-a-proof-procedure-for-non-linear-integer-arithmetic"><code class="docutils literal notranslate"><span class="pre">nia</span></code>: a proof procedure for non-linear integer arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/micromega.html#psatz-a-proof-procedure-for-non-linear-arithmetic"><code class="docutils literal notranslate"><span class="pre">psatz</span></code>: a proof procedure for non-linear arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/micromega.html#zify-pre-processing-of-arithmetic-goals"><code class="docutils literal notranslate"><span class="pre">zify</span></code>: pre-processing of arithmetic goals</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="addendum/ring.html">ring and field: solvers for polynomial and rational equations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="addendum/ring.html#what-does-this-tactic-do">What does this tactic do?</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/ring.html#the-variables-map">The variables map</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/ring.html#is-it-automatic">Is it automatic?</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/ring.html#concrete-usage-in-coq">Concrete usage in Coq</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/ring.html#adding-a-ring-structure">Adding a ring structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/ring.html#how-does-it-work">How does it work?</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/ring.html#dealing-with-fields">Dealing with fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/ring.html#adding-a-new-field-structure">Adding a new field structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/ring.html#history-of-ring">History of ring</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/ring.html#discussion">Discussion</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="addendum/nsatz.html">Nsatz: a solver for equalities in integral domains</a><ul>
<li class="toctree-l3"><a class="reference internal" href="addendum/nsatz.html#more-about-nsatz">More about <code class="docutils literal notranslate"><span class="pre">nsatz</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="proofs/automatic-tactics/auto.html">Programmable proof search</a><ul>
<li class="toctree-l3"><a class="reference internal" href="proofs/automatic-tactics/auto.html#hint-databases">Hint databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs/automatic-tactics/auto.html#creating-hint-databases">Creating Hint databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs/automatic-tactics/auto.html#creating-hints">Creating Hints</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs/automatic-tactics/auto.html#hint-databases-defined-in-the-coq-standard-library">Hint databases defined in the Coq standard library</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs/automatic-tactics/auto.html#hint-locality">Hint locality</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs/automatic-tactics/auto.html#setting-implicit-automation-tactics">Setting implicit automation tactics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="addendum/generalized-rewriting.html">Generalized rewriting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="addendum/generalized-rewriting.html#introduction-to-generalized-rewriting">Introduction to generalized rewriting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="addendum/generalized-rewriting.html#relations-and-morphisms">Relations and morphisms</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/generalized-rewriting.html#adding-new-relations-and-morphisms">Adding new relations and morphisms</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/generalized-rewriting.html#rewriting-and-nonreflexive-relations">Rewriting and nonreflexive relations</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/generalized-rewriting.html#rewriting-and-nonsymmetric-relations">Rewriting and nonsymmetric relations</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/generalized-rewriting.html#rewriting-in-ambiguous-setoid-contexts">Rewriting in ambiguous setoid contexts</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/generalized-rewriting.html#rewriting-with-type-valued-relations">Rewriting with <code class="docutils literal notranslate"><span class="pre">Type</span></code> valued relations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="addendum/generalized-rewriting.html#declaring-rewrite-relations">Declaring rewrite relations</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/generalized-rewriting.html#commands-and-tactics">Commands and tactics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="addendum/generalized-rewriting.html#first-class-setoids-and-morphisms">First class setoids and morphisms</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/generalized-rewriting.html#tactics-enabled-on-user-provided-relations">Tactics enabled on user provided relations</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/generalized-rewriting.html#printing-relations-and-morphisms">Printing relations and morphisms</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/generalized-rewriting.html#deprecated-syntax-and-backward-incompatibilities">Deprecated syntax and backward incompatibilities</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="addendum/generalized-rewriting.html#extensions">Extensions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="addendum/generalized-rewriting.html#rewriting-under-binders">Rewriting under binders</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/generalized-rewriting.html#subrelations">Subrelations</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/generalized-rewriting.html#constant-unfolding">Constant unfolding</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="addendum/generalized-rewriting.html#strategies-for-rewriting">Strategies for rewriting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="addendum/generalized-rewriting.html#usage">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/generalized-rewriting.html#definitions">Definitions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="proofs/creating-tactics/index.html">Creating new tactics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="proof-engine/ltac.html">Ltac</a><ul>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac.html#syntax">Syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac.html#values">Values</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#syntactic-values">Syntactic values</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#substitution">Substitution</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#local-definitions-let">Local definitions: let</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#function-construction-and-application">Function construction and application</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#tactics-in-terms">Tactics in terms</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac.html#goal-selectors">Goal selectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac.html#processing-multiple-goals">Processing multiple goals</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac.html#branching-and-backtracking">Branching and backtracking</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac.html#control-flow">Control flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#sequence">Sequence: ;</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#do-loop">Do loop</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#repeat-loop">Repeat loop</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#catching-errors-try">Catching errors: try</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#conditional-branching-tryif">Conditional branching: tryif</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac.html#alternatives">Alternatives</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#branching-with-backtracking">Branching with backtracking: +</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#local-application-of-tactics">Local application of tactics: [&gt; ... ]</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#first-tactic-to-succeed">First tactic to succeed</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#solving">Solving</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#first-tactic-to-make-progress">First tactic to make progress: ||</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#detecting-progress">Detecting progress</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac.html#success-and-failure">Success and failure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#checking-for-success-assert-succeeds">Checking for success: assert_succeeds</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#checking-for-failure-assert-fails">Checking for failure: assert_fails</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#failing">Failing</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#soft-cut-once">Soft cut: once</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#checking-for-a-single-success-exactly-once">Checking for a single success: exactly_once</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac.html#manipulating-values">Manipulating values</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#pattern-matching-on-terms-match">Pattern matching on terms: match</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#pattern-matching-on-goals-and-hypotheses-match-goal">Pattern matching on goals and hypotheses: match goal</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#filling-a-term-context">Filling a term context</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#generating-fresh-hypothesis-names">Generating fresh hypothesis names</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#computing-in-a-term-eval">Computing in a term: eval</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#getting-the-type-of-a-term">Getting the type of a term</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#manipulating-untyped-terms-type-term">Manipulating untyped terms: type_term</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#counting-goals-numgoals">Counting goals: numgoals</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#testing-boolean-expressions-guard">Testing boolean expressions: guard</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#checking-properties-of-terms">Checking properties of terms</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac.html#timing">Timing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#timeout">Timeout</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#timing-a-tactic">Timing a tactic</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#timing-a-tactic-that-evaluates-to-a-term-time-constr">Timing a tactic that evaluates to a term: time_constr</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac.html#print-identity-tactic-idtac">Print/identity tactic: idtac</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac.html#tactic-toplevel-definitions">Tactic toplevel definitions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#defining-ltac-symbols">Defining <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub> symbols</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#printing-ltac-tactics">Printing <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub> tactics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac.html#examples-of-using-ltac">Examples of using <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub></a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#proof-that-the-natural-numbers-have-at-least-two-elements">Proof that the natural numbers have at least two elements</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#proving-that-a-list-is-a-permutation-of-a-second-list">Proving that a list is a permutation of a second list</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#deciding-intuitionistic-propositional-logic">Deciding intuitionistic propositional logic</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#deciding-type-isomorphisms">Deciding type isomorphisms</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac.html#debugging-ltac-tactics">Debugging <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub> tactics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#backtraces">Backtraces</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#tracing-execution">Tracing execution</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#interactive-debugger">Interactive debugger</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#profiling-ltac-tactics">Profiling <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub> tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac.html#run-time-optimization-tactic">Run-time optimization tactic</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="proof-engine/ltac2.html">Ltac2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac2.html#general-design">General design</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac2.html#ml-component">ML component</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#type-syntax">Type Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#type-declarations">Type declarations</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#apis">APIs</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#term-syntax">Term Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#ltac2-definitions">Ltac2 Definitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#printing-ltac2-tactics">Printing Ltac2 tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#reduction">Reduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#typing">Typing</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#effects">Effects</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac2.html#meta-programming">Meta-programming</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#id3">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#quotations">Quotations</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#term-antiquotations">Term Antiquotations</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#match-over-terms">Match over terms</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#match-over-goals">Match over goals</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#match-on-values">Match on values</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac2.html#notations">Notations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#abbreviations">Abbreviations</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#defining-tactics">Defining tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#syntactic-classes">Syntactic classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac2.html#evaluation">Evaluation</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac2.html#debug">Debug</a></li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac2.html#compatibility-layer-with-ltac1">Compatibility layer with Ltac1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#ltac1-from-ltac2">Ltac1 from Ltac2</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#ltac2-from-ltac1">Ltac2 from Ltac1</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#switching-between-ltac-languages">Switching between Ltac languages</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proof-engine/ltac2.html#transition-from-ltac1">Transition from Ltac1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#syntax-changes">Syntax changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#tactic-delay">Tactic delay</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#variable-binding">Variable binding</a></li>
<li class="toctree-l4"><a class="reference internal" href="proof-engine/ltac2.html#exception-catching">Exception catching</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Using Coq</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="using/libraries/index.html">Libraries and plugins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="language/coq-library.html">The Coq library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="language/coq-library.html#the-prelude">The prelude</a><ul>
<li class="toctree-l4"><a class="reference internal" href="language/coq-library.html#notations">Notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/coq-library.html#logic">Logic</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/coq-library.html#datatypes">Datatypes</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/coq-library.html#specification">Specification</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/coq-library.html#basic-arithmetic">Basic Arithmetic</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/coq-library.html#well-founded-recursion">Well-founded recursion</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/coq-library.html#accessing-the-type-level">Accessing the Type level</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/coq-library.html#tactics">Tactics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="language/coq-library.html#the-standard-library">The standard library</a><ul>
<li class="toctree-l4"><a class="reference internal" href="language/coq-library.html#survey">Survey</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/coq-library.html#peanos-arithmetic-nat">Peano’s arithmetic (nat)</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/coq-library.html#notations-for-integer-arithmetic">Notations for integer arithmetic</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/coq-library.html#real-numbers-library">Real numbers library</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/coq-library.html#list-library">List library</a></li>
<li class="toctree-l4"><a class="reference internal" href="language/coq-library.html#floats-library">Floats library</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="language/coq-library.html#users-contributions">Users’ contributions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="addendum/extraction.html">Program extraction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="addendum/extraction.html#generating-ml-code">Generating ML Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/extraction.html#extraction-options">Extraction Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="addendum/extraction.html#setting-the-target-language">Setting the target language</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/extraction.html#inlining-and-optimizations">Inlining and optimizations</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/extraction.html#extra-elimination-of-useless-arguments">Extra elimination of useless arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/extraction.html#realizing-axioms">Realizing axioms</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/extraction.html#realizing-inductive-types">Realizing inductive types</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/extraction.html#avoiding-conflicts-with-existing-filenames">Avoiding conflicts with existing filenames</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/extraction.html#additional-settings">Additional settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="addendum/extraction.html#differences-between-coq-and-ml-type-systems">Differences between Coq and ML type systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/extraction.html#some-examples">Some examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="addendum/extraction.html#a-detailed-example-euclidean-division">A detailed example: Euclidean division</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/extraction.html#extraction-s-horror-museum">Extraction's horror museum</a></li>
<li class="toctree-l4"><a class="reference internal" href="addendum/extraction.html#users-contributions">Users' Contributions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="addendum/miscellaneous-extensions.html">Program derivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="using/libraries/funind.html">Functional induction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="using/libraries/funind.html#advanced-recursive-functions">Advanced recursive functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="using/libraries/funind.html#tactics">Tactics</a></li>
<li class="toctree-l3"><a class="reference internal" href="using/libraries/funind.html#generation-of-induction-principles-with-functional-scheme">Generation of induction principles with <code class="docutils literal notranslate"><span class="pre">Functional</span></code> <code class="docutils literal notranslate"><span class="pre">Scheme</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="using/libraries/writing.html">Writing Coq libraries and plugins</a><ul>
<li class="toctree-l3"><a class="reference internal" href="using/libraries/writing.html#deprecating-library-objects-or-tactics">Deprecating library objects or tactics</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="using/tools/index.html">Command-line and graphical tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="practical-tools/utilities.html">Building Coq Projects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/utilities.html#coq-configuration-basics">Coq configuration basics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="practical-tools/utilities.html#installing-coq-and-coq-packages-with-opam">Installing Coq and Coq packages with opam</a></li>
<li class="toctree-l4"><a class="reference internal" href="practical-tools/utilities.html#setup-for-working-on-your-own-projects">Setup for working on your own projects</a></li>
<li class="toctree-l4"><a class="reference internal" href="practical-tools/utilities.html#building-a-project-with-coqproject-overview">Building a project with _CoqProject (overview)</a></li>
<li class="toctree-l4"><a class="reference internal" href="practical-tools/utilities.html#logical-paths-and-the-load-path">Logical paths and the load path</a></li>
<li class="toctree-l4"><a class="reference internal" href="practical-tools/utilities.html#modifying-multiple-interdependent-projects-at-the-same-time">Modifying multiple interdependent projects at the same time</a></li>
<li class="toctree-l4"><a class="reference internal" href="practical-tools/utilities.html#installed-and-uninstalled-packages">Installed and uninstalled packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="practical-tools/utilities.html#upgrading-to-a-new-version-of-coq">Upgrading to a new version of Coq</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/utilities.html#building-a-coq-project-with-coq-makefile-details">Building a Coq project with coq_makefile (details)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="practical-tools/utilities.html#comments">Comments</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/utilities.html#building-a-coq-project-with-dune">Building a Coq project with Dune</a></li>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/utilities.html#coqdep-computing-module-dependencies">coqdep: Computing Module dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/utilities.html#split-compilation-of-native-computation-files">Split compilation of native computation files</a></li>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/utilities.html#using-coq-as-a-library">Using Coq as a library</a></li>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/utilities.html#embedded-coq-phrases-inside-latex-documents">Embedded Coq phrases inside <span class="smallcaps">LaTeX</span> documents</a></li>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/utilities.html#man-pages">Man pages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="practical-tools/coq-commands.html">Coq commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/coq-commands.html#interactive-use-coqtop">Interactive use (coqtop)</a></li>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/coq-commands.html#batch-compilation-coqc">Batch compilation (coqc)</a></li>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/coq-commands.html#customization-at-launch-time">Customization at launch time</a></li>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/coq-commands.html#command-parameters">Command parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="practical-tools/coq-commands.html#coqrc-start-up-script"><code class="docutils literal notranslate"><span class="pre">coqrc</span></code> start up script</a></li>
<li class="toctree-l4"><a class="reference internal" href="practical-tools/coq-commands.html#environment-variables">Environment variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="practical-tools/coq-commands.html#command-line-options">Command line options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/coq-commands.html#compiled-interfaces-produced-using-vos">Compiled interfaces (produced using <code class="docutils literal notranslate"><span class="pre">-vos</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/coq-commands.html#compiled-libraries-checker-coqchk">Compiled libraries checker (coqchk)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="using/tools/coqdoc.html">Documenting Coq files with coqdoc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="using/tools/coqdoc.html#principles">Principles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="using/tools/coqdoc.html#coq-material-inside-documentation">Coq material inside documentation.</a></li>
<li class="toctree-l4"><a class="reference internal" href="using/tools/coqdoc.html#pretty-printing">Pretty-printing.</a></li>
<li class="toctree-l4"><a class="reference internal" href="using/tools/coqdoc.html#sections">Sections</a></li>
<li class="toctree-l4"><a class="reference internal" href="using/tools/coqdoc.html#lists">Lists.</a></li>
<li class="toctree-l4"><a class="reference internal" href="using/tools/coqdoc.html#rules">Rules.</a></li>
<li class="toctree-l4"><a class="reference internal" href="using/tools/coqdoc.html#emphasis">Emphasis.</a></li>
<li class="toctree-l4"><a class="reference internal" href="using/tools/coqdoc.html#escaping-to-latex-and-html">Escaping to <span class="smallcaps">LaTeX</span> and HTML.</a></li>
<li class="toctree-l4"><a class="reference internal" href="using/tools/coqdoc.html#verbatim">Verbatim</a></li>
<li class="toctree-l4"><a class="reference internal" href="using/tools/coqdoc.html#hyperlinks">Hyperlinks</a></li>
<li class="toctree-l4"><a class="reference internal" href="using/tools/coqdoc.html#hiding-showing-parts-of-the-source">Hiding / Showing parts of the source</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="using/tools/coqdoc.html#usage">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="using/tools/coqdoc.html#command-line-options">Command line options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="using/tools/coqdoc.html#the-coqdoc-latex-style-file">The coqdoc <span class="smallcaps">LaTeX</span> style file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="practical-tools/coqide.html">CoqIDE</a><ul>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/coqide.html#managing-files-and-buffers-basic-editing">Managing files and buffers, basic editing</a></li>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/coqide.html#running-coq-scripts">Running Coq scripts</a></li>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/coqide.html#asynchronous-mode">Asynchronous mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/coqide.html#commands-and-templates">Commands and templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/coqide.html#queries">Queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/coqide.html#compilation">Compilation</a></li>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/coqide.html#customizations">Customizations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="practical-tools/coqide.html#preferences">Preferences</a></li>
<li class="toctree-l4"><a class="reference internal" href="practical-tools/coqide.html#key-bindings">Key bindings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/coqide.html#using-unicode-symbols">Using Unicode symbols</a><ul>
<li class="toctree-l4"><a class="reference internal" href="practical-tools/coqide.html#displaying-unicode-symbols">Displaying Unicode symbols</a></li>
<li class="toctree-l4"><a class="reference internal" href="practical-tools/coqide.html#bindings-for-input-of-unicode-symbols">Bindings for input of Unicode symbols</a></li>
<li class="toctree-l4"><a class="reference internal" href="practical-tools/coqide.html#adding-custom-bindings">Adding custom bindings</a></li>
<li class="toctree-l4"><a class="reference internal" href="practical-tools/coqide.html#character-encoding-for-saved-files">Character encoding for saved files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="practical-tools/coqide.html#debugger">Debugger</a><ul>
<li class="toctree-l4"><a class="reference internal" href="practical-tools/coqide.html#breakpoints">Breakpoints</a></li>
<li class="toctree-l4"><a class="reference internal" href="practical-tools/coqide.html#call-stack-and-variables">Call Stack and Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="practical-tools/coqide.html#supported-use-cases">Supported use cases</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="addendum/parallel-proof-processing.html">Asynchronous and Parallel Proof Processing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="addendum/parallel-proof-processing.html#proof-annotations">Proof annotations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="addendum/parallel-proof-processing.html#automatic-suggestion-of-proof-annotations">Automatic suggestion of proof annotations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="addendum/parallel-proof-processing.html#proof-blocks-and-error-resilience">Proof blocks and error resilience</a><ul>
<li class="toctree-l4"><a class="reference internal" href="addendum/parallel-proof-processing.html#caveats">Caveats</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="addendum/parallel-proof-processing.html#interactive-mode">Interactive mode</a><ul>
<li class="toctree-l4"><a class="reference internal" href="addendum/parallel-proof-processing.html#id3">Caveats</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="addendum/parallel-proof-processing.html#batch-mode">Batch mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="addendum/parallel-proof-processing.html#limiting-the-number-of-parallel-workers">Limiting the number of parallel workers</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Appendix</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="appendix/history-and-changes/index.html">History and recent changes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="history.html">Early history of Coq</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#historical-roots">Historical roots</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#versions-1-to-5">Versions 1 to 5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="history.html#version-1">Version 1</a></li>
<li class="toctree-l4"><a class="reference internal" href="history.html#version-2">Version 2</a></li>
<li class="toctree-l4"><a class="reference internal" href="history.html#version-3">Version 3</a></li>
<li class="toctree-l4"><a class="reference internal" href="history.html#version-4">Version 4</a></li>
<li class="toctree-l4"><a class="reference internal" href="history.html#version-5">Version 5</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="history.html#versions-6">Versions 6</a><ul>
<li class="toctree-l4"><a class="reference internal" href="history.html#version-6-1">Version 6.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="history.html#version-6-2">Version 6.2</a></li>
<li class="toctree-l4"><a class="reference internal" href="history.html#version-6-3">Version 6.3</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="history.html#versions-7">Versions 7</a><ul>
<li class="toctree-l4"><a class="reference internal" href="history.html#summary-of-changes">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="history.html#details-of-changes-in-7-0-and-7-1">Details of changes in 7.0 and 7.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="history.html#details-of-changes-in-7-2">Details of changes in 7.2</a></li>
<li class="toctree-l4"><a class="reference internal" href="history.html#details-of-changes-in-7-3">Details of changes in 7.3</a></li>
<li class="toctree-l4"><a class="reference internal" href="history.html#details-of-changes-in-7-4">Details of changes in 7.4</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Recent changes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#version-8-17">Version 8.17</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#summary-of-changes">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-17-0">Changes in 8.17.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-17-1">Changes in 8.17.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#version-8-16">Version 8.16</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id154">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-16-0">Changes in 8.16.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-16-1">Changes in 8.16.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#version-8-15">Version 8.15</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id316">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-15-0">Changes in 8.15.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-15-1">Changes in 8.15.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-15-2">Changes in 8.15.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#version-8-14">Version 8.14</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id544">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-14-0">Changes in 8.14.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-14-1">Changes in 8.14.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#version-8-13">Version 8.13</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id740">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-13-beta1">Changes in 8.13+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-13-0">Changes in 8.13.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-13-1">Changes in 8.13.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-13-2">Changes in 8.13.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#version-8-12">Version 8.12</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id904">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-12-beta1">Changes in 8.12+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-12-0">Changes in 8.12.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-12-1">Changes in 8.12.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-12-2">Changes in 8.12.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#version-8-11">Version 8.11</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1210">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-11-beta1">Changes in 8.11+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-11-0">Changes in 8.11.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-11-1">Changes in 8.11.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-11-2">Changes in 8.11.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#version-8-10">Version 8.10</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1348">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#other-changes-in-8-10-beta1">Other changes in 8.10+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-10-beta2">Changes in 8.10+beta2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-10-beta3">Changes in 8.10+beta3</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-10-0">Changes in 8.10.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-10-1">Changes in 8.10.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-10-2">Changes in 8.10.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#version-8-9">Version 8.9</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1495">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-9-beta1">Details of changes in 8.9+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-8-0">Changes in 8.8.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-8-8-1">Changes in 8.8.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#version-8-8">Version 8.8</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1497">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-8-beta1">Details of changes in 8.8+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-8-0">Details of changes in 8.8.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-8-1">Details of changes in 8.8.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-8-2">Details of changes in 8.8.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#version-8-7">Version 8.7</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1498">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#potential-compatibility-issues">Potential compatibility issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-7-beta1">Details of changes in 8.7+beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-7-beta2">Details of changes in 8.7+beta2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-7-0">Details of changes in 8.7.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-7-1">Details of changes in 8.7.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-7-2">Details of changes in 8.7.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#version-8-6">Version 8.6</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1499">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#potential-sources-of-incompatibilities">Potential sources of incompatibilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-6beta1">Details of changes in 8.6beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-6">Details of changes in 8.6</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-6-1">Details of changes in 8.6.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#version-8-5">Version 8.5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1500">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1501">Potential sources of incompatibilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-5beta1">Details of changes in 8.5beta1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-5beta2">Details of changes in 8.5beta2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-5beta3">Details of changes in 8.5beta3</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-5">Details of changes in 8.5</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-5pl1">Details of changes in 8.5pl1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-5pl2">Details of changes in 8.5pl2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-5pl3">Details of changes in 8.5pl3</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#version-8-4">Version 8.4</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1502">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1504">Potential sources of incompatibilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-4beta">Details of changes in 8.4beta</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-4beta2">Details of changes in 8.4beta2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-4">Details of changes in 8.4</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#version-8-3">Version 8.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1505">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes">Details of changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#version-8-2">Version 8.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1506">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1507">Details of changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#version-8-1">Version 8.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1508">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-1beta">Details of changes in 8.1beta</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-1gamma">Details of changes in 8.1gamma</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-1">Details of changes in 8.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#version-8-0">Version 8.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1509">Summary of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-0beta-old-syntax">Details of changes in 8.0beta old syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-0beta-new-syntax">Details of changes in 8.0beta new syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#details-of-changes-in-8-0">Details of changes in 8.0</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="appendix/indexes/index.html">Indexes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="std-glossindex.html">Glossary index</a></li>
<li class="toctree-l2"><a class="reference internal" href="coq-cmdindex.html">Command index</a></li>
<li class="toctree-l2"><a class="reference internal" href="coq-tacindex.html">Tactic index</a></li>
<li class="toctree-l2"><a class="reference internal" href="coq-attrindex.html">Attribute index</a></li>
<li class="toctree-l2"><a class="reference internal" href="coq-optindex.html">Flags, options and tables index</a></li>
<li class="toctree-l2"><a class="reference internal" href="coq-exnindex.html">Errors and warnings index</a></li>
<li class="toctree-l2"><a class="reference internal" href="genindex.html">General index</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="zebibliography.html">Bibliography</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Coq</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="appendix/history-and-changes/index.html">History and recent changes</a> &raquo;</li>
        
      <li>Recent changes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/coq/coq/blob/master/doc/sphinx/changes.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="math-preamble math notranslate nohighlight">
\[\begin{split}\newcommand{\as}{\kw{as}}
\newcommand{\case}{\kw{case}}
\newcommand{\cons}{\textsf{cons}}
\newcommand{\consf}{\textsf{consf}}
\newcommand{\emptyf}{\textsf{emptyf}}
\newcommand{\End}{\kw{End}}
\newcommand{\kwend}{\kw{end}}
\newcommand{\even}{\textsf{even}}
\newcommand{\evenO}{\textsf{even}_\textsf{O}}
\newcommand{\evenS}{\textsf{even}_\textsf{S}}
\newcommand{\Fix}{\kw{Fix}}
\newcommand{\fix}{\kw{fix}}
\newcommand{\for}{\textsf{for}}
\newcommand{\forest}{\textsf{forest}}
\newcommand{\Functor}{\kw{Functor}}
\newcommand{\In}{\kw{in}}
\newcommand{\ind}[3]{\kw{Ind}~[#1]\left(#2\mathrm{~:=~}#3\right)}
\newcommand{\Indp}[4]{\kw{Ind}_{#4}[#1](#2:=#3)}
\newcommand{\Indpstr}[5]{\kw{Ind}_{#4}[#1](#2:=#3)/{#5}}
\newcommand{\injective}{\kw{injective}}
\newcommand{\kw}[1]{\textsf{#1}}
\newcommand{\length}{\textsf{length}}
\newcommand{\letin}[3]{\kw{let}~#1:=#2~\kw{in}~#3}
\newcommand{\List}{\textsf{list}}
\newcommand{\lra}{\longrightarrow}
\newcommand{\Match}{\kw{match}}
\newcommand{\Mod}[3]{{\kw{Mod}}({#1}:{#2}\,\zeroone{:={#3}})}
\newcommand{\ModImp}[3]{{\kw{Mod}}({#1}:{#2}:={#3})}
\newcommand{\ModA}[2]{{\kw{ModA}}({#1}=={#2})}
\newcommand{\ModS}[2]{{\kw{Mod}}({#1}:{#2})}
\newcommand{\ModType}[2]{{\kw{ModType}}({#1}:={#2})}
\newcommand{\mto}{.\;}
\newcommand{\nat}{\textsf{nat}}
\newcommand{\Nil}{\textsf{nil}}
\newcommand{\nilhl}{\textsf{nil\_hl}}
\newcommand{\nO}{\textsf{O}}
\newcommand{\node}{\textsf{node}}
\newcommand{\nS}{\textsf{S}}
\newcommand{\odd}{\textsf{odd}}
\newcommand{\oddS}{\textsf{odd}_\textsf{S}}
\newcommand{\ovl}[1]{\overline{#1}}
\newcommand{\Pair}{\textsf{pair}}
\newcommand{\plus}{\mathsf{plus}}
\newcommand{\SProp}{\textsf{SProp}}
\newcommand{\Prop}{\textsf{Prop}}
\newcommand{\return}{\kw{return}}
\newcommand{\Set}{\textsf{Set}}
\newcommand{\Sort}{\mathcal{S}}
\newcommand{\Str}{\textsf{Stream}}
\newcommand{\Struct}{\kw{Struct}}
\newcommand{\subst}[3]{#1\{#2/#3\}}
\newcommand{\tl}{\textsf{tl}}
\newcommand{\tree}{\textsf{tree}}
\newcommand{\trii}{\triangleright_\iota}
\newcommand{\Type}{\textsf{Type}}
\newcommand{\WEV}[3]{\mbox{$#1[] \vdash #2 \lra  #3$}}
\newcommand{\WEVT}[3]{\mbox{$#1[] \vdash #2 \lra$}\\ \mbox{$ #3$}}
\newcommand{\WF}[2]{{\mathcal{W\!F}}(#1)[#2]}
\newcommand{\WFE}[1]{\WF{E}{#1}}
\newcommand{\WFT}[2]{#1[] \vdash {\mathcal{W\!F}}(#2)}
\newcommand{\WFTWOLINES}[2]{{\mathcal{W\!F}}\begin{array}{l}(#1)\\\mbox{}[{#2}]\end{array}}
\newcommand{\with}{\kw{with}}
\newcommand{\WS}[3]{#1[] \vdash #2 &lt;: #3}
\newcommand{\WSE}[2]{\WS{E}{#1}{#2}}
\newcommand{\WT}[4]{#1[#2] \vdash #3 : #4}
\newcommand{\WTE}[3]{\WT{E}{#1}{#2}{#3}}
\newcommand{\WTEG}[2]{\WTE{\Gamma}{#1}{#2}}
\newcommand{\WTM}[3]{\WT{#1}{}{#2}{#3}}
\newcommand{\zeroone}[1]{[{#1}]}
\end{split}\]</div>
<div class="section" id="recent-changes">
<span id="changes"></span><h1>Recent changes<a class="headerlink" href="#recent-changes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="version-8-17">
<h2>Version 8.17<a class="headerlink" href="#version-8-17" title="Permalink to this headline">¶</a></h2>
<div class="section" id="summary-of-changes">
<h3>Summary of changes<a class="headerlink" href="#summary-of-changes" title="Permalink to this headline">¶</a></h3>
<p>Coq version 8.17 integrates a soundness fix to the Coq kernel along
with a few new features and a host of improvements to the Ltac2 language
and libraries. We highlight some of the most impactful changes here:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#vmcompute"><span class="std std-ref">Fixed</span></a> a logical inconsistency due to <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.vm_compute" title="vm_compute"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">vm_compute</span></code></a> in
presence of side-effects in the enviroment (e.g. using <code class="docutils literal notranslate"><span class="pre">Back</span></code> or <code class="docutils literal notranslate"><span class="pre">Fail</span></code>).</p></li>
<li><p>It is now possible to dynamically <a class="reference internal" href="#id16"><span class="std std-ref">enable or disable</span></a> notations.</p></li>
<li><p>Support <a class="reference internal" href="#scopes"><span class="std std-ref">multiple scopes</span></a> in <a class="reference internal" href="language/extensions/arguments-command.html#coq:cmd.Arguments" title="Arguments"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Arguments</span></code></a> and <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Bind-Scope" title="Bind Scope"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Bind</span> <span class="pre">Scope</span></code></a>.</p></li>
<li><p>The tactics chapter of the manual has <a class="reference internal" href="#tacticsrefman"><span class="std std-ref">many improvements</span></a>
in presentation and wording.  The documented grammar is semi-automatically checked
for consistency with the implementation.</p></li>
<li><p><a class="reference internal" href="#eauto"><span class="std std-ref">Fixes</span></a> to the <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.auto" title="auto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">auto</span></code></a> and <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.eauto" title="eauto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">eauto</span></code></a> tactics, to respect hint priorities and the documented use
of <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.simple-apply" title="simple apply"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">simple</span> <span class="pre">apply</span></code></a>. This is a potentially breaking change.</p></li>
<li><p><a class="reference internal" href="#ltac2"><span class="std std-ref">New Ltac2</span></a> APIs, deep pattern-matching with <code class="docutils literal notranslate"><span class="pre">as</span></code> clauses and handling of literals,
support for record types and preterms.</p></li>
<li><p><a class="reference internal" href="#classfieldsyntax"><span class="std std-ref">Move</span></a> from <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">:&gt;</span></span></code> to <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">::</span></span></code> syntax for declaring typeclass fields as instances, fixing
a confusion with declaration of coercions.</p></li>
<li><p><a class="reference internal" href="#stdlib"><span class="std std-ref">Standard library</span></a> improvements.</p></li>
<li><p>While Coq supports OCaml 5, users are likely to experience slowdowns ranging from +10% to +50% compared to OCaml 4.
Moreover, the <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.native_compute" title="native_compute"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">native_compute</span></code></a> machinery is not available when Coq is compiled with OCaml 5.
Therefore, OCaml 5 support should still be considered experimental and not production-ready.</p></li>
</ul>
</div></blockquote>
<p>See the <a class="reference internal" href="#changes-in-8-17-0">Changes in 8.17.0</a> section below for the detailed list of changes,
including potentially breaking changes marked with <strong>Changed</strong>.
Coq's <a class="reference external" href="https://coq.github.io/doc/v8.17/refman">reference manual for 8.17</a>,
<a class="reference external" href="https://coq.github.io/doc/v8.17/stdlib">documentation of the 8.17 standard library</a>
and <a class="reference external" href="https://coq.github.io/doc/v8.17/api">developer documentation of the 8.17 ML API</a>
are also available.</p>
<p>Ali Caglayan, Emilio Jesús Gallego Arias, Gaëtan Gilbert
and Théo Zimmermann worked on maintaining and improving the
continuous integration system and package building infrastructure.</p>
<p>Erik Martin-Dorel has maintained the <a class="reference external" href="https://hub.docker.com/r/coqorg/coq">Coq Docker images</a> that are used in many Coq
projects for continuous integration.</p>
<p>Maxime Dénès, Paolo G. Giarrusso, Huỳnh Trần Khanh, and Laurent Théry have
maintained the VsCoq extension for VS Code.</p>
<p>The opam repository for Coq packages has been maintained by
Guillaume Claret, Karl Palmskog, Matthieu Sozeau and Enrico Tassi with
contributions from many users. A list of packages is available at
<a class="reference external" href="https://coq.inria.fr/opam/www/">https://coq.inria.fr/opam/www/</a>.</p>
<p>The <a class="reference external" href="https://github.com/coq/platform">Coq Platform</a> has been maintained
by Michael Soegtrop, with help from Karl Palmskog, Pierre Roux, Enrico Tassi and
Théo Zimmermann.</p>
<p>Our current maintainers are Yves Bertot, Frédéric Besson, Ana Borges,
Ali Caglayan, Tej Chajed, Cyril Cohen, Pierre Corbineau, Pierre Courtieu, Maxime Dénès,
Andres Erbsen, Jim Fehrle, Julien Forest, Emilio Jesús Gallego Arias, Gaëtan Gilbert,
Georges Gonthier, Benjamin Grégoire, Jason Gross, Hugo Herbelin,
Vincent Laporte, Olivier Laurent, Assia Mahboubi, Kenji Maillard,
Guillaume Melquiond, Pierre-Marie Pédrot, Clément Pit-Claudel, Pierre Roux,
Kazuhiko Sakaguchi, Vincent Semeria, Michael Soegtrop, Arnaud Spiwack,
Matthieu Sozeau, Enrico Tassi, Laurent Théry, Anton Trunov, Li-yao Xia
and Théo Zimmermann. See the <a class="reference external" href="https://coq.inria.fr/coq-team.html">Coq Team face book</a>
page for more details.</p>
<p>The 45 contributors to the 8.17 version are:
Reynald Affeldt, Tanaka Akira, Lasse Blaauwbroek, Stephan Boyer, Ali Caglayan, Cyril Cohen, Maxime Dénès, Andrej Dudenhefner, Andres Erbsen, František Farka, Jim Fehrle, Paolo G. Giarrusso, Gaëtan Gilbert, Jason Gross, Alban Gruin, Stefan Haan, Hugo Herbelin, Wolf Honore, Bodo Igler, Jerry James, Emilio Jesús Gallego Arias, Ralf Jung, Jan-Oliver Kaiser, Wojciech Karpiel, Chantal Keller, Thomas Klausner, Olivier Laurent, Yishuai Li, Guillaume Melquiond, Karl Palmskog, Sudha Parimala, Pierre-Marie Pédrot, Valentin Robert, Pierre Roux, Julin S, Dmitry Shachnev, Michael Soegtrop, Matthieu Sozeau, Naveen Srinivasan, Sergei Stepanenko, Karolina Surma, Enrico Tassi, Li-yao Xia
and Théo Zimmermann.</p>
<p>The Coq community at large helped improve this new version via
the GitHub issue and pull request system, the <a class="reference external" href="mailto:coq-club&#37;&#52;&#48;inria&#46;fr">coq-club<span>&#64;</span>inria<span>&#46;</span>fr</a> mailing list,
the <a class="reference external" href="https://coq.discourse.group/">Discourse forum</a> and the
<a class="reference external" href="https://coq.zulipchat.com">Coq Zulip chat</a>.</p>
<p>Version 8.17's development spanned 5 months from the release of
Coq 8.16.0. Théo Zimmermann is the release manager of Coq 8.17.
This release is the result of 414 merged PRs, closing 105 issues.</p>
<div class="line-block">
<div class="line">Nantes, February 2023,</div>
<div class="line">Matthieu Sozeau for the Coq development team</div>
</div>
</div>
<div class="section" id="changes-in-8-17-0">
<h3>Changes in 8.17.0<a class="headerlink" href="#changes-in-8-17-0" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id1">
<ul class="simple">
<li><p><a class="reference internal" href="#id2" id="id1523">Kernel</a></p></li>
<li><p><a class="reference internal" href="#id7" id="id1524">Specification language, type inference</a></p></li>
<li><p><a class="reference internal" href="#id13" id="id1525">Notations</a></p></li>
<li><p><a class="reference internal" href="#id21" id="id1526">Tactics</a></p></li>
<li><p><a class="reference internal" href="#id41" id="id1527">Ltac language</a></p></li>
<li><p><a class="reference internal" href="#ltac2" id="id1528">Ltac2 language</a></p></li>
<li><p><a class="reference internal" href="#id67" id="id1529">SSReflect</a></p></li>
<li><p><a class="reference internal" href="#id69" id="id1530">Commands and options</a></p></li>
<li><p><a class="reference internal" href="#id98" id="id1531">Command-line tools</a></p></li>
<li><p><a class="reference internal" href="#stdlib" id="id1532">Standard library</a></p></li>
<li><p><a class="reference internal" href="#id123" id="id1533">Infrastructure and dependencies</a></p></li>
<li><p><a class="reference internal" href="#id143" id="id1534">Miscellaneous</a></p></li>
</ul>
</div>
<div class="section" id="id2">
<h4><a class="toc-backref" href="#id1523">Kernel</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="vmcompute">
<li><p><strong>Fixed:</strong>
inconsistency linked to <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.vm_compute" title="vm_compute"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">vm_compute</span></code></a>. The fix removes a vulnerable cache, thus it may result in slowdowns when <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.vm_compute" title="vm_compute"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">vm_compute</span></code></a> is used repeatedly, if you encounter such slowdowns please report your use case
(<a class="reference external" href="https://github.com/coq/coq/pull/16958">#16958</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16957">#16957</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
Unexpected anomaly when checking termination of fixpoints
containing <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">match</span></span></code> expressions with inaccessible branches
(<a class="reference external" href="https://github.com/coq/coq/pull/17116">#17116</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/17073">#17073</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
<div class="section" id="id7">
<h4><a class="toc-backref" href="#id1524">Specification language, type inference</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
<a class="reference internal" href="language/extensions/match.html#coq:warn.Unused-variable-‘ident’-might-be-a-misspelled-constructor.-Use-_-or-_‘ident’-to-silence-this-warning." title="Unused variable ‘ident’ might be a misspelled constructor. Use _ or _‘ident’ to silence this warning."><code class="xref coq coq-warn docutils literal notranslate"><span class="pre">Unused</span> <span class="pre">variable</span></code></a> warning
triggers even when catching a single case. This warning used to be
triggered only when the unused variable was catching at least
two cases (<a class="reference external" href="https://github.com/coq/coq/pull/16135">#16135</a>,
by Pierre Roux).</p></li>
<li><p><strong>Fixed:</strong>
Pattern-matching clauses were possibly lost when matching over a
constructor from a singleton inductive type in the presence of
implicit coercions (<a class="reference external" href="https://github.com/coq/coq/pull/17138">#17138</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/17137">#17137</a>, by Hugo
Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Possible anomaly when using syntax <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">term</span></span><span class="operator"><span class="pre">.(</span></span><span class="name"><span class="pre">proj</span></span><span class="operator"><span class="pre">)</span></span></code> with projections defined in sections
(<a class="reference external" href="https://github.com/coq/coq/pull/17174">#17174</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/17173">#17173</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
<div class="section" id="id13">
<h4><a class="toc-backref" href="#id1525">Notations</a><a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
When multiple tokens match the beginning of a sequence of characters,
the longest matching token not cutting a subsequence of contiguous
letters in the middle is used. Previously, this was only the longest
matching token. See <a class="reference internal" href="language/core/basic.html#lexing-unseparated-keywords"><span class="std std-ref">lexical conventions</span></a>
for details and examples
(<a class="reference external" href="https://github.com/coq/coq/pull/16322">#16322</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/4712">#4712</a>,
by Hugo Herbelin).</p>
</li>
<li id="id16"><p><strong>Added:</strong>
<a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Enable-Notation" title="Enable Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Enable</span> <span class="pre">Notation</span></code></a> and <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Disable-Notation" title="Disable Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Disable</span> <span class="pre">Notation</span></code></a> commands
to enable or disable previously defined notations
(<a class="reference external" href="https://github.com/coq/coq/pull/12324">#12324</a> and <a class="reference external" href="https://github.com/coq/coq/pull/16945">#16945</a>,
by Hugo Herbelin and Pierre Roux, extending previous work by Lionel Rieg,
review by Jim Fehrle).</p>
</li>
<li id="scopes"><p><strong>Added:</strong>
Support for multiple scopes in the <a class="reference internal" href="language/extensions/arguments-command.html#coq:cmd.Arguments" title="Arguments"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Arguments</span></code></a> command
(<a class="reference external" href="https://github.com/coq/coq/pull/16472">#16472</a>,
by Pierre Roux, review by Jim Fehrle, Hugo Herbelin and Enrico Tassi).</p></li>
<li><p><strong>Added:</strong>
Attributes <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:attr.add_top" title="add_top"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">add_top</span></code></a> and <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:attr.add_bottom" title="add_bottom"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">add_bottom</span></code></a> to bind
multiple scopes through the <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Bind-Scope" title="Bind Scope"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Bind</span> <span class="pre">Scope</span></code></a> command
(<a class="reference external" href="https://github.com/coq/coq/pull/16472">#16472</a>,
by Pierre Roux, review by Jim Fehrle, Hugo Herbelin and Enrico Tassi).</p></li>
</ul>
</div>
<div class="section" id="id21">
<h4><a class="toc-backref" href="#id1526">Tactics</a><a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul id="tacticsrefman">
<li><p><strong>Changed:</strong>
Documentation in the tactics chapter to give the current correct syntax,
consolidate tactic variants for each tactic into a single,
unified description for each tactic and many wording improvements.
With this change, following similar changes to other chapters
in previous releases, the correctness of documented syntax is
assured by semi-automated tooling in all chapters except SSReflect
(<a class="reference external" href="https://github.com/coq/coq/pull/15015">#15015</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/16498">#16498</a>, and
<a class="reference external" href="https://github.com/coq/coq/pull/16659">#16659</a>,
by Jim Fehrle, reviewed by Théo Zimmermann, with help from many others).</p>
</li>
<li id="eauto"><p><strong>Changed:</strong>
<a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.eauto" title="eauto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">eauto</span></code></a> respects priorities of <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Extern" title="Hint Extern"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Extern</span></code></a> hints
(<a class="reference external" href="https://github.com/coq/coq/pull/16289">#16289</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/5163">#5163</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/16282">#16282</a>,
by Andrej Dudenhefner).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Code that relies on eager evaluation of <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Extern" title="Hint Extern"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Extern</span></code></a> hints
with high assigned cost by <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.eauto" title="eauto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">eauto</span></code></a> will change its performance
profile or potentially break.
To approximate prior behavior, set to zero the cost of <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Extern" title="Hint Extern"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Extern</span></code></a> hints,
which may solve the goal in one step.</p>
</div>
</li>
<li><p><strong>Changed:</strong>
less discrepancies between <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.auto" title="auto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">auto</span></code></a> hint evaluation and <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.simple-apply" title="simple apply"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">simple</span> <span class="pre">apply</span></code></a>, <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.exact" title="exact"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">exact</span></code></a> tactics
(<a class="reference external" href="https://github.com/coq/coq/pull/16293">#16293</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16062">#16062</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/16323">#16323</a>,
by Andrej Dudenhefner).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.auto" title="auto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">auto</span></code></a> may solve more goals.
As a result, non-monotone use of <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.auto" title="auto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">auto</span></code></a> such as <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">tac1</span></span><span class="operator"><span class="pre">;</span></span> <span class="keyword"><span class="pre">auto</span></span><span class="operator"><span class="pre">.</span></span> <span class="name"><span class="pre">tac2</span></span><span class="operator"><span class="pre">.</span></span></code> may break.
For backwards compatibility use explicit goal management.</p>
</div>
</li>
<li><p><strong>Removed:</strong> <code class="docutils literal notranslate"><span class="pre">absurd_hyp</span></code> tactic, that was marked as obsolete 15
years ago. Use <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.contradict" title="contradict"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">contradict</span></code></a> instead (<a class="reference external" href="https://github.com/coq/coq/pull/16670">#16670</a>, by Théo Zimmermann).</p></li>
<li><p><strong>Removed:</strong>
the undocumented <code class="docutils literal notranslate"><span class="pre">progress_evars</span></code> tactical
(<a class="reference external" href="https://github.com/coq/coq/pull/16842">#16843</a>,
by Théo Zimmermann).</p></li>
<li><p><strong>Deprecated:</strong> the default <code class="docutils literal notranslate"><span class="pre">intuition_solver</span></code> (see
<a class="reference internal" href="proofs/automatic-tactics/logic.html#coq:tacn.intuition" title="intuition"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">intuition</span></code></a>) now outputs warning <code class="docutils literal notranslate"><span class="pre">intuition-auto-with-star</span></code>
if it solves a goal with <code class="docutils literal notranslate"><span class="pre">auto</span> <span class="pre">with</span> <span class="pre">*</span></code> that was not solved with
just <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.auto" title="auto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">auto</span></code></a>. In a future version it will be changed to just
<a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.auto" title="auto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">auto</span></code></a>. Use <code class="docutils literal notranslate"><span class="pre">intuition</span> <span class="pre">tac</span></code> locally or <code class="docutils literal notranslate"><span class="pre">Ltac</span>
<span class="pre">Tauto.intuition_solver</span> <span class="pre">::=</span> <span class="pre">tac</span></code> globally to silence the warning in
a forward-compatible way with your choice of tactic <code class="docutils literal notranslate"><span class="pre">tac</span></code>
(<code class="docutils literal notranslate"><span class="pre">auto</span></code>, <code class="docutils literal notranslate"><span class="pre">auto</span> <span class="pre">with</span> <span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">auto</span> <span class="pre">with</span></code> your prefered databases,
or any other tactic) (<a class="reference external" href="https://github.com/coq/coq/pull/16026">#16026</a>, by Gaëtan Gilbert).</p></li>
<li><p><strong>Deprecated:</strong>
<code class="docutils literal notranslate"><span class="pre">&gt;</span></code> clear modifier that could be used in some tactics like
<a class="reference internal" href="proof-engine/tactics.html#coq:tacn.apply" title="apply"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">apply</span></code></a> and <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.rewrite" title="rewrite"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">rewrite</span></code></a> but was never documented.
Open an issue if you actually depend on this feature
(<a class="reference external" href="https://github.com/coq/coq/pull/16407">#16407</a>,
by Théo Zimmermann).</p></li>
<li><p><strong>Fixed:</strong>
<a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.auto" title="auto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">auto</span></code></a> now properly updates local hypotheses after hint application
(<a class="reference external" href="https://github.com/coq/coq/pull/16302">#16302</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15814">#15814</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/6332">#6332</a>,
by Andrej Dudenhefner).</p></li>
<li><p><strong>Fixed:</strong>
Make the behavior of <a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:tacn.destruct" title="destruct"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">destruct</span> <span class="pre">...</span> <span class="pre">using</span> <span class="pre">...</span></code></a> more powerful and more similar to <a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:tacn.destruct" title="destruct"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">destruct</span> <span class="pre">...</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/16605">#16605</a>,
by Lasse Blaauwbroek).</p></li>
<li><p><strong>Fixed:</strong>
typeclass inference sometimes caused remaining holes to fail to be detected
(<a class="reference external" href="https://github.com/coq/coq/pull/16743">#16743</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/5239">#5239</a>,
by Gaëtan Gilbert).</p></li>
</ul>
</div>
<div class="section" id="id41">
<h4><a class="toc-backref" href="#id1527">Ltac language</a><a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
<a class="reference internal" href="proof-engine/ltac.html#coq:cmd.Ltac" title="Ltac"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Ltac</span></code></a> redefinitions (with <code class="docutils literal notranslate"><span class="pre">::=</span></code>) now respect <a class="reference internal" href="language/core/modules.html#coq:attr.local" title="local"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">local</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/16106">#16106</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Changed:</strong>
In <a class="reference internal" href="proof-engine/ltac.html#coq:tacn.match-goal" title="match goal"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">match</span> <span class="pre">goal</span></code></a>, <code class="docutils literal notranslate"><span class="pre">match</span> <span class="pre">goal</span> <span class="pre">with</span> <span class="pre">hyp</span> <span class="pre">:=</span> <span class="pre">body</span> <span class="pre">:</span> <span class="pre">typ</span> <span class="pre">|-</span> <span class="pre">_</span></code>
is syntax sugar for  <code class="docutils literal notranslate"><span class="pre">match</span> <span class="pre">goal</span> <span class="pre">with</span> <span class="pre">hyp</span> <span class="pre">:=</span> <span class="pre">[</span> <span class="pre">body</span> <span class="pre">]</span> <span class="pre">:</span> <span class="pre">typ</span> <span class="pre">|-</span> <span class="pre">_</span></code>
i.e. it matches <code class="docutils literal notranslate"><span class="pre">typ</span></code> with the type of the hypothesis
rather than matching the body as a cast term.
This transformation used to be done with any kind of cast (e.g. VM cast <code class="docutils literal notranslate"><span class="pre">&lt;:</span></code>)
and is now done only for default casts <code class="docutils literal notranslate"><span class="pre">:</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16764">#16764</a>,
by Gaëtan Gilbert).</p></li>
</ul>
<blockquote>
<div></div></blockquote>
</div>
<div class="section" id="ltac2">
<span id="id44"></span><h4><a class="toc-backref" href="#id1528">Ltac2 language</a><a class="headerlink" href="#ltac2" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
<code class="docutils literal notranslate"><span class="pre">Ltac2.Bool</span></code> notations are now in a module <code class="docutils literal notranslate"><span class="pre">Ltac2.Bool.BoolNotations</span></code>
(exported by default), so that these notations can be imported separately
(<a class="reference external" href="https://github.com/coq/coq/pull/16536">#16536</a>,
by Jason Gross).</p></li>
<li><p><strong>Changed:</strong>
<code class="docutils literal notranslate"><span class="pre">Constr.in_context</span></code> enforces that the <code class="docutils literal notranslate"><span class="pre">constr</span></code> passed to it is a type
(<a class="reference external" href="https://github.com/coq/coq/pull/16547">#16547</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16540">#16540</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Changed:</strong>
goal matching functions from <code class="docutils literal notranslate"><span class="pre">Ltac2.Pattern</span></code> (<code class="docutils literal notranslate"><span class="pre">matches_goal</span></code>, <code class="docutils literal notranslate"><span class="pre">lazy_goal_match0</span></code>, <code class="docutils literal notranslate"><span class="pre">multi_goal_match0</span></code> and <code class="docutils literal notranslate"><span class="pre">one_goal_match0</span></code>) have changed types to support matching hypothesis bodies
(<a class="reference external" href="https://github.com/coq/coq/pull/16655">#16655</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Added:</strong>
Deep <a class="reference internal" href="proof-engine/ltac2.html#ltac2-match-on-values"><span class="std std-ref">pattern matching</span></a> for Ltac2
(<a class="reference external" href="https://github.com/coq/coq/pull/16023">#16023</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Added:</strong>
patterns for Ltac2 matches: <code class="docutils literal notranslate"><span class="pre">as</span></code>, records and literal integers and strings
(<a class="reference external" href="https://github.com/coq/coq/pull/16179">#16179</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Added:</strong>
APIs for working with strings: <code class="docutils literal notranslate"><span class="pre">Message.to_string</span></code>, <code class="docutils literal notranslate"><span class="pre">String.concat</span></code>, <code class="docutils literal notranslate"><span class="pre">cat</span></code>, <code class="docutils literal notranslate"><span class="pre">equal</span></code>, <code class="docutils literal notranslate"><span class="pre">compare</span></code>, <code class="docutils literal notranslate"><span class="pre">is_empty</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16217">#16217</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">Ltac2.Constr.Unsafe.liftn</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16413">#16413</a>,
by Jason Gross).</p></li>
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">Ltac2.Constr.Unsafe.closedn</span></code>,
<code class="docutils literal notranslate"><span class="pre">Ltac2.Constr.Unsafe.is_closed</span></code>,
<code class="docutils literal notranslate"><span class="pre">Ltac2.Constr.Unsafe.occur_between</span></code>,
<code class="docutils literal notranslate"><span class="pre">Ltac2.Constr.Unsafe.occurn</span></code> (<a class="reference external" href="https://github.com/coq/coq/pull/16414">#16414</a>, by Jason Gross).</p></li>
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">Ltac2.List.equal</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16429">#16429</a>,
by Jason Gross).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="proof-engine/ltac2.html#coq:cmd.Print-Ltac2" title="Print Ltac2"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Ltac2</span></code></a>, <a class="reference internal" href="proof-engine/ltac2.html#coq:cmd.Print-Ltac2-Signatures" title="Print Ltac2 Signatures"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Ltac2</span> <span class="pre">Signatures</span></code></a> and <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Locate" title="Locate"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Locate</span></code></a> can now find Ltac2 definitions
(<a class="reference external" href="https://github.com/coq/coq/pull/16466">#16466</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16418">#16418</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/16415">#16415</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">Ltac2.Array.for_all2</span></code> and <code class="docutils literal notranslate"><span class="pre">Ltac2.Array.equal</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16535">#16535</a>,
by Jason Gross).</p></li>
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">Ltac2.Constant.equal</span></code>, <code class="docutils literal notranslate"><span class="pre">Ltac2.Constant.t</span></code>, <code class="docutils literal notranslate"><span class="pre">Ltac2.Constructor.equal</span></code>,
<code class="docutils literal notranslate"><span class="pre">Ltac2.Constructor.t</span></code>, <code class="docutils literal notranslate"><span class="pre">Ltac2.Evar.equal</span></code>, <code class="docutils literal notranslate"><span class="pre">Ltac2.Evar.t</span></code>,
<code class="docutils literal notranslate"><span class="pre">Ltac2.Float.equal</span></code>, <code class="docutils literal notranslate"><span class="pre">Ltac2.Float.t</span></code>, <code class="docutils literal notranslate"><span class="pre">Ltac2.Meta.equal</span></code>,
<code class="docutils literal notranslate"><span class="pre">Ltac2.Meta.t</span></code>, <code class="docutils literal notranslate"><span class="pre">Ltac2.Proj.equal</span></code>, <code class="docutils literal notranslate"><span class="pre">Ltac2.Proj.t</span></code>,
<code class="docutils literal notranslate"><span class="pre">Ltac2.Uint63.equal</span></code>, <code class="docutils literal notranslate"><span class="pre">Ltac2.Uint63.t</span></code>, <code class="docutils literal notranslate"><span class="pre">Ltac2.Char.equal</span></code>,
<code class="docutils literal notranslate"><span class="pre">Ltac2.Char.compare</span></code>, <code class="docutils literal notranslate"><span class="pre">Ltac2.Constr.Unsafe.Case.equal</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16537">#16537</a>,
by Jason Gross).</p></li>
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">Ltac2.Option.equal</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16538">#16538</a>,
by Jason Gross).</p></li>
<li><p><strong>Added:</strong>
syntax for Ltac2 record update <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">foo</span> <span class="pre">with</span> <span class="pre">field</span> <span class="pre">:=</span> <span class="pre">bar</span> <span class="pre">}</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16552">#16552</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/10117">#10117</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Added:</strong>
Ltac2 record expressions support punning, i.e. <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">foo;</span> <span class="pre">M.bar</span> <span class="pre">}</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">foo</span> <span class="pre">:=</span> <span class="pre">foo;</span> <span class="pre">M.bar</span> <span class="pre">:=</span> <span class="pre">bar</span> <span class="pre">}</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16556">#16556</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="proof-engine/ltac2.html#coq:tacn.match!-goal" title="match! goal"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">match!</span> <span class="pre">goal</span></code></a> support for matching hypothesis bodies
(<a class="reference external" href="https://github.com/coq/coq/pull/16655">#16655</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12803">#12803</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Added:</strong>
quotation and syntax class for <a class="reference internal" href="proof-engine/ltac2.html#preterm"><span class="std std-ref">preterms</span></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/16740">#16740</a>,
by Gaëtan Gilbert).</p></li>
</ul>
</div>
<div class="section" id="id67">
<h4><a class="toc-backref" href="#id1529">SSReflect</a><a class="headerlink" href="#id67" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Added:</strong>
port the additions made to <code class="docutils literal notranslate"><span class="pre">ssrfun.v</span></code> and <code class="docutils literal notranslate"><span class="pre">ssrbool.v</span></code> in math-comp
<a class="reference external" href="https://github.com/math-comp/math-comp/pull/872">PR #872</a>
and  <a class="reference external" href="https://github.com/math-comp/math-comp/pull/874">PR #874</a>,
namely definitions <code class="docutils literal notranslate"><span class="pre">olift</span></code> and <code class="docutils literal notranslate"><span class="pre">pred_oapp</span></code> as well as lemmas
<code class="docutils literal notranslate"><span class="pre">all_sig2_cond</span></code>, <code class="docutils literal notranslate"><span class="pre">compA</span></code>, <code class="docutils literal notranslate"><span class="pre">obindEapp</span></code>, <code class="docutils literal notranslate"><span class="pre">omapEbind</span></code>, <code class="docutils literal notranslate"><span class="pre">omapEapp</span></code>,
<code class="docutils literal notranslate"><span class="pre">omap_comp</span></code>, <code class="docutils literal notranslate"><span class="pre">oapp_comp</span></code>, <code class="docutils literal notranslate"><span class="pre">olift_comp</span></code>, <code class="docutils literal notranslate"><span class="pre">ocan_comp</span></code>, <code class="docutils literal notranslate"><span class="pre">eqbLR</span></code>,
<code class="docutils literal notranslate"><span class="pre">eqbRL</span></code>, <code class="docutils literal notranslate"><span class="pre">can_in_pcan</span></code>, <code class="docutils literal notranslate"><span class="pre">pcan_in_inj</span></code>, <code class="docutils literal notranslate"><span class="pre">in_inj_comp</span></code>, <code class="docutils literal notranslate"><span class="pre">can_in_comp</span></code>,
<code class="docutils literal notranslate"><span class="pre">pcan_in_comp</span></code> and <code class="docutils literal notranslate"><span class="pre">ocan_in_comp</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16158">#16158</a>,
by Pierre Roux).</p></li>
</ul>
</div>
<div class="section" id="id69">
<h4><a class="toc-backref" href="#id1530">Commands and options</a><a class="headerlink" href="#id69" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong> commands which set tactic options (currently
<a class="reference internal" href="proofs/automatic-tactics/logic.html#coq:opt.Firstorder-Solver" title="Firstorder Solver"><code class="xref coq coq-opt docutils literal notranslate"><span class="pre">Firstorder</span> <span class="pre">Solver</span></code></a> and <a class="reference internal" href="addendum/program.html#coq:cmd.Obligation-Tactic" title="Obligation Tactic"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Obligation</span> <span class="pre">Tactic</span></code></a>, as well as any
defined by third party plugins) now support <a class="reference internal" href="language/core/modules.html#coq:attr.export" title="export"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">export</span></code></a> locality.
Note that such commands using <a class="reference internal" href="language/core/modules.html#coq:attr.global" title="global"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">global</span></code></a> without <a class="reference internal" href="language/core/modules.html#coq:attr.export" title="export"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">export</span></code></a>
or using no explicit locality outside sections apply their effects
when any module containing it (recursively) is imported. This will
change in a future version. (<a class="reference external" href="https://github.com/coq/coq/pull/15274">#15274</a>, fixes <a class="reference external" href="https://github.com/coq/coq/issues/15072">#15072</a>, by Gaëtan Gilbert).</p></li>
<li><p><strong>Changed:</strong>
<code class="docutils literal notranslate"><span class="pre">Hint</span></code> and <a class="reference internal" href="addendum/type-classes.html#coq:cmd.Instance" title="Instance"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Instance</span></code></a> commands with no locality attribute are deprecated.
Previous versions generated a warning, but this version generates an error by
default. This includes all <code class="docutils literal notranslate"><span class="pre">Hint</span></code> commands described in <a class="reference internal" href="proofs/automatic-tactics/auto.html#creating-hints"><span class="std std-ref">Creating Hints</span></a>,
<a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Rewrite" title="Hint Rewrite"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Rewrite</span></code></a>, and <a class="reference internal" href="addendum/type-classes.html#coq:cmd.Instance" title="Instance"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Instance</span></code></a>. As mentioned in the error, please
add an explicit locality to the hint command. The default was
#[<a class="reference internal" href="language/core/modules.html#coq:attr.global" title="global"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">global</span></code></a>], but we recommend using #[<a class="reference internal" href="language/core/modules.html#coq:attr.export" title="export"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">export</span></code></a>] where possible
(<a class="reference external" href="https://github.com/coq/coq/pull/16004">#16004</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13394">#13394</a>,
by Ali Caglayan).</p></li>
<li><p><strong>Changed:</strong>
Transparent obligations generated by <a class="reference internal" href="addendum/program.html#coq:attr.program" title="program"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">Program</span></code></a>
do not produce an implicit <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Unfold" title="Hint Unfold"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Unfold</span></code></a> anymore
(<a class="reference external" href="https://github.com/coq/coq/pull/16340">#16340</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Changed:</strong>
<a class="reference internal" href="addendum/type-classes.html#coq:cmd.Print-Typeclasses" title="Print Typeclasses"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Typeclasses</span></code></a> replaces the undocumented <code class="docutils literal notranslate"><span class="pre">Print</span> <span class="pre">TypeClasses</span></code> command
which displays the list of typeclasses
(<a class="reference external" href="https://github.com/coq/coq/pull/16690">#16690</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16686">#16686</a>,
by Ali Caglayan).</p></li>
<li><p><strong>Changed:</strong>
The -async-proofs-tac-j command line option now accepts
the argument 0, which makes <code class="docutils literal notranslate"><span class="pre">par</span></code> block interpreted
without spawning any new process
(<a class="reference external" href="https://github.com/coq/coq/pull/16837">#16837</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Removed:</strong>
the <code class="docutils literal notranslate"><span class="pre">Program</span> <span class="pre">Naming</span></code> flag, which was introduced as an
immediately deprecated option in Coq 8.16
(<a class="reference external" href="https://github.com/coq/coq/pull/16519">#16519</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Removed:</strong>
undocumented and broken <code class="docutils literal notranslate"><span class="pre">Solve</span> <span class="pre">Obligation</span></code> command
(the <a class="reference internal" href="addendum/program.html#coq:cmd.Solve-Obligations" title="Solve Obligations"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Solve</span> <span class="pre">Obligations</span></code></a> command is untouched)
(<a class="reference external" href="https://github.com/coq/coq/pull/16842">#16842</a>,
by Théo Zimmermann).</p>
</li>
<li id="classfieldsyntax"><p><strong>Deprecated</strong>
<code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">:&gt;</span></span></code> syntax, to declare fields of <a class="reference internal" href="addendum/type-classes.html#typeclasses"><span class="std std-ref">Typeclasses</span></a> as instances,
since it is now replaced by <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">::</span></span></code> (see <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="language/core/records.html#grammar-token-of_type_inst"><span class="hole"><span class="pre">of_type_inst</span></span></a></span></code>).
This will allow, in a future release, making <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">:&gt;</span></span></code> declare <a class="reference internal" href="addendum/implicit-coercions.html#coercions"><span class="std std-ref">Implicit Coercions</span></a>
as it does in <a class="reference internal" href="language/core/records.html#term-records"><span class="std std-ref">record</span></a> definitions
(<a class="reference external" href="https://github.com/coq/coq/pull/16230">#16230</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16224">#16224</a>,
by Pierre Roux, reviewed by Ali Caglayan, Jim Fehrle, Gaëtan Gilbert
and Pierre-Marie Pédrot).</p></li>
<li><p><strong>Added:</strong>
An improved description of <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:cmd.Proof-using" title="Proof using"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Proof</span> <span class="pre">using</span></code></a> and section variables
(<a class="reference external" href="https://github.com/coq/coq/pull/16168">#16168</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Added:</strong>
<code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">::</span></span></code> syntax (see <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="language/core/records.html#grammar-token-of_type_inst"><span class="hole"><span class="pre">of_type_inst</span></span></a></span></code>) to declare fields of records as <a class="reference internal" href="addendum/type-classes.html#typeclasses"><span class="std std-ref">typeclass</span></a> instances
(<a class="reference external" href="https://github.com/coq/coq/pull/16230">#16230</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16224">#16224</a>,
by Pierre Roux, reviewed by Ali Caglayan, Jim Fehrle, Gaëtan Gilbert
and Pierre-Marie Pédrot).</p></li>
<li><p><strong>Added:</strong>
The <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Print-Keywords" title="Print Keywords"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Keywords</span></code></a> command, which prints all the currently-defined parser keywords and tokens
(<a class="reference external" href="https://github.com//pull/16438">#16438</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16375">#16375</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Print-Grammar" title="Print Grammar"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Grammar</span></code></a> can print arbitrary nonterminals or the whole grammar instead of a small adhoc list of nonterminals
(<a class="reference external" href="https://github.com/coq/coq/pull/16440">#16440</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
<a class="reference internal" href="proof-engine/vernacular-commands.html#coq:flag.Fast-Name-Printing" title="Fast Name Printing"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Fast</span> <span class="pre">Name</span> <span class="pre">Printing</span></code></a> flag no longer causes
variable name capture when displaying a goal
(<a class="reference external" href="https://github.com/coq/coq/pull/16395">#16395</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14141">#14141</a>,
by Wojciech Karpiel).</p></li>
<li><p><strong>Fixed:</strong>
<a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.vm_compute" title="vm_compute"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">vm_compute</span></code></a> ignored the <code class="docutils literal notranslate"><span class="pre">bytecode-compiler</span></code> command line flag
(<a class="reference external" href="https://github.com/coq/coq/pull/16931">#16931</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16929">#16929</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
The <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:cmd.Proof-Mode" title="Proof Mode"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Proof</span> <span class="pre">Mode</span></code></a> command now gives an error if the
specified proof mode doesn't exist.  The command was not
previously documented
(<a class="reference external" href="https://github.com/coq/coq/pull/16981">#16981</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16602">#16602</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Fixed:</strong>
Backtracking over grammar modifications from plugins (such as added commands)
(<a class="reference external" href="https://github.com/coq/coq/pull/17069">#17069</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12575">#12575</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
Anomaly instead of regular error on unsupported applied <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">fix</span></span></code> in <a class="reference internal" href="using/libraries/funind.html#coq:cmd.Function" title="Function"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Function</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/17113">#17113</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/17110">#17110</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
<div class="section" id="id98">
<h4><a class="toc-backref" href="#id1531">Command-line tools</a><a class="headerlink" href="#id98" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Added:</strong>
New documentation section <a class="reference internal" href="practical-tools/utilities.html#configuration-basics"><span class="std std-ref">Coq configuration basics</span></a> covering use cases such
as setting up Coq with opam, where/how to set up source code for your projects
and use of _CoqProject
(<a class="reference external" href="https://github.com/coq/coq/pull/15888">#15888</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Added:</strong>
In _CoqProject files, expand paths that are directories
to include appropriate files in (sub)directories
(<a class="reference external" href="https://github.com/coq/coq/pull/16308">#16308</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Fixed:</strong> issues when using <code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code> to build targets
requiring both <code class="docutils literal notranslate"><span class="pre">.vo</span></code> and <code class="docutils literal notranslate"><span class="pre">.glob</span></code> files (typically documentation
targets), where <code class="docutils literal notranslate"><span class="pre">make</span></code> would run multiple <code class="docutils literal notranslate"><span class="pre">coqc</span></code> processes on
the same source file with racy behaviour (only fixed when using a
<code class="docutils literal notranslate"><span class="pre">make</span></code> supporting &quot;grouped targets&quot; such as GNU Make 4.3) (<a class="reference external" href="https://github.com/coq/coq/pull/16757">#16757</a>, by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
Properly process legacy attributes such as <code class="docutils literal notranslate"><span class="pre">Global</span></code>
and <code class="docutils literal notranslate"><span class="pre">Polymorphic</span></code> in coqdoc to avoid omissions
when using the <code class="docutils literal notranslate"><span class="pre">-g</span></code> (Gallina only) option
(<a class="reference external" href="https://github.com/coq/coq/pull/17090">#17090</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15933">#15933</a>,
by Karl Palmskog).</p></li>
</ul>
<blockquote>
<div></div></blockquote>
</div>
<div class="section" id="stdlib">
<span id="id104"></span><h4><a class="toc-backref" href="#id1532">Standard library</a><a class="headerlink" href="#stdlib" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
Class <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Saturate</span></span></code> in <code class="docutils literal notranslate"><span class="pre">ZifyCLasses.v</span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">PRes</span></span></code> now also takes operands
(<a class="reference external" href="https://github.com/coq/coq/pull/16355">#16355</a>,
by František Farka on behalf of BedRock Systems, Inc.).</p></li>
<li><p><strong>Changed:</strong>
For uniformity of naming and ease of remembering, <code class="docutils literal notranslate"><span class="pre">R_dist</span></code> and
theorems mentioning <code class="docutils literal notranslate"><span class="pre">R_dist</span></code> in their name become available with spelling <code class="docutils literal notranslate"><span class="pre">Rdist</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16874">#16874</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Removed:</strong>
from <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Nat</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">N</span></span></code> superfluous lemmas <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">rs_rs'</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">rs'_rs''</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">rbase</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">A'A_right</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">ls_ls'</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">ls'_ls''</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">rs'_rs''</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">lbase</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">A'A_left</span></span></code>, and also
redundant non-negativity assumptions in <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">gcd_unique</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">gcd_unique_alt</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">divide_gcd_iff</span></span></code>, and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">gcd_mul_diag_l</span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16203">#16203</a>,
by Andrej Dudenhefner).</p></li>
<li><p><strong>Deprecated:</strong>
notation <code class="docutils literal notranslate"><span class="pre">_</span> <span class="pre">~=</span> <span class="pre">_</span></code> for <code class="docutils literal notranslate"><span class="pre">JMeq</span></code> in
<code class="docutils literal notranslate"><span class="pre">Coq.Program.Equality</span></code> (<a class="reference external" href="https://github.com/coq/coq/pull/16436">#16436</a>, by Gaëtan Gilbert).</p></li>
<li><p><strong>Deprecated:</strong>
lemma <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Finite_alt</span></span></code> in <code class="docutils literal notranslate"><span class="pre">FinFun.v</span></code>, which is a weaker version of
the newly added lemma <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Finite_dec</span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16489">#16489</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16479">#16479</a>,
by Bodo Igler, with help from Olivier Laurent).</p></li>
<li><p><strong>Deprecated:</strong>
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Zmod</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Zdiv_eucl_POS</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Zmod_POS_bound</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Zmod_pos_bound</span></span></code>,
and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Zmod_neg_bound</span></span></code>
in <code class="docutils literal notranslate"><span class="pre">ZArith.Zdiv</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16892">#16892</a>,
by Andres Erbsen).</p></li>
<li><p><strong>Deprecated:</strong> <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Cyclic.ZModulo.ZModulo</span></span></code> because there have been no known
use cases for this module and because it does not implement <code class="docutils literal notranslate"><span class="pre">Z/nZ</span></code> for
arbitrary <code class="docutils literal notranslate"><span class="pre">n</span></code> as one might expect based on the name. The same construction
will remain a part of the Coq test suite to ensure consistency of
<code class="docutils literal notranslate"><span class="pre">CyclicAxioms</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16914">#16914</a>,
by Andres Erbsen).</p></li>
<li><p><strong>Added:</strong>
lemmas <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Permutation_incl_cons_inv_r</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Permutation_pigeonhole</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Permutation_pigeonhole_rel</span></span></code> to <code class="docutils literal notranslate"><span class="pre">Permutation.v</span></code>, and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Forall2_cons_iff</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Forall2_length</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Forall2_impl</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Forall2_flip</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Forall_Exists_exists_Forall2</span></span></code> to <code class="docutils literal notranslate"><span class="pre">List.v</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/15986">#15986</a>,
by Andrej Dudenhefner, with help from Dominique Larchey-Wendling and Olivier Laurent).</p></li>
<li><p><strong>Added:</strong>
modules <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Nat.Div0</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Nat.Lcm0</span></span></code> in <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">PeanoNat</span></span></code>, and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">N.Div0</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">N.Lcm0</span></span></code> in <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">BinNat</span></span></code>
containing lemmas regarding <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">div</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">mod</span></span></code>, which take into account <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">div</span> <span class="pre">0</span> <span class="pre">=</span> <span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">mod</span> <span class="pre">0</span> <span class="pre">=</span> <span class="pre">n</span></code>.
Strictly weaker lemmas are deprecated, and will be removed in the future.
After the weaker lemmas are removed, the modules <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Div0</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Lcm0</span></span></code> will be deprecated,
and their contents included directly into <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Nat</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">N</span></span></code>.
Locally, you can use <code class="code Coq docutils literal notranslate"><span class="keyword namespace"><span class="pre">Module</span></span> <span class="name"><span class="pre">Nat</span></span> <span class="operator"><span class="pre">:=</span></span> <span class="name"><span class="pre">Nat.Div0</span></span><span class="operator"><span class="pre">.</span></span></code> or <code class="code Coq docutils literal notranslate"><span class="keyword namespace"><span class="pre">Module</span></span> <span class="name"><span class="pre">Nat</span></span> <span class="operator"><span class="pre">:=</span></span> <span class="name"><span class="pre">Nat.Lcm0</span></span><span class="operator"><span class="pre">.</span></span></code> to approximate this inclusion
(<a class="reference external" href="https://github.com/coq/coq/pull/16203">#16203</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16186">#16186</a>,
by Andrej Dudenhefner).</p></li>
<li><p><strong>Added:</strong>
lemma <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">measure_induction</span></span></code> in <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Nat</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">N</span></span></code> analogous to <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Wf_nat.induction_ltof1</span></span></code>,
which is compatible with the <code class="docutils literal notranslate"><span class="pre">using</span></code> clause for the <a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:tacn.induction" title="induction"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">induction</span></code></a> tactic
(<a class="reference external" href="https://github.com/coq/coq/pull/16203">#16203</a>,
by Andrej Dudenhefner).</p></li>
<li><p><strong>Added:</strong>
three lemmata related to finiteness and decidability of equality:
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Listing_decidable_eq</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Finite_dec</span></span></code>
to <code class="docutils literal notranslate"><span class="pre">FinFun.v</span></code> and lemma <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">NoDup_list_decidable</span></span></code> to <code class="docutils literal notranslate"><span class="pre">ListDec.v</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16489">#16489</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16479">#16479</a>,
by Bodo Igler, with help from Olivier Laurent and Andrej Dudenhefner).</p></li>
<li><p><strong>Added:</strong>
lemma <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">not_NoDup</span></span></code> to <code class="docutils literal notranslate"><span class="pre">ListDec.v</span></code> and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">NoDup_app_remove_l</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">NoDup_app_remove_r</span></span></code> to <code class="docutils literal notranslate"><span class="pre">List.v</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16588">#16588</a>,
by Stefan Haan with a lot of help from Olivier Laurent and Ali Caglayan).</p></li>
<li><p><strong>Added:</strong>
the <code class="docutils literal notranslate"><span class="pre">skipn_skipn</span></code> lemma in <code class="docutils literal notranslate"><span class="pre">Lists/List.v</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16632">#16632</a>,
by Stephan Boyer).</p></li>
<li><p><strong>Added:</strong>
lemmas <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">nth_error_ext</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">map_repeat</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">rev_repeat</span></span></code> to <code class="docutils literal notranslate"><span class="pre">List.v</span></code>,
and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">to_list_nil_iff</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">to_list_inj</span></span></code> to <code class="docutils literal notranslate"><span class="pre">VectorSpec.v</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16756">#16756</a>,
by Stefan Haan).</p></li>
<li><p><strong>Added:</strong> transparent <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">extgcd</span></span></code> to replace opaque <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">euclid</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">euclid_rec</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Euclid</span></span></code>, and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Euclid_intro</span></span></code> in <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Znumtheory</span></span></code>.
Deprecated compatibility wrappers are provided
(<a class="reference external" href="https://github.com/coq/coq/pull/16915">#16915</a>,
by Andres Erbsen).</p></li>
</ul>
</div>
<div class="section" id="id123">
<h4><a class="toc-backref" href="#id1533">Infrastructure and dependencies</a><a class="headerlink" href="#id123" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
Coq is now built entirely using the Dune build system. Packagers and
users that build Coq manually must use the new build
instructions in the documentation
(<a class="reference external" href="https://github.com/coq/coq/pull/15560">#15560</a>,
by Ali Caglayan, Emilio Jesus Gallego Arias, and Rudi Grinberg).</p></li>
<li><p><strong>Changed:</strong>
Coq is not compiled with OCaml's <code class="docutils literal notranslate"><span class="pre">-rectypes</span></code> option anymore.
This means plugins which do not exploit it can also stop passing it to OCaml
(<a class="reference external" href="https://github.com/coq/coq/pull/16007">#16007</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Changed:</strong>
Building Coq now requires Dune &gt;= 2.9
(<a class="reference external" href="https://github.com/coq/coq/pull/16118">#16118</a>,
by Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Changed:</strong>
Coq Makefile targets <code class="docutils literal notranslate"><span class="pre">pretty-timed</span></code>, <code class="docutils literal notranslate"><span class="pre">make-pretty-timed</span></code>,
<code class="docutils literal notranslate"><span class="pre">make-pretty-timed-before</span></code>, <code class="docutils literal notranslate"><span class="pre">make-pretty-timed-after</span></code>, <code class="docutils literal notranslate"><span class="pre">print-pretty-timed</span></code>,
<code class="docutils literal notranslate"><span class="pre">print-pretty-timed-diff</span></code>, <code class="docutils literal notranslate"><span class="pre">print-pretty-single-time-diff</span></code> now generate more
readable timing tables when absolute paths are used in <code class="docutils literal notranslate"><span class="pre">_CoqProject</span></code> / the
arguments to <code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code>, by stripping off the absolute prefix
(<a class="reference external" href="https://github.com/coq/coq/pull/16268">#16268</a>,
by Jason Gross).</p></li>
<li><p><strong>Changed:</strong>
Coq's configure script now defaults to <code class="docutils literal notranslate"><span class="pre">-native-compiler</span> <span class="pre">no</span></code>.
Previously, the default was <code class="docutils literal notranslate"><span class="pre">-native-compiler</span> <span class="pre">ondemand</span></code>, except on
Windows. The behavior for users installing through opam does not change,
i.e., it is <code class="docutils literal notranslate"><span class="pre">-native-compiler</span> <span class="pre">no</span></code> if the <code class="docutils literal notranslate"><span class="pre">coq-native</span></code> package is not
installed, and <code class="docutils literal notranslate"><span class="pre">-native-compiler</span> <span class="pre">yes</span></code> otherwise
(<a class="reference external" href="https://github.com/coq/coq/pull/16997">#16997</a>,
by Théo Zimmermann).</p></li>
<li><p><strong>Removed:</strong>
the <code class="docutils literal notranslate"><span class="pre">-coqide</span></code> switch to <code class="docutils literal notranslate"><span class="pre">configure</span></code> in Coq's build infrastructure
(it stopped controlling what got compiled in the move to dune)
(<a class="reference external" href="https://github.com/coq/coq/pull/16512">#16512</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Removed:</strong>
the <code class="docutils literal notranslate"><span class="pre">-nomacintegration</span></code> configure flag for CoqIDE.
Now CoqIDE will always build with the proper
platform-specific integration if available
(<a class="reference external" href="https://github.com/coq/coq/pull/16531">#16531</a>,
by Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Added:</strong>
Coq now supports OCaml 5; note that OCaml 5 is not compatible with
Coq's native reduction machine
(<a class="reference external" href="https://github.com/coq/coq/pull/15494">#15494</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/16925">#16925</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/16947">#16947</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/16959">#16959</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/16988">#16988</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/16991">#16991</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/16996">#16996</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/16997">#16997</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/16999">#16999</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/17010">#17010</a>, and
<a class="reference external" href="https://github.com/coq/coq/pull/17015">#17015</a>
by Emilio Jesus Gallego Arias, Gaëtan Gilbert, Guillaume Melquiond,
Pierre-Marie Pédrot, and others).</p></li>
<li><p><strong>Added:</strong>
OCaml 4.14 is now officially supported
(<a class="reference external" href="https://github.com/coq/coq/pull/15867">#15867</a>,
by Gaëtan Gilbert).</p></li>
</ul>
</div>
<div class="section" id="id143">
<h4><a class="toc-backref" href="#id1534">Miscellaneous</a><a class="headerlink" href="#id143" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
Module names are now added to the loadpath in
alphabetical order for each (sub-)directory.
Previously they were added in the order of
the directory entries (as shown by &quot;ls -U&quot;)
(<a class="reference external" href="https://github.com/coq/coq/pull/16725">#16725</a>,
by Jim Fehrle).</p></li>
</ul>
</div>
</div>
<div class="section" id="changes-in-8-17-1">
<h3>Changes in 8.17.1<a class="headerlink" href="#changes-in-8-17-1" title="Permalink to this headline">¶</a></h3>
<p>A variety of bug fixes and improvements to error messages, including:</p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
in some cases, coqdep emitted incorrect paths for META files which prevented dune builds for plugins from working correctly
(<a class="reference external" href="https://github.com/coq/coq/pull/17270">#17270</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16571">#16571</a>,
by Rodolphe Lepigre).</p></li>
<li><p><strong>Fixed:</strong>
Shadowing of record fields in extraction to OCaml
(<a class="reference external" href="https://github.com/coq/coq/pull/17324">#17324</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12813">#12813</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/14843">#14843</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/16677">#16677</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
an impossible to turn off debug message &quot;backtracking and redoing byextend on ...&quot;
(<a class="reference external" href="https://github.com/coq/coq/pull/17495">#17495</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/17488">#17488</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
major memory regression affecting MathComp 2
(<a class="reference external" href="https://github.com/coq/coq/pull/17743">#17743</a>,
by Enrico Tassi and Pierre Roux).</p></li>
</ul>
</div>
</div>
<div class="section" id="version-8-16">
<h2>Version 8.16<a class="headerlink" href="#version-8-16" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id154">
<h3>Summary of changes<a class="headerlink" href="#id154" title="Permalink to this headline">¶</a></h3>
<p>Coq version 8.16 integrates changes to the Coq kernel and performance improvements along
with a few new features. We highlight some of the most impactful changes here:</p>
<blockquote>
<div><ul class="simple">
<li><p>The guard checker (see <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:cmd.Guarded" title="Guarded"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Guarded</span></code></a>) now ensures strong <a class="reference internal" href="#normalization"><span class="std std-ref">normalization</span></a>
under any reduction strategy.</p></li>
<li><p>Irrelevant terms (in the <code class="docutils literal notranslate"><span class="pre">SProp</span></code> sort) are now squashed to a dummy
value during <a class="reference internal" href="#spropconversion"><span class="std std-ref">conversion</span></a>, fixing a subject reduction issue and making proof
conversion faster.</p></li>
<li><p>Introduction of <a class="reference internal" href="#reversiblecoercions"><span class="std std-ref">reversible coercions</span></a>, which
allow coercions relying on meta-level resolution such as type-classes or canonical
structures. Also <a class="reference internal" href="#uniforminh"><span class="std std-ref">allow coercions</span></a> that do not fullfill the <a class="reference internal" href="addendum/implicit-coercions.html#term-uniform-inheritance-condition"><span class="xref std std-term">uniform inheritance condition</span></a>.</p></li>
<li><p><a class="reference internal" href="#generalizerew"><span class="std std-ref">Generalized rewriting</span></a> support for rewriting with <code class="docutils literal notranslate"><span class="pre">Type</span></code>-valued relations and in
<code class="docutils literal notranslate"><span class="pre">Type</span></code> contexts, using the <code class="docutils literal notranslate"><span class="pre">Classes.CMorphisms</span></code> library.</p></li>
<li><p>Added the <a class="reference internal" href="#booleanequality"><span class="std std-ref">boolean equality</span></a> scheme command for decidable inductive types.</p></li>
<li><p>Added a <a class="reference internal" href="#printnotation"><span class="std std-ref">Print Notation</span></a> command.</p></li>
<li><p>Incompatibilities in <a class="reference internal" href="#programobls"><span class="std std-ref">name generation</span></a> for Program obligations,
<a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.eauto" title="eauto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">eauto</span></code></a> treatment of <a class="reference internal" href="#eautolevels"><span class="std std-ref">tactic failure levels</span></a>, use of <code class="docutils literal notranslate"><span class="pre">ident</span></code>
<a class="reference internal" href="#identnotations"><span class="std std-ref">in notations</span></a>, parsing of <a class="reference internal" href="#moduleexprs"><span class="std std-ref">module expressions</span></a>.</p></li>
<li><p>Standard library <a class="reference internal" href="#id261"><span class="std std-ref">reorganization and deprecations</span></a>.</p></li>
<li><p>Improve the treatment of standard library numbers by <a class="reference internal" href="addendum/extraction.html#coq:cmd.Extraction" title="Extraction"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Extraction</span></code></a>.</p></li>
</ul>
</div></blockquote>
<p>See the <a class="reference internal" href="#changes-in-8-16-0">Changes in 8.16.0</a> section below for the detailed list of changes,
including potentially breaking changes marked with <strong>Changed</strong>.
Coq's <a class="reference external" href="https://coq.github.io/doc/v8.16/refman">reference manual for 8.16</a>,
<a class="reference external" href="https://coq.github.io/doc/v8.16/stdlib">documentation of the 8.16 standard library</a>
and <a class="reference external" href="https://coq.github.io/doc/v8.16/api">developer documentation of the 8.16 ML API</a>
are also available.</p>
<p>Ali Caglayan, Emilio Jesús Gallego Arias, Gaëtan Gilbert
and Théo Zimmermann worked on maintaining and improving the
continuous integration system and package building infrastructure.</p>
<p>Erik Martin-Dorel has maintained the <a class="reference external" href="https://hub.docker.com/r/coqorg/coq">Coq Docker images</a> that are used in many Coq
projects for continuous integration.</p>
<p>The opam repository for Coq packages has been maintained by
Guillaume Claret, Karl Palmskog, Matthieu Sozeau and Enrico Tassi with
contributions from many users. A list of packages is available at
<a class="reference external" href="https://coq.inria.fr/opam/www/">https://coq.inria.fr/opam/www/</a>.</p>
<p>The <a class="reference external" href="https://github.com/coq/platform">Coq Platform</a> has been maintained
by Michael Soegtrop, with help from Karl Palmskog, Enrico Tassi and
Théo Zimmermann.</p>
<p>Our current maintainers are Yves Bertot, Frédéric Besson, Ana Borges,
Ali Caglayan, Tej Chajed, Cyril Cohen, Pierre Corbineau, Pierre Courtieu, Maxime Dénès,
Jim Fehrle, Julien Forest, Emilio Jesús Gallego Arias, Gaëtan Gilbert,
Georges Gonthier, Benjamin Grégoire, Jason Gross, Hugo Herbelin,
Vincent Laporte, Olivier Laurent, Assia Mahboubi, Kenji Maillard,
Guillaume Melquiond, Pierre-Marie Pédrot, Clément Pit-Claudel, Pierre Roux,
Kazuhiko Sakaguchi, Vincent Semeria, Michael Soegtrop, Arnaud Spiwack,
Matthieu Sozeau, Enrico Tassi, Laurent Théry, Anton Trunov, Li-yao Xia
and Théo Zimmermann. See the <a class="reference external" href="https://coq.inria.fr/coq-team.html">Coq Team face book</a>
page for more details.</p>
<p>The 57 contributors to the 8.16 versions are Tanaka Akira, Frédéric Besson, Martin Bodin, Ana Borges,
Ali Caglayan, Minki Cho, Cyril Cohen, Juan Conejero, &quot;stop-cran&quot;, Adrian Dapprich, Maxime Dénès,
Stéphane Desarzens, Christian Doczkal, Andrej Dudenhefner, Andres Erbsen, Jim Fehrle,
Emilio Jesús Gallego Arias, Attila Gáspár, Paolo G. Giarrusso, Gaëtan Gilbert, Rudi Grinberg, Jason Gross, Hugo Herbelin,
Wolf Honore, Jasper Hugunin, Bart Jacobs, Pierre Jouvelot,
Ralf Jung, Grant Jurgensen, Jan-Oliver Kaiser, Wojciech Karpiel, Thomas Klausner,
Ethan Kuefner, Fabian Kunze, Olivier Laurent, Yishuai Li, Erik Martin-Dorel, Guillaume Melquiond,
Jean-Francois Monin, Pierre-Marie Pédrot, Rudy Peterson, Clément Pit-Claudel, Seth Poulsen,
Ramkumar Ramachandra, Pierre Roux, Takafumi Saikawa, Kazuhiko Sakaguchi, Gabriel Scherer,
Vincent Semeria, Kartik Singhal, Michael Soegtrop, Matthieu Sozeau, Enrico Tassi, Laurent Théry,
Anton Trunov, Li-yao Xia and Théo Zimmermann.</p>
<p>The Coq community at large helped improve this new version via
the GitHub issue and pull request system, the <a class="reference external" href="mailto:coq-club&#37;&#52;&#48;inria&#46;fr">coq-club<span>&#64;</span>inria<span>&#46;</span>fr</a> mailing list,
the <a class="reference external" href="https://coq.discourse.group/">Discourse forum</a> and the
<a class="reference external" href="https://coq.zulipchat.com">Coq Zulip chat</a>.</p>
<p>Version 8.16's development spanned 6 months from the release of
Coq 8.15.0. Pierre-Marie Pédrot is the release manager of Coq 8.16.
This release is the result of 356 merged PRs, closing 99 issues.</p>
<div class="line-block">
<div class="line">Nantes, June 2022,</div>
<div class="line">Matthieu Sozeau for the Coq development team</div>
</div>
</div>
<div class="section" id="changes-in-8-16-0">
<h3>Changes in 8.16.0<a class="headerlink" href="#changes-in-8-16-0" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id160">
<ul class="simple">
<li><p><a class="reference internal" href="#id161" id="id1535">Kernel</a></p></li>
<li><p><a class="reference internal" href="#id173" id="id1536">Specification language, type inference</a></p></li>
<li><p><a class="reference internal" href="#id185" id="id1537">Notations</a></p></li>
<li><p><a class="reference internal" href="#id191" id="id1538">Tactics</a></p></li>
<li><p><a class="reference internal" href="#tactic-language" id="id1539">Tactic language</a></p></li>
<li><p><a class="reference internal" href="#id225" id="id1540">SSReflect</a></p></li>
<li><p><a class="reference internal" href="#id227" id="id1541">Commands and options</a></p></li>
<li><p><a class="reference internal" href="#id253" id="id1542">Command-line tools</a></p></li>
<li><p><a class="reference internal" href="#id258" id="id1543">CoqIDE</a></p></li>
<li><p><a class="reference internal" href="#id260" id="id1544">Standard library</a></p></li>
<li><p><a class="reference internal" href="#id279" id="id1545">Infrastructure and dependencies</a></p></li>
<li><p><a class="reference internal" href="#extraction" id="id1546">Extraction</a></p></li>
</ul>
</div>
<div class="section" id="id161">
<h4><a class="toc-backref" href="#id1535">Kernel</a><a class="headerlink" href="#id161" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="normalization">
<li><p><strong>Changed:</strong>
Fixpoints are now expected to be guarded even in subterms erasable
by reduction, thus getting rid of an artificial obstacle
preventing to lift the assumption of weak normalization of Coq to an
assumption of strong normalization; for instance (barring
implementation bugs) termination of the type-checking algorithm of
Coq is now restored (of course, as usual, up to the assumption of
the consistency of set theory and type theory, i.e., equivalently,
up to the weak normalization of type theory, a &quot;physical&quot;
assumption, which has not been contradicted for decades and which
specialists commonly believe to be a truth)
(<a class="reference external" href="https://github.com/coq/coq/pull/15434">#15434</a>, incidentally
fixes the complexity issue <a class="reference external" href="https://github.com/coq/coq/issues/5702">#5702</a>, by Hugo Herbelin).</p></li>
<li><p><strong>Changed:</strong>
Flag <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Unset</span></span></span> <span><span><span class="pre">Guard</span></span></span> <span><span><span class="pre">Checking</span></span></span></span></code> nevertheless requires fixpoints to
have an argument marked as decreasing in a type which is inductive
(<a class="reference external" href="https://github.com/coq/coq/pull/15668">#15668</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15261">#15261</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Removed:</strong>
<a class="reference internal" href="language/core/inductive.html#template-polymorphism"><span class="std std-ref">Template polymorphism</span></a> is now forbidden for mutual inductive types
(<a class="reference external" href="https://github.com/coq/coq/pull/15965">#15965</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
Inlining of non-logical objects (notations, hints, ...) was missing
when applying a functor returning one of its arguments as e.g. in
<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Module</span></span></span> <span><span><span class="pre">F</span></span></span> <span><span><span class="pre">(E:T)</span></span></span> <span><span><span class="pre">:=</span></span></span> <span><span><span class="pre">E</span></span></span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/15412">#15412</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15403">#15403</a>,
by Hugo Herbelin).</p>
</li>
<li id="spropconversion"><p><strong>Fixed:</strong>
We introduce a new irrelevant term in the reduction machine.
It is used to shortcut computation of terms living in a strict
proposition, and behaves as an exception. This restores subject
reduction, and also makes conversion of large terms in SProp
cheap
(<a class="reference external" href="https://github.com/coq/coq/pull/15575">#15575</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14015">#14015</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Fixed:</strong>
performance blowups while inferring variance information for <a class="reference internal" href="addendum/universe-polymorphism.html#cumulative"><span class="std std-ref">Cumulative, NonCumulative</span></a> inductive types
(<a class="reference external" href="https://github.com/coq/coq/pull/15662">#15662</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11741">#11741</a>,
by Gaëtan Gilbert).</p></li>
</ul>
</div>
<div class="section" id="id173">
<h4><a class="toc-backref" href="#id1536">Specification language, type inference</a><a class="headerlink" href="#id173" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Added:</strong>
New clause <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">as</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code> to the <a class="reference internal" href="language/core/records.html#coq:cmd.Record" title="Record"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Record</span></code></a> command to specify
the name of the main argument to use by default in the type of
projections
(<a class="reference external" href="https://github.com/coq/coq/pull/14563">#14563</a>,
by Hugo Herbelin).</p>
</li>
<li id="reversiblecoercions"><p><strong>Added:</strong>
<a class="reference internal" href="addendum/implicit-coercions.html#term-reversible-coercion"><span class="xref std std-term">Reversible coercions</span></a> are coercions which cannot be
represented by a regular coercion (a Gallina function)
but rather a meta procedure, such as type class inference
or canonical structure resolution
(<a class="reference external" href="https://github.com/coq/coq/pull/15693">#15693</a>,
by Cyril Cohen, Pierre Roux, Enrico Tassi,
reviewed by Ali Caglayan, Jim Fehrle and Gaëtan Gilbert).</p>
</li>
<li id="uniforminh"><p><strong>Added:</strong>
support for coercions not fulfilling
the uniform inheritance condition,
allowing more freedom for the parameters that are now inferred
using unification, canonical structures or typeclasses
(<a class="reference external" href="https://github.com/coq/coq/pull/15789">#15789</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/2828">#2828</a>,
<a class="reference external" href="https://github.com/coq/coq/issues/4593">#4593</a>,
<a class="reference external" href="https://github.com/coq/coq/issues/3115">#3115</a>,
<a class="reference external" href="https://github.com/coq/coq/issues/5222">#5222</a>,
<a class="reference external" href="https://github.com/coq/coq/issues/9696">#9696</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/8540">#8540</a>,
by Pierre Roux, reviewed by Ali Caglayan, Enrico Tassi, Kazuhiko Sakaguchi and Jim Fehrle).</p></li>
<li><p><strong>Fixed:</strong>
interpretation of <code class="docutils literal notranslate"><span class="pre">{struct}</span></code> fixpoint annotations when the principal argument comes from an implicit generalization
(<a class="reference external" href="https://github.com/coq/coq/pull/15581">#15581</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13157">#13157</a>,
by Gaëtan Gilbert).</p></li>
</ul>
</div>
<div class="section" id="id185">
<h4><a class="toc-backref" href="#id1537">Notations</a><a class="headerlink" href="#id185" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul id="identnotations">
<li><p><strong>Removed:</strong>
<code class="docutils literal notranslate"><span class="pre">_</span></code> in <code class="docutils literal notranslate"><span class="pre">ident</span></code> entries in notations, which was deprecated
in favor of <code class="docutils literal notranslate"><span class="pre">name</span></code> in 8.13. When you see messages like</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Error: Notation &quot;[ rel _ _ : _ | _ ]&quot; is already defined at level 0
with arguments name, name, constr, constr while it is now required to be
at level 0 with arguments ident, ident, constr, constr.
</pre></div>
</div>
<p>replace <code class="docutils literal notranslate"><span class="pre">ident</span></code> with <code class="docutils literal notranslate"><span class="pre">name</span></code> in the <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Notation" title="Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Notation</span></code></a> command.
To ease the change, you can fix the <code class="docutils literal notranslate"><span class="pre">deprecated-ident-entry</span></code> warnings
in Coq 8.15 (or 8.14 or 8.13). The warning can be turned into an error with
<code class="docutils literal notranslate"><span class="pre">-arg</span> <span class="pre">-w</span> <span class="pre">-arg</span> <span class="pre">+deprecated-ident-entry</span></code> in the <code class="docutils literal notranslate"><span class="pre">_CoqProject</span></code> file
(<a class="reference external" href="https://github.com/coq/coq/pull/15754">#15754</a>,
by Pierre Roux).</p>
</li>
<li><p><strong>Added:</strong>
When defining a recursive notation referring to another recursive
notation, expressions of the form <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">x</span></span></span> <span><span><span class="pre">..</span></span></span> <span><span><span class="pre">y</span></span></span></span></code> can be used where a
sequence of binders is expected
(<a class="reference external" href="https://github.com/coq/coq/pull/15291">#15291</a>,
grants <a class="reference external" href="https://github.com/coq/coq/issues/7911">#7911</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Coercions are disabled when typechecking parsers and printers
of <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Number-Notation" title="Number Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Notation</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/15884">#15884</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15843">#15843</a>,
by Pierre Roux).</p></li>
</ul>
</div>
<div class="section" id="id191">
<h4><a class="toc-backref" href="#id1538">Tactics</a><a class="headerlink" href="#id191" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
The <code class="docutils literal notranslate"><span class="pre">RewriteRelation</span></code> type class is now used to declare relations
inferable by the <a class="reference internal" href="addendum/generalized-rewriting.html#coq:tacn.setoid_rewrite" title="setoid_rewrite"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">setoid_rewrite</span></code></a> tactic to construct
<code class="docutils literal notranslate"><span class="pre">Proper</span></code> instances. This can break developments that relied on
existing <code class="docutils literal notranslate"><span class="pre">Reflexive</span></code> instances to infer relations. The fix is
to simply add a (backwards compatible) <code class="docutils literal notranslate"><span class="pre">RewriteRelation</span></code> declaration
for the relation. This change allows to set stricter modes on the
relation type classes <code class="docutils literal notranslate"><span class="pre">Reflexive</span></code>, <code class="docutils literal notranslate"><span class="pre">Symmetric</span></code>, etc.
(<a class="reference external" href="https://github.com/coq/coq/pull/13969">#13969</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/7916">#7916</a>,
by Matthieu Sozeau).</p></li>
<li><p><strong>Changed:</strong>
The <a class="reference internal" href="addendum/generalized-rewriting.html#coq:tacn.setoid_rewrite" title="setoid_rewrite"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">setoid_rewrite</span></code></a> tactic can now properly recognize
homogeneous relations applied to types in different universes.
(<a class="reference external" href="https://github.com/coq/coq/pull/14138">#14138</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13618">#13618</a>,
by Matthieu Sozeau).</p>
</li>
<li id="eautolevels"><p><strong>Changed:</strong>
The <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.eauto" title="eauto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">eauto</span></code></a> tactic does not propagate internal Ltac failures
with level &gt; 0 anymore. Any failure caused by a hint now behaves as if it
were a level 0 error
(<a class="reference external" href="https://github.com/coq/coq/pull/15215">#15215</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15214">#15214</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Changed:</strong>
<a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.rewrite" title="rewrite"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">rewrite</span></code></a> when used to rewrite in multiple hypotheses (eg <code class="docutils literal notranslate"><span class="pre">rewrite</span> <span class="pre">foo</span> <span class="pre">in</span> <span class="pre">H,H'</span></code>) requires that the term (<code class="docutils literal notranslate"><span class="pre">foo</span></code>) does not depend on the hypotheses it rewrites.
When using <code class="docutils literal notranslate"><span class="pre">rewrite</span> <span class="pre">in</span> <span class="pre">*</span></code>, this means we only rewrite in hypotheses which do not appear in the term.
(<a class="reference external" href="https://github.com/coq/coq/pull/15426">#15426</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/3051">#3051</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/15448">#15448</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Changed:</strong>
When it fails, <a class="reference internal" href="proof-engine/ltac.html#coq:tacn.assert_succeeds" title="assert_succeeds"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">assert_succeeds</span></code></a> fails with the argument tactic's original error instead of <code class="docutils literal notranslate"><span class="pre">Tactic</span> <span class="pre">failure:</span> <span class="pre">&lt;tactic</span> <span class="pre">closure&gt;</span> <span class="pre">fails.</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/15728">#15728</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/10970">#10970</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Deprecated:</strong>
the <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.instantiate" title="instantiate"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">instantiate</span></code></a> tactic without arguments. Since the move to
the monadic tactic engine in 8.5, it was behaving as the identity
(<a class="reference external" href="https://github.com/coq/coq/pull/15277">#15277</a>,
by Pierre-Marie Pédrot).</p>
</li>
<li id="generalizerew"><p><strong>Added:</strong>
generalized rewriting now supports rewriting with (possibly polymorphic)
relations valued in <code class="docutils literal notranslate"><span class="pre">Type</span></code>. Use <code class="docutils literal notranslate"><span class="pre">Classes.CMorphisms</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">Classes.Morphisms</span></code> to declare <code class="docutils literal notranslate"><span class="pre">Proper</span></code> instances for <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.rewrite" title="rewrite"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">rewrite</span></code></a>
(or <a class="reference internal" href="addendum/generalized-rewriting.html#coq:tacn.setoid_rewrite" title="setoid_rewrite"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">setoid_rewrite</span></code></a>) to use when rewriting with <code class="docutils literal notranslate"><span class="pre">Type</span></code> valued
relations.
(<a class="reference external" href="https://github.com/coq/coq/pull/14137">#14137</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/4632">#4632</a>,
<a class="reference external" href="https://github.com/coq/coq/issues/5384">#5384</a>,
<a class="reference external" href="https://github.com/coq/coq/issues/5521">#5521</a>,
<a class="reference external" href="https://github.com/coq/coq/issues/6278">#6278</a>,
<a class="reference external" href="https://github.com/coq/coq/issues/7675">#7675</a>,
<a class="reference external" href="https://github.com/coq/coq/issues/8739">#8739</a>,
<a class="reference external" href="https://github.com/coq/coq/issues/11011">#11011</a>,
<a class="reference external" href="https://github.com/coq/coq/issues/12240">#12240</a>,
and <a class="reference external" href="https://github.com/coq/coq/issues/15279">#15279</a>,
by Matthieu Sozeau helped by Ali Caglayan).</p></li>
<li><p><strong>Added:</strong>
Tactics to obtain a micromega <a class="reference internal" href="addendum/micromega.html#term-cone-expression"><span class="xref std std-term">cone expression</span></a> (aka witness)
from an already reified goal.
Using those tactics, the user can develop their own micromega tactics
for their own types, using their own parsers
(<a class="reference external" href="https://github.com/coq/coq/pull/15921">#15921</a>,
by Pierre Roux, reviewed by Frédéric Besson and Jim Fehrle).</p></li>
<li><p><strong>Fixed:</strong>
<a class="reference internal" href="addendum/type-classes.html#coq:tacn.typeclasses-eauto" title="typeclasses eauto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">typeclasses</span> <span class="pre">eauto</span></code></a> used with multiple hint databases respects priority differences for hints from separate databases
(<a class="reference external" href="https://github.com/coq/coq/pull/15289">#15289</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/5304">#5304</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
<a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.cbn" title="cbn"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">cbn</span></code></a> has better support for combining <code class="docutils literal notranslate"><span class="pre">simpl</span> <span class="pre">nomatch</span></code>, <code class="docutils literal notranslate"><span class="pre">!</span></code> and <code class="docutils literal notranslate"><span class="pre">/</span></code> specifiers (c.f. <a class="reference internal" href="language/extensions/arguments-command.html#coq:cmd.Arguments" title="Arguments"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Arguments</span></code></a>)
(<a class="reference external" href="https://github.com/coq/coq/pull/15657">#15657</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/3989">#3989</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/15206">#15206</a>,
by Gaëtan Gilbert).</p></li>
</ul>
</div>
<div class="section" id="tactic-language">
<h4><a class="toc-backref" href="#id1539">Tactic language</a><a class="headerlink" href="#tactic-language" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
Ltac <code class="docutils literal notranslate"><span class="pre">match</span></code> does not fail when the term to match contains an unfolded primitive projection
(<a class="reference external" href="https://github.com/coq/coq/pull/15559">#15559</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15554">#15554</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">Ltac2</span></code> understands <a class="reference internal" href="proof-engine/ltac.html#grammar-token-toplevel_selector"><code class="xref std std-token docutils literal notranslate"><span class="pre">toplevel_selector</span></code></a> and obeys <a class="reference internal" href="proof-engine/tactics.html#coq:opt.Default-Goal-Selector" title="Default Goal Selector"><code class="xref coq coq-opt docutils literal notranslate"><span class="pre">Default</span> <span class="pre">Goal</span> <span class="pre">Selector</span></code></a>.
Note that <code class="docutils literal notranslate"><span class="pre">par:</span></code> is buggy when combined with <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:tacn.abstract" title="abstract"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">abstract</span></code></a>. Unlike <code class="docutils literal notranslate"><span class="pre">Ltac1</span></code> even <code class="docutils literal notranslate"><span class="pre">par:</span> <span class="pre">abstract</span> <span class="pre">tac</span></code> is not properly treated.
(<a class="reference external" href="https://github.com/coq/coq/pull/15378">#15378</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Added:</strong>
Ltac2 <code class="docutils literal notranslate"><span class="pre">Int</span></code> functions <code class="docutils literal notranslate"><span class="pre">div</span></code>, <code class="docutils literal notranslate"><span class="pre">mod</span></code>, <code class="docutils literal notranslate"><span class="pre">asr</span></code>, <code class="docutils literal notranslate"><span class="pre">lsl</span></code>, <code class="docutils literal notranslate"><span class="pre">lsr</span></code>, <code class="docutils literal notranslate"><span class="pre">land</span></code>, <code class="docutils literal notranslate"><span class="pre">lor</span></code> , <code class="docutils literal notranslate"><span class="pre">lxor</span></code> and <code class="docutils literal notranslate"><span class="pre">lnot</span></code>.
(<a class="reference external" href="https://github.com/coq/coq/pull/15637">#15637</a>,
by Michael Soegtrop).</p></li>
<li><p><strong>Fixed:</strong>
Ltac2 <code class="docutils literal notranslate"><span class="pre">apply</span></code> and <code class="docutils literal notranslate"><span class="pre">eapply</span></code> not unifying with implicit arguments;
unification inconsistent with <code class="docutils literal notranslate"><span class="pre">exact</span></code> and <code class="docutils literal notranslate"><span class="pre">eexact</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/15741">#15741</a>,
by Ramkumar Ramachandra).</p></li>
</ul>
</div>
<div class="section" id="id225">
<h4><a class="toc-backref" href="#id1540">SSReflect</a><a class="headerlink" href="#id225" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
<a class="reference internal" href="proof-engine/ssreflect-proof-language.html#coq:tacn.have" title="have"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">have</span></code></a>, <a class="reference internal" href="proof-engine/ssreflect-proof-language.html#coq:tacn.suff" title="suff"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">suff</span></code></a> and <a class="reference internal" href="proof-engine/ssreflect-proof-language.html#coq:tacn.wlog" title="wlog"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">wlog</span></code></a> support goals in <code class="docutils literal notranslate"><span class="pre">SProp</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/15121">#15121</a>,
by Enrico Tassi).</p></li>
</ul>
</div>
<div class="section" id="id227">
<h4><a class="toc-backref" href="#id1541">Commands and options</a><a class="headerlink" href="#id227" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="moduleexprs">
<li><p><strong>Changed:</strong>
<a class="reference internal" href="language/core/modules.html#coq:cmd.Module" title="Module"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Module</span></code></a> now only allows parentheses around module arguments. For instance, <code class="docutils literal notranslate"><span class="pre">Module</span> <span class="pre">M</span> <span class="pre">:=</span> <span class="pre">(F</span> <span class="pre">X).</span></code> is now a parsing error
(<a class="reference external" href="https://github.com/coq/coq/pull/15355">#15355</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Changed:</strong>
<a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Fail" title="Fail"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Fail</span></code></a> no longer catches anomalies, which it has done since Coq version 8.11.
Now it only catches user errors
(<a class="reference external" href="https://github.com/coq/coq/pull/15366">#15366</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Changed:</strong>
<a class="reference internal" href="addendum/program.html#program-definition"><span class="std std-ref">Program Definition</span></a> in universe monomorphic mode does not accept non-extensible universe declarations
(<a class="reference external" href="https://github.com/coq/coq/pull/15424">#15424</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15410">#15410</a>,
by Gaëtan Gilbert).</p>
</li>
<li id="programobls"><p><strong>Changed:</strong>
The algorithm for name generation of anonymous variables
for <code class="docutils literal notranslate"><span class="pre">Program</span></code> subproofs is now the same as the one
used in the general case. This can create incompatibilities
in scripts relying on such autogenerated names. The old
scheme can be reactivated using the deprecated flag
<code class="docutils literal notranslate"><span class="pre">Program</span> <span class="pre">Naming</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/15442">#15442</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Removed:</strong>
<code class="docutils literal notranslate"><span class="pre">Universal</span> <span class="pre">Lemma</span> <span class="pre">Under</span> <span class="pre">Conjunction</span></code> flag, that was deprecated in 8.15
(<a class="reference external" href="https://github.com/coq/coq/pull/15268">#15268</a>,
by Théo Zimmermann).</p></li>
<li><p><strong>Removed:</strong>
<a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:cmd.Abort" title="Abort"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Abort</span></code></a> no longer takes an <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code> as an argument (it has been ignored since 8.5)
(<a class="reference external" href="https://github.com/coq/coq/pull/15669">#15669</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Removed:</strong>
<code class="docutils literal notranslate"><span class="pre">Simplex</span></code> flag, that was deprecated in 8.14.
<a class="reference internal" href="addendum/micromega.html#coq:tacn.lia" title="lia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lia</span></code></a> and <a class="reference internal" href="addendum/micromega.html#coq:tacn.lra" title="lra"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lra</span></code></a> will always use the simplex solver (that was already the default behaviour).
(<a class="reference external" href="https://github.com/coq/coq/pull/15690">#15690</a>,
by Frédéric Besson).</p></li>
<li><p><strong>Deprecated:</strong>
<a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Add-LoadPath" title="Add LoadPath"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Add</span> <span class="pre">LoadPath</span></code></a> and <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Add-Rec-LoadPath" title="Add Rec LoadPath"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Add</span> <span class="pre">Rec</span> <span class="pre">LoadPath</span></code></a>. If this command is an
important feature for you, please open an issue on <code class="docutils literal notranslate"><span class="pre">GitHub</span> <span class="pre">&lt;https://github.com/coq/coq/issues&gt;</span></code>
and explain your workflow
(<a class="reference external" href="https://github.com/coq/coq/pull/15652">#15652</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Deprecated:</strong>
the <a class="reference internal" href="addendum/type-classes.html#coq:flag.Typeclasses-Filtered-Unification" title="Typeclasses Filtered Unification"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Typeclasses</span> <span class="pre">Filtered</span> <span class="pre">Unification</span></code></a> flag. Due to
a buggy implementation, it is unlikely this is used in the wild
(<a class="reference external" href="https://github.com/coq/coq/pull/15752">#15752</a>,
by Pierre-Marie Pédrot).</p>
</li>
<li id="booleanequality"><p><strong>Added:</strong>
<a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:cmd.Scheme-Boolean-Equality" title="Scheme Boolean Equality"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Scheme</span> <span class="pre">Boolean</span> <span class="pre">Equality</span></code></a> command to generate the boolean
equality for an inductive type whose equality is
decidable.  It is useful when Coq is able to generate the boolean
equality but isn't powerful enough to prove the decidability of
equality (unlike <a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:cmd.Scheme-Equality" title="Scheme Equality"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Scheme</span> <span class="pre">Equality</span></code></a>, which tries to
prove the decidability of the type)
(<a class="reference external" href="https://github.com/coq/coq/pull/15526">#15526</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Added:</strong>
New more extensive algorithm based on the &quot;parametricity&quot;
translation for canonically generating Boolean equalities associated
to a decidable inductive type
(<a class="reference external" href="https://github.com/coq/coq/pull/15527">#15527</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.From-…-Dependency" title="From … Dependency"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">From</span> <span class="pre">…</span> <span class="pre">Dependency</span></code></a> command to
declare a dependency of a <code class="docutils literal notranslate"><span class="pre">.v</span></code> file on an external file.
The <code class="docutils literal notranslate"><span class="pre">coqdep</span></code> tool generates build dependencies accordingly
(<a class="reference external" href="https://github.com/coq/coq/pull/15650">#15650</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15600">#15600</a>,
by Enrico Tassi).</p>
</li>
<li id="printnotation"><p><strong>Added:</strong>
<a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Print-Notation" title="Print Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Notation</span></code></a> command that prints the level and
associativity of a given notation definition string
(<a class="reference external" href="https://github.com/coq/coq/pull/15683">#15683</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14907">#14907</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/4436">#4436</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/7730">#7730</a>,
by Ali Caglayan and Ana Borges, with help from Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Added:</strong>
a warning when trying to deprecate a definition
(<a class="reference external" href="https://github.com/coq/coq/pull/15760">#15760</a>,
by Pierre Roux).</p></li>
<li><p><strong>Added:</strong>
A deprecation warning that the <code class="code Coq docutils literal notranslate"><span class="keyword namespace"><span class="pre">Class</span></span> <span class="operator"><span class="pre">&gt;</span></span></code> syntax, which currently
does nothing, will in the future declare <a class="reference internal" href="addendum/implicit-coercions.html#coercions"><span class="std std-ref">coercions</span></a>
as it does when used in <a class="reference internal" href="language/core/records.html#coq:cmd.Record" title="Record"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Record</span></code></a> commands
(<a class="reference external" href="https://github.com/coq/coq/pull/15802">#15802</a>,
by Pierre Roux, reviewed by Gaëtan Gilbert, Ali Caglayan,
Jason Gross, Jim Fehrle and Théo Zimmermann).</p></li>
<li><p><strong>Added:</strong>
the <a class="reference internal" href="addendum/implicit-coercions.html#coq:attr.nonuniform" title="nonuniform"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">nonuniform</span></code></a> boolean attribute that silences the
non-uniform-inheritance warning when user needs to declare such a
coercion on purpose
(<a class="reference external" href="https://github.com/coq/coq/pull/15853">#15853</a>,
by Pierre Roux, reviewed by Gaëtan Gilbert and Jim Fehrle).</p></li>
<li><p><strong>Added:</strong> All commands which can import modules (e.g. <code class="docutils literal notranslate"><span class="pre">Module</span>
<span class="pre">Import</span> <span class="pre">M.</span></code>, <code class="docutils literal notranslate"><span class="pre">Module</span> <span class="pre">F</span> <span class="pre">(Import</span> <span class="pre">X</span> <span class="pre">:</span> <span class="pre">T).</span></code>, <code class="docutils literal notranslate"><span class="pre">Require</span> <span class="pre">Import</span> <span class="pre">M.</span></code>,
etc) now support <a class="reference internal" href="language/core/modules.html#grammar-token-import_categories"><code class="xref std std-token docutils literal notranslate"><span class="pre">import_categories</span></code></a>. <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Require-Import" title="Require Import"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Require</span> <span class="pre">Import</span></code></a>
and <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Require-Export" title="Require Export"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Require</span> <span class="pre">Export</span></code></a> also support <a class="reference internal" href="language/core/modules.html#grammar-token-filtered_import"><code class="xref std std-token docutils literal notranslate"><span class="pre">filtered_import</span></code></a>.
(<a class="reference external" href="https://github.com/coq/coq/pull/15945">#15945</a>, fixes <a class="reference external" href="https://github.com/coq/coq/issues/14872">#14872</a>, by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
Make <code class="docutils literal notranslate"><span class="pre">Require</span> <span class="pre">Import</span> <span class="pre">M.</span></code> equivalent to <code class="docutils literal notranslate"><span class="pre">Require</span> <span class="pre">M.</span> <span class="pre">Import</span> <span class="pre">M.</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/15347">#15347</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/3556">#3556</a>,
by Maxime Dénès).</p></li>
</ul>
</div>
<div class="section" id="id253">
<h4><a class="toc-backref" href="#id1542">Command-line tools</a><a class="headerlink" href="#id253" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Added:</strong>
coq_makefile variable <code class="docutils literal notranslate"><span class="pre">COQPLUGININSTALL</span></code> to configure the installation of ML plugins
(<a class="reference external" href="https://github.com/coq/coq/pull/15788">#15788</a>,
by Cyril Cohen and Enrico Tassi).</p></li>
<li><p><strong>Added:</strong>
Added <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">-bytecode-compiler</span></span></span> <span class="alternative"><span class="alternative-block"><span><span><span class="pre">yes</span></span></span></span><span class="alternative-separator"><span class="pre">​</span></span><span class="alternative-block"><span><span><span class="pre">no</span></span></span></span></span></span></code> flag for <code class="docutils literal notranslate"><span class="pre">coqchk</span></code> enabling
<a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.vm_compute" title="vm_compute"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">vm_compute</span></code></a> during checks, which is off by default.
(<a class="reference external" href="https://github.com/coq/coq/pull/15886">#15886</a>,
by Ali Caglayan).</p></li>
<li><p><strong>Fixed:</strong>
<code class="docutils literal notranslate"><span class="pre">coqdoc</span></code> confused by the presence of command <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Load" title="Load"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Load</span></code></a> in a file
(<a class="reference external" href="https://github.com/coq/coq/pull/15511">#15511</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15497">#15497</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
<div class="section" id="id258">
<h4><a class="toc-backref" href="#id1543">CoqIDE</a><a class="headerlink" href="#id258" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Added:</strong>
Documentation of editing failed async mode proofs,
how to configure key bindings and various previously
undocumented details
(<a class="reference external" href="https://github.com/coq/coq/pull/16070">#16070</a>,
by Jim Fehrle).</p></li>
</ul>
</div>
<div class="section" id="id260">
<h4><a class="toc-backref" href="#id1544">Standard library</a><a class="headerlink" href="#id260" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="id261">
<li><p><strong>Changed:</strong>
the <code class="docutils literal notranslate"><span class="pre">signature</span></code> scope of <code class="docutils literal notranslate"><span class="pre">Classes.CMorphisms</span></code> into <code class="docutils literal notranslate"><span class="pre">signatureT</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/15446">#15446</a>,
by Olivier Laurent).</p></li>
<li><p><strong>Changed:</strong>
the locality of typeclass instances <code class="docutils literal notranslate"><span class="pre">Permutation_app'</span></code> and <code class="docutils literal notranslate"><span class="pre">Permutation_cons</span></code> from <a class="reference internal" href="language/core/modules.html#coq:attr.global" title="global"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">global</span></code></a> to <a class="reference internal" href="language/core/modules.html#coq:attr.export" title="export"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">export</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/15597">#15597</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15596">#15596</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Removed:</strong>
<code class="docutils literal notranslate"><span class="pre">Int63</span></code>, which was deprecated in favor of <code class="docutils literal notranslate"><span class="pre">Uint63</span></code> in 8.14
(<a class="reference external" href="https://github.com/coq/coq/pull/15754">#15754</a>,
by Pierre Roux).</p></li>
<li><p><strong>Deprecated:</strong>
some obsolete files from the <code class="docutils literal notranslate"><span class="pre">Arith</span></code> part of the standard library
(<code class="docutils literal notranslate"><span class="pre">Div2</span></code>, <code class="docutils literal notranslate"><span class="pre">Even</span></code>, <code class="docutils literal notranslate"><span class="pre">Gt</span></code>, <code class="docutils literal notranslate"><span class="pre">Le</span></code>, <code class="docutils literal notranslate"><span class="pre">Lt</span></code>, <code class="docutils literal notranslate"><span class="pre">Max</span></code>, <code class="docutils literal notranslate"><span class="pre">Min</span></code>, <code class="docutils literal notranslate"><span class="pre">Minus</span></code>, <code class="docutils literal notranslate"><span class="pre">Mult</span></code>, <code class="docutils literal notranslate"><span class="pre">NPeano</span></code>, <code class="docutils literal notranslate"><span class="pre">Plus</span></code>).
Import <code class="docutils literal notranslate"><span class="pre">Arith_base</span></code> instead of these files.  References to items in the deprecated files should be replaced
with references to <code class="docutils literal notranslate"><span class="pre">PeanoNat.Nat</span></code> as suggested by the warning messages.
Concerning the definitions of parity properties (even and odd), it is recommended to use <code class="docutils literal notranslate"><span class="pre">Nat.Even</span></code> and <code class="docutils literal notranslate"><span class="pre">Nat.Odd</span></code>.
If an inductive definition of parity is required, the mutually inductive <code class="docutils literal notranslate"><span class="pre">Nat.Even_alt</span></code> and <code class="docutils literal notranslate"><span class="pre">Nat.Odd_alt</span></code> can be used. However, induction principles for <code class="docutils literal notranslate"><span class="pre">Nat.Odd</span></code> and <code class="docutils literal notranslate"><span class="pre">Nat.Even</span></code> are available as <code class="docutils literal notranslate"><span class="pre">Nat.Even_Odd_ind</span></code> and <code class="docutils literal notranslate"><span class="pre">Nat.Odd_Even_ind</span></code>.
The equivalence between the non-inductive and mutually inductive definitions of parity can be found in <code class="docutils literal notranslate"><span class="pre">Nat.Even_alt_Even</span></code> and <code class="docutils literal notranslate"><span class="pre">Nat.Odd_alt_Odd</span></code>.
All <code class="docutils literal notranslate"><span class="pre">Hint</span></code> declarations in the <code class="docutils literal notranslate"><span class="pre">arith</span></code> database have been moved to <code class="docutils literal notranslate"><span class="pre">Arith_prebase</span></code> and
<code class="docutils literal notranslate"><span class="pre">Arith_base</span></code>.  To use the results about Peano arithmetic, we recommend importing
<code class="docutils literal notranslate"><span class="pre">PeanoNat</span></code> (or <code class="docutils literal notranslate"><span class="pre">Arith_base</span></code> to base it on the <code class="docutils literal notranslate"><span class="pre">arith</span></code> hint database) and using the <code class="docutils literal notranslate"><span class="pre">Nat</span></code> module.
<code class="docutils literal notranslate"><span class="pre">Arith_prebase</span></code> has been introduced temporarily to ensure compatibility, but it will be removed at the end of the
deprecation phase, e.g. in 8.18.  Its use is thus discouraged.
(<a class="reference external" href="https://github.com/coq/coq/pull/14736">#14736</a>, <a class="reference external" href="https://github.com/coq/coq/pull/15411">#15411</a>,
by Olivier Laurent, with help of Karl Palmskog).</p></li>
<li><p><strong>Deprecated:</strong>
<code class="docutils literal notranslate"><span class="pre">identity</span></code> inductive (replaced by the equivalent <code class="docutils literal notranslate"><span class="pre">eq</span></code>).
<code class="docutils literal notranslate"><span class="pre">Init.Logic_Type</span></code> is removed (the only remaining definition <code class="docutils literal notranslate"><span class="pre">notT</span></code> is moved
to <code class="docutils literal notranslate"><span class="pre">Init.Logic</span></code>)
(<a class="reference external" href="https://github.com/coq/coq/pull/15256">#15256</a>,
by Olivier Laurent).</p></li>
<li><p><strong>Deprecated:</strong>
<code class="docutils literal notranslate"><span class="pre">P_Rmin</span></code>: use more general <code class="docutils literal notranslate"><span class="pre">Rmin_case</span></code> instead
(<a class="reference external" href="https://github.com/coq/coq/pull/15388">#15388</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15382">#15382</a>,
by Olivier Laurent).</p></li>
<li><p><strong>Added:</strong>
lemma <code class="docutils literal notranslate"><span class="pre">count_occ_rev</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/15397">#15397</a>,
by Olivier Laurent).</p></li>
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">Nat.EvenT</span></code> and <code class="docutils literal notranslate"><span class="pre">Nat.OddT</span></code> (almost the same as <code class="docutils literal notranslate"><span class="pre">Nat.Even</span></code> and <code class="docutils literal notranslate"><span class="pre">Nat.Odd</span></code> but with output in <code class="docutils literal notranslate"><span class="pre">Type</span></code>.
Decidability of parity (with output <code class="docutils literal notranslate"><span class="pre">Type</span></code>) is provided <code class="docutils literal notranslate"><span class="pre">EvenT_OddT_dec</span></code> as well as induction principles <code class="docutils literal notranslate"><span class="pre">Nat.EvenT_OddT_rect</span></code> and <code class="docutils literal notranslate"><span class="pre">Nat.OddT_EvenT_rect</span></code> (with output <code class="docutils literal notranslate"><span class="pre">Type</span></code>)
(<a class="reference external" href="https://github.com/coq/coq/pull/15427">#15427</a>,
by Olivier Laurent).</p></li>
<li><p><strong>Added:</strong>
Added a proof of <code class="docutils literal notranslate"><span class="pre">sin</span> <span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">x</span></code> for positive <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">sin</span> <span class="pre">x</span></code> for negative <code class="docutils literal notranslate"><span class="pre">x</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/15599">#15599</a>,
by stop-cran).</p></li>
<li><p><strong>Added:</strong>
decidability typeclass instances for Z.le, Z.lt, Z.ge and Z.gt, added lemmas Z.geb_ge and Z.gtb_gt
(<a class="reference external" href="https://github.com/coq/coq/pull/15620">#15620</a>,
by Michael Soegtrop).</p></li>
<li><p><strong>Added:</strong>
lemmas <code class="docutils literal notranslate"><span class="pre">Rinv_inv</span></code>, <code class="docutils literal notranslate"><span class="pre">Rinv_mult</span></code>, <code class="docutils literal notranslate"><span class="pre">Rinv_opp</span></code>, <code class="docutils literal notranslate"><span class="pre">Rinv_div</span></code>, <code class="docutils literal notranslate"><span class="pre">Rdiv_opp_r</span></code>,
<code class="docutils literal notranslate"><span class="pre">Rsqr_div'</span></code>, <code class="docutils literal notranslate"><span class="pre">Rsqr_inv'</span></code>, <code class="docutils literal notranslate"><span class="pre">sqrt_inv</span></code>, <code class="docutils literal notranslate"><span class="pre">Rabs_inv</span></code>, <code class="docutils literal notranslate"><span class="pre">pow_inv</span></code>,
<code class="docutils literal notranslate"><span class="pre">powerRZ_inv'</span></code>, <code class="docutils literal notranslate"><span class="pre">powerRZ_neg'</span></code>, <code class="docutils literal notranslate"><span class="pre">powerRZ_mult</span></code>, <code class="docutils literal notranslate"><span class="pre">cv_infty_cv_0</span></code>,
which are variants of existing lemmas, but without any hypothesis
(<a class="reference external" href="https://github.com/coq/coq/pull/15644">#15644</a>,
by Guillaume Melquiond).</p></li>
<li><p><strong>Added:</strong>
a Leibniz equality test for primitive floats
(<a class="reference external" href="https://github.com/coq/coq/pull/15719">#15719</a>,
by Pierre Roux, reviewed by Guillaume Melquiond).</p></li>
<li><p><strong>Added:</strong>
support for primitive floats in Scheme Boolean Equality
(<a class="reference external" href="https://github.com/coq/coq/pull/15719">#15719</a>,
by Pierre Roux, reviewed by Hugo Herbelin).</p></li>
<li><p><strong>Added:</strong>
lemma <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">le_add_l</span></span></code> to <code class="docutils literal notranslate"><span class="pre">NAddOrder.v</span></code>. Use <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Nat.le_add_l</span></span></code> as replacement for the deprecated <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Plus.le_plus_r</span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16184">#16184</a>,
by Andrej Dudenhefner).</p></li>
</ul>
</div>
<div class="section" id="id279">
<h4><a class="toc-backref" href="#id1545">Infrastructure and dependencies</a><a class="headerlink" href="#id279" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
Bumped lablgtk3 lower bound to 3.1.2
(<a class="reference external" href="https://github.com/coq/coq/pull/15947">#15947</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Changed:</strong>
Load plugins using <a class="reference external" href="http://projects.camlcity.org/projects/findlib.html">findlib</a>.
This requires projects built with <code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code> to either provide a
hand written <code class="docutils literal notranslate"><span class="pre">META</span></code> file or use the <code class="docutils literal notranslate"><span class="pre">-generate-meta-for-package</span></code> option
when applicable. As a consequence <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Declare-ML-Module" title="Declare ML Module"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Declare</span> <span class="pre">ML</span> <span class="pre">Module</span></code></a> now uses plugin
names according to <code class="docutils literal notranslate"><span class="pre">findlib</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">coq-aac-tactics.plugin</span></code>.
<code class="docutils literal notranslate"><span class="pre">coqdep</span></code> accepts <code class="docutils literal notranslate"><span class="pre">-m</span> <span class="pre">META</span></code> and uses the file to resolve plugin names to
actual file names.
(<a class="reference external" href="https://github.com/coq/coq/pull/15220">#15220</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/7698">#7698</a>,
by Enrico Tassi).</p></li>
<li><p><strong>Changed:</strong>
Minimum supported zarith version is now 1.11
(<a class="reference external" href="https://github.com/coq/coq/pull/15483">#15483</a>
and <a class="reference external" href="https://github.com/coq/coq/pull/16005">#16005</a>
and <a class="reference external" href="https://github.com/coq/coq/pull/16030">#16030</a>,
closes <a class="reference external" href="https://github.com/coq/coq/issues/15496">#15496</a>,
by Gaëtan Gilbert and Théo Zimmermann and Jason Gross).</p></li>
<li><p><strong>Changed:</strong>
Bump the minimum OCaml version to 4.09.0.
As a consequence the minimum supported ocamlfind version is now
1.8.1 (<a class="reference external" href="https://github.com/coq/coq/pull/15947">#15947</a>
and <a class="reference external" href="https://github.com/coq/coq/pull/16046">#16046</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14260">#14260</a>
and <a class="reference external" href="https://github.com/coq/coq/pull/16015">#16015</a>,
by Pierre-Marie Pédrot and Théo Zimmermann).</p></li>
</ul>
</div>
<div class="section" id="extraction">
<h4><a class="toc-backref" href="#id1546">Extraction</a><a class="headerlink" href="#extraction" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="id291">
<li><p><strong>Changed:</strong>
<code class="docutils literal notranslate"><span class="pre">ExtrOCamlInt63</span></code> no longer extracts <code class="docutils literal notranslate"><span class="pre">comparison</span></code> to <code class="docutils literal notranslate"><span class="pre">int</span></code> in OCaml;
the extraction of <code class="docutils literal notranslate"><span class="pre">Uint63.compare</span></code> and <code class="docutils literal notranslate"><span class="pre">Sint63.compare</span></code> was also adapted accordingly
(<a class="reference external" href="https://github.com/coq/coq/pull/15294">#15294</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15280">#15280</a>,
by Li-yao Xia).</p></li>
<li><p><strong>Changed:</strong>
Extraction from <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">nat</span></span></code> to OCaml <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">int</span></span></code> uses Stdlib instead of Pervasives
(<a class="reference external" href="https://github.com/coq/coq/pull/15333">#15333</a>,
by Rudy Nicolo Peterson).</p></li>
<li><p><strong>Changed:</strong>
The empty inductive type is now extracted to OCaml empty type
available since OCaml 4.07
(<a class="reference external" href="https://github.com/coq/coq/pull/15967">#15967</a>,
by Pierre Roux).</p></li>
<li><p><strong>Added:</strong>
More extraction definitions for division and comparison of Z and N
(<a class="reference external" href="https://github.com/coq/coq/pull/15098">#15098</a>,
by Li-yao Xia).</p></li>
<li><p><strong>Fixed:</strong>
Type <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">int</span></span></span></span></code> in files <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Number.v</span></span></span></span></code>, <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Decimal.v</span></span></span></span></code> and
<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Hexadecimal.v</span></span></span></span></code> have been renamed to <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">signed</span></span></span><span><span><span class="pre">_</span></span></span><span><span><span class="pre">int</span></span></span></span></code> (together
with a compatibility alias <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">int</span></span></span></span></code>) so that they can be used in
extraction without conflicting with OCaml's <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">int</span></span></span></span></code> type
(<a class="reference external" href="https://github.com/coq/coq/pull/13460">#13460</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/7017">#7017</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/13288">#13288</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
</div>
<div class="section" id="changes-in-8-16-1">
<h3>Changes in 8.16.1<a class="headerlink" href="#changes-in-8-16-1" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id300">
<ul class="simple">
<li><p><a class="reference internal" href="#id301" id="id1547">Kernel</a></p></li>
<li><p><a class="reference internal" href="#id310" id="id1548">Commands and options</a></p></li>
<li><p><a class="reference internal" href="#id313" id="id1549">CoqIDE</a></p></li>
</ul>
</div>
<div class="section" id="id301">
<h4><a class="toc-backref" href="#id1547">Kernel</a><a class="headerlink" href="#id301" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
conversion of Prod values in the native compiler.
(<a class="reference external" href="https://github.com/coq/coq/pull/16651">#16651</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16645">#16645</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Fixed:</strong>
Coq 8.16.0 missed <code class="docutils literal notranslate"><span class="pre">SProp</span></code> check for opaque names in conversion
(<a class="reference external" href="https://github.com/coq/coq/pull/16768">#16768</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16752">#16752</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Pass the correct environment to compute η-expansion of cofixpoints
in VM and native compilation
(<a class="reference external" href="https://github.com/coq/coq/pull/16845">#16845</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16831">#16831</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Fixed:</strong>
inconsistency with conversion of primitive arrays, and associated incomplete strong normalization of primitive arrays with <code class="docutils literal notranslate"><span class="pre">lazy</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/16850">#16850</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16829">#16829</a>,
by Gaëtan Gilbert,
reported by Maxime Buyse and Andres Erbsen).</p></li>
</ul>
</div>
<div class="section" id="id310">
<h4><a class="toc-backref" href="#id1548">Commands and options</a><a class="headerlink" href="#id310" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
<a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Print-Assumptions" title="Print Assumptions"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Assumptions</span></code></a> treats opaque definitions with missing proofs (as found in <code class="docutils literal notranslate"><span class="pre">.vos</span></code> files, see <a class="reference internal" href="practical-tools/coq-commands.html#compiled-interfaces"><span class="std std-ref">Compiled interfaces (produced using -vos)</span></a>) as axioms instead of ignoring them
(<a class="reference external" href="https://github.com/coq/coq/pull/16434">#16434</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16411">#16411</a>,
by Gaëtan Gilbert).</p></li>
</ul>
</div>
<div class="section" id="id313">
<h4><a class="toc-backref" href="#id1549">CoqIDE</a><a class="headerlink" href="#id313" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
&quot;Interrupt computations&quot; now works correctly on Windows—except
if you start CoqIDE as a background process, e.g. with <code class="docutils literal notranslate"><span class="pre">coqide</span> <span class="pre">&amp;</span></code> in <code class="docutils literal notranslate"><span class="pre">bash</span></code>,
in which case it won't work at all
(<a class="reference external" href="https://github.com/coq/coq/pull/16142">#16142</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13550">#13550</a>,
by Jim Fehrle).</p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="version-8-15">
<h2>Version 8.15<a class="headerlink" href="#version-8-15" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id316">
<h3>Summary of changes<a class="headerlink" href="#id316" title="Permalink to this headline">¶</a></h3>
<p>Coq version 8.15 integrates many bug fixes, deprecations and cleanups as well
as a few new features. We highlight some of the most impactful changes here:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.apply" title="apply"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">apply</span> <span class="pre">with</span></code></a> tactic <a class="reference internal" href="#applywith"><span class="std std-ref">no longer renames arguments</span></a>
unless compatibility flag <a class="reference internal" href="proof-engine/tactics.html#coq:flag.Apply-With-Renaming" title="Apply With Renaming"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Apply</span> <span class="pre">With</span> <span class="pre">Renaming</span></code></a> is set.</p></li>
<li><p><a class="reference internal" href="#auto"><span class="std std-ref">Improvements</span></a> to the <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.auto" title="auto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">auto</span></code></a> tactic family,
fixing the <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Unfold" title="Hint Unfold"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Unfold</span></code></a> behavior, and generalizing the use
of discrimination nets.</p></li>
<li><p>The <a class="reference internal" href="addendum/type-classes.html#coq:tacn.typeclasses-eauto" title="typeclasses eauto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">typeclasses</span> <span class="pre">eauto</span></code></a> tactic has a new <a class="reference internal" href="#besteffort"><span class="std std-ref">best_effort</span></a>
option allowing it to return <em>partial</em> solutions to a proof search problem,
depending on the mode declarations associated to each constraint.
This mode is used by typeclass resolution during type inference to
provide more precise error messages.</p></li>
<li><p>Many <a class="reference internal" href="#commands"><span class="std std-ref">commands and options</span></a> were deprecated or removed
after deprecation and more consistently support locality attributes.</p></li>
<li><p>The <a class="reference internal" href="language/core/modules.html#coq:cmd.Import" title="Import"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Import</span></code></a> command is extended with <a class="reference internal" href="language/core/modules.html#grammar-token-import_categories"><code class="xref std std-token docutils literal notranslate"><span class="pre">import_categories</span></code></a>
to <a class="reference internal" href="#import"><span class="std std-ref">select the components</span></a> of a module to import or not, including
features such as hints, coercions, and notations.</p></li>
<li><p>A <a class="reference internal" href="#ltacdebugger"><span class="std std-ref">visual Ltac debugger</span></a> is now available in CoqIDE.</p></li>
</ul>
</div></blockquote>
<p>See the <a class="reference internal" href="#changes-in-8-15-0">Changes in 8.15.0</a> section below for the detailed list of changes,
including potentially breaking changes marked with <strong>Changed</strong>.
Coq's <a class="reference external" href="https://coq.github.io/doc/v8.15/refman">reference manual for 8.15</a>,
<a class="reference external" href="https://coq.github.io/doc/v8.15/stdlib">documentation of the 8.15 standard library</a>
and <a class="reference external" href="https://coq.github.io/doc/v8.15/api">developer documentation of the 8.15 ML API</a>
are also available.</p>
<p>Emilio Jesús Gallego Arias, Gaëtan Gilbert, Michael
Soegtrop and Théo Zimmermann worked on maintaining and improving the
continuous integration system and package building infrastructure.</p>
<p>Erik Martin-Dorel has maintained the <a class="reference external" href="https://hub.docker.com/r/coqorg/coq">Coq Docker images</a> that are used in many Coq
projects for continuous integration.</p>
<p>The opam repository for Coq packages has been maintained by
Guillaume Claret, Karl Palmskog, Matthieu Sozeau and Enrico Tassi with
contributions from many users. A list of packages is available at
<a class="reference external" href="https://coq.inria.fr/opam/www/">https://coq.inria.fr/opam/www/</a>.</p>
<p>The <a class="reference external" href="https://github.com/coq/platform">Coq Platform</a> has been maintained
by Michael Soegtrop and Enrico Tassi.</p>
<p>Our current maintainers are Yves Bertot, Frédéric Besson, Ali Caglayan, Tej
Chajed, Cyril Cohen, Pierre Corbineau, Pierre Courtieu, Maxime Dénès,
Jim Fehrle, Julien Forest, Emilio Jesús Gallego Arias, Gaëtan Gilbert,
Georges Gonthier, Benjamin Grégoire, Jason Gross, Hugo Herbelin,
Vincent Laporte, Olivier Laurent, Assia Mahboubi, Kenji Maillard,
Guillaume Melquiond, Pierre-Marie Pédrot, Clément Pit-Claudel, Pierre Roux,
Kazuhiko Sakaguchi, Vincent Semeria, Michael Soegtrop, Arnaud Spiwack,
Matthieu Sozeau, Enrico Tassi, Laurent Théry, Anton Trunov, Li-yao Xia
and Théo Zimmermann. See the <a class="reference external" href="https://coq.inria.fr/coq-team.html">Coq Team face book</a>
page for more details.</p>
<p>The 41 contributors to this version are
Tanaka Akira, Frédéric Besson, Juan Conejero, Ali Caglayan, Cyril Cohen, Adrian Dapprich, Maxime Dénès,
Stéphane Desarzens, Christian Doczkal, Andrej Dudenhefner, Jim Fehrle, Emilio Jesús Gallego Arias,
Attila Gáspár, Gaëtan Gilbert, Jason Gross, Hugo Herbelin, Jasper Hugunin, Bart Jacobs, Ralf Jung, Grant Jurgensen,
Jan-Oliver Kaiser, Wojciech Karpiel, Fabian Kunze, Olivier Laurent, Yishuai Li, Erik Martin-Dorel,
Guillaume Melquiond, Jean-Francois Monin, Pierre-Marie Pédrot, Rudy Peterson, Clément Pit-Claudel,
Seth Poulsen, Pierre Roux, Takafumi Saikawa, Kazuhiko Sakaguchi, Michael Soegtrop, Matthieu Sozeau,
Enrico Tassi, Laurent Théry, Anton Trunov and Théo Zimmerman.</p>
<p>The Coq community at large helped improve the design of this new version via
the GitHub issue and pull request system, the Coq development mailing list
<a class="reference external" href="mailto:coqdev&#37;&#52;&#48;inria&#46;fr">coqdev<span>&#64;</span>inria<span>&#46;</span>fr</a>, the <a class="reference external" href="mailto:coq-club&#37;&#52;&#48;inria&#46;fr">coq-club<span>&#64;</span>inria<span>&#46;</span>fr</a> mailing list, the <a class="reference external" href="https://coq.discourse.group/">Discourse forum</a> and the <a class="reference external" href="https://coq.zulipchat.com">Coq Zulip chat</a>.</p>
<p>Version 8.15's development spanned 3 months from the release of
Coq 8.14.0. Gaëtan Gilbert is the release manager of Coq 8.15.
This release is the result of 384 merged PRs, closing 143 issues.</p>
<div class="line-block">
<div class="line">Nantes, January 2022,</div>
<div class="line">Matthieu Sozeau for the Coq development team</div>
</div>
</div>
<div class="section" id="changes-in-8-15-0">
<h3>Changes in 8.15.0<a class="headerlink" href="#changes-in-8-15-0" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id322">
<ul class="simple">
<li><p><a class="reference internal" href="#id323" id="id1550">Kernel</a></p></li>
<li><p><a class="reference internal" href="#id326" id="id1551">Specification language, type inference</a></p></li>
<li><p><a class="reference internal" href="#id337" id="id1552">Notations</a></p></li>
<li><p><a class="reference internal" href="#id354" id="id1553">Tactics</a></p></li>
<li><p><a class="reference internal" href="#id401" id="id1554">Tactic language</a></p></li>
<li><p><a class="reference internal" href="#id404" id="id1555">SSReflect</a></p></li>
<li><p><a class="reference internal" href="#id413" id="id1556">Commands and options</a></p></li>
<li><p><a class="reference internal" href="#id445" id="id1557">Command-line tools</a></p></li>
<li><p><a class="reference internal" href="#id460" id="id1558">CoqIDE</a></p></li>
<li><p><a class="reference internal" href="#id467" id="id1559">Standard library</a></p></li>
<li><p><a class="reference internal" href="#id480" id="id1560">Infrastructure and dependencies</a></p></li>
<li><p><a class="reference internal" href="#id486" id="id1561">Extraction</a></p></li>
</ul>
</div>
<div class="section" id="id323">
<h4><a class="toc-backref" href="#id1550">Kernel</a><a class="headerlink" href="#id323" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Name clash in a computation of the type of parameters of functorial
module types; this computation was provided for the purpose of
clients using the algebraic form of module types such as <a class="reference internal" href="language/core/modules.html#coq:cmd.Print-Module-Type" title="Print Module Type"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span>
<span class="pre">Module</span> <span class="pre">Type</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/15385">#15385</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/9555">#9555</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
<div class="section" id="id326">
<h4><a class="toc-backref" href="#id1551">Specification language, type inference</a><a class="headerlink" href="#id326" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
<a class="reference internal" href="addendum/type-classes.html#coq:cmd.Instance" title="Instance"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Instance</span></code></a> warns about the default locality immediately rather than waiting until the instance is ready to be defined.
This changes which command warns when the instance has a separate proof: the <a class="reference internal" href="addendum/type-classes.html#coq:cmd.Instance" title="Instance"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Instance</span></code></a> command itself warns instead of the proof closing command (such as <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:cmd.Defined" title="Defined"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Defined</span></code></a>).
(<a class="reference external" href="https://github.com/coq/coq/pull/14705">#14705</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Removed:</strong>
Arguments of section variables may no longer be renamed with <a class="reference internal" href="language/extensions/arguments-command.html#coq:cmd.Arguments" title="Arguments"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Arguments</span></code></a> (this was previously applied inconsistently)
(<a class="reference external" href="https://github.com/coq/coq/pull/14573">#14573</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Added:</strong>
Non-dependent implicit arguments can be provided explicitly using
the syntax <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">(</span></span></span><a class="reference internal" href="language/core/basic.html#grammar-token-natural"><span class="hole"><span class="pre">natural</span></span></a> <span><span><span class="pre">:=</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a><span><span><span class="pre">)</span></span></span></span></code> where <a class="reference internal" href="language/core/basic.html#grammar-token-natural"><code class="xref std std-token docutils literal notranslate"><span class="pre">natural</span></code></a> is the index
of the implicit argument among all non-dependent arguments of the
function, starting from 1
(<a class="reference external" href="https://github.com/coq/coq/pull/11099">#11099</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Succeed" title="Succeed"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Succeed</span></code></a>, a <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="proof-engine/vernacular-commands.html#grammar-token-control_command"><span class="hole"><span class="pre">control_command</span></span></a></span></code> that verifies that the given <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="language/core/basic.html#grammar-token-sentence"><span class="hole"><span class="pre">sentence</span></span></a></span></code> succeeds without changing the proof state
(<a class="reference external" href="https://github.com/coq/coq/pull/14750">#14750</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
The <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a><span><span><span class="pre">.(</span></span></span><a class="reference internal" href="language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="language/core/assumptions.html#grammar-token-arg"><span class="hole"><span class="pre">arg</span></span></a></span><span class="notation-sup"><span class="pre">*</span></span></span><span><span><span class="pre">)</span></span></span></span></code> syntax now takes into account the position of
the main argument <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a></span></code> when computing the implicit arguments of
<code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/14606">#14606</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/4167">#4167</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Source and target of coercions preserved by module instantiation
(<a class="reference external" href="https://github.com/coq/coq/pull/14668">#14668</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/3527">#3527</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Made reference manual consistent with the implementation regarding
the role of recursively non-uniform parameters of inductive types in the nested
positivity condition
(<a class="reference external" href="https://github.com/coq/coq/pull/14967">#14967</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14938">#14938</a>,
by Hugo Herbelin)</p></li>
</ul>
</div>
<div class="section" id="id337">
<h4><a class="toc-backref" href="#id1552">Notations</a><a class="headerlink" href="#id337" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
Terms printed in error messages may be more verbose if syntactic sugar would make it appear that the obtained and expected terms only differ in existential variables
(<a class="reference external" href="https://github.com/coq/coq/pull/14672">#14672</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Removed:</strong>
the <code class="docutils literal notranslate"><span class="pre">Numeral</span> <span class="pre">Notation</span></code> command that was renamed to <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Number-Notation" title="Number Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Notation</span></code></a> in 8.13.
(<a class="reference external" href="https://github.com/coq/coq/pull/14819">#14819</a>,
by Pierre Roux).</p></li>
<li><p><strong>Removed:</strong>
primitive float notations <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> and <code class="docutils literal notranslate"><span class="pre">==</span></code> that were replaced by <code class="docutils literal notranslate"><span class="pre">&lt;?</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=?</span></code> and <code class="docutils literal notranslate"><span class="pre">=?</span></code> in 8.13.
(<a class="reference external" href="https://github.com/coq/coq/pull/14819">#14819</a>,
by Pierre Roux).</p></li>
<li><p><strong>Removed:</strong>
primitive integer notations <code class="docutils literal notranslate"><span class="pre">\%</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> and <code class="docutils literal notranslate"><span class="pre">==</span></code> that were replaced by <code class="docutils literal notranslate"><span class="pre">mod</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;?</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=?</span></code> and <code class="docutils literal notranslate"><span class="pre">=?</span></code> in 8.13.
(<a class="reference external" href="https://github.com/coq/coq/pull/14819">#14819</a>,
by Pierre Roux).</p></li>
<li><p><strong>Added:</strong>
Include floats in the number notation mechanism
(<a class="reference external" href="https://github.com/coq/coq/pull/14525">#14525</a>,
by Pierre Roux).</p></li>
<li><p><strong>Added:</strong>
Coercion entries and <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">ident</span></span></span></span></code>/<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">global</span></span></span></span></code> entries in custom notations now
respect the <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">only</span></span></span> <span><span><span class="pre">parsing</span></span></span></span></code> modifier
(<a class="reference external" href="https://github.com/coq/coq/pull/15340">#15340</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15335">#15335</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
<a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Reserved-Infix" title="Reserved Infix"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Reserved</span> <span class="pre">Infix</span></code></a> now accept further parameters in the infix notation
(<a class="reference external" href="https://github.com/coq/coq/pull/14379">#14379</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11402">#11402</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Useless self reference when printing abbreviations declared in nested modules
(<a class="reference external" href="https://github.com/coq/coq/pull/14493">#14493</a>,
fixes one part of <a class="reference external" href="https://github.com/coq/coq/issues/12777">#12777</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/14486">#14486</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
anomalies with notation applied in <code class="docutils literal notranslate"><span class="pre">match</span></code> patterns when the
notation have a notation variable at head
(<a class="reference external" href="https://github.com/coq/coq/pull/14713">#14713</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14708">#14708</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Regression in parsing error reporting in case of empty custom entry
(<a class="reference external" href="https://github.com/coq/coq/pull/15338">#15338</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15334">#15334</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
<div class="section" id="id354">
<h4><a class="toc-backref" href="#id1553">Tactics</a><a class="headerlink" href="#id354" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul id="applywith">
<li><p><strong>Changed:</strong>
<code class="docutils literal notranslate"><span class="pre">apply</span> <span class="pre">with</span></code> does not rename arguments unless using compatibility flag <a class="reference internal" href="proof-engine/tactics.html#coq:flag.Apply-With-Renaming" title="Apply With Renaming"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Apply</span> <span class="pre">With</span> <span class="pre">Renaming</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/13837">#13837</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13759">#13759</a>,
by Gaëtan Gilbert).</p>
<p>Porting hint: if the renaming is because of a goal variable (eg
<code class="docutils literal notranslate"><span class="pre">intros</span> <span class="pre">x;</span> <span class="pre">apply</span> <span class="pre">foo</span> <span class="pre">with</span> <span class="pre">(x0</span> <span class="pre">:=</span> <span class="pre">bar)</span></code> where <code class="docutils literal notranslate"><span class="pre">About</span> <span class="pre">foo.</span></code> says
the argument is called <code class="docutils literal notranslate"><span class="pre">x</span></code>) it is probably caused by an
interaction with implicit arguments and <code class="docutils literal notranslate"><span class="pre">apply</span> <span class="pre">&#64;foo</span> <span class="pre">with</span> <span class="pre">(x</span> <span class="pre">:=</span>
<span class="pre">bar)</span></code> will usually be a backwards compatible fix.</p>
</li>
<li id="auto"><p><strong>Changed:</strong>
<a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Unfold" title="Hint Unfold"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Unfold</span></code></a> in discriminated databases now respects its
specification, namely that a constant may be unfolded only when
it is the head of the goal. The previous behavior was to perform
unfolding on any goal, without any limitation.</p>
<p>An unexpected side-effect of this was that a database that
contained <code class="docutils literal notranslate"><span class="pre">Unfold</span></code> hints would sometimes trigger silent
strong βι-normalization of the goal. Indeed, <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.unfold" title="unfold"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">unfold</span></code></a>
performs such a normalization regardless of the presence of its
argument in the goal. This does introduce a bit of backwards
incompatibility, but it occurs in very specific situations
and is easily circumvented. Since by default hint bases
are not discriminated, it means that incompatibilities are
typically observed when adding unfold hints to the typeclass
database.</p>
<p>In order to recover the previous behavior, it is enough
to replace instances of <code class="docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Unfold</span> <span class="pre">foo.</span></code>
with <code class="docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Extern</span> <span class="pre">4</span> <span class="pre">=&gt;</span> <span class="pre">progress</span> <span class="pre">(unfold</span> <span class="pre">foo).</span></code>. A less compatible but
finer-grained change can be achieved by only adding the missing normalization
phase with <code class="docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Extern</span> <span class="pre">4</span> <span class="pre">=&gt;</span> <span class="pre">progress</span> <span class="pre">(lazy</span> <span class="pre">beta</span> <span class="pre">iota).</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/14679">#14679</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14874">#14874</a>,
by Pierre-Marie Pédrot).</p>
</li>
<li><p><strong>Changed:</strong>
Correctly consider variables without a body to be rigid
for the pattern recognition algorithm of discriminated
hints
(<a class="reference external" href="https://github.com/coq/coq/pull/14722">#14722</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Changed:</strong>
Use discrimination nets for goals containing evars in all
<a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.auto" title="auto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">auto</span></code></a> tactics. It essentially makes the behavior of undiscriminated
databases to be the one of discriminated databases where all constants are
considered transparent. This may be incompatible with previous behavior in
very rare cases (<a class="reference external" href="https://github.com/coq/coq/pull/14848">#14848</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Changed:</strong>
The <code class="docutils literal notranslate"><span class="pre">choice</span></code> strategy for <a class="reference internal" href="addendum/generalized-rewriting.html#coq:tacn.rewrite_strat" title="rewrite_strat"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">rewrite_strat</span></code></a> is now of arbitrary arity
(<a class="reference external" href="https://github.com/coq/coq/pull/14989">#14989</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/6109">#6109</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Changed:</strong>
The <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.exact" title="exact"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">exact</span></code></a> tactic now takes a <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">uconstr</span></span></code> as argument
instead of an ad-hoc one. In very rare cases, this can change
the order of resolution of dependent evars when used over
several goals at once
(<a class="reference external" href="https://github.com/coq/coq/pull/15171">#15171</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Changed:</strong> <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.cbn" title="cbn"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">cbn</span></code></a> interprets the combination of the <code class="docutils literal notranslate"><span class="pre">!</span></code> and
<code class="docutils literal notranslate"><span class="pre">/</span></code> modifiers (from <a class="reference internal" href="language/extensions/arguments-command.html#coq:cmd.Arguments" title="Arguments"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Arguments</span></code></a>) to mean &quot;unfold as soon as
all arguments before the <code class="docutils literal notranslate"><span class="pre">/</span></code> are provided and all arguments marked
with <code class="docutils literal notranslate"><span class="pre">!</span></code> reduce to a constructor&quot;. This makes it unfold more often
than without the <code class="docutils literal notranslate"><span class="pre">/</span></code> when all arguments are provided. Previously
adding <code class="docutils literal notranslate"><span class="pre">/</span></code> would only prevent unfolding when insufficient
arguments are provided without adding new unfoldings.</p>
<p>Note that this change only takes effect in default mode (as opposed
to when <code class="docutils literal notranslate"><span class="pre">simpl</span> <span class="pre">nomatch</span></code> was used) (<a class="reference external" href="https://github.com/coq/coq/pull/15204">#15204</a>, fixes <a class="reference external" href="https://github.com/coq/coq/issues/4555">#4555</a> and <a class="reference external" href="https://github.com/coq/coq/issues/7674">#7674</a>, by Gaëtan Gilbert).</p>
</li>
<li><p><strong>Removed:</strong>
the deprecated new auto tactic
(<a class="reference external" href="https://github.com/coq/coq/pull/14527">#14527</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Removed:</strong>
deprecated syntax for <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.instantiate" title="instantiate"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">instantiate</span></code></a> using capitalized <code class="docutils literal notranslate"><span class="pre">Value</span></code> or <code class="docutils literal notranslate"><span class="pre">Type</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/15193">#15193</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Removed:</strong>
deprecated <code class="docutils literal notranslate"><span class="pre">autoapply</span> <span class="pre">...</span> <span class="pre">using</span></code> syntax for <a class="reference internal" href="addendum/type-classes.html#coq:tacn.autoapply" title="autoapply"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">autoapply</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/15194">#15194</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Deprecated:</strong>
the <code class="docutils literal notranslate"><span class="pre">bfs</span> <span class="pre">eauto</span></code> tactic. Since its introduction
it has behaved exactly like the <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.eauto" title="eauto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">eauto</span></code></a> tactic.
Use <a class="reference internal" href="addendum/type-classes.html#coq:tacn.typeclasses-eauto" title="typeclasses eauto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">typeclasses</span> <span class="pre">eauto</span></code></a> with the <code class="docutils literal notranslate"><span class="pre">bfs</span></code> flag instead
(<a class="reference external" href="https://github.com/coq/coq/pull/15314">#15314</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15300">#15300</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Added:</strong>
The <a class="reference internal" href="addendum/micromega.html#coq:tacn.zify" title="zify"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">zify</span></code></a> tactic can now recognize <code class="docutils literal notranslate"><span class="pre">Pos.Nsucc_double</span></code>, <code class="docutils literal notranslate"><span class="pre">Pos.Ndouble</span></code>,
<code class="docutils literal notranslate"><span class="pre">N.succ_double</span></code>, <code class="docutils literal notranslate"><span class="pre">N.double</span></code>, <code class="docutils literal notranslate"><span class="pre">N.succ_pos</span></code>, <code class="docutils literal notranslate"><span class="pre">N.div2</span></code>, <code class="docutils literal notranslate"><span class="pre">N.pow</span></code>, <code class="docutils literal notranslate"><span class="pre">N.square</span></code>, and
<code class="docutils literal notranslate"><span class="pre">Z.to_pos</span></code>. Moreover, importing module <code class="docutils literal notranslate"><span class="pre">ZifyBool</span></code> lets it recognize <code class="docutils literal notranslate"><span class="pre">Pos.eqb</span></code>,
<code class="docutils literal notranslate"><span class="pre">Pos.leb</span></code>, <code class="docutils literal notranslate"><span class="pre">Pos.ltb</span></code>, <code class="docutils literal notranslate"><span class="pre">N.eqb</span></code>, <code class="docutils literal notranslate"><span class="pre">N.leb</span></code>, and <code class="docutils literal notranslate"><span class="pre">N.ltb</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/10998">#10998</a>,
by Kazuhiko Sakaguchi).</p>
</li>
<li id="besteffort"><p><strong>Added:</strong>
<a class="reference internal" href="addendum/type-classes.html#typeclasseseautobesteffort"><span class="std std-ref">best_effort</span></a> option to <a class="reference internal" href="addendum/type-classes.html#coq:tacn.typeclasses-eauto" title="typeclasses eauto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">typeclasses</span> <span class="pre">eauto</span></code></a>,
to return a <em>partial</em> solution to its initial proof-search problem. The goals that
can remain unsolved are determined according to the modes declared for their head
(see <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Mode" title="Hint Mode"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Mode</span></code></a>). This is used by typeclass resolution during type
inference to provide more informative error messages.
(<a class="reference external" href="https://github.com/coq/coq/pull/13952">#13952</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/pull/13952">#13942</a> and
<a class="reference external" href="https://github.com/coq/coq/pull/14125">#14125</a>, by Matthieu Sozeau).</p></li>
<li><p><strong>Added:</strong>
A new <a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:table.Keep-Equalities" title="Keep Equalities"><code class="xref coq coq-table docutils literal notranslate"><span class="pre">Keep</span> <span class="pre">Equalities</span></code></a> table to selectively control the
preservation of subterm equalities for the <a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:tacn.injection" title="injection"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">injection</span></code></a> tactic. It allows
a finer control than the boolean flag <a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:flag.Keep-Proof-Equalities" title="Keep Proof Equalities"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Keep</span> <span class="pre">Proof</span> <span class="pre">Equalities</span></code></a> that acts
globally.
(<a class="reference external" href="https://github.com/coq/coq/pull/14439">#14439</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="proofs/automatic-tactics/logic.html#coq:tacn.simple-congruence" title="simple congruence"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">simple</span> <span class="pre">congruence</span></code></a> tactic which works like <a class="reference internal" href="proofs/automatic-tactics/logic.html#coq:tacn.congruence" title="congruence"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">congruence</span></code></a>
but does not unfold definitions.
(<a class="reference external" href="https://github.com/coq/coq/pull/14657">#14657</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13778">#13778</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/5394">#5394</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/13189">#13189</a>,
by Andrej Dudenhefner).</p></li>
<li><p><strong>Added:</strong>
Small enhancement of unification in the presence of local definitions
(<a class="reference external" href="https://github.com/coq/coq/pull/14673">#14673</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/4415">#4415</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">dfs</span></code> option in <a class="reference internal" href="addendum/type-classes.html#coq:tacn.typeclasses-eauto" title="typeclasses eauto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">typeclasses</span> <span class="pre">eauto</span></code></a> to use depth-first search
(<a class="reference external" href="https://github.com/coq/coq/pull/14693">#14693</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13859">#13859</a>,
by Ali Caglayan).</p></li>
<li><p><strong>Fixed:</strong>
More flexible hypothesis specialization in <a class="reference internal" href="proofs/automatic-tactics/logic.html#coq:tacn.congruence" title="congruence"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">congruence</span></code></a>.
(<a class="reference external" href="https://github.com/coq/coq/pull/14650">#14650</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14651">#14651</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/14662">#14662</a>,
by Andrej Dudenhefner).</p></li>
<li><p><strong>Fixed:</strong>
Added caching to congruence initialization to avoid quadratic runtime.
(<a class="reference external" href="https://github.com/coq/coq/pull/14683">#14683</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/5548">#5548</a>,
by Andrej Dudenhefner).</p></li>
<li><p><strong>Fixed:</strong>
Correctly handle matching up to η-expansion in discriminated
hints
(<a class="reference external" href="https://github.com/coq/coq/pull/14731">#14732</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14731">#14731</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Fixed:</strong>
Old unification understands some inductive cumulativity
(<a class="reference external" href="https://github.com/coq/coq/pull/14758">#14758</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14734">#14734</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/6976">#6976</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
The <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.clear" title="clear"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">clear</span> <span class="pre">dependent</span></code></a> tactic now does not backtrack
internally, preventing an exponential blowup
(<a class="reference external" href="https://github.com/coq/coq/pull/14984">#14984</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11689">#11689</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Fixed:</strong>
<a class="reference internal" href="addendum/generalized-rewriting.html#coq:tacn.setoid_rewrite" title="setoid_rewrite"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">setoid_rewrite</span></code></a> now works when the rewriting lemma has non dependent arguments and rewriting under binders
(<a class="reference external" href="https://github.com/coq/coq/pull/14986">#14986</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/5369">#5369</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
Regression in 8.14.0 and 8.14.1 with action pattern <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">%</span></span></span></span></code> in
<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">as</span></span></span></span></code> clause of tactic <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.specialize" title="specialize"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">specialize</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/15245">#15245</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15244">#15244</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
<div class="section" id="id401">
<h4><a class="toc-backref" href="#id1554">Tactic language</a><a class="headerlink" href="#id401" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
the parsing level of the Ltac2 tactic <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.now" title="now"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">now</span></code></a>
was set to level 6 in order to behave as it did before
8.14
(<a class="reference external" href="https://github.com/coq/coq/pull/15250">#15250</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15122">#15122</a>,
by Pierre-Marie Pédrot).</p></li>
</ul>
</div>
<div class="section" id="id404">
<h4><a class="toc-backref" href="#id1555">SSReflect</a><a class="headerlink" href="#id404" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
rewrite generates subgoals in the expected order (side conditions first, by
default) also when rewriting with a setoid relation.
(<a class="reference external" href="https://github.com/coq/coq/pull/14314">#14314</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/5706">#5706</a>,
by Enrico Tassi).</p></li>
<li><p><strong>Removed:</strong>
The ssrsearch plugin and the ssr Search command
(<a class="reference external" href="https://github.com/coq/coq/pull/13760">#13760</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Added:</strong>
port the additions made to <code class="docutils literal notranslate"><span class="pre">ssrbool.v</span></code> in math-comp <a class="reference external" href="https://github.com/math-comp/math-comp/pull/757">PR #757</a>,
namely <code class="docutils literal notranslate"><span class="pre">reflect</span></code> combinators <code class="docutils literal notranslate"><span class="pre">negPP</span></code>, <code class="docutils literal notranslate"><span class="pre">orPP</span></code>, <code class="docutils literal notranslate"><span class="pre">andPP</span></code> and <code class="docutils literal notranslate"><span class="pre">implyPP</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/15059">#15059</a>,
by Christian Doczkal).</p></li>
<li><p><strong>Fixed:</strong>
SSR patterns now work with primitive values such as ints, floats or arrays
(<a class="reference external" href="https://github.com/coq/coq/pull/14660">#14660</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12770">#12770</a>,
by Juan Conejero).</p></li>
<li><p><strong>Fixed:</strong>
A bug where <a class="reference internal" href="proof-engine/ssreflect-proof-language.html#coq:tacn.suff" title="suff"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">suff</span></code></a> would fail due to use of <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.apply" title="apply"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">apply</span></code></a> under the hood.
(<a class="reference external" href="https://github.com/coq/coq/pull/14687">#14687</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14678">#14678</a>,
by Ali Caglayan helped by Enrico Tassi).</p></li>
</ul>
</div>
<div class="section" id="id413">
<h4><a class="toc-backref" href="#id1556">Commands and options</a><a class="headerlink" href="#id413" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="commands">
<li><p><strong>Changed:</strong>
<a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.About" title="About"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">About</span></code></a> and <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Print" title="Print"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span></code></a> now display all known argument names
(<a class="reference external" href="https://github.com/coq/coq/pull/14596">#14596</a>,
grants <a class="reference external" href="https://github.com/coq/coq/issues/13830">#13830</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Changed:</strong>
<a class="reference internal" href="addendum/type-classes.html#coq:cmd.Typeclasses-Transparent" title="Typeclasses Transparent"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Typeclasses</span> <span class="pre">Transparent</span></code></a> and <a class="reference internal" href="addendum/type-classes.html#coq:cmd.Typeclasses-Opaque" title="Typeclasses Opaque"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Typeclasses</span> <span class="pre">Opaque</span></code></a> support <code class="docutils literal notranslate"><span class="pre">#[local]</span></code>, <code class="docutils literal notranslate"><span class="pre">#[export]</span></code> and <code class="docutils literal notranslate"><span class="pre">#[global]</span></code> attributes
(<a class="reference external" href="https://github.com/coq/coq/pull/14685">#14685</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14513">#14513</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Changed:</strong>
In extraction to OCaml, empty types in <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Type</span></span></span></span></code> (such as
<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Empty</span></span></span><span><span><span class="pre">_</span></span></span><span><span><span class="pre">set</span></span></span></span></code>) are now extracted to an abstract type (empty by
construction) rather than to the OCaml's <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">unit</span></span></span></span></code> type
(<a class="reference external" href="https://github.com/coq/coq/pull/14802">#14802</a>,
fixes a remark at <a class="reference external" href="https://github.com/coq/coq/issues/14801">#14801</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Changed:</strong>
Closed modules now live in a separate namespace from open modules and sections.
(<a class="reference external" href="https://github.com/coq/coq/pull/15078">#15078</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14529">#14529</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Removed:</strong>
boolean attributes <code class="docutils literal notranslate"><span class="pre">monomorphic</span></code>, <code class="docutils literal notranslate"><span class="pre">noncumulative</span></code> and <code class="docutils literal notranslate"><span class="pre">notemplate</span></code> that were replaced by <code class="docutils literal notranslate"><span class="pre">polymorphic=no</span></code>, <code class="docutils literal notranslate"><span class="pre">cumulative=no</span></code> and <code class="docutils literal notranslate"><span class="pre">template=no</span></code> in 8.13.
(<a class="reference external" href="https://github.com/coq/coq/pull/14819">#14819</a>,
by Pierre Roux).</p></li>
<li><p><strong>Removed:</strong>
command <code class="docutils literal notranslate"><span class="pre">Grab</span> <span class="pre">Existential</span> <span class="pre">Variables</span></code> that was deprecated in 8.13. Use <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:cmd.Unshelve" title="Unshelve"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Unshelve</span></code></a> that is mostly equivalent, up to the reverse order of the resulting subgoals.
(<a class="reference external" href="https://github.com/coq/coq/pull/14819">#14819</a>,
by Pierre Roux).</p></li>
<li><p><strong>Removed:</strong>
command <code class="docutils literal notranslate"><span class="pre">Existential</span></code> that was deprecated in 8.13. Use <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:cmd.Unshelve" title="Unshelve"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Unshelve</span></code></a> and <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.exact" title="exact"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">exact</span></code></a>.
(<a class="reference external" href="https://github.com/coq/coq/pull/14819">#14819</a>,
by Pierre Roux).</p></li>
<li><p><strong>Removed:</strong>
the <code class="docutils literal notranslate"><span class="pre">-outputstate</span></code> command line argument and the corresponding
vernacular commands <code class="docutils literal notranslate"><span class="pre">Write</span> <span class="pre">State</span></code> and <code class="docutils literal notranslate"><span class="pre">Restore</span> <span class="pre">State</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/14940">#14940</a>,
by Pierre-Marie Pédrot)</p></li>
<li><p><strong>Deprecated:</strong> ambiguous <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:cmd.Proof-using" title="Proof using"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Proof</span> <span class="pre">using</span></code></a> and <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:cmd.Collection" title="Collection"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Collection</span></code></a> usage
(<a class="reference external" href="https://github.com/coq/coq/pull/15056">#15056</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13296">#13296</a>,
by Wojciech Karpiel).</p></li>
<li><p><strong>Deprecated:</strong>
<code class="docutils literal notranslate"><span class="pre">Universal</span> <span class="pre">Lemma</span> <span class="pre">Under</span> <span class="pre">Conjunction</span></code> flag that was introduced for
compatibility with Coq versions prior to 8.4 (<a class="reference external" href="https://github.com/coq/coq/pull/15272">#15272</a>, by Théo Zimmermann).</p></li>
<li><p><strong>Deprecated:</strong> using <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Cut" title="Hint Cut"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Cut</span></code></a>, <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Mode" title="Hint Mode"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Mode</span></code></a>, <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Transparent" title="Hint Transparent"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span>
<span class="pre">Transparent</span></code></a>, <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Opaque" title="Hint Opaque"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Opaque</span></code></a>, <a class="reference internal" href="addendum/type-classes.html#coq:cmd.Typeclasses-Transparent" title="Typeclasses Transparent"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Typeclasses</span> <span class="pre">Transparent</span></code></a> or
<a class="reference internal" href="addendum/type-classes.html#coq:cmd.Typeclasses-Opaque" title="Typeclasses Opaque"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Typeclasses</span> <span class="pre">Opaque</span></code></a> without an explicit locality outside
sections. (<a class="reference external" href="https://github.com/coq/coq/pull/14697">#14697</a>, by
Pierre-Marie Pédrot, and <a class="reference external" href="https://github.com/coq/coq/pull/14685">#14685</a>, by Gaëtan Gilbert)</p></li>
<li><p><strong>Added:</strong>
The <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:flag.Mangle-Names-Light" title="Mangle Names Light"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Mangle</span> <span class="pre">Names</span> <span class="pre">Light</span></code></a> flag, which changes the behavior of
<a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:flag.Mangle-Names" title="Mangle Names"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Mangle</span> <span class="pre">Names</span></code></a>. For example, the name <code class="docutils literal notranslate"><span class="pre">foo</span></code> becomes <code class="docutils literal notranslate"><span class="pre">_0</span></code> with
<a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:flag.Mangle-Names" title="Mangle Names"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Mangle</span> <span class="pre">Names</span></code></a>, but with <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:flag.Mangle-Names-Light" title="Mangle Names Light"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Mangle</span> <span class="pre">Names</span> <span class="pre">Light</span></code></a> set, it will
become <code class="docutils literal notranslate"><span class="pre">_foo</span></code>.
(<a class="reference external" href="https://github.com/coq/coq/pull/14695">#14695</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14548">#14548</a>,
by Ali Caglayan).</p></li>
<li><p><strong>Added:</strong> The <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Cut" title="Hint Cut"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Cut</span></code></a>, <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Mode" title="Hint Mode"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Mode</span></code></a>, <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Transparent" title="Hint Transparent"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span>
<span class="pre">Transparent</span></code></a>, <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Opaque" title="Hint Opaque"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Opaque</span></code></a>, <a class="reference internal" href="addendum/type-classes.html#coq:cmd.Typeclasses-Transparent" title="Typeclasses Transparent"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Typeclasses</span> <span class="pre">Transparent</span></code></a> and
<a class="reference internal" href="addendum/type-classes.html#coq:cmd.Typeclasses-Opaque" title="Typeclasses Opaque"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Typeclasses</span> <span class="pre">Opaque</span></code></a> commands now accept the <a class="reference internal" href="language/core/modules.html#coq:attr.local" title="local"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">local</span></code></a>,
<a class="reference internal" href="language/core/modules.html#coq:attr.export" title="export"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">export</span></code></a> and <a class="reference internal" href="language/core/modules.html#coq:attr.global" title="global"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">global</span></code></a> locality attributes inside
sections. With either attribute, the commands will trigger the
<code class="docutils literal notranslate"><span class="pre">non-local-section-hint</span></code> warning if the arguments refer to local
section variables (<a class="reference external" href="https://github.com/coq/coq/pull/14697">#14697</a>, by Pierre-Marie Pédrot,
and <a class="reference external" href="https://github.com/coq/coq/pull/14685">#14685</a>, fixes <a class="reference external" href="https://github.com/coq/coq/issues/14513">#14513</a>, by Gaëtan Gilbert).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="language/core/records.html#coq:attr.projections(primitive)" title="projections(primitive)"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">projections(primitive)</span></code></a> attribute to make a record use
primitive projections
(<a class="reference external" href="https://github.com/coq/coq/pull/14699">#14699</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13150">#13150</a>,
by Ali Caglayan).</p>
</li>
<li id="import"><p><strong>Added:</strong> Syntax for <a class="reference internal" href="language/core/modules.html#grammar-token-import_categories"><code class="xref std std-token docutils literal notranslate"><span class="pre">import_categories</span></code></a> providing selective
import of module components (eg <code class="docutils literal notranslate"><span class="pre">Import(notations)</span> <span class="pre">M</span></code> (<a class="reference external" href="https://github.com/coq/coq/pull/14892">#14892</a>, by Gaëtan Gilbert).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Search" title="Search"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Search</span></code></a> understands modifier <code class="docutils literal notranslate"><span class="pre">in</span></code> as an alias of <code class="docutils literal notranslate"><span class="pre">inside</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/15139">#15139</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14930">#14930</a>,
by Gaëtan Gilbert).
This is intended to ease transition for ssreflect Search users.</p></li>
<li><p><strong>Fixed:</strong> interaction of Program's obligation state and modules and
sections: obligations started in a parent module or section are not
available to be solved until the submodules and subsections are
closed (<a class="reference external" href="https://github.com/coq/coq/pull/14780">#14780</a>, fixes
<a class="reference external" href="https://github.com/coq/coq/issues/14446">#14446</a>, by Gaëtan
Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
<a class="reference internal" href="proofs/writing-proofs/equality.html#coq:cmd.Eval" title="Eval"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Eval</span></code></a> and <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:cmd.Compute" title="Compute"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Compute</span></code></a> now beta-iota-simplify the type
of the result, like <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Check" title="Check"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Check</span></code></a> does
(<a class="reference external" href="https://github.com/coq/coq/pull/14901">#14901</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14899">#14899</a>,
by Hugo Herbelin)</p></li>
</ul>
</div>
<div class="section" id="id445">
<h4><a class="toc-backref" href="#id1557">Command-line tools</a><a class="headerlink" href="#id445" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
Coqdoc options <code class="docutils literal notranslate"><span class="pre">--coqlib</span></code> and <code class="docutils literal notranslate"><span class="pre">--coqlib_path</span></code> have been renamed
to <code class="docutils literal notranslate"><span class="pre">--coqlib_url</span></code> and <code class="docutils literal notranslate"><span class="pre">--coqlib</span></code> to make them more consistent with
flags used by other Coq executables
(<a class="reference external" href="https://github.com/coq/coq/pull/14059">#14059</a>,
by Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Changed:</strong>
Syntax of <code class="docutils literal notranslate"><span class="pre">_CoqProject</span></code> files: <code class="docutils literal notranslate"><span class="pre">-arg</span></code> is now handled by <a class="reference internal" href="practical-tools/utilities.html#coq-makefile"><span class="std std-ref">coq_makefile</span></a> and not by <code class="docutils literal notranslate"><span class="pre">make</span></code>. Unquoted <code class="docutils literal notranslate"><span class="pre">#</span></code> now start line comments.
(<a class="reference external" href="https://github.com/coq/coq/pull/14558">#14558</a>,
by Stéphane Desarzens, with help from Jim Fehrle and Enrico Tassi).</p></li>
<li><p><strong>Changed:</strong>
<a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Require" title="Require"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Require</span></code></a> now selects files whose logical name
exactly matches the required name, making it possible to unambiguously select
a given file: if several <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">-Q</span></span></span></span></code> or <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">-R</span></span></span></span></code> options bind the same
logical name to a different file, the option appearing last on the
command line takes precedence.  Moreover, it is now an error to
require a file using a partial logical name which does not resolve
to a non-ambiguous path (<a class="reference external" href="https://github.com/coq/coq/pull/14718">#14718</a>, by Hugo Herbelin).</p></li>
<li><p><strong>Changed:</strong> <code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code> now declares variable <code class="docutils literal notranslate"><span class="pre">COQBIN</span></code> to avoid warnings in
<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">--warn</span></code> mode (<a class="reference external" href="https://github.com/coq/coq/pull/14787">#14787</a>, by
Clément Pit-Claudel).</p></li>
<li><p><strong>Changed:</strong>
<code class="docutils literal notranslate"><span class="pre">coqchk</span></code> respects the <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:flag.Kernel-Term-Sharing" title="Kernel Term Sharing"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Kernel</span> <span class="pre">Term</span> <span class="pre">Sharing</span></code></a> flag instead of forcing it on
(<a class="reference external" href="https://github.com/coq/coq/pull/14957">#14957</a>,
by Gaëtan Gilbert)</p></li>
<li><p><strong>Removed:</strong>
These options of <a class="reference internal" href="practical-tools/utilities.html#coq-makefile"><span class="std std-ref">coq_makefile</span></a>: <code class="docutils literal notranslate"><span class="pre">-extra</span></code>, <code class="docutils literal notranslate"><span class="pre">-extra-phony</span></code>,
<code class="docutils literal notranslate"><span class="pre">-custom</span></code>, <code class="docutils literal notranslate"><span class="pre">-no-install</span></code>, <code class="docutils literal notranslate"><span class="pre">-install</span></code>, <code class="docutils literal notranslate"><span class="pre">-no-opt</span></code>, <code class="docutils literal notranslate"><span class="pre">-byte</span></code>.
Support for subdirectories is also removed.
(<a class="reference external" href="https://github.com/coq/coq/pull/14558">#14558</a>,
by Stéphane Desarzens, with help from Jim Fehrle and Enrico Tassi).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="practical-tools/utilities.html#coq-makefile"><span class="std std-ref">coq_makefile</span></a> now takes the <code class="docutils literal notranslate"><span class="pre">-docroot</span></code> option as alternative to the
<code class="docutils literal notranslate"><span class="pre">INSTALLCOQDOCROOT</span></code> variable
(<a class="reference external" href="https://github.com/coq/coq/pull/14558">#14558</a>,
by Stéphane Desarzens, with help from Jim Fehrle and Enrico Tassi).</p></li>
<li><p><strong>Fixed:</strong>
Various <code class="docutils literal notranslate"><span class="pre">coqdep</span></code> issues with the <code class="docutils literal notranslate"><span class="pre">From</span></code> clause of <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Require" title="Require"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Require</span></code></a> and
a few inconsistencies between <code class="docutils literal notranslate"><span class="pre">coqdep</span></code> and <code class="docutils literal notranslate"><span class="pre">coqc</span></code> disambiguation
of <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Require" title="Require"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Require</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/14718">#14718</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11631">#11631</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/14539">#14539</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
<code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code> has improved logic when dealing with incorrect <code class="docutils literal notranslate"><span class="pre">_CoqProject</span></code> files
(<a class="reference external" href="https://github.com/coq/coq/pull/13541">#13541</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/9319">#9319</a>,
by Fabian Kunze).</p></li>
<li><p><strong>Fixed:</strong>
<code class="docutils literal notranslate"><span class="pre">coqdep</span></code> was confusing periods occurring in comments with periods ending Coq sentences
(<a class="reference external" href="https://github.com/coq/coq/pull/14996">#14996</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/7393">#7393</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
<div class="section" id="id460">
<h4><a class="toc-backref" href="#id1558">CoqIDE</a><a class="headerlink" href="#id460" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
CoqIDE unicode keys for brackets (e.g. <code class="docutils literal notranslate"><span class="pre">langle</span></code>) now bind to unicode mathematical symbols rather than unicode CJK brackets
(<a class="reference external" href="https://github.com/coq/coq/pull/14452">#14452</a>,
by Bart Jacobs).</p></li>
<li><p><strong>Changed:</strong>
All occurrences of the name <code class="docutils literal notranslate"><span class="pre">CoqIde</span></code> to <code class="docutils literal notranslate"><span class="pre">CoqIDE</span></code>. This may cause issues with
installing and uninstalling desktop icons, causing apparent duplicates.
(<a class="reference external" href="https://github.com/coq/coq/pull/14696">#14696</a>, fixes <a class="reference external" href="https://github.com/coq/coq/issues/14310">#14310</a>, by Ali Caglayan).</p>
</li>
<li id="ltacdebugger"><p><strong>Added:</strong>
Initial version of a visual debugger in CoqIDE.  Supports setting breakpoints
visually and jumping to the stopping point plus continue, step over,
step in and step out operations.  Displays the call stack and
variable values for each stack frame.  Currently only for Ltac.
See the documentation <a class="reference internal" href="practical-tools/coqide.html#coqide-debugger"><span class="std std-ref">here</span></a>.
(<a class="reference external" href="https://github.com/coq/coq/pull/14644">#14644</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13967">#13967</a>,
by Jim Fehrle)</p></li>
<li><p><strong>Fixed:</strong>
It is now possible to deactivate the unicode completion
mechanism in CoqIDE
(<a class="reference external" href="https://github.com/coq/coq/pull/14863">#14863</a>,
by Pierre-Marie Pédrot).</p></li>
</ul>
</div>
<div class="section" id="id467">
<h4><a class="toc-backref" href="#id1559">Standard library</a><a class="headerlink" href="#id467" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
Permutation-related Proper instances are now at default priority instead of priority <code class="docutils literal notranslate"><span class="pre">10</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/14574">#14574</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14571">#14571</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Changed:</strong>
The new type of  <code class="docutils literal notranslate"><span class="pre">epsilon_smallest</span></code> is
<code class="docutils literal notranslate"><span class="pre">(exists</span> <span class="pre">n</span> <span class="pre">:</span> <span class="pre">nat,</span> <span class="pre">P</span> <span class="pre">n)</span> <span class="pre">-&gt;</span> <span class="pre">{</span> <span class="pre">n</span> <span class="pre">:</span> <span class="pre">nat</span> <span class="pre">|</span> <span class="pre">P</span> <span class="pre">n</span> <span class="pre">/forall</span> <span class="pre">k,</span> <span class="pre">P</span> <span class="pre">k</span> <span class="pre">-&gt;</span> <span class="pre">n</span> <span class="pre">&lt;=</span> <span class="pre">k</span> <span class="pre">}</span></code>.
Here the minimality of <code class="docutils literal notranslate"><span class="pre">n</span></code> is expressed by <code class="docutils literal notranslate"><span class="pre">forall</span> <span class="pre">k,</span> <span class="pre">P</span> <span class="pre">k</span> <span class="pre">-&gt;</span> <span class="pre">n</span> <span class="pre">&lt;=</span> <span class="pre">k</span></code>
corresponding to the intuitive meaning of minimality
&quot;the others are greater&quot;, whereas the previous version used
the negative equivalent formulation <code class="docutils literal notranslate"><span class="pre">forall</span> <span class="pre">k,</span> <span class="pre">k</span> <span class="pre">&lt;</span> <span class="pre">n</span> <span class="pre">-&gt;</span> <span class="pre">~P</span> <span class="pre">k</span></code>.
Scripts using <code class="docutils literal notranslate"><span class="pre">epsilon_smallest</span></code> can easily be adapted using
lemmas <code class="docutils literal notranslate"><span class="pre">le_not_lt</span></code> and <code class="docutils literal notranslate"><span class="pre">lt_not_le</span></code> from the standard library.
(<a class="reference external" href="https://github.com/coq/coq/pull/14601">#14601</a>,
by Jean-Francois Monin).</p></li>
<li><p><strong>Changed:</strong>
<code class="docutils literal notranslate"><span class="pre">ltb</span></code> and <code class="docutils literal notranslate"><span class="pre">leb</span></code> functions for <code class="docutils literal notranslate"><span class="pre">ascii</span></code>, into comparison-based definition
(<a class="reference external" href="https://github.com/coq/coq/pull/14234">#14234</a>,
by Yishuai Li).</p></li>
<li><p><strong>Removed:</strong>
the file <code class="docutils literal notranslate"><span class="pre">Numeral.v</span></code> that was replaced by <code class="docutils literal notranslate"><span class="pre">Number.v</span></code> in 8.13.
(<a class="reference external" href="https://github.com/coq/coq/pull/14819">#14819</a>,
by Pierre Roux).</p></li>
<li><p><strong>Removed:</strong>
some <code class="docutils literal notranslate"><span class="pre">*_invol</span></code> functions that were renamed <code class="docutils literal notranslate"><span class="pre">*_involutive</span></code> for consistency with the remaining of the stdlib in 8.13.
(<a class="reference external" href="https://github.com/coq/coq/pull/14819">#14819</a>,
by Pierre Roux).</p></li>
<li><p><strong>Deprecated:</strong>
<code class="docutils literal notranslate"><span class="pre">frexp</span></code> and <code class="docutils literal notranslate"><span class="pre">ldexp</span></code> in <code class="docutils literal notranslate"><span class="pre">FloatOps.v</span></code>, renamed <code class="docutils literal notranslate"><span class="pre">Z.frexp</span></code> and <code class="docutils literal notranslate"><span class="pre">Z.ldexp</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/15085">#15085</a>,
by Pierre Roux).</p></li>
<li><p><strong>Added:</strong>
A proof that incoherent equivalences can be adjusted to adjoint equivalences in <code class="docutils literal notranslate"><span class="pre">Logic.Adjointification</span></code>.
(<a class="reference external" href="https://github.com/coq/coq/pull/13408">#13408</a>,
by Jasper Hugunin).</p></li>
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">ltb</span></code> and <code class="docutils literal notranslate"><span class="pre">leb</span></code> functions for <code class="docutils literal notranslate"><span class="pre">string</span></code>, and some lemmas about them;</p></li>
<li><p><strong>Added:</strong>
simple non dependent product <code class="docutils literal notranslate"><span class="pre">slexprod</span></code> in
<code class="docutils literal notranslate"><span class="pre">Relations/Relation_Operators.v</span></code> and its proof of well-foundness
<code class="docutils literal notranslate"><span class="pre">wf_slexprod</span></code> in <code class="docutils literal notranslate"><span class="pre">Wellfounded/Lexicographic_Product.v</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/14809">#14809</a>,
by Laurent Thery).</p></li>
<li><p><strong>Added:</strong>
The notations <code class="docutils literal notranslate"><span class="pre">(x;</span> <span class="pre">y)</span></code>, <code class="docutils literal notranslate"><span class="pre">x.1</span></code>, <code class="docutils literal notranslate"><span class="pre">x.2</span></code> for sigT are now exported and available  after <code class="docutils literal notranslate"><span class="pre">Import</span> <span class="pre">SigTNotations.</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/14813">#14813</a>, by Laurent Théry).</p></li>
<li><p><strong>Added:</strong>
The function <code class="docutils literal notranslate"><span class="pre">sigT_of_prod</span></code> turns a pair <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">*</span> <span class="pre">B</span></code> into <code class="docutils literal notranslate"><span class="pre">{_</span> <span class="pre">:</span> <span class="pre">A</span> <span class="pre">&amp;</span> <span class="pre">B}</span></code>. Its inverse function is <code class="docutils literal notranslate"><span class="pre">prod_of_sigT</span></code>. This is shown by theorems <code class="docutils literal notranslate"><span class="pre">sigT_prod_sigT</span></code> and <code class="docutils literal notranslate"><span class="pre">prod_sigT_prod</span></code>.
(<a class="reference external" href="https://github.com/coq/coq/pull/14813">#14813</a>, by Laurent Théry).</p></li>
<li><p><strong>Fixed:</strong>
<code class="docutils literal notranslate"><span class="pre">split_combine</span></code> lemma for lists, making it usable
(<a class="reference external" href="https://github.com/coq/coq/pull/14458">#14458</a>,
by Yishuai Li).</p></li>
</ul>
</div>
<div class="section" id="id480">
<h4><a class="toc-backref" href="#id1560">Infrastructure and dependencies</a><a class="headerlink" href="#id480" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p><strong>Changed:</strong>
Coq's continuous integration now provides a more accessible Windows
installer artifact in the &quot;Checks&quot; GitHub tab, both for pull
requests and the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch.</p>
<p>This facilitates testing Coq's bleeding edge builds on Windows, and
should be more reliable than the previous setup (<a class="reference external" href="https://github.com/coq/coq/pull/12425">#12425</a>, by Emilio Jesus Gallego
Arias).</p>
</li>
<li><p><strong>Changed:</strong>
Coq's <code class="docutils literal notranslate"><span class="pre">./configure</span></code> script has gone through a major cleanup. In
particular, the following options have been removed:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-force-caml-version</span></code>, <code class="docutils literal notranslate"><span class="pre">-force-findlib-version</span></code>: Coq won't
compile with OCaml or findlib lower than the required versions;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-vmbyteflags</span></code>, <code class="docutils literal notranslate"><span class="pre">-custom</span></code>, <code class="docutils literal notranslate"><span class="pre">-no-custom</span></code>: linking options for
toplevels are now controlled in <code class="docutils literal notranslate"><span class="pre">topbin/dune</span></code>;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-ocamlfind</span></code>: Coq will now use the toolchain specified in the
Dune configuration; this can be controlled using the workspaces
feature;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-nodebug</span></code>: Coq will now follow the standard, which is to always
pass <code class="docutils literal notranslate"><span class="pre">-g</span></code> to OCaml; this can be modified using a custom Dune
workspace;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-flambda-opts</span></code>: compilation options are now set in Coq's root
<code class="docutils literal notranslate"><span class="pre">dune</span></code> file, can be updated using a custom Dune workspace;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-local</span></code>, <code class="docutils literal notranslate"><span class="pre">-bindir</span></code>, <code class="docutils literal notranslate"><span class="pre">-coqdocdir</span></code>, <code class="docutils literal notranslate"><span class="pre">-annotate</span></code>,
<code class="docutils literal notranslate"><span class="pre">-camldir</span></code>, <code class="docutils literal notranslate"><span class="pre">-profiling</span></code>: these flags were deprecated in 8.14,
and are now removed.</p></li>
</ul>
<p>Moreover, the <code class="docutils literal notranslate"><span class="pre">-annot</span></code> and <code class="docutils literal notranslate"><span class="pre">-bin-annot</span></code> flags only take effect
to set <code class="docutils literal notranslate"><span class="pre">coq-makefile</span></code>'s defaults.
(<a class="reference external" href="https://github.com/coq/coq/pull/14189">#14189</a>,
by Emilio Jesus Gallego Arias).</p>
</li>
<li><p><strong>Changed:</strong>
Configure will now detect the Dune version, and will correctly pass
<code class="docutils literal notranslate"><span class="pre">-etcdir</span></code> and <code class="docutils literal notranslate"><span class="pre">-docdir</span></code> to the install procedure if Dune &gt;= 2.9 is available.
Note that the <code class="docutils literal notranslate"><span class="pre">-docdir</span></code> configure option now refers to root path for documentation.
If you would like to install Coq documentation in <code class="docutils literal notranslate"><span class="pre">foo/coq</span></code>, use
<code class="docutils literal notranslate"><span class="pre">-docdir</span> <span class="pre">foo</span></code>.
(<a class="reference external" href="https://github.com/coq/coq/pull/14844">#14844</a>,
by Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Changed:</strong>
OCaml 4.13 is now officially supported
(<a class="reference external" href="https://github.com/coq/coq/pull/14879">#14879</a>,
by Emilio Jesus Gallego Arias)</p></li>
<li><p><strong>Changed:</strong>
Sphinx 3.0.2 or above is now required to build the reference manual
(<a class="reference external" href="https://github.com/coq/coq/pull/14263">#14963</a>,
by Théo Zimmermann)</p></li>
</ul>
</div>
<div class="section" id="id486">
<h4><a class="toc-backref" href="#id1561">Extraction</a><a class="headerlink" href="#id486" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p><strong>Changed:</strong> replaced <code class="docutils literal notranslate"><span class="pre">Big</span></code> module with <code class="docutils literal notranslate"><span class="pre">Big_int_Z</span></code> functions from <code class="docutils literal notranslate"><span class="pre">zarith</span></code>.</p>
<p>OCaml code extracted with the following modules should be linked to the
<a class="reference external" href="https://github.com/ocaml/Zarith">Zarith</a> library.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ExtrOcamlNatBigInt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ExtrOcamlZBigInt</span></code></p></li>
</ul>
<p>Removed <code class="docutils literal notranslate"><span class="pre">ExtrOcamlBigIntConv</span></code> module.</p>
<p>(<a class="reference external" href="https://github.com/coq/coq/pull/8252">#8252</a>, by Yishuai Li).</p>
</li>
<li><p><strong>Fixed:</strong>
compilation errors in ExtrOcamlString and ExtrOcamlNativeString
(<a class="reference external" href="https://github.com/coq/coq/pull/15075">#15075</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15076">#15076</a>,
by Yishuai Li).</p></li>
</ul>
</div>
</div>
<div class="section" id="changes-in-8-15-1">
<h3>Changes in 8.15.1<a class="headerlink" href="#changes-in-8-15-1" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id490">
<ul class="simple">
<li><p><a class="reference internal" href="#id491" id="id1562">Kernel</a></p></li>
<li><p><a class="reference internal" href="#id496" id="id1563">Notations</a></p></li>
<li><p><a class="reference internal" href="#id499" id="id1564">Tactics</a></p></li>
<li><p><a class="reference internal" href="#id508" id="id1565">Command-line tools</a></p></li>
<li><p><a class="reference internal" href="#id510" id="id1566">CoqIDE</a></p></li>
<li><p><a class="reference internal" href="#id519" id="id1567">Miscellaneous</a></p></li>
</ul>
</div>
<div class="section" id="id491">
<h4><a class="toc-backref" href="#id1562">Kernel</a><a class="headerlink" href="#id491" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
cases of incompletenesses in the guard condition for fixpoints in
the presence of cofixpoints or primitive projections
(<a class="reference external" href="https://github.com/coq/coq/pull/15498">#15498</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15451">#15451</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
inconsistency when using module subtyping with squashed inductives
(<a class="reference external" href="https://github.com/coq/coq/pull/15839">#15839</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15838">#15838</a> (reported by Pierre-Marie Pédrot),
by Gaëtan Gilbert).</p></li>
</ul>
</div>
<div class="section" id="id496">
<h4><a class="toc-backref" href="#id1563">Notations</a><a class="headerlink" href="#id496" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Check for prior declaration of a custom entry was missing for notations in only printing mode
(<a class="reference external" href="https://github.com/coq/coq/pull/15628">#15628</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15619">#15619</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
<div class="section" id="id499">
<h4><a class="toc-backref" href="#id1564">Tactics</a><a class="headerlink" href="#id499" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
<a class="reference internal" href="addendum/generalized-rewriting.html#coq:tacn.rewrite_strat" title="rewrite_strat"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">rewrite_strat</span></code></a> regression in 8.15.0 related to <code class="docutils literal notranslate"><span class="pre">Transitive</span></code> instances
(<a class="reference external" href="https://github.com/coq/coq/pull/15577">#15577</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15568">#15568</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
When <a class="reference internal" href="addendum/generalized-rewriting.html#coq:tacn.setoid_rewrite" title="setoid_rewrite"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">setoid_rewrite</span></code></a> succeeds in rewriting at some occurrence but the resulting equality is the identity, it now tries rewriting in subterms of that occurrence instead of giving up
(<a class="reference external" href="https://github.com/coq/coq/pull/15612">#15612</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/8080">#8080</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
Ill-typed goals created by <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.clearbody" title="clearbody"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">clearbody</span></code></a> in the presence of
transitive dependencies in the body of a hypothesis
(<a class="reference external" href="https://github.com/coq/coq/pull/15634">#15634</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15606">#15606</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
<a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.cbn" title="cbn"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">cbn</span></code></a> knows to refold fixpoints when <a class="reference internal" href="language/extensions/arguments-command.html#coq:cmd.Arguments" title="Arguments"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Arguments</span></code></a> with <code class="docutils literal notranslate"><span class="pre">/</span></code> and <code class="docutils literal notranslate"><span class="pre">!</span></code> was used
(<a class="reference external" href="https://github.com/coq/coq/pull/15653">#15653</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15567">#15567</a>,
by Gaëtan Gilbert).</p></li>
</ul>
</div>
<div class="section" id="id508">
<h4><a class="toc-backref" href="#id1565">Command-line tools</a><a class="headerlink" href="#id508" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
a bug where <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">coqc</span></span></span> <span><span><span class="pre">-vok</span></span></span></span></code> was not creating an empty '.vok' file.
(<a class="reference external" href="https://github.com/coq/coq/pull/15745">#15745</a>,
by Ramkumar Ramachandra).</p></li>
</ul>
</div>
<div class="section" id="id510">
<h4><a class="toc-backref" href="#id1566">CoqIDE</a><a class="headerlink" href="#id510" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Line numbers shown in the Errors panel were incorrect;
they didn't match the error locations in the script panel
(<a class="reference external" href="https://github.com/coq/coq/pull/15532">#15532</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15531">#15531</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Fixed:</strong>
anomaly when using proof diffs with no focused goal
(<a class="reference external" href="https://github.com/coq/coq/pull/15633">#15633</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15578">#15578</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Fixed:</strong>
Attempted edits to the processed part of a buffer while
Coq is busy processing a request are now ignored to
ensure &quot;processed&quot; highlighting is accurate
(<a class="reference external" href="https://github.com/coq/coq/pull/15714">#15714</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15733">#15733</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/15675">#15675</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/15725">#15725</a>,
by Jim Fehrle).</p></li>
</ul>
</div>
<div class="section" id="id519">
<h4><a class="toc-backref" href="#id1567">Miscellaneous</a><a class="headerlink" href="#id519" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Ensure that the names of arguments of inductive schemes are distinct
so that the new Coq 8.15 preservation of argument names in the <code class="docutils literal notranslate"><span class="pre">with</span></code>
clause of tactics in <a class="reference external" href="https://github.com/coq/coq/pull/13837">#13837</a>
works as in Coq 8.14 for these schemes
(<a class="reference external" href="https://github.com/coq/coq/pull/15537">#15537</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15420">#15420</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
</div>
<div class="section" id="changes-in-8-15-2">
<h3>Changes in 8.15.2<a class="headerlink" href="#changes-in-8-15-2" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id523">
<ul class="simple">
<li><p><a class="reference internal" href="#id524" id="id1568">Tactics</a></p></li>
<li><p><a class="reference internal" href="#id529" id="id1569">CoqIDE</a></p></li>
<li><p><a class="reference internal" href="#id541" id="id1570">Standard library</a></p></li>
</ul>
</div>
<div class="section" id="id524">
<h4><a class="toc-backref" href="#id1568">Tactics</a><a class="headerlink" href="#id524" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Added:</strong>
<a class="reference internal" href="proofs/automatic-tactics/logic.html#coq:tacn.intuition" title="intuition"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">intuition</span></code></a> and <a class="reference internal" href="proofs/automatic-tactics/logic.html#coq:tacn.dintuition" title="dintuition"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">dintuition</span></code></a> use <code class="docutils literal notranslate"><span class="pre">Tauto.intuition_solver</span></code> (defined as <code class="docutils literal notranslate"><span class="pre">auto</span> <span class="pre">with</span> <span class="pre">*</span></code>) instead of hardcoding <code class="docutils literal notranslate"><span class="pre">auto</span> <span class="pre">with</span> <span class="pre">*</span></code>.
This makes it possible to change the default solver with <code class="docutils literal notranslate"><span class="pre">Ltac</span> <span class="pre">Tauto.intuition_solver</span> <span class="pre">::=</span> <span class="pre">...</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/15866">#15866</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/7725">#7725</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
uncaught exception <code class="docutils literal notranslate"><span class="pre">UnableToUnify</span></code> with bidirectionality hints
(<a class="reference external" href="https://github.com/coq/coq/pull/16066">#16066</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16063">#16063</a>,
by Gaëtan Gilbert).</p></li>
</ul>
</div>
<div class="section" id="id529">
<h4><a class="toc-backref" href="#id1569">CoqIDE</a><a class="headerlink" href="#id529" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
multiple CoqIDE bugs
(<a class="reference external" href="https://github.com/coq/coq/pull/15938">#15938</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15861">#15861</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/15939">#15939</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15882">#15882</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/15964">#15964</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15799">#15799</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/15984">#15984</a>,
partially fixes <a class="reference external" href="https://github.com/coq/coq/issues/15873">#15873</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/15996">#15996</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/15912">#15912</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15903">#15903</a>,
all by Jim Fehrle).</p></li>
</ul>
</div>
<div class="section" id="id541">
<h4><a class="toc-backref" href="#id1570">Standard library</a><a class="headerlink" href="#id541" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
an incorrect implementation of SFClassify, allowing for a proof of False since
8.11.0, due to Axioms present in Float.Axioms.
(<a class="reference external" href="https://github.com/coq/coq/pull/16101">#16101</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/16096">#16096</a>,
by Ali Caglayan).</p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="version-8-14">
<h2>Version 8.14<a class="headerlink" href="#version-8-14" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id544">
<h3>Summary of changes<a class="headerlink" href="#id544" title="Permalink to this headline">¶</a></h3>
<p>Coq version 8.14 integrates many usability improvements, as well
as an important change in the core language. The main changes include:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="#caserepresentation"><span class="std std-ref">internal representation</span></a> of <code class="docutils literal notranslate"><span class="pre">match</span></code> has changed
to a more space-efficient and cleaner structure, allowing the fix of a completeness
issue with cumulative inductive types in the type-checker.
The internal representation is now closer to the user-level view of <code class="docutils literal notranslate"><span class="pre">match</span></code>,
where the argument context of branches and the inductive binders <code class="docutils literal notranslate"><span class="pre">in</span></code> and <code class="docutils literal notranslate"><span class="pre">as</span></code>
do not carry type annotations.</p></li>
<li><p>A <a class="reference internal" href="#coqnative"><span class="std std-ref">new</span></a> <code class="docutils literal notranslate"><span class="pre">coqnative</span></code> binary performs separate native compilation
of libraries, starting from a <code class="docutils literal notranslate"><span class="pre">.vo</span></code> file. It is supported by <code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code>.</p></li>
<li><p><a class="reference internal" href="#tccanon"><span class="std std-ref">Improvements</span></a> to typeclasses and canonical structure
resolution, allowing more terms to be considered as classes or keys.</p></li>
<li><p>More control over <a class="reference internal" href="#id570"><span class="std std-ref">notations</span></a> declarations and support
for primitive types in string and number notations.</p></li>
<li><p><a class="reference internal" href="#id587"><span class="std std-ref">Removal</span></a> of deprecated tactics, notably <code class="docutils literal notranslate"><span class="pre">omega</span></code>, which has
been replaced by a greatly improved <code class="docutils literal notranslate"><span class="pre">lia</span></code>, along with many bug fixes.</p></li>
<li><p>New  <a class="reference internal" href="#id624"><span class="std std-ref">Ltac2</span></a> APIs for interaction with Ltac1, manipulation of
inductive types and printing.</p></li>
<li><p>Many <a class="reference internal" href="#id689"><span class="std std-ref">changes and additions</span></a> to the standard library in the numbers,
vectors and lists libraries. A new signed primitive integers library <code class="docutils literal notranslate"><span class="pre">Sint63</span></code>
is available in addition to the unsigned <code class="docutils literal notranslate"><span class="pre">Uint63</span></code> library.</p></li>
</ul>
</div></blockquote>
<p>See the <a class="reference internal" href="#changes-in-8-14-0">Changes in 8.14.0</a> section below for the detailed list of changes,
including potentially breaking changes marked with <strong>Changed</strong>.
Coq's <a class="reference external" href="https://coq.github.io/doc/v8.14/refman">reference manual</a>,
<a class="reference external" href="https://coq.github.io/doc/v8.14/stdlib">documentation of the standard library</a>
and <a class="reference external" href="https://coq.github.io/doc/v8.14/api">developer documentation of the ML API</a>
are also available.</p>
<p>Emilio Jesús Gallego Arias, Gaëtan Gilbert, Michael
Soegtrop and Théo Zimmermann worked on maintaining and improving the
continuous integration system and package building infrastructure.</p>
<p>Erik Martin-Dorel has maintained the <a class="reference external" href="https://hub.docker.com/r/coqorg/coq">Coq Docker images</a> that are used in many Coq
projects for continuous integration.</p>
<p>The opam repository for Coq packages has been maintained by
Guillaume Claret, Karl Palmskog, Matthieu Sozeau and Enrico Tassi with
contributions from many users. A list of packages is available at
<a class="reference external" href="https://coq.inria.fr/opam/www/">https://coq.inria.fr/opam/www/</a>.</p>
<p>The <a class="reference external" href="https://github.com/coq/platform">Coq Platform</a> has been maintained
by Michael Soegtrop and Enrico Tassi.</p>
<p>Our current maintainers are Yves Bertot, Frédéric Besson, Ali Caglayan, Tej
Chajed, Cyril Cohen, Pierre Corbineau, Pierre Courtieu, Maxime Dénès,
Jim Fehrle, Julien Forest, Emilio Jesús Gallego Arias, Gaëtan Gilbert,
Georges Gonthier, Benjamin Grégoire, Jason Gross, Hugo Herbelin,
Vincent Laporte, Olivier Laurent, Assia Mahboubi, Kenji Maillard,
Guillaume Melquiond, Pierre-Marie Pédrot, Clément Pit-Claudel, Pierre Roux,
Kazuhiko Sakaguchi, Vincent Semeria, Michael Soegtrop, Arnaud Spiwack,
Matthieu Sozeau, Enrico Tassi, Laurent Théry, Anton Trunov, Li-yao Xia
and Théo Zimmermann. See the <a class="reference external" href="https://coq.inria.fr/coq-team.html">Coq Team face book</a>
page for more details.</p>
<p>The 54 contributors to this version are Reynald Affeldt,
Arthur Azevedo de Amorim, Yves Bertot, Frédéric Besson, Lasse Blaauwbroek, Ana Borges,
Ali Caglayan, Cyril Cohen, Pierre Courtieu, Maxime Dénès, Stéphane Desarzens, Andrej Dudenhefner,
Jim Fehrle, Yannick Forster,  Simon Friis Vindum, Gaëtan Gilbert, Jason Gross, Samuel Gruetter, Stefan Haan,
Hugo Herbelin, Jasper Hugunin, Emilio Jesús Gallego Arias, Jacques-Henri Jourdan,
Ralf Jung, Jan-Oliver Kaiser, Fabian Kunze, Vincent Laporte, Olivier Laurent,
Yishuai Li, Barry M. Trager, Kenji Maillard, Erik Martin-Dorel, Guillaume Melquiond,
Isaac Oscar Gariano, Pierre-Marie Pédrot, Rudy Peterson, Clément Pit-Claudel, Pierre Roux,
Takafumi Saikawa, Kazuhiko Sakaguchi, Gabriel Scherer, Vincent Semeria, shenlebantongying,
Avi Shinnar, slrnsc, Michael Soegtrop, Matthieu Sozeau, Enrico Tassi, Hendrik Tews, Anton Trunov,
Karolin Varner, Li-yao Xia, Beta Ziliani and Théo Zimmermann.</p>
<p>The Coq community at large helped improve the design of this new version via
the GitHub issue and pull request system, the Coq development mailing list
<a class="reference external" href="mailto:coqdev&#37;&#52;&#48;inria&#46;fr">coqdev<span>&#64;</span>inria<span>&#46;</span>fr</a>, the <a class="reference external" href="mailto:coq-club&#37;&#52;&#48;inria&#46;fr">coq-club<span>&#64;</span>inria<span>&#46;</span>fr</a> mailing list, the <a class="reference external" href="https://coq.discourse.group/">Discourse forum</a> and the <a class="reference external" href="https://coq.zulipchat.com">Coq Zulip chat</a>.</p>
<p>Version 8.14's development spanned 9 months from the release of
Coq 8.13.0. Guillaume Melquiond is the release manager of Coq 8.14.
This release is the result of 522 merged PRs, closing ~150 issues.</p>
<div class="line-block">
<div class="line">Nantes, September 2021,</div>
<div class="line">Matthieu Sozeau for the Coq development team</div>
</div>
</div>
<div class="section" id="changes-in-8-14-0">
<h3>Changes in 8.14.0<a class="headerlink" href="#changes-in-8-14-0" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id550">
<ul class="simple">
<li><p><a class="reference internal" href="#id551" id="id1571">Kernel</a></p></li>
<li><p><a class="reference internal" href="#id558" id="id1572">Specification language, type inference</a></p></li>
<li><p><a class="reference internal" href="#id569" id="id1573">Notations</a></p></li>
<li><p><a class="reference internal" href="#id586" id="id1574">Tactics</a></p></li>
<li><p><a class="reference internal" href="#id623" id="id1575">Tactic language</a></p></li>
<li><p><a class="reference internal" href="#id643" id="id1576">SSReflect</a></p></li>
<li><p><a class="reference internal" href="#id646" id="id1577">Commands and options</a></p></li>
<li><p><a class="reference internal" href="#id669" id="id1578">Command-line tools</a></p></li>
<li><p><a class="reference internal" href="#native-compilation" id="id1579">Native Compilation</a></p></li>
<li><p><a class="reference internal" href="#id684" id="id1580">CoqIDE</a></p></li>
<li><p><a class="reference internal" href="#id688" id="id1581">Standard library</a></p></li>
<li><p><a class="reference internal" href="#id715" id="id1582">Infrastructure and dependencies</a></p></li>
<li><p><a class="reference internal" href="#id721" id="id1583">Miscellaneous</a></p></li>
</ul>
</div>
<div class="section" id="id551">
<h4><a class="toc-backref" href="#id1571">Kernel</a><a class="headerlink" href="#id551" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="caserepresentation">
<li><p><strong>Changed:</strong>
The term representation of pattern-matchings now uses a compact form that
provides a few static guarantees such as eta-expansion of branches and return
clauses and is usually more efficient. The most visible user change is that for
the time being, the <a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:tacn.destruct" title="destruct"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">destruct</span></code></a> tactic and its variants generate dummy
cuts (β redexes) in the branches of the generated proof.
This can also generate very uncommon backwards incompatibilities, such as a
change of occurrence numbering for subterms, or breakage of unification in
complex situations involving pattern-matchings whose underlying inductive type
declares let-bindings in parameters, arity or constructor types. For ML plugin
developers, an in-depth description of the new representation, as well as
porting tips, can be found in dev/doc/case-repr.md
(<a class="reference external" href="https://github.com/coq/coq/pull/13563">#13563</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/3166">#3166</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Changed:</strong>
Linking of native-code libraries used by <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.native_compute" title="native_compute"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">native_compute</span></code></a> is now delayed
until an actual call to the <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.native_compute" title="native_compute"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">native_compute</span></code></a> machinery is
performed. This should make Coq more responsive on some systems
(<a class="reference external" href="https://github.com/coq/coq/pull/13853">#13853</a>, fixes <a class="reference external" href="https://github.com/coq/coq/issues/13849">#13849</a>, by Guillaume Melquiond).</p></li>
<li><p><strong>Removed:</strong> The ability to change typing flags inside
sections to prevent exploiting a weakness in <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Print-Assumptions" title="Print Assumptions"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span>
<span class="pre">Assumptions</span></code></a> (<a class="reference external" href="https://github.com/coq/coq/pull/14395">#14395</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14317">#14317</a>, by Gaëtan
Gilbert).</p></li>
</ul>
</div>
<div class="section" id="id558">
<h4><a class="toc-backref" href="#id1572">Specification language, type inference</a><a class="headerlink" href="#id558" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="tccanon">
<li><p><strong>Changed:</strong>
The hints mode <code class="docutils literal notranslate"><span class="pre">!</span></code> matches a term iff the applicative head is not an existential variable.
It now also matches projections applied to any term or a <code class="docutils literal notranslate"><span class="pre">match</span></code> on any term.
(<a class="reference external" href="https://github.com/coq/coq/pull/14392">#14392</a>,
by Matthieu Sozeau).</p></li>
<li><p><strong>Removed:</strong>
The little used <code class="docutils literal notranslate"><span class="pre">:&gt;</span></code> type cast, which was only interpreted in Program-mode
(<a class="reference external" href="https://github.com/coq/coq/pull/13911">#13911</a>,
by Jim Fehrle and Théo Zimmermann).</p></li>
<li><p><strong>Added:</strong>
Enable canonical <code class="docutils literal notranslate"><span class="pre">fun</span> <span class="pre">_</span> <span class="pre">=&gt;</span> <span class="pre">_</span></code> projections,
see <a class="reference internal" href="language/extensions/canonical.html#canonicalstructures"><span class="std std-ref">Canonical Structures</span></a> for details.
(<a class="reference external" href="https://github.com/coq/coq/pull/14041">#14041</a>,
by Jan-Oliver Kaiser and Pierre Roux,
reviewed by Cyril Cohen and Enrico Tassi).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="language/extensions/canonical.html#coq:cmd.Canonical-Structure" title="Canonical Structure"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Canonical</span> <span class="pre">Structure</span></code></a> declarations now accept dependent function types
<code class="docutils literal notranslate"><span class="pre">forall</span> <span class="pre">_,</span> <span class="pre">_</span></code> as keys.
(<a class="reference external" href="https://github.com/coq/coq/pull/14386">#14386</a>,
by Jan-Oliver Kaiser and Kazuhiko Sakaguchi).</p></li>
<li><p><strong>Added:</strong>
Ability to declare primitive projections as class, for dependent typeclass resolutions
(<a class="reference external" href="https://github.com/coq/coq/pull/9711">#9711</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12975">#12975</a>,
by Matthieu Sozeau).</p></li>
<li><p><strong>Fixed:</strong>
Multiple printing of same warning about unused variables catching several cases
(<a class="reference external" href="https://github.com/coq/coq/pull/14261">#14261</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14207">#14207</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Constants <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">id</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">not</span></span></code> were unduly set opaque in some parts
of the unification algorithm
(<a class="reference external" href="https://github.com/coq/coq/pull/14371">#14371</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14374">#14374</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
<div class="section" id="id569">
<h4><a class="toc-backref" href="#id1573">Notations</a><a class="headerlink" href="#id569" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="id570">
<li><p><strong>Changed:</strong>
Flag <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:flag.Printing-Notations" title="Printing Notations"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Notations</span></code></a> no longer controls
whether strings and numbers are printed raw
(<a class="reference external" href="https://github.com/coq/coq/pull/13840">#13840</a>,
by Enrico Tassi).</p></li>
<li><p><strong>Changed:</strong>
The error <code class="docutils literal notranslate"><span class="pre">Argument</span> <span class="pre">X</span> <span class="pre">was</span> <span class="pre">previously</span> <span class="pre">inferred</span> <span class="pre">to</span> <span class="pre">be</span> <span class="pre">in</span> <span class="pre">scope</span>
<span class="pre">XXX_scope</span> <span class="pre">but</span> <span class="pre">is</span> <span class="pre">here</span> <span class="pre">used</span> <span class="pre">in</span> <span class="pre">YYY_scope.</span></code> is now the warning
<code class="docutils literal notranslate"><span class="pre">[inconsistent-scopes,syntax]</span></code> and can be silenced by
specifying the scope of the argument
(<a class="reference external" href="https://github.com/coq/coq/pull/13965">#13965</a>,
by Enrico Tassi).</p></li>
<li><p><strong>Removed:</strong>
Decimal-only number notations which were deprecated in 8.12.
(<a class="reference external" href="https://github.com/coq/coq/pull/13842">#13842</a>, by Pierre Roux).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Number-Notation" title="Number Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Notation</span></code></a> and <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.String-Notation" title="String Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">String</span> <span class="pre">Notation</span></code></a> now support
parsing and printing of primitive floats, primitive arrays
and type constants of primitive types.
(<a class="reference external" href="https://github.com/coq/coq/pull/13519">#13519</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13484">#13484</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/13517">#13517</a>,
by Fabian Kunze, with help of Jason Gross)</p></li>
<li><p><strong>Added:</strong>
Flag <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:flag.Printing-Raw-Literals" title="Printing Raw Literals"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Raw</span> <span class="pre">Literals</span></code></a> to control whether
strings and numbers are printed raw.
(<a class="reference external" href="https://github.com/coq/coq/pull/13840">#13840</a>,
by Enrico Tassi).</p></li>
<li><p><strong>Added:</strong>
Let the user specify a scope for abbreviation arguments, e.g.
<code class="docutils literal notranslate"><span class="pre">Notation</span> <span class="pre">abbr</span> <span class="pre">X</span> <span class="pre">:=</span> <span class="pre">t</span> <span class="pre">(X</span> <span class="pre">in</span> <span class="pre">scope</span> <span class="pre">my_scope)</span></code>.
(<a class="reference external" href="https://github.com/coq/coq/pull/13965">#13965</a>,
by Enrico Tassi).</p></li>
<li><p><strong>Added:</strong>
Look-ahead of tokens is changed from sequential to tree-based,
allowing more automatic rule factorizations in notations
(<a class="reference external" href="https://github.com/coq/coq/pull/14070">#14070</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Non-local custom entries survive module closing and are
declared when a file is Required
(<a class="reference external" href="https://github.com/coq/coq/pull/14183">#14183</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13654">#13654</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">ident</span></span></code> modifier in custom entry notations gave fatal errors at printing time
(<a class="reference external" href="https://github.com/coq/coq/pull/14257">#14257</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14211">#14211</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Anomaly when overriding a notation with different applicability in
<code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">match</span></span></code> patterns
(<a class="reference external" href="https://github.com/coq/coq/pull/14377">#14377</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13966">#13966</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
<div class="section" id="id586">
<h4><a class="toc-backref" href="#id1574">Tactics</a><a class="headerlink" href="#id586" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="id587">
<li><p><strong>Changed:</strong>
More systematic checks that occurrences of an <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">at</span></span></span></span></code> clause are
valid in tactics such as <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.rewrite" title="rewrite"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">rewrite</span></code></a> or <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.pattern" title="pattern"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">pattern</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/13568">#13568</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13566">#13566</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Removed:</strong>
<a class="reference internal" href="proof-engine/ltac.html#coq:tacn.fail" title="fail"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">fail</span></code></a> and <a class="reference internal" href="proof-engine/ltac.html#coq:tacn.gfail" title="gfail"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">gfail</span></code></a>, which formerly accepted negative
values as a parameter, now give syntax errors for negative
values (<a class="reference external" href="https://github.com/coq/coq/pull/13469">#13469</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Removed:</strong>
Deprecated flag <code class="docutils literal notranslate"><span class="pre">Bracketing</span> <span class="pre">Last</span> <span class="pre">Introduction</span> <span class="pre">Pattern</span></code> affecting the
behavior of trailing disjunctive introduction patterns is
definitively removed
(<a class="reference external" href="https://github.com/coq/coq/pull/13509">#13509</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Removed:</strong>
The <code class="docutils literal notranslate"><span class="pre">omega</span></code> tactic (deprecated in 8.12) and four <code class="docutils literal notranslate"><span class="pre">*</span> <span class="pre">Omega</span> <span class="pre">*</span></code> flags.
Use <code class="docutils literal notranslate"><span class="pre">lia</span></code> instead.
(<a class="reference external" href="https://github.com/coq/coq/pull/13741">#13741</a>,
by Jim Fehrle, who addressed the final details, building on much work by
Frédéric Besson, who greatly improved <a class="reference internal" href="addendum/micromega.html#coq:tacn.lia" title="lia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lia</span></code></a>, Maxime Dénès,
Vincent Laporte and with the help of many package maintainers, among others).</p></li>
<li><p><strong>Removed:</strong>
convert_concl_no_check.  Use <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.change_no_check" title="change_no_check"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">change_no_check</span></code></a> instead
(<a class="reference external" href="https://github.com/coq/coq/pull/13761">#13761</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Removed:</strong>
double induction tactic.  Replace <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">double</span></span></span> <span><span><span class="pre">induction</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code>
with <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">induction</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a><span><span><span class="pre">;</span></span></span> <span><span><span class="pre">induction</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code> (or
<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">induction</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span><span><span class="pre">;</span></span></span> <span><span><span class="pre">destruct</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code> depending on the exact needs).
Replace <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">double</span></span></span> <span><span><span class="pre">induction</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-natural"><span class="hole"><span class="pre">natural</span><sub><span class="pre">1</span></sub></span></a> <a class="reference internal" href="language/core/basic.html#grammar-token-natural"><span class="hole"><span class="pre">natural</span><sub><span class="pre">2</span></sub></span></a></span></code> with
<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">induction</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-natural"><span class="hole"><span class="pre">natural</span><sub><span class="pre">1</span></sub></span></a><span><span><span class="pre">;</span></span></span> <span><span><span class="pre">induction</span></span></span> <span><span><span class="pre">natural</span></span><sub><span class="pre">3</span></sub></span></span></code> where <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">natural</span></span><sub><span class="pre">3</span></sub></span></span></code> is the result
of <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">natural</span></span><sub><span class="pre">2</span></sub></span> <span><span><span class="pre">-</span></span></span> <span><span><span class="pre">natural</span></span><sub><span class="pre">1</span></sub></span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/13762">#13762</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Deprecated:</strong>
In <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.change" title="change"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">change</span></code></a> and <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.change_no_check" title="change_no_check"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">change_no_check</span></code></a>, the
<code class="docutils literal notranslate"><span class="pre">at</span> <span class="pre">...</span> <span class="pre">with</span> <span class="pre">...</span></code> form is deprecated.  Use
<code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">...</span> <span class="pre">at</span> <span class="pre">...</span></code> instead.  For <code class="docutils literal notranslate"><span class="pre">at</span> <span class="pre">...</span> <span class="pre">with</span> <span class="pre">...</span> <span class="pre">in</span> <span class="pre">H</span> <span class="pre">|-</span></code>,
use <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">...</span> <span class="pre">in</span> <span class="pre">H</span> <span class="pre">at</span> <span class="pre">...</span> <span class="pre">|-</span></code>.
(<a class="reference external" href="https://github.com/coq/coq/pull/13696">#13696</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Deprecated:</strong>
The micromega option <code class="docutils literal notranslate"><span class="pre">Simplex</span></code>, which is currently set by default
(<a class="reference external" href="https://github.com/coq/coq/pull/13781">#13781</a>, by Frédéric Besson).</p></li>
<li><p><strong>Deprecated:</strong>
the undocumented <code class="docutils literal notranslate"><span class="pre">new</span> <span class="pre">auto</span></code> tactic
(<a class="reference external" href="https://github.com/coq/coq/pull/14528">#14528</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="addendum/micromega.html#coq:tacn.lia" title="lia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lia</span></code></a> supports the boolean operator <code class="docutils literal notranslate"><span class="pre">Bool.implb</span></code> (<a class="reference external" href="https://github.com/coq/coq/pull/13715">#13715</a>, by Frédéric Besson).</p></li>
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">zify</span></code> (<code class="docutils literal notranslate"><span class="pre">lia</span></code>/<code class="docutils literal notranslate"><span class="pre">nia</span></code>) support for <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">div</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">mod</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">pow</span></span></code>
for <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Nat</span></span></code> (via <code class="docutils literal notranslate"><span class="pre">ZifyNat</span></code> module) and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">N</span></span></code> (via <code class="docutils literal notranslate"><span class="pre">ZifyN</span></code> module).
The signature of <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Z_div_mod_eq_full</span></span></code> has no assumptions.
(<a class="reference external" href="https://github.com/coq/coq/pull/14037">#14037</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11447">#11447</a>,
by Andrej Dudenhefner, Jason Gross, and Frédéric Besson).</p></li>
<li><p><strong>Added:</strong>
Ltac2 now has a <code class="docutils literal notranslate"><span class="pre">unify</span></code> tactic
(<a class="reference external" href="https://github.com/coq/coq/pull/14089">#14089</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14083">#14083</a>,
by Samuel Gruetter).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:tacn.inversion_sigma" title="inversion_sigma"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">inversion_sigma</span></code></a> can now be applied to a specified hypothesis
and additionally supports intropatterns, so it can be used much like
<a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:tacn.induction" title="induction"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">induction</span></code></a> and <a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:tacn.inversion" title="inversion"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">inversion</span></code></a>.  Additionally,
<a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:tacn.inversion_sigma" title="inversion_sigma"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">inversion_sigma</span></code></a> now supports the types <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">ex</span></span></span></span></code> (<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">exists</span></span></span> <span><span><span class="pre">x</span>
<span class="pre">:</span></span></span> <span><span><span class="pre">A,</span></span></span> <span><span><span class="pre">P</span></span></span> <span><span><span class="pre">x</span></span></span></span></code>) and <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">ex2</span></span></span></span></code> (<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">exists2</span></span></span> <span><span><span class="pre">x</span></span></span> <span><span><span class="pre">:</span></span></span> <span><span><span class="pre">A,</span></span></span> <span><span><span class="pre">P</span></span></span> <span><span><span class="pre">x</span></span></span> <span><span><span class="pre">&amp;</span></span></span> <span><span><span class="pre">Q</span></span></span> <span><span><span class="pre">x</span></span></span></span></code>) in cases
where the first argument <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">A</span></span></span></span></code> is a <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Prop</span></span></span></span></code> (<a class="reference external" href="https://github.com/coq/coq/pull/14174">#14174</a>, by Jason Gross).</p></li>
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">zify</span></code> (<code class="docutils literal notranslate"><span class="pre">lia</span></code>/<code class="docutils literal notranslate"><span class="pre">nia</span></code>) support for <code class="docutils literal notranslate"><span class="pre">Sint63</span></code>.
(<a class="reference external" href="https://github.com/coq/coq/pull/14408">#14408</a>,
by Ana Borges, with help from Frédéric Besson).</p></li>
<li><p><strong>Fixed:</strong>
Possible collision between a user-level name and an internal name when
using the <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">%</span></span></span></span></code> introduction pattern
(<a class="reference external" href="https://github.com/coq/coq/pull/13512">#13512</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13413">#13413</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
<a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.simpl" title="simpl"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">simpl</span></code></a> and <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.hnf" title="hnf"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">hnf</span></code></a> now reduce primitive functions
on primitive integers, floats and arrays
(<a class="reference external" href="https://github.com/coq/coq/pull/13699">#13699</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13579">#13579</a>,
by Pierre Roux).</p></li>
<li><p><strong>Fixed:</strong>
Setoid rewriting now remembers the (invisible) binder names of non-dependent product types. SSReflect's rewrite tactic expects these names to be retained when using <code class="docutils literal notranslate"><span class="pre">rewrite</span> <span class="pre">foo</span> <span class="pre">in</span> <span class="pre">H</span></code>.
This also fixes SSR <code class="docutils literal notranslate"><span class="pre">rewrite</span> <span class="pre">foo</span> <span class="pre">in</span> <span class="pre">H</span> <span class="pre">*</span></code> erroneously reverting <code class="docutils literal notranslate"><span class="pre">H</span></code>.
(<a class="reference external" href="https://github.com/coq/coq/pull/13882">#13882</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12011">#12011</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
Properly expand projection parameters in hint discrimination
nets. (<a class="reference external" href="https://github.com/coq/coq/pull/14033">#14033</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/9000">#9000</a>,
<a class="reference external" href="https://github.com/coq/coq/issues/14009">#14009</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Fixed:</strong>
anomalies caused by empty strings in Ltac notations are now errors
(<a class="reference external" href="https://github.com/coq/coq/pull/14378">#14378</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14124">#14124</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Print a message instead of a Diff_Failure anomaly when
old and new goals can't be matched; show the goal without
diff highlights
(<a class="reference external" href="https://github.com/coq/coq/pull/14457">#14457</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14425">#14425</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Fixed:</strong>
Anomaly of <a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:tacn.destruct" title="destruct"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">destruct</span></code></a> on terms with dependent variables unused in goal
(<a class="reference external" href="https://github.com/coq/coq/pull/15099">#15099</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11504">#11504</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/14090">#14090</a>,
by Lasse Blaauwbroek and Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Correct convertibility of multiple terms selected by patterns in
tactics such as <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.set" title="set"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">set</span></code></a> when these terms have subterms in
<code class="docutils literal notranslate"><span class="pre">SProp</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/14610">#14610</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14609">#14609</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
<div class="section" id="id623">
<h4><a class="toc-backref" href="#id1575">Tactic language</a><a class="headerlink" href="#id623" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="id624">
<li><p><strong>Changed:</strong>
Renamed Ltac2 <code class="docutils literal notranslate"><span class="pre">Bool.eq</span></code> into <code class="docutils literal notranslate"><span class="pre">Bool.equal</span></code> for uniformity.
The old function is now a deprecated alias
(<a class="reference external" href="https://github.com/coq/coq/pull/14128">#14128</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Added:</strong>
A <code class="docutils literal notranslate"><span class="pre">printf</span></code> macro to Ltac2. It can be made accessible by
importing the <code class="docutils literal notranslate"><span class="pre">Ltac2.Printf</span></code> module. See the documentation
there for more information
(<a class="reference external" href="https://github.com/coq/coq/pull/13236">#13236</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/10108">#10108</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Added:</strong>
A function <code class="docutils literal notranslate"><span class="pre">Ltac1.lambda</span></code> allowing to embed Ltac2 functions
into Ltac1 runtime values
(<a class="reference external" href="https://github.com/coq/coq/pull/13442">#13442</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12871">#12871</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Added:</strong>
Ltac2 commands defining terms now accept the <a class="reference internal" href="using/libraries/writing.html#coq:attr.deprecated" title="deprecated"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">deprecated</span></code></a>
attribute
(<a class="reference external" href="https://github.com/coq/coq/pull/13774">#13774</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12317">#12317</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Added:</strong>
Allow the presence of type casts for function return values, let bindings and
global definitions in Ltac2
(<a class="reference external" href="https://github.com/coq/coq/pull/13914">#13914</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Added:</strong>
The Ltac2 API <code class="docutils literal notranslate"><span class="pre">Ltac2.Ind</span></code> for manipulating inductive types
(<a class="reference external" href="https://github.com/coq/coq/pull/13920">#13920</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/10095">#10095</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Added:</strong>
Allow scope delimiters in Ltac2 <code class="docutils literal notranslate"><span class="pre">open_constr:(...)</span></code> quotation
(<a class="reference external" href="https://github.com/coq/coq/pull/13939">#13939</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12806">#12806</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Added:</strong>
A FFI to convert between Ltac1 and Ltac2 identifiers
(<a class="reference external" href="https://github.com/coq/coq/pull/13997">#13997</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13996">#13996</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Added:</strong>
Lazy evaluating boolean operators <code class="docutils literal notranslate"><span class="pre">lazy_and</span></code>, <code class="docutils literal notranslate"><span class="pre">lazy_or</span></code>, <code class="docutils literal notranslate"><span class="pre">lazy_impl</span></code> and infix notations <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code> and <code class="docutils literal notranslate"><span class="pre">||</span></code> to the Ltac2 <code class="docutils literal notranslate"><span class="pre">Bool.v</span></code> library l.
(<a class="reference external" href="https://github.com/coq/coq/pull/14081">#14081</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13964">#13964</a>,
by Michael Soegtrop).</p></li>
<li><p><strong>Fixed:</strong>
Ltac2 notations now correctly take into account their assigned level
(<a class="reference external" href="https://github.com/coq/coq/pull/14094">#14094</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11866">#11866</a>,
by Pierre-Marie Pédrot).</p></li>
</ul>
</div>
<div class="section" id="id643">
<h4><a class="toc-backref" href="#id1576">SSReflect</a><a class="headerlink" href="#id643" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Added:</strong>
A test that the notations <code class="docutils literal notranslate"><span class="pre">{in</span> <span class="pre">_,</span> <span class="pre">_}</span></code> and <code class="docutils literal notranslate"><span class="pre">{pred</span> <span class="pre">_}</span></code> from <code class="docutils literal notranslate"><span class="pre">ssrbool.v</span></code> are displayed correctly.
(<a class="reference external" href="https://github.com/coq/coq/pull/13473">#13473</a>,
by Cyril Cohen).</p></li>
<li><p><strong>Added:</strong>
Lemmas about interaction between <code class="docutils literal notranslate"><span class="notation"><span class="curlies"><span class="pre">{</span><span><span><span class="pre">in</span></span></span> <span><span><span class="pre">_</span></span></span><span><span><span class="pre">,</span></span></span> <span><span><span class="pre">_</span></span></span><span class="pre">}</span></span></span></code>, <code class="docutils literal notranslate"><span class="notation"><span class="curlies"><span class="pre">{</span><span><span><span class="pre">on</span></span></span> <span><span><span class="pre">_</span></span></span><span><span><span class="pre">,</span></span></span> <span><span><span class="pre">_</span></span></span><span class="pre">}</span></span></span></code>, and <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">sig</span></span></span></span></code>
have been backported from Mathematical Components 1.12.0
(<a class="reference external" href="https://github.com/coq/coq/pull/13490">#13490</a>,
by Kazuhiko Sakaguchi).</p></li>
</ul>
</div>
<div class="section" id="id646">
<h4><a class="toc-backref" href="#id1577">Commands and options</a><a class="headerlink" href="#id646" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
<a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Rewrite" title="Hint Rewrite"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Rewrite</span></code></a> now supports locality attributes (including <a class="reference internal" href="language/core/modules.html#coq:attr.export" title="export"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">export</span></code></a>) like other <a class="reference internal" href="proofs/automatic-tactics/auto.html#creating-hints"><span class="std std-ref">Hint</span></a> commands
(<a class="reference external" href="https://github.com/coq/coq/pull/13725">#13725</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13724">#13724</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Changed:</strong>
In <a class="reference internal" href="language/core/records.html#coq:cmd.Record" title="Record"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Record</span></code></a>, alpha-rename the variable associated with the record to avoid
alpha-renaming parameters of projections
(<a class="reference external" href="https://github.com/coq/coq/pull/13852">#13852</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13727">#13727</a>,
by Li-yao Xia).</p></li>
<li><p><strong>Changed:</strong>
Improve the <a class="reference internal" href="addendum/implicit-coercions.html#coq:cmd.Coercion" title="Coercion"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Coercion</span></code></a> command to reduce the number of ambiguous paths to
report. A pair of multiple inheritance paths that can be reduced to smaller
adjoining pairs will not be reported as ambiguous paths anymore.
(<a class="reference external" href="https://github.com/coq/coq/pull/13909">#13909</a>,
by Kazuhiko Sakaguchi).</p></li>
<li><p><strong>Changed:</strong>
The printing order of <a class="reference internal" href="addendum/implicit-coercions.html#coq:cmd.Print-Classes" title="Print Classes"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Classes</span></code></a> and <a class="reference internal" href="addendum/implicit-coercions.html#coq:cmd.Print-Graph" title="Print Graph"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Graph</span></code></a>, due to the
changes for the internal tables of coercion classes and coercion paths.
(<a class="reference external" href="https://github.com/coq/coq/pull/13912">#13912</a>,
by Kazuhiko Sakaguchi).</p></li>
<li><p><strong>Removed:</strong>
The Hide Obligations flag, deprecated in 8.12
(<a class="reference external" href="https://github.com/coq/coq/pull/13758">#13758</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Removed:</strong>
SearchHead command.  Use the <code class="docutils literal notranslate"><span class="pre">headconcl:</span></code> clause of <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Search" title="Search"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Search</span></code></a> instead
(<a class="reference external" href="https://github.com/coq/coq/pull/13763">#13763</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Removed:</strong>
<code class="docutils literal notranslate"><span class="pre">Show</span> <span class="pre">Zify</span> <span class="pre">Spec</span></code>, <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">InjTyp</span></code> and 11 similar <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">*</span></code> commands.
For <code class="docutils literal notranslate"><span class="pre">Show</span> <span class="pre">Zify</span> <span class="pre">Spec</span></code>, use <code class="docutils literal notranslate"><span class="pre">Show</span> <span class="pre">Zify</span> <span class="pre">UnOpSpec</span></code> or <code class="docutils literal notranslate"><span class="pre">Show</span> <span class="pre">Zify</span> <span class="pre">BinOpSpec</span></code> instead.
For <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">Use</span> <span class="pre">Add</span> <span class="pre">Zify</span> <span class="pre">*</span></code> intead of <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">*</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/13764">#13764</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Deprecated:</strong>
Like hints, typeclass instances added outside of sections
without an explicit locality now generate a deprecation warning. See
<a class="reference internal" href="proofs/automatic-tactics/auto.html#creating-hints"><span class="std std-ref">Hint</span></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/14208">#14208</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13562">#13562</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Deprecated:</strong>
the <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:flag.Regular-Subst-Tactic" title="Regular Subst Tactic"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Regular</span> <span class="pre">Subst</span> <span class="pre">Tactic</span></code></a> flag
(<a class="reference external" href="https://github.com/coq/coq/pull/14336">#14336</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="proof-engine/vernacular-commands.html#coq:opt.Debug" title="Debug"><code class="xref coq coq-opt docutils literal notranslate"><span class="pre">Debug</span></code></a> to control debug messages, functioning similarly to the warning system
(<a class="reference external" href="https://github.com/coq/coq/pull/13202">#13202</a>,
by Maxime Dénès and Gaëtan Gilbert).
The following flags have been converted (such that <code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">Flag</span></code> becomes <code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">Debug</span> <span class="pre">&quot;flag&quot;</span></code>):</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Debug</span> <span class="pre">Unification</span></code> to <code class="docutils literal notranslate"><span class="pre">unification</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Debug</span> <span class="pre">HO</span> <span class="pre">Unification</span></code> to <code class="docutils literal notranslate"><span class="pre">ho-unification</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Debug</span> <span class="pre">Tactic</span> <span class="pre">Unification</span></code> to <code class="docutils literal notranslate"><span class="pre">tactic-unification</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Congruence</span> <span class="pre">Verbose</span></code> to <code class="docutils literal notranslate"><span class="pre">congruence</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Debug</span> <span class="pre">Cbv</span></code> to <code class="docutils literal notranslate"><span class="pre">cbv</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Debug</span> <span class="pre">RAKAM</span></code> to <code class="docutils literal notranslate"><span class="pre">RAKAM</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Debug</span> <span class="pre">Ssreflect</span></code> to <code class="docutils literal notranslate"><span class="pre">ssreflect</span></code></p></li>
</ul>
</li>
<li><p><strong>Added:</strong>
The Ltac2 grammar can now be printed using the
Print Grammar ltac2 command
(<a class="reference external" href="https://github.com/coq/coq/pull/14093">#14093</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14092">#14092</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="addendum/type-classes.html#coq:cmd.Instance" title="Instance"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Instance</span></code></a> now accepts the <a class="reference internal" href="language/core/modules.html#coq:attr.export" title="export"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">export</span></code></a> locality
attribute
(<a class="reference external" href="https://github.com/coq/coq/pull/14148">#14148</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Fixed:</strong>
extraction failure of a parameterized type in <code class="code Coq docutils literal notranslate"><span class="keyword type"><span class="pre">Prop</span></span></code> exported in
an module interface as an assumption in <code class="code Coq docutils literal notranslate"><span class="keyword type"><span class="pre">Type</span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/14102">#14102</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14100">#14100</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Print Assumptions now treats delayed opaque proofs generated
by vos compilation as if they were axioms
(<a class="reference external" href="https://github.com/coq/coq/pull/14382">#14382</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13589">#13589</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Fixed:</strong>
Incorrect de Bruijn index handling in vernac class declaration,
preventing users from marking existing instances of existing classes
which are primitive projections
(<a class="reference external" href="https://github.com/coq/coq/pull/14664">#14664</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14652">#14652</a>,
by Ali Caglayan and Hugo Herbelin).</p></li>
</ul>
</div>
<div class="section" id="id669">
<h4><a class="toc-backref" href="#id1578">Command-line tools</a><a class="headerlink" href="#id669" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
<code class="docutils literal notranslate"><span class="pre">coqc</span></code> now enforces that at most a single <code class="docutils literal notranslate"><span class="pre">.v</span></code> file can be passed in
the command line. Support for multiple <code class="docutils literal notranslate"><span class="pre">.v</span></code> files in the form of
<code class="docutils literal notranslate"><span class="pre">coqc</span> <span class="pre">f1.v</span> <span class="pre">f2.v</span></code> didn't properly work in 8.13, tho it was accepted.
(<a class="reference external" href="https://github.com/coq/coq/pull/13876">#13876</a>,
by Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Changed:</strong>
<code class="docutils literal notranslate"><span class="pre">coqdep</span></code> now reports an error if files specified on the
command line don't exist or if it encounters unreadable files.
Unknown options now generate a warning. Previously these
conditions were ignored.
(<a class="reference external" href="https://github.com/coq/coq/pull/14024">#14024</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14023">#14023</a>,
by Hendrik Tews).</p></li>
<li><p><strong>Changed:</strong>
Makefiles produced by <code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code> now use <code class="docutils literal notranslate"><span class="pre">.DELETE_ON_ERROR</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/14238">#14238</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Removed:</strong>
Previously deprecated command line options
<code class="docutils literal notranslate"><span class="pre">-sprop-cumulative</span></code> and <code class="docutils literal notranslate"><span class="pre">-input-state</span></code> and its alias <code class="docutils literal notranslate"><span class="pre">-is</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/13822">#13822</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code>-made <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>s now support inclusion of a
<code class="docutils literal notranslate"><span class="pre">.local-late</span></code> file at the end, allowing the user to access
more variables (<a class="reference external" href="https://github.com/coq/coq/pull/12411">#12411</a>, fixes
<a class="reference external" href="https://github.com/coq/coq/issues/10912">#10912</a>, by Jason Gross).</p></li>
<li><p><strong>Fixed:</strong>
Failure of extraction in the presence of inductive types with local
definitions in parameters
(<a class="reference external" href="https://github.com/coq/coq/pull/13624">#13624</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13581">#13581</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
File name was missing in coqdoc error position reporting
(<a class="reference external" href="https://github.com/coq/coq/pull/14285">#14285</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14283">#14283</a>,
by Arthur Charguéraud and Hugo Herbelin).</p></li>
</ul>
</div>
<div class="section" id="native-compilation">
<h4><a class="toc-backref" href="#id1579">Native Compilation</a><a class="headerlink" href="#native-compilation" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="coqnative">
<li><p><strong>Changed:</strong>
<code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code> now uses the <code class="docutils literal notranslate"><span class="pre">coqnative</span></code> binary to generate
native compilation files. Project files also understand directly the
<code class="docutils literal notranslate"><span class="pre">-native-compiler</span></code> flag without having to wrap it with <code class="docutils literal notranslate"><span class="pre">-arg</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/14265">#14265</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Deprecated:</strong>
the <code class="docutils literal notranslate"><span class="pre">-native-compiler</span></code> option for coqc. It is now recommended
to use the <a class="reference internal" href="practical-tools/utilities.html#coqnative"><span class="std std-ref">Split compilation of native computation files</span></a> binary instead to generate native
compilation files ahead of time
(<a class="reference external" href="https://github.com/coq/coq/pull/14309">#14309</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Added:</strong>
A standalone <code class="docutils literal notranslate"><span class="pre">coqnative</span></code> binary that performs native compilation
out of <code class="docutils literal notranslate"><span class="pre">vo</span></code> files, allowing to split library compilation from
native compilation. See <a class="reference internal" href="practical-tools/utilities.html#coqnative"><span class="std std-ref">Split compilation of native computation files</span></a>. The hybrid build
system was adapted to perform a split compilation on the stdlib
(<a class="reference external" href="https://github.com/coq/coq/pull/13287">#13287</a>,
by Pierre-Marie Pédrot).</p></li>
</ul>
</div>
<div class="section" id="id684">
<h4><a class="toc-backref" href="#id1580">CoqIDE</a><a class="headerlink" href="#id684" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="id685">
<li><p><strong>Added:</strong>
Ltac debugger support in CoqIDE (see <a class="reference internal" href="proof-engine/ltac.html#coq:flag.Ltac-Debug" title="Ltac Debug"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Ltac</span> <span class="pre">Debug</span></code></a>).
Debugger output and prompts appear in the Messages panel
(<a class="reference external" href="https://github.com/coq/coq/pull/13783">#13783</a>,
by Jim Fehrle and Emilio J. Gallego Arias).</p></li>
<li><p><strong>Added:</strong>
Shift-return in the Find dialog now searches backwards (<a class="reference external" href="https://github.com/coq/coq/pull/13810">#13810</a>,
by slrnsc).</p></li>
</ul>
</div>
<div class="section" id="id688">
<h4><a class="toc-backref" href="#id1581">Standard library</a><a class="headerlink" href="#id688" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul id="id689">
<li><p><strong>Changed:</strong>
Minor Changes to <code class="docutils literal notranslate"><span class="pre">Rpower</span></code>:
Generalizes <code class="docutils literal notranslate"><span class="pre">exp_ineq1</span></code> to hold for all non-zero numbers.
Adds <code class="docutils literal notranslate"><span class="pre">exp_ineq1_le</span></code>, which holds for all reals (but is a <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> instead of a <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>).
(<a class="reference external" href="https://github.com/coq/coq/pull/13582">#13582</a>,
by Avi Shinnar and Barry Trager, with help from Laurent Théry).</p></li>
<li><p><strong>Changed:</strong>
set <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">n</span></span> <span class="name"><span class="pre">mod</span></span> <span class="literal number integer"><span class="pre">0</span></span> <span class="operator"><span class="pre">=</span></span> <span class="name"><span class="pre">n</span></span></code> uniformly for <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">nat</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">N</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Z</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">int63</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">sint63</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">int31</span></span></code>
such that <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">m</span></span> <span class="operator"><span class="pre">=</span></span> <span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">m</span></span> <span class="operator"><span class="pre">/</span></span> <span class="name"><span class="pre">n</span></span><span class="operator"><span class="pre">)</span></span> <span class="operator"><span class="pre">*</span></span> <span class="name"><span class="pre">n</span></span> <span class="operator"><span class="pre">+</span></span> <span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">m</span></span> <span class="name"><span class="pre">mod</span></span> <span class="name"><span class="pre">n</span></span><span class="operator"><span class="pre">)</span></span></code> holds (also for <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">n</span></span> <span class="operator"><span class="pre">=</span></span> <span class="literal number integer"><span class="pre">0</span></span></code>)</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>code that relies on <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">n</span></span> <span class="name"><span class="pre">mod</span></span> <span class="literal number integer"><span class="pre">0</span></span> <span class="operator"><span class="pre">=</span></span> <span class="literal number integer"><span class="pre">0</span></span></code> will break;
for compatibility with both <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">n</span></span> <span class="name"><span class="pre">mod</span></span> <span class="literal number integer"><span class="pre">0</span></span> <span class="operator"><span class="pre">=</span></span> <span class="name"><span class="pre">n</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">n</span></span> <span class="name"><span class="pre">mod</span></span> <span class="literal number integer"><span class="pre">0</span></span> <span class="operator"><span class="pre">=</span></span> <span class="literal number integer"><span class="pre">0</span></span></code> you can use
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">n</span></span> <span class="name"><span class="pre">mod</span></span> <span class="literal number integer"><span class="pre">0</span></span> <span class="operator"><span class="pre">=</span></span> <span class="name"><span class="pre">ltac</span></span><span class="operator"><span class="pre">:(</span></span><span class="keyword"><span class="pre">match</span></span> <span class="name"><span class="pre">eval</span></span> <span class="keyword"><span class="pre">hnf</span></span> <span class="keyword"><span class="pre">in</span></span> <span class="operator"><span class="pre">(</span></span><span class="literal number integer"><span class="pre">1</span></span> <span class="name"><span class="pre">mod</span></span> <span class="literal number integer"><span class="pre">0</span></span><span class="operator"><span class="pre">)</span></span> <span class="keyword"><span class="pre">with</span></span> <span class="operator"><span class="pre">|</span></span><span class="literal number integer"><span class="pre">0</span></span> <span class="operator"><span class="pre">=&gt;</span></span> <span class="keyword pseudo"><span class="pre">exact</span></span> <span class="literal number integer"><span class="pre">0</span></span> <span class="operator"><span class="pre">|_</span></span> <span class="operator"><span class="pre">=&gt;</span></span> <span class="keyword pseudo"><span class="pre">exact</span></span> <span class="name"><span class="pre">n</span></span> <span class="keyword"><span class="pre">end</span></span><span class="operator"><span class="pre">)</span></span></code></p>
</div>
<p>(<a class="reference external" href="https://github.com/coq/coq/pull/14086">#14086</a>,
by Andrej Dudenhefner with help of Guillaume Melquiond, Jason Gross, and Kazuhiko Sakaguchi).</p>
</li>
<li><p><strong>Changed:</strong>
The standard library now contains a more complete theory of equality
on types of the form <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">exists</span></span> <span class="name"><span class="pre">x</span></span> <span class="operator"><span class="pre">:</span></span> <span class="name"><span class="pre">A</span></span><span class="operator"><span class="pre">,</span></span> <span class="name"><span class="pre">P</span></span> <span class="name"><span class="pre">x</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">exists2</span></span> <span class="name"><span class="pre">x</span></span> <span class="operator"><span class="pre">:</span></span> <span class="name"><span class="pre">A</span></span><span class="operator"><span class="pre">,</span></span> <span class="name"><span class="pre">P</span></span>
<span class="name"><span class="pre">x</span></span> <span class="operator"><span class="pre">&amp;</span></span> <span class="name"><span class="pre">Q</span></span> <span class="name"><span class="pre">x</span></span></code> when we have <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">A</span></span> <span class="operator"><span class="pre">:</span></span> <span class="keyword type"><span class="pre">Prop</span></span></code>.  To bring this theory more in
line with the existing theory about sigma types,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">eq_ex_uncurried</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">eq_ex2_uncurried</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">eq_ex</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">eq_ex2</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">eq_ex_hprop</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">eq_ex2_hprop</span></span></code> have been renamed
into <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">eq_ex_intro_uncurried</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">eq_ex_intro2_uncurried</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">eq_ex_intro</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">eq_ex_intro2</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">eq_ex_intro_hprop</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">eq_ex_intro2_hprop</span></span></code> respectively and the implicit status of
these lemmas has changed slightly (<a class="reference external" href="https://github.com/coq/coq/pull/14174">#14174</a>, by Jason Gross).</p></li>
<li><p><strong>Changed</strong>
Moved 39 lemmas and notations about the rationals <code class="docutils literal notranslate"><span class="pre">Q</span></code> from the constructive reals private file <code class="docutils literal notranslate"><span class="pre">theories/Reals/Cauchy/QExtra.v</span></code> to appropriate files in <code class="docutils literal notranslate"><span class="pre">theories/QArith</span></code>.
The now public lemmas are mostly about compatibility of multiplication and power with relational operators and simple convenience lemmas e.g. for reduction of <code class="docutils literal notranslate"><span class="pre">Q</span></code> values.
The following moved lemmas have been renamed:
<code class="docutils literal notranslate"><span class="pre">Q_factorDenom</span></code> to <code class="docutils literal notranslate"><span class="pre">Qmult_frac_l</span></code>,
<code class="docutils literal notranslate"><span class="pre">Q_reduce_fl</span></code> to <code class="docutils literal notranslate"><span class="pre">Qreduce_num_l</span></code>,
<code class="docutils literal notranslate"><span class="pre">Qle_neq</span></code> to <code class="docutils literal notranslate"><span class="pre">Qlt_leneq</span></code>,
<code class="docutils literal notranslate"><span class="pre">Qmult_lt_le_compat_nonneg</span></code> to <code class="docutils literal notranslate"><span class="pre">Qmult_le_lt_compat_pos</span></code>,
<code class="docutils literal notranslate"><span class="pre">Qpower_pos_lt</span></code> to <code class="docutils literal notranslate"><span class="pre">Qpower_0_lt</span></code>,
<code class="docutils literal notranslate"><span class="pre">Qpower_lt_1_increasing</span></code> to <code class="docutils literal notranslate"><span class="pre">Qpower_1_lt_pos</span></code>,
<code class="docutils literal notranslate"><span class="pre">Qpower_lt_1_increasing'</span></code> to <code class="docutils literal notranslate"><span class="pre">Qpower_1_lt</span></code>,
<code class="docutils literal notranslate"><span class="pre">Qpower_le_1_increasing</span></code> to <code class="docutils literal notranslate"><span class="pre">Qpower_1_le_pos</span></code>,
<code class="docutils literal notranslate"><span class="pre">Qpower_le_1_increasing'</span></code> to <code class="docutils literal notranslate"><span class="pre">Qpower_1_le</span></code>,
<code class="docutils literal notranslate"><span class="pre">Qzero_eq</span></code> to <code class="docutils literal notranslate"><span class="pre">Qreduce_zero</span></code>,
<code class="docutils literal notranslate"><span class="pre">Qpower_lt_compat</span></code> to <code class="docutils literal notranslate"><span class="pre">Qpower_lt_compat_l</span></code>,
<code class="docutils literal notranslate"><span class="pre">Qpower_le_compat</span></code> to <code class="docutils literal notranslate"><span class="pre">Qpower_le_compat_l</span></code>,
<code class="docutils literal notranslate"><span class="pre">Qpower_lt_compat_inv</span></code> to <code class="docutils literal notranslate"><span class="pre">Qpower_lt_compat_l_inv</span></code>,
<code class="docutils literal notranslate"><span class="pre">Qpower_le_compat_inv</span></code> to <code class="docutils literal notranslate"><span class="pre">Qpower_le_compat_l_inv</span></code>,
<code class="docutils literal notranslate"><span class="pre">Qpower_decomp'</span></code> to <code class="docutils literal notranslate"><span class="pre">Qpower_decomp_pos</span></code> and
<code class="docutils literal notranslate"><span class="pre">QarchimedeanExp2_Pos</span></code> to <code class="docutils literal notranslate"><span class="pre">Qarchimedean_power2_pos</span></code>.
The following lemmas have been renamed and the sides of the equality swapped:
<code class="docutils literal notranslate"><span class="pre">Qinv_swap_pos</span></code> to <code class="docutils literal notranslate"><span class="pre">Qinv_pos</span></code>,
<code class="docutils literal notranslate"><span class="pre">Qinv_swap_neg</span></code> to <code class="docutils literal notranslate"><span class="pre">Qinv_neg</span></code> and.
The following lemmas have been deleted:
<code class="docutils literal notranslate"><span class="pre">Q_factorNum_l</span></code> and <code class="docutils literal notranslate"><span class="pre">Q_factorNum</span></code>.
The lemma <code class="docutils literal notranslate"><span class="pre">Qopp_lt_compat</span></code> has been moved from <code class="docutils literal notranslate"><span class="pre">theories/QArith/Qround.v</span></code> to <code class="docutils literal notranslate"><span class="pre">theories/QArith/QArith_base.v</span></code>.
About 10 additional lemmas have been added for similar cases as the moved lemmas.
Compatibility notations are not provided because QExtra is considered internal (excluded from the library documentation).
(<a class="reference external" href="https://github.com/coq/coq/pull/14293">#14293</a>,
by Michael Soegtrop).</p></li>
<li><p><strong>Changed:</strong>
Importing <code class="docutils literal notranslate"><span class="pre">ZArith</span></code> no longer has the side-effect of closing <code class="docutils literal notranslate"><span class="pre">Z_scope</span></code>.
(<a class="reference external" href="https://github.com/coq/coq/pull/14343">#14343</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13307">#13307</a>,
by Ralf Jung).</p></li>
<li><p><strong>Removed:</strong>
<code class="docutils literal notranslate"><span class="pre">IF_then_else</span></code> definition and corresponding <code class="docutils literal notranslate"><span class="pre">IF</span> <span class="pre">P</span> <span class="pre">then</span> <span class="pre">Q</span> <span class="pre">else</span> <span class="pre">R</span></code> notation
(<a class="reference external" href="https://github.com/coq/coq/pull/13871">#13871</a>,
by Yishuai Li).</p></li>
<li><p><strong>Removed:</strong>
from <code class="docutils literal notranslate"><span class="pre">List.v</span></code> deprecated/unexpected dependencies <code class="docutils literal notranslate"><span class="pre">Setoid</span></code>, <code class="docutils literal notranslate"><span class="pre">Le</span></code>, <code class="docutils literal notranslate"><span class="pre">Gt</span></code>, <code class="docutils literal notranslate"><span class="pre">Minus</span></code>, <code class="docutils literal notranslate"><span class="pre">Lt</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/13986">#13986</a>,
by Andrej Dudenhefner).</p></li>
<li><p><strong>Deprecated:</strong>
Unsigned primitive integers are now named <code class="docutils literal notranslate"><span class="pre">uint63</span></code> instead of <code class="docutils literal notranslate"><span class="pre">int63</span></code>.
The <code class="docutils literal notranslate"><span class="pre">Int63</span></code> module is replaced by <code class="docutils literal notranslate"><span class="pre">Uint63</span></code>. The full list of changes
is described in the PR.
(<a class="reference external" href="https://github.com/coq/coq/pull/13895">#13895</a>,
by Ana Borges).</p></li>
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">leb</span></code> and <code class="docutils literal notranslate"><span class="pre">ltb</span></code> functions for <code class="docutils literal notranslate"><span class="pre">ascii</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/13080">#13080</a>,
by Yishuai Li).</p></li>
<li><p><strong>Added:</strong>
Library for signed primitive integers, Sint63. The following operations were added to the kernel: division, remainder, comparison functions, and arithmetic shift right. Everything else works the same for signed and unsigned ints.
(<a class="reference external" href="https://github.com/coq/coq/pull/13559">#13559</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12109">#12109</a>,
by Ana Borges, Guillaume Melquiond and Pierre Roux).</p></li>
<li><p><strong>Added:</strong>
Lemmas about vectors related with <code class="docutils literal notranslate"><span class="pre">to_list</span></code>: <code class="docutils literal notranslate"><span class="pre">length_to_list</span></code>, <code class="docutils literal notranslate"><span class="pre">of_list_to_list_opp</span></code>, <code class="docutils literal notranslate"><span class="pre">to_list_nil</span></code>, <code class="docutils literal notranslate"><span class="pre">to_list_cons</span></code>, <code class="docutils literal notranslate"><span class="pre">to_list_hd</span></code>, <code class="docutils literal notranslate"><span class="pre">to_list_last</span></code>, <code class="docutils literal notranslate"><span class="pre">to_list_const</span></code>, <code class="docutils literal notranslate"><span class="pre">to_list_nth_order</span></code>, <code class="docutils literal notranslate"><span class="pre">to_list_tl</span></code>, <code class="docutils literal notranslate"><span class="pre">to_list_append</span></code>, <code class="docutils literal notranslate"><span class="pre">to_list_rev_append_tail</span></code>, <code class="docutils literal notranslate"><span class="pre">to_list_rev_append</span></code>, <code class="docutils literal notranslate"><span class="pre">to_list_rev</span></code>, <code class="docutils literal notranslate"><span class="pre">to_list_map</span></code>, <code class="docutils literal notranslate"><span class="pre">to_list_fold_left</span></code>, <code class="docutils literal notranslate"><span class="pre">to_list_fold_right</span></code>, <code class="docutils literal notranslate"><span class="pre">to_list_Forall</span></code>, <code class="docutils literal notranslate"><span class="pre">to_list_Exists</span></code>, <code class="docutils literal notranslate"><span class="pre">to_list_In</span></code>, <code class="docutils literal notranslate"><span class="pre">to_list_Forall2</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/13671">#13671</a>,
by Olivier Laurent).</p></li>
<li><p><strong>Added:</strong>
Lemmas about <code class="docutils literal notranslate"><span class="pre">count_occ</span></code>: <code class="docutils literal notranslate"><span class="pre">count_occ_app</span></code>, <code class="docutils literal notranslate"><span class="pre">count_occ_elt_eq</span></code>, <code class="docutils literal notranslate"><span class="pre">count_occ_elt_neq</span></code>, <code class="docutils literal notranslate"><span class="pre">count_occ_bound</span></code>, <code class="docutils literal notranslate"><span class="pre">count_occ_repeat_eq</span></code>, <code class="docutils literal notranslate"><span class="pre">count_occ_repeat_neq</span></code>, <code class="docutils literal notranslate"><span class="pre">count_occ_unique</span></code>, <code class="docutils literal notranslate"><span class="pre">count_occ_repeat_excl</span></code>, <code class="docutils literal notranslate"><span class="pre">count_occ_sgt</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_count_occ</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/13804">#13804</a>,
by Olivier Laurent with help of Jean-Christophe Léchenet).</p></li>
<li><p><strong>Added:</strong>
Lemmas to <code class="docutils literal notranslate"><span class="pre">List</span></code>: <code class="docutils literal notranslate"><span class="pre">Exists_map</span></code>, <code class="docutils literal notranslate"><span class="pre">Exists_concat</span></code>, <code class="docutils literal notranslate"><span class="pre">Exists_flat_map</span></code>, <code class="docutils literal notranslate"><span class="pre">Forall_map</span></code>, <code class="docutils literal notranslate"><span class="pre">Forall_concat</span></code>, <code class="docutils literal notranslate"><span class="pre">Forall_flat_map</span></code>, <code class="docutils literal notranslate"><span class="pre">nth_error_map</span></code>, <code class="docutils literal notranslate"><span class="pre">nth_repeat</span></code>, <code class="docutils literal notranslate"><span class="pre">nth_error_repeat</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/13955">#13955</a>,
by Andrej Dudenhefner, with help from Olivier Laurent).</p></li>
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">Cantor.v</span></code> containing the Cantor pairing function and its inverse.
<code class="docutils literal notranslate"><span class="pre">Cantor.to_nat</span> <span class="pre">:</span> <span class="pre">nat</span> <span class="pre">*</span> <span class="pre">nat</span> <span class="pre">-&gt;</span> <span class="pre">nat</span></code> and <code class="docutils literal notranslate"><span class="pre">Cantor.of_nat</span> <span class="pre">:</span> <span class="pre">nat</span> <span class="pre">-&gt;</span> <span class="pre">nat</span> <span class="pre">*</span> <span class="pre">nat</span></code>
are the respective bijections between <code class="docutils literal notranslate"><span class="pre">nat</span> <span class="pre">*</span> <span class="pre">nat</span></code> and <code class="docutils literal notranslate"><span class="pre">nat</span></code>.
(<a class="reference external" href="https://github.com/coq/coq/pull/14008">#14008</a>,
by Andrej Dudenhefner).</p></li>
<li><p><strong>Added:</strong>
Lemmas to <code class="docutils literal notranslate"><span class="pre">Q</span></code>: <code class="docutils literal notranslate"><span class="pre">Qeq_from_parts</span></code>, <code class="docutils literal notranslate"><span class="pre">Qden_cancel</span></code>, <code class="docutils literal notranslate"><span class="pre">Qnum_cancel</span></code>, <code class="docutils literal notranslate"><span class="pre">Qreduce_l</span></code>, <code class="docutils literal notranslate"><span class="pre">Qreduce_r</span></code>, <code class="docutils literal notranslate"><span class="pre">Qmult_inject_Z_l</span></code>, <code class="docutils literal notranslate"><span class="pre">Qmult_inject_Z_r</span></code> QArith_base
Reduction of rationals; establishing equality for Qden/Qnum separately.
(<a class="reference external" href="https://github.com/coq/coq/pull/14087">#14087</a>,
by Karolin Varner).</p></li>
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">Coq.Structures.OrdersEx.String_as_OT</span></code> and
<code class="docutils literal notranslate"><span class="pre">Coq.Structures.OrdersEx.Ascii_as_OT</span></code> to make strings and ascii ordered
types (using lexical order).  (<a class="reference external" href="https://github.com/coq/coq/pull/14096">#14096</a>, by Jason Gross).</p></li>
<li><p><strong>Added:</strong>
Lemmas <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">app_eq_app</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Forall_nil_iff</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Forall_cons_iff</span></span></code> to <code class="docutils literal notranslate"><span class="pre">List.v</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/14153">#14153</a>,
closes <a class="reference external" href="https://github.com/coq/coq/issues/1803">#1803</a>,
by Andrej Dudenhefner, with help from Olivier Laurent).</p></li>
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">Z</span></code>, <code class="docutils literal notranslate"><span class="pre">positive</span></code> and <code class="docutils literal notranslate"><span class="pre">N</span></code> constants can now be printed in hexadecimal by
opening <code class="docutils literal notranslate"><span class="pre">hex_Z_scope</span></code>, <code class="docutils literal notranslate"><span class="pre">hex_positive_scope</span></code>, and <code class="docutils literal notranslate"><span class="pre">hex_N_scope</span></code>
respectively (<a class="reference external" href="https://github.com/coq/coq/pull/14263">#14263</a>, by Jason
Gross).</p></li>
<li><p><strong>Added:</strong>
Absolute value function for Sint63.
(<a class="reference external" href="https://github.com/coq/coq/pull/14384">#14384</a>,
by Ana Borges).</p></li>
<li><p><strong>Added:</strong>
Lemmas showing <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">firstn</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">skipn</span></span></code> commute with <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">map</span></span></code>.
(<a class="reference external" href="https://github.com/coq/coq/pull/14406">#14406</a>,
by Rudy Peterson).</p></li>
<li><p><strong>Fixed:</strong>
Haskell extraction is now compatible with GHC versions &gt;= 9.0.  Some <code class="docutils literal notranslate"><span class="pre">#if</span></code>
statements have been added to extract <code class="docutils literal notranslate"><span class="pre">unsafeCoerce</span></code> to its new location in
newer versions of GHC.  (<a class="reference external" href="https://github.com/coq/coq/pull/14345">#14345</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14256">#14256</a>, by Jason Gross).</p></li>
</ul>
</div>
<div class="section" id="id715">
<h4><a class="toc-backref" href="#id1582">Infrastructure and dependencies</a><a class="headerlink" href="#id715" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="dune">
<li><p><strong>Changed:</strong>
Coq's configure script now requires absolute paths for the <code class="docutils literal notranslate"><span class="pre">-prefix</span></code>
option.
(<a class="reference external" href="https://github.com/coq/coq/pull/12567">#12567</a>,
by Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Changed:</strong>
The regular Coq package has been split in two: coq-core, with
OCaml-based libraries and tools; and coq-stdlib, which contains the
Gallina-based standard library. The package Coq now depends on both
for compatiblity.
(<a class="reference external" href="https://github.com/coq/coq/pull/12567">#12567</a>,
by Emilio Jesus Gallego Arias, review by Vincent Laporte, Guillaume
Melquiond, Enrico Tassi, and Théo Zimmerman).</p></li>
<li><p><strong>Changed:</strong>
Coq's OCaml parts and tools [<code class="docutils literal notranslate"><span class="pre">coq-core</span></code>] are now built using Dune.
The main user-facing change is that Dune &gt;= 2.5 is now required to
build Coq. This was a large and complex change. If you are packager
you may find some minor differences if you were using a lot of custom
optimizations. Note that, in particular, the configure option
<code class="docutils literal notranslate"><span class="pre">-datadir</span></code> is not customizable anymore, and <code class="docutils literal notranslate"><span class="pre">-bindir</span></code> has been
removed in favor of <code class="docutils literal notranslate"><span class="pre">$prefix/bin</span></code>. Moreover, the install procedure
will ignore <code class="docutils literal notranslate"><span class="pre">-docdir</span></code> and <code class="docutils literal notranslate"><span class="pre">-etcdir</span></code>, unless you patch the makefile
and use Dune &gt;= 2.9.
We usually recommended using a recent Dune version, if possible.
For developers and plugin authors, see the entry in
<code class="docutils literal notranslate"><span class="pre">dev/doc/changes.md</span></code>. For packagers and users, see <code class="docutils literal notranslate"><span class="pre">dev/doc/INSTALL.make.md</span></code>.
(<a class="reference external" href="https://github.com/coq/coq/pull/13617">#13617</a>,
by Emilio Jesús Gallego Arias, Rudi Grinberg, and Théo Zimmerman;
review and testing by Gaëtan Gilbert, Guillaume Melquiond, and
Enrico Tassi)</p></li>
<li><p><strong>Changed:</strong>
Undocumented variables <code class="docutils literal notranslate"><span class="pre">OLDROOT</span></code> and <code class="docutils literal notranslate"><span class="pre">COQPREFIXINSTALL</span></code> which
added a prefix path to <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code> have been removed. Now, <code class="docutils literal notranslate"><span class="pre">make</span>
<span class="pre">install</span></code> does support the more standard <code class="docutils literal notranslate"><span class="pre">DESTDIR</span></code> variable, akin
to what <code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code> does.
(<a class="reference external" href="https://github.com/coq/coq/pull/14258">#14258</a>,
by Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Added:</strong>
Support OCaml 4.12
(<a class="reference external" href="https://github.com/coq/coq/pull/13885">#13885</a>,
by Emilio Jesus Gallego Arias, review by Gaëtan Gilbert and Théo Zimmerman).</p></li>
</ul>
</div>
<div class="section" id="id721">
<h4><a class="toc-backref" href="#id1583">Miscellaneous</a><a class="headerlink" href="#id721" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
The representation of micromega caches was slightly
altered for efficiency purposes. As a consequence
all stale caches must be cleaned up
(<a class="reference external" href="https://github.com/coq/coq/pull/13405">#13405</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Fixed:</strong>
Fix the timeout facility on Unix to allow for nested timeouts.
Previous behavior on nested timeouts was that an &quot;inner&quot; timeout would replace an &quot;outer&quot;
timeout, so that the outer timeout would no longer fire. With the new behavior, Unix and Windows
implementations should be (approximately) equivalent.
(<a class="reference external" href="https://github.com/coq/coq/pull/13586">#13586</a>,
by Lasse Blaauwbroek).</p></li>
</ul>
</div>
</div>
<div class="section" id="changes-in-8-14-1">
<h3>Changes in 8.14.1<a class="headerlink" href="#changes-in-8-14-1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id724">
<h4>Kernel<a class="headerlink" href="#id724" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Fix the implementation of persistent arrays used by the VM and native compute
so that it uses a uniform representation. Previously, storing primitive floats
inside primitive arrays could cause memory corruption
(<a class="reference external" href="https://github.com/coq/coq/pull/15081">#15081</a>,
closes <a class="reference external" href="https://github.com/coq/coq/issues/15070">#15070</a>,
by Pierre-Marie Pédrot).</p></li>
</ul>
</div>
<div class="section" id="id727">
<h4>Specification language, type inference<a class="headerlink" href="#id727" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Missing registration of universe constraints in <a class="reference internal" href="language/core/modules.html#coq:cmd.Module-Type" title="Module Type"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Module</span> <span class="pre">Type</span></code></a> elaboration
(<a class="reference external" href="https://github.com/coq/coq/pull/14666">#14666</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14505">#14505</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
<div class="section" id="id730">
<h4>Tactics<a class="headerlink" href="#id730" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
<a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:tacn.abstract" title="abstract"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">abstract</span></code></a> more robust with respect to Ltac <code class="docutils literal notranslate"><span class="pre">constr</span></code> bindings containing
existential variables
(<a class="reference external" href="https://github.com/coq/coq/pull/14671">#14671</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/10796">#10796</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
correct support of trailing <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">let</span></span></span></span></code> by tactic <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.specialize" title="specialize"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">specialize</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/15046">#15046</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/15043">#15043</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
<div class="section" id="id735">
<h4>Commands and options<a class="headerlink" href="#id735" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
anomaly with <a class="reference internal" href="addendum/extraction.html#coq:flag.Extraction-Conservative-Types" title="Extraction Conservative Types"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Extraction</span> <span class="pre">Conservative</span> <span class="pre">Types</span></code></a> when extracting
pattern-matching on singleton types
(<a class="reference external" href="https://github.com/coq/coq/pull/14669">#14669</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/3527">#3527</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
a regular error instead of an anomaly when calling <a class="reference internal" href="addendum/extraction.html#coq:cmd.Separate-Extraction" title="Separate Extraction"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Separate</span>
<span class="pre">Extraction</span></code></a> in a module
(<a class="reference external" href="https://github.com/coq/coq/pull/14670">#14670</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/10796">#10796</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="version-8-13">
<h2>Version 8.13<a class="headerlink" href="#version-8-13" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id740">
<h3>Summary of changes<a class="headerlink" href="#id740" title="Permalink to this headline">¶</a></h3>
<p>Coq version 8.13 integrates many usability improvements, as well
as extensions of the core language.
The main changes include:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#primarrays"><span class="std std-ref">Introduction</span></a> of <a class="reference internal" href="language/core/primitive.html#primitive-arrays"><span class="std std-ref">primitive persistent arrays</span></a>
in the core language, implemented using imperative persistent arrays.</p></li>
<li><p>Introduction of <a class="reference internal" href="#uip"><span class="std std-ref">definitional proof irrelevance</span></a> for the equality type
defined in the SProp sort.</p></li>
<li><p>Cumulative record and inductive type declarations can now
<a class="reference internal" href="#variancedecl"><span class="std std-ref">specify</span></a> the variance of their universes.</p></li>
<li><p>Various bugfixes and uniformization of behavior with respect to the use of
implicit arguments and the handling of existential variables in
declarations, unification and tactics.</p></li>
<li><p>New warning for <a class="reference internal" href="#unusedvar"><span class="std std-ref">unused variables</span></a> in catch-all match
branches that match multiple distinct patterns.</p></li>
<li><p>New <a class="reference internal" href="#hintwarning"><span class="std std-ref">warning</span></a> for <code class="docutils literal notranslate"><span class="pre">Hint</span></code> commands outside
sections without a locality attribute, whose goal is to eventually
remove the fragile default behavior of importing hints only when
using <code class="docutils literal notranslate"><span class="pre">Require</span></code>. The recommended fix is to declare hints as <code class="docutils literal notranslate"><span class="pre">export</span></code>,
instead of the current default <code class="docutils literal notranslate"><span class="pre">global</span></code>, meaning that they are imported
through <code class="docutils literal notranslate"><span class="pre">Require</span> <span class="pre">Import</span></code> only, not <code class="docutils literal notranslate"><span class="pre">Require</span></code>.
See the following <a class="reference external" href="https://coq.discourse.group/t/change-of-default-locality-for-hint-commands-in-coq-8-13/1140">rationale and guidelines</a>
for details.</p></li>
<li><p>General support for <a class="reference internal" href="#booleanattrs"><span class="std std-ref">boolean attributes</span></a>.</p></li>
<li><p>Many improvements to the handling of <a class="reference internal" href="#id784"><span class="std std-ref">notations</span></a>,
including number notations, recursive notations and notations with bindings.
A new algorithm chooses the most precise notation available to print an expression,
which might introduce changes in printing behavior.</p></li>
<li><p>Tactic <a class="reference internal" href="#id817"><span class="std std-ref">improvements</span></a> in <a class="reference internal" href="addendum/micromega.html#coq:tacn.lia" title="lia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lia</span></code></a> and its <a class="reference internal" href="addendum/micromega.html#coq:tacn.zify" title="zify"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">zify</span></code></a> preprocessing step,
now supporting reasoning on boolean operators such as <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Z.leb</span></span></code> and supporting
primitive integers <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Int63</span></span></code>.</p></li>
<li><p>Typing flags can now be specified <a class="reference internal" href="#typingflags"><span class="std std-ref">per-constant / inductive</span></a>.</p></li>
<li><p>Improvements to the reference manual including updated syntax
descriptions that match Coq's grammar in several chapters, and splitting parts of
the tactics chapter to independent sections.</p></li>
</ul>
</div></blockquote>
<p>See the <a class="reference internal" href="#changes-in-8-13-beta1">Changes in 8.13+beta1</a> section and following sections for the
detailed list of changes, including potentially breaking changes marked
with <strong>Changed</strong>.</p>
<p>Coq's documentation is available at <a class="reference external" href="https://coq.github.io/doc/v8.13/refman">https://coq.github.io/doc/v8.13/refman</a> (reference
manual), and <a class="reference external" href="https://coq.github.io/doc/v8.13/stdlib">https://coq.github.io/doc/v8.13/stdlib</a> (documentation of
the standard library). Developer documentation of the ML API is available
at <a class="reference external" href="https://coq.github.io/doc/v8.13/api">https://coq.github.io/doc/v8.13/api</a>.</p>
<p>Maxime Dénès, Emilio Jesús Gallego Arias, Gaëtan Gilbert, Michael
Soegtrop and Théo Zimmermann worked on maintaining and improving the
continuous integration system and package building infrastructure.</p>
<p>Erik Martin-Dorel has maintained the <a class="reference external" href="https://hub.docker.com/r/coqorg/coq">Coq Docker images</a> that are used in many Coq
projects for continuous integration.</p>
<p>The opam repository for Coq packages has been maintained by
Guillaume Claret, Karl Palmskog, Matthieu Sozeau and Enrico Tassi with
contributions from many users. A list of packages is available at
<a class="reference external" href="https://coq.inria.fr/opam/www/">https://coq.inria.fr/opam/www/</a>.</p>
<p>Our current 32 maintainers are Yves Bertot, Frédéric Besson, Tej
Chajed, Cyril Cohen, Pierre Corbineau, Pierre Courtieu, Maxime Dénès,
Jim Fehrle, Julien Forest, Emilio Jesús Gallego Arias, Gaëtan Gilbert,
Georges Gonthier, Benjamin Grégoire, Jason Gross, Hugo Herbelin,
Vincent Laporte, Olivier Laurent, Assia Mahboubi, Kenji Maillard,
Guillaume Melquiond, Pierre-Marie Pédrot, Clément Pit-Claudel,
Kazuhiko Sakaguchi, Vincent Semeria, Michael Soegtrop, Arnaud Spiwack,
Matthieu Sozeau, Enrico Tassi, Laurent Théry, Anton Trunov, Li-yao Xia
and Théo Zimmermann.</p>
<p>The 51 contributors to this version are Reynald Affeldt, Tanaka Akira, Frédéric
Besson, Lasse Blaauwbroek, Clément Blaudeau, Martin Bodin, Ali Caglayan, Tej Chajed,
Cyril Cohen, Julien Coolen, Matthew Dempsky, Maxime Dénès, Andres Erbsen,
Jim Fehrle, Emilio Jesús Gallego Arias, Attila Gáspár, Paolo G. Giarrusso, Gaëtan Gilbert,
Jason Gross, Benjamin Grégoire, Hugo Herbelin, Wolf Honore, Jasper Hugunin, Ignat Insarov,
Ralf Jung, Fabian Kunze, Vincent Laporte, Olivier Laurent, Larry D. Lee Jr,
Thomas Letan, Yishuai Li, James Lottes, Jean-Christophe Léchenet,
Kenji Maillard, Erik Martin-Dorel, Yusuke Matsushita, Guillaume Melquiond,
Carl Patenaude-Poulin, Clément Pit-Claudel, Pierre-Marie Pédrot, Pierre Roux,
Kazuhiko Sakaguchi, Vincent Semeria, Michael Soegtrop, Matthieu Sozeau,
Enrico Tassi, Anton Trunov, Edward Wang, Li-yao Xia, Beta Ziliani and Théo Zimmermann.</p>
<p>The Coq community at large helped improve the design of this new version via
the GitHub issue and pull request system, the Coq development mailing list
<a class="reference external" href="mailto:coqdev&#37;&#52;&#48;inria&#46;fr">coqdev<span>&#64;</span>inria<span>&#46;</span>fr</a>, the <a class="reference external" href="mailto:coq-club&#37;&#52;&#48;inria&#46;fr">coq-club<span>&#64;</span>inria<span>&#46;</span>fr</a> mailing list, the <a class="reference external" href="https://coq.discourse.group/">Discourse forum</a> and the <a class="reference external" href="https://coq.zulipchat.com">Coq Zulip chat</a>.</p>
<p>Version 8.13's development spanned 5 months from the release of
Coq 8.12.0. Enrico Tassi and Maxime Dénès are the release managers of Coq 8.13.
This release is the result of 400 merged PRs, closing ~100 issues.</p>
<div class="line-block">
<div class="line">Nantes, November 2020,</div>
<div class="line">Matthieu Sozeau for the Coq development team</div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="changes-in-8-13-beta1">
<h3>Changes in 8.13+beta1<a class="headerlink" href="#changes-in-8-13-beta1" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id744">
<ul class="simple">
<li><p><a class="reference internal" href="#id745" id="id1584">Kernel</a></p></li>
<li><p><a class="reference internal" href="#id755" id="id1585">Specification language, type inference</a></p></li>
<li><p><a class="reference internal" href="#id784" id="id1586">Notations</a></p></li>
<li><p><a class="reference internal" href="#id817" id="id1587">Tactics</a></p></li>
<li><p><a class="reference internal" href="#id838" id="id1588">Tactic language</a></p></li>
<li><p><a class="reference internal" href="#id844" id="id1589">SSReflect</a></p></li>
<li><p><a class="reference internal" href="#id848" id="id1590">Commands and options</a></p></li>
<li><p><a class="reference internal" href="#tools" id="id1591">Tools</a></p></li>
<li><p><a class="reference internal" href="#id866" id="id1592">CoqIDE</a></p></li>
<li><p><a class="reference internal" href="#id869" id="id1593">Standard library</a></p></li>
<li><p><a class="reference internal" href="#id884" id="id1594">Infrastructure and dependencies</a></p></li>
</ul>
</div>
<div class="section" id="id745">
<h4><a class="toc-backref" href="#id1584">Kernel</a><a class="headerlink" href="#id745" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul id="uip">
<li><p><strong>Added:</strong>
Definitional UIP, only when <a class="reference internal" href="addendum/sprop.html#coq:flag.Definitional-UIP" title="Definitional UIP"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Definitional</span> <span class="pre">UIP</span></code></a> is enabled.
This models definitional uniqueness of identity proofs for the equality
type in SProp. It is deactivated by default as it can lead to
non-termination in combination with impredicativity.
Use of this flag is also printed by <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Print-Assumptions" title="Print Assumptions"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Assumptions</span></code></a>. See
documentation of the flag for details.
(<a class="reference external" href="https://github.com/coq/coq/pull/10390">#10390</a>,
by Gaëtan Gilbert).</p>
</li>
<li id="primarrays"><p><strong>Added:</strong>
Built-in support for persistent arrays, which expose a functional
interface but are implemented using an imperative data structure, for
better performance.
(<a class="reference external" href="https://github.com/coq/coq/pull/11604">#11604</a>,
by Maxime Dénès and Benjamin Grégoire, with help from Gaëtan Gilbert).</p>
<p>Primitive arrays are irrelevant in their single
polymorphic universe (same as a polymorphic cumulative list
inductive would be) (<a class="reference external" href="https://github.com/coq/coq/pull/13356">#13356</a>, fixes <a class="reference external" href="https://github.com/coq/coq/issues/13354">#13354</a>, by Gaëtan Gilbert).</p>
</li>
<li><p><strong>Fixed:</strong>
A loss of definitional equality for declarations obtained through
<a class="reference internal" href="language/core/modules.html#coq:cmd.Include" title="Include"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Include</span></code></a> when entering the scope of a <a class="reference internal" href="language/core/modules.html#coq:cmd.Module" title="Module"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Module</span></code></a> or
<a class="reference internal" href="language/core/modules.html#coq:cmd.Module-Type" title="Module Type"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Module</span> <span class="pre">Type</span></code></a> was causing <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Search" title="Search"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Search</span></code></a> not to see the included
declarations
(<a class="reference external" href="https://github.com/coq/coq/pull/12537">#12537</a>, fixes <a class="reference external" href="https://github.com/coq/coq/pull/12525">#12525</a> and <a class="reference external" href="https://github.com/coq/coq/pull/12647">#12647</a>, by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Fix an incompleteness in the typechecking of <code class="docutils literal notranslate"><span class="pre">match</span></code> for
cumulative inductive types. This could result in breaking subject
reduction.
(<a class="reference external" href="https://github.com/coq/coq/pull/13501">#13501</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13495">#13495</a>,
by Matthieu Sozeau).</p></li>
</ul>
</div>
<div class="section" id="id755">
<h4><a class="toc-backref" href="#id1585">Specification language, type inference</a><a class="headerlink" href="#id755" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul id="booleanattrs">
<li><p><strong>Changed:</strong>
<a class="reference internal" href="language/core/basic.html#term-boolean-attribute"><span class="xref std std-term">Boolean attributes</span></a> are now specified using
key/value pairs, that is to say <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">attr</span></sub></span></a><span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">=</span></span></span> <span class="alternative"><span class="alternative-block"><span><span><span class="pre">yes</span></span></span></span><span class="alternative-separator"><span class="pre">​</span></span><span class="alternative-block"><span><span><span class="pre">no</span></span></span></span></span></span><span class="notation-sup"><span class="pre">?</span></span></span></span></code>.
If the value is missing, the default is <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">yes</span></span></span></span></code>.  The old syntax is still
supported, but produces the <code class="docutils literal notranslate"><span class="pre">deprecated-attribute-syntax</span></code> warning.</p>
<p>Deprecated attributes are <code class="docutils literal notranslate"><span class="pre">universes(monomorphic)</span></code>,
<code class="docutils literal notranslate"><span class="pre">universes(notemplate)</span></code> and <code class="docutils literal notranslate"><span class="pre">universes(noncumulative)</span></code>, which are
respectively replaced by <a class="reference internal" href="addendum/universe-polymorphism.html#coq:attr.universes(polymorphic)" title="universes(polymorphic)"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">universes(polymorphic=no)</span></code></a>,
<a class="reference internal" href="language/core/inductive.html#coq:attr.universes(template)" title="universes(template)"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">universes(template=no)</span></code></a>
and <a class="reference internal" href="addendum/universe-polymorphism.html#coq:attr.universes(cumulative)" title="universes(cumulative)"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">universes(cumulative=no)</span></code></a>.
Attributes <a class="reference internal" href="addendum/program.html#coq:attr.program" title="program"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">program</span></code></a> and <a class="reference internal" href="language/extensions/canonical.html#coq:attr.canonical" title="canonical"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">canonical</span></code></a> are also affected,
with the syntax <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">attr</span></sub></span></a><span><span><span class="pre">(false)</span></span></span></span></code> being deprecated in favor of
<code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">attr</span></sub></span></a><span><span><span class="pre">=no</span></span></span></span></code>.
(<a class="reference external" href="https://github.com/coq/coq/pull/13312">#13312</a>,
by Emilio Jesus Gallego Arias).</p>
</li>
<li><p><strong>Changed:</strong> Heuristics for universe minimization to <code class="code Coq docutils literal notranslate"><span class="keyword type"><span class="pre">Set</span></span></code>: also
use constraints <code class="docutils literal notranslate"><span class="pre">Prop</span> <span class="pre">&lt;=</span> <span class="pre">i</span></code> (<a class="reference external" href="https://github.com/coq/coq/pull/10331">#10331</a>, by Gaëtan Gilbert with
help from Maxime Dénès and Matthieu Sozeau, fixes <a class="reference external" href="https://github.com/coq/coq/issues/12414">#12414</a>).</p></li>
<li><p><strong>Changed:</strong> The type given to <a class="reference internal" href="addendum/type-classes.html#coq:cmd.Instance" title="Instance"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Instance</span></code></a> is no longer automatically
generalized over unbound and <a class="reference internal" href="language/extensions/implicit-arguments.html#implicit-generalization"><span class="std std-ref">generalizable</span></a> variables.
Use <code class="docutils literal notranslate"><span class="pre">Instance</span> <span class="pre">:</span> <span class="pre">`{type}</span></code> instead of <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Instance</span></span></span> <span><span><span class="pre">:</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a></span></code> to get the old behavior, or
enable the compatibility flag <code class="docutils literal notranslate"><span class="pre">Instance</span> <span class="pre">Generalized</span> <span class="pre">Output</span></code>.
(<a class="reference external" href="https://github.com/coq/coq/pull/13188">#13188</a>, fixes <a class="reference external" href="https://github.com/coq/coq/issues/6042">#6042</a>, by Gaëtan Gilbert).</p></li>
<li><p><strong>Changed:</strong>
Tweaked the algorithm giving default names to arguments.
Should reduce the frequency that argument names get an
unexpected suffix.
Also makes <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:flag.Mangle-Names" title="Mangle Names"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Mangle</span> <span class="pre">Names</span></code></a> not mess up argument names.
(<a class="reference external" href="https://github.com/coq/coq/pull/12756">#12756</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12001">#12001</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/6785">#6785</a>,
by Jasper Hugunin).</p></li>
<li><p><strong>Removed:</strong>
Undocumented and experimental forward class hint feature <code class="docutils literal notranslate"><span class="pre">:&gt;&gt;</span></code>.
Use <code class="docutils literal notranslate"><span class="pre">:&gt;</span></code> (see <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="language/core/assumptions.html#grammar-token-of_type"><span class="hole"><span class="pre">of_type</span></span></a></span></code>) instead
(<a class="reference external" href="https://github.com/coq/coq/pull/13106">#13106</a>,
by Pierre-Marie Pédrot).</p>
</li>
<li id="variancedecl"><p><strong>Added:</strong> Commands <a class="reference internal" href="language/core/inductive.html#coq:cmd.Inductive" title="Inductive"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Inductive</span></code></a>, <a class="reference internal" href="language/core/records.html#coq:cmd.Record" title="Record"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Record</span></code></a> and synonyms now
support syntax <code class="docutils literal notranslate"><span class="pre">Inductive</span> <span class="pre">foo&#64;{=i</span> <span class="pre">+j</span> <span class="pre">*k</span> <span class="pre">l}</span></code> to specify variance
information for their universes (in <a class="reference internal" href="addendum/universe-polymorphism.html#cumulative"><span class="std std-ref">Cumulative</span></a>
mode) (<a class="reference external" href="https://github.com/coq/coq/pull/12653">#12653</a>, by Gaëtan
Gilbert).</p>
</li>
<li id="unusedvar"><p><strong>Added:</strong>
Warning on unused variables in pattern-matching branches of
<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">match</span></span></span></span></code> serving as catch-all branches for at least two distinct
patterns.
(<a class="reference external" href="https://github.com/coq/coq/pull/12768">#12768</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12762">#12762</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Added:</strong>
Definition and (Co)Fixpoint now support the <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:attr.using" title="using"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">using</span></code></a> attribute.
It has the same effect as <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:cmd.Proof-using" title="Proof using"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Proof</span> <span class="pre">using</span></code></a>, which is only available in
interactive mode.
(<a class="reference external" href="https://github.com/coq/coq/pull/13183">#13183</a>,
by Enrico Tassi).</p>
</li>
<li id="typingflags"><p><strong>Added:</strong>
Typing flags can now be specified per-constant / inductive, this
allows to fine-grain specify them from plugins or attributes. See
<a class="reference internal" href="proof-engine/vernacular-commands.html#controlling-typing-flags"><span class="std std-ref">Controlling Typing Flags</span></a> for details on attribute syntax.
(<a class="reference external" href="https://github.com/coq/coq/pull/12586">#12586</a>,
by Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Added:</strong>
Inference of return predicate of a <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">match</span></span></code> by inversion takes
sort elimination constraints into account
(<a class="reference external" href="https://github.com/coq/coq/pull/13290">#13290</a>,
grants <a class="reference external" href="https://github.com/coq/coq/issues/13278">#13278</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Implicit arguments taken into account in defined fields of a record type declaration
(<a class="reference external" href="https://github.com/coq/coq/pull/13166">#13166</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13165">#13165</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Allow use of typeclass inference for the return predicate of a <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">match</span></span></span></span></code>
(was deactivated in versions 8.10 to 8.12, <a class="reference external" href="https://github.com/coq/coq/pull/13217">#13217</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13216">#13216</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
A case of unification raising an anomaly IllTypedInstance
(<a class="reference external" href="https://github.com/coq/coq/pull/13376">#13376</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13266">#13266</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Using <code class="docutils literal notranslate"><span class="notation"><span class="curlies"><span class="pre">{</span><span><span><span class="pre">wf</span></span></span> <span><span><span class="pre">...</span></span></span><span class="pre">}</span></span></span></code> in local fixpoints is an error, not an anomaly
(<a class="reference external" href="https://github.com/coq/coq/pull/13383">#13383</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11816">#11816</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Issue when two expressions involving different projections and one is
primitive need to be unified
(<a class="reference external" href="https://github.com/coq/coq/pull/13386">#13386</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/9971">#9971</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
A bug producing ill-typed instances of existential variables when let-ins
interleaved with assumptions
(<a class="reference external" href="https://github.com/coq/coq/pull/13387">#13387</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13387">#12348</a>,
by Hugo Herbelin).</p>
</li>
</ul>
</div>
<div class="section" id="id784">
<span id="id785"></span><h4><a class="toc-backref" href="#id1586">Notations</a><a class="headerlink" href="#id784" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
In notations (except in custom entries), the misleading <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="user-extensions/syntax-extensions.html#grammar-token-syntax_modifier"><span class="hole"><span class="pre">syntax_modifier</span></span></a></span></code>
<code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span><span><span class="pre">ident</span></span></span></span></code> (which accepted either an identifier or
a <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">_</span></span></code>) is deprecated and should be replaced by <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span><span><span class="pre">name</span></span></span></span></code>. If
the intent was really to only parse identifiers, this will
eventually become possible, but only as of Coq 8.15.
In custom entries, the meaning of <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span><span><span class="pre">ident</span></span></span></span></code> is silently changed
from parsing identifiers or <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">_</span></span></code> to parsing only identifiers
without warning, but this presumably affects only rare, recent and
relatively experimental code
(<a class="reference external" href="https://github.com/coq/coq/pull/11841">#11841</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/pull/9514">#9514</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Changed:</strong>
Improved support for notations/abbreviations with mixed terms and patterns (such as the forcing modality)
(<a class="reference external" href="https://github.com/coq/coq/pull/12099">#12099</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Changed</strong>
Rational and real constants are parsed differently.
The exponent is now encoded separately from the fractional part
using <code class="docutils literal notranslate"><span class="pre">Z.pow_pos</span></code>. This way, parsing large exponents can no longer
blow up and constants are printed in a form closer to the one in which they
were parsed (i.e., <code class="docutils literal notranslate"><span class="pre">102e-2</span></code> is reprinted as such and not <code class="docutils literal notranslate"><span class="pre">1.02</span></code>).
(<a class="reference external" href="https://github.com/coq/coq/pull/12218">#12218</a>,
by Pierre Roux).</p></li>
<li><p><strong>Changed:</strong>
Scope information is propagated in indirect applications to a
reference prefixed with <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">&#64;</span></span></code>; this covers for instance the case
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">r</span></span><span class="operator"><span class="pre">.(&#64;</span></span><span class="name"><span class="pre">p</span></span><span class="operator"><span class="pre">)</span></span> <span class="name"><span class="pre">t</span></span></code> where scope information from <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">p</span></span></code> is now taken into
account for interpreting <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">t</span></span></code> (<a class="reference external" href="https://github.com/coq/coq/pull/12685">#12685</a>, by Hugo Herbelin).</p></li>
<li><p><strong>Changed:</strong>
New model for <code class="docutils literal notranslate"><span class="pre">only</span> <span class="pre">parsing</span></code> and <code class="docutils literal notranslate"><span class="pre">only</span> <span class="pre">printing</span></code> notations with
support for at most one parsing-and-printing or only-parsing
notation per notation and scope, but an arbitrary number of
only-printing notations
(<a class="reference external" href="https://github.com/coq/coq/pull/12950">#12950</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/4738">#4738</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/9682">#9682</a>
and part 2 of <a class="reference external" href="https://github.com/coq/coq/issues/12908">#12908</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Changed:</strong>
Redeclaring a notation also reactivates its printing rule; in
particular a second <a class="reference internal" href="language/core/modules.html#coq:cmd.Import" title="Import"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Import</span></code></a> of the same module reactivates the
printing rules declared in this module. In theory, this leads to
changes in behavior for printing. However, this is mitigated in
general by the adoption in <a class="reference external" href="https://github.com/coq/coq/pull/12986">#12986</a> of a priority given to
notations which match a larger part of the term to print
(<a class="reference external" href="https://github.com/coq/coq/pull/12984">#12984</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/7443">#7443</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/10824">#10824</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Changed:</strong>
Use of notations for printing now gives preference
to notations which match a larger part of the term to abbreviate
(<a class="reference external" href="https://github.com/coq/coq/pull/12986">#12986</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Removed</strong>
OCaml parser and printer for real constants have been removed.
Real constants are now handled with proven Coq code.
(<a class="reference external" href="https://github.com/coq/coq/pull/12218">#12218</a>,
by Pierre Roux).</p></li>
<li><p><strong>Deprecated</strong>
<code class="docutils literal notranslate"><span class="pre">Numeral.v</span></code> is deprecated, please use <code class="docutils literal notranslate"><span class="pre">Number.v</span></code> instead.
(<a class="reference external" href="https://github.com/coq/coq/pull/12218">#12218</a>,
by Pierre Roux).</p></li>
<li><p><strong>Deprecated:</strong>
<code class="docutils literal notranslate"><span class="pre">Numeral</span> <span class="pre">Notation</span></code>, please use <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Number-Notation" title="Number Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Notation</span></code></a> instead
(<a class="reference external" href="https://github.com/coq/coq/pull/12979">#12979</a>,
by Pierre Roux).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="language/coq-library.html#coq:flag.Printing-Float" title="Printing Float"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Float</span></code></a> flag to print primitive floats as hexadecimal
instead of decimal values. This is included in the <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:flag.Printing-All" title="Printing All"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">All</span></code></a> flag
(<a class="reference external" href="https://github.com/coq/coq/pull/11986">#11986</a>,
by Pierre Roux).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="user-extensions/syntax-extensions.html#number-notations"><span class="std std-ref">Number Notation</span></a> and <a class="reference internal" href="user-extensions/syntax-extensions.html#string-notations"><span class="std std-ref">String Notation</span></a> commands now
support parameterized inductive and non-inductive types
(<a class="reference external" href="https://github.com/coq/coq/pull/12218">#12218</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12035">#12035</a>,
by Pierre Roux, review by Jason Gross and Jim Fehrle for the
reference manual).</p></li>
<li><p><strong>Added:</strong>
Added support for encoding notations of the form <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">x</span></span> <span class="name builtin pseudo"><span class="pre">⪯</span></span> <span class="name"><span class="pre">y</span></span> <span class="name builtin pseudo"><span class="pre">⪯</span></span> <span class="operator"><span class="pre">..</span></span> <span class="name builtin pseudo"><span class="pre">⪯</span></span> <span class="name"><span class="pre">z</span></span> <span class="name builtin pseudo"><span class="pre">⪯</span></span> <span class="name"><span class="pre">t</span></span></code>.
This feature is considered experimental.
(<a class="reference external" href="https://github.com/coq/coq/pull/12765">#12765</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Added:</strong>
The <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="language/core/assumptions.html#grammar-token-binder"><span class="hole"><span class="pre">binder</span></span></a></span></code> entry of <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Notation" title="Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Notation</span></code></a> can now be used in
notations expecting a single (non-recursive) binder
(<a class="reference external" href="https://github.com/coq/coq/pull/13265">#13265</a>,
by Hugo Herbelin, see section <a class="reference internal" href="user-extensions/syntax-extensions.html#notations-and-binders"><span class="std std-ref">Notations and binders</span></a> of the
reference manual).</p></li>
<li><p><strong>Fixed:</strong>
Issues in the presence of notations recursively referring to another
applicative notations, such as missing scope propagation, or failure
to use a notation for printing
(<a class="reference external" href="https://github.com/coq/coq/pull/12960">#12960</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/9403">#9403</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/10803">#10803</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Capture the names of global references by
binders in the presence of notations for binders
(<a class="reference external" href="https://github.com/coq/coq/pull/12965">#12965</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/9569">#9569</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Preventing notations for constructors to involve binders
(<a class="reference external" href="https://github.com/coq/coq/pull/13092">#13092</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13078">#13078</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong> Notations understand universe names without getting
confused by different imported modules between declaration and use
locations (<a class="reference external" href="https://github.com/coq/coq/pull/13415">#13415</a>, fixes
<a class="reference external" href="https://github.com/coq/coq/issues/13303">#13303</a>, by Gaëtan
Gilbert).</p>
</li>
</ul>
</div>
<div class="section" id="id817">
<span id="id818"></span><h4><a class="toc-backref" href="#id1587">Tactics</a><a class="headerlink" href="#id817" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
In <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.refine" title="refine"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">refine</span></code></a>, new existential variables unified with existing ones are no
longer considered as fresh. The behavior of <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.refine" title="refine"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">simple</span> <span class="pre">refine</span></code></a> no
longer depends on
the orientation of evar-evar unification problems, and new existential variables
are always turned into (unshelved) goals. This can break compatibility in
some cases (<a class="reference external" href="https://github.com/coq/coq/pull/7825">#7825</a>, by Matthieu
Sozeau, with help from Maxime Dénès, review by Pierre-Marie Pédrot and
Enrico Tassi, fixes <a class="reference external" href="https://github.com/coq/coq/issues/4095">#4095</a> and
<a class="reference external" href="https://github.com/coq/coq/issues/4413">#4413</a>).</p></li>
<li><p><strong>Changed:</strong>
Giving an empty list of occurrences after <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">in</span></span></span></span></code> in tactics is no
longer permitted. Omitting the <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">in</span></span></span></span></code> gives the same behavior
(<a class="reference external" href="https://github.com/coq/coq/pull/13236">#13237</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13235">#13235</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Removed:</strong>
<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">at</span></span></span> <a class="reference internal" href="proof-engine/tactics.html#grammar-token-occs_nums"><span class="hole"><span class="pre">occs_nums</span></span></a></span></code> clauses in tactics such as <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.unfold" title="unfold"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">unfold</span></code></a>
no longer allow negative values.  A &quot;-&quot; before the
list (for set complement) is still supported.  Ex: &quot;at -1 -2&quot;
is no longer supported but &quot;at -1 2&quot; is.
(<a class="reference external" href="https://github.com/coq/coq/pull/13403">#13403</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Removed:</strong>
A number of tactics that formerly accepted negative
numbers as parameters now give syntax errors for negative
values.  These include {e}constructor, do, timeout,
9 {e}auto tactics and psatz*.
(<a class="reference external" href="https://github.com/coq/coq/pull/13417">#13417</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Removed:</strong>
The deprecated and undocumented <code class="docutils literal notranslate"><span class="pre">prolog</span></code> tactic was removed
(<a class="reference external" href="https://github.com/coq/coq/pull/12399">#12399</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Removed:</strong> <code class="docutils literal notranslate"><span class="pre">info</span></code> tactic that was deprecated in 8.5.
(<a class="reference external" href="https://github.com/coq/coq/pull/12423">#12423</a>, by Jim Fehrle).</p></li>
<li><p><strong>Deprecated:</strong>
Undocumented <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">eauto</span></span></span> <a class="reference internal" href="proof-engine/tactics.html#grammar-token-nat_or_var"><span class="hole"><span class="pre">nat_or_var</span></span></a> <a class="reference internal" href="proof-engine/tactics.html#grammar-token-nat_or_var"><span class="hole"><span class="pre">nat_or_var</span></span></a></span></code> syntax in favor of new <code class="docutils literal notranslate"><span class="pre">bfs</span> <span class="pre">eauto</span></code>.
Also deprecated 2-integer syntax for <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.debug-eauto" title="debug eauto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">debug</span> <span class="pre">eauto</span></code></a> and <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.info_eauto" title="info_eauto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">info_eauto</span></code></a>.
(Use <code class="docutils literal notranslate"><span class="pre">bfs</span> <span class="pre">eauto</span></code> with the <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:flag.Info-Eauto" title="Info Eauto"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Info</span> <span class="pre">Eauto</span></code></a> or <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:flag.Debug-Eauto" title="Debug Eauto"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Debug</span> <span class="pre">Eauto</span></code></a> flags instead.)
(<a class="reference external" href="https://github.com/coq/coq/pull/13381">#13381</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="addendum/micromega.html#coq:tacn.lia" title="lia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lia</span></code></a> is extended to deal with boolean operators e.g. <code class="docutils literal notranslate"><span class="pre">andb</span></code> or <code class="docutils literal notranslate"><span class="pre">Z.leb</span></code>.
(As <code class="docutils literal notranslate"><span class="pre">lia</span></code> gets more powerful, this may break proof scripts relying on <code class="docutils literal notranslate"><span class="pre">lia</span></code> failure.)
(<a class="reference external" href="https://github.com/coq/coq/pull/11906">#11906</a>,  by Frédéric Besson).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="proof-engine/tactics.html#coq:tacn.apply" title="apply"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">apply</span> <span class="pre">…</span> <span class="pre">in</span></code></a> supports several hypotheses
(<a class="reference external" href="https://github.com/coq/coq/pull/12246">#12246</a>,
by Hugo Herbelin; grants
<a class="reference external" href="https://github.com/coq/coq/pull/9816">#9816</a>).</p></li>
<li><p><strong>Added:</strong>
The <a class="reference internal" href="addendum/micromega.html#coq:tacn.zify" title="zify"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">zify</span></code></a> tactic can now be extended by redefining the <code class="docutils literal notranslate"><span class="pre">zify_pre_hook</span></code>
tactic. (<a class="reference external" href="https://github.com/coq/coq/pull/12552">#12552</a>,
by Kazuhiko Sakaguchi).</p></li>
<li><p><strong>Added:</strong>
The <a class="reference internal" href="addendum/micromega.html#coq:tacn.zify" title="zify"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">zify</span></code></a> tactic provides support for primitive integers (module <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">ZifyInt63</span></span></code>).
(<a class="reference external" href="https://github.com/coq/coq/pull/12648">#12648</a>,  by Frédéric Besson).</p></li>
<li><p><strong>Fixed:</strong>
Avoid exposing an internal name of the form <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">tmp</span></span></span></span></code> when applying the
<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">_</span></span></span></span></code> introduction pattern which would break a dependency
(<a class="reference external" href="https://github.com/coq/coq/pull/13337">#13337</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13336">#13336</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
The case of tactics, such as <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.eapply" title="eapply"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">eapply</span></code></a>, producing existential variables
under binders with an ill-formed instance
(<a class="reference external" href="https://github.com/coq/coq/pull/13373">#13373</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13363">#13363</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
<div class="section" id="id838">
<h4><a class="toc-backref" href="#id1588">Tactic language</a><a class="headerlink" href="#id838" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Added:</strong>
An if-then-else syntax to Ltac2
(<a class="reference external" href="https://github.com/coq/coq/pull/13232">#13232</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/10110">#10110</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Fixed:</strong>
Printing of the quotation qualifiers when printing <code class="code Coq docutils literal notranslate"><span class="keyword namespace"><span class="pre">Ltac</span></span></code> functions
(<a class="reference external" href="https://github.com/coq/coq/pull/13028">#13028</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/9716">#9716</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/13004">#13004</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
<div class="section" id="id844">
<h4><a class="toc-backref" href="#id1589">SSReflect</a><a class="headerlink" href="#id844" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Added:</strong>
SSReflect intro pattern ltac views <code class="docutils literal notranslate"><span class="pre">/[dup]</span></code>, <code class="docutils literal notranslate"><span class="pre">/[swap]</span></code> and <code class="docutils literal notranslate"><span class="pre">/[apply]</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/13317">#13317</a>,
by Cyril Cohen).</p></li>
<li><p><strong>Fixed:</strong>
Working around a bug of interaction between + and /(ltac:(...)) cf
<a class="reference external" href="https://github.com/coq/coq/issues/13458">#13458</a>
(<a class="reference external" href="https://github.com/coq/coq/pull/13459">#13459</a>,
by Cyril Cohen).</p></li>
</ul>
</div>
<div class="section" id="id848">
<h4><a class="toc-backref" href="#id1590">Commands and options</a><a class="headerlink" href="#id848" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
Drop prefixes from grammar non-terminal names,
e.g. &quot;constr:global&quot; -&gt; &quot;global&quot;, &quot;Prim.name&quot; -&gt; &quot;name&quot;.
Visible in the output of <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Print-Grammar" title="Print Grammar"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Grammar</span></code></a> and <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Print-Custom-Grammar" title="Print Custom Grammar"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Custom</span> <span class="pre">Grammar</span></code></a>.
(<a class="reference external" href="https://github.com/coq/coq/pull/13096">#13096</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Changed:</strong>
When declaring arbitrary terms as hints, unsolved
evars are not abstracted implicitly anymore and instead
raise an error
(<a class="reference external" href="https://github.com/coq/coq/pull/13139">#13139</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Removed:</strong>
In the <a class="reference internal" href="addendum/extraction.html#coq:cmd.Extraction-Language" title="Extraction Language"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Extraction</span> <span class="pre">Language</span></code></a> command, remove <code class="docutils literal notranslate"><span class="pre">Ocaml</span></code> as a valid value.
Use <code class="docutils literal notranslate"><span class="pre">OCaml</span></code> instead.  This was deprecated in Coq 8.8, <a class="reference external" href="https://github.com/coq/coq/pull/6261">#6261</a>
(<a class="reference external" href="https://github.com/coq/coq/pull/13016">#13016</a>, by Jim Fehrle).</p>
</li>
<li id="hintwarning"><p><strong>Deprecated:</strong>
Hint locality currently defaults to <a class="reference internal" href="language/core/modules.html#coq:attr.local" title="local"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">local</span></code></a> in a section and
<a class="reference internal" href="language/core/modules.html#coq:attr.global" title="global"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">global</span></code></a> otherwise, but this will change in a future release.
Hints added outside of sections without an explicit
locality now generate a deprecation warning. We recommend
using <a class="reference internal" href="language/core/modules.html#coq:attr.export" title="export"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">export</span></code></a> where possible
(<a class="reference external" href="https://github.com/coq/coq/pull/13384">#13384</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Deprecated:</strong>
<code class="docutils literal notranslate"><span class="pre">Grab</span> <span class="pre">Existential</span> <span class="pre">Variables</span></code> and <code class="docutils literal notranslate"><span class="pre">Existential</span></code> commands
(<a class="reference external" href="https://github.com/coq/coq/pull/12516">#12516</a>,
by Maxime Dénès).</p></li>
<li><p><strong>Added:</strong>
The <a class="reference internal" href="language/core/modules.html#coq:attr.export" title="export"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">export</span></code></a> locality can now be used for all Hint commands,
including <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Cut" title="Hint Cut"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Cut</span></code></a>, <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Mode" title="Hint Mode"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Mode</span></code></a>, <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Transparent" title="Hint Transparent"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Transparent</span></code></a> /
<a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Opaque" title="Hint Opaque"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Opaque</span></code></a> and
<a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Remove-Hints" title="Remove Hints"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Remove</span> <span class="pre">Hints</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/13388">#13388</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Added:</strong>
Support for automatic insertion of coercions in <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Search" title="Search"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Search</span></code></a>
patterns. Additionally, head patterns are now automatically
interpreted as types
(<a class="reference external" href="https://github.com/coq/coq/pull/13255">#13255</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13244">#13244</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Added:</strong>
The <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:cmd.Proof-using" title="Proof using"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Proof</span> <span class="pre">using</span></code></a> command can now be used without loading the
Ltac plugin (<code class="docutils literal notranslate"><span class="pre">-noinit</span></code> mode)
(<a class="reference external" href="https://github.com/coq/coq/pull/13339">#13339</a>,
by Théo Zimmermann).</p></li>
<li><p><strong>Added:</strong>
Clarify in the documentation that <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Add-ML-Path" title="Add ML Path"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Add</span> <span class="pre">ML</span> <span class="pre">Path</span></code></a> is not exported to compiled files
(<a class="reference external" href="https://github.com/coq/coq/pull/13345">#13345</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13344">#13344</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
<div class="section" id="tools">
<h4><a class="toc-backref" href="#id1591">Tools</a><a class="headerlink" href="#tools" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
Option <code class="docutils literal notranslate"><span class="pre">-native-compiler</span></code> of the configure script now impacts the
default value of the <code class="docutils literal notranslate"><span class="pre">-native-compiler</span></code> option of coqc. The
<code class="docutils literal notranslate"><span class="pre">-native-compiler</span></code> option of the configure script supports a new <code class="docutils literal notranslate"><span class="pre">ondemand</span></code>
value, which becomes the default, thus preserving the previous default
behavior.
The stdlib is still precompiled when configuring with <code class="docutils literal notranslate"><span class="pre">-native-compiler</span>
<span class="pre">yes</span></code>. It is not precompiled otherwise.
This an implementation of point 2 of
<a class="reference external" href="https://github.com/coq/ceps/pull/48">CEP #48</a>
(<a class="reference external" href="https://github.com/coq/coq/pull/13352">#13352</a>,
by Pierre Roux).</p></li>
<li><p><strong>Changed:</strong>
Added the ability for coq_makefile to directly set the installation folders,
through the <code class="docutils literal notranslate"><span class="pre">COQLIBINSTALL</span></code> and <code class="docutils literal notranslate"><span class="pre">COQDOCINSTALL</span></code> variables.
See <a class="reference internal" href="practical-tools/utilities.html#coqmakefilelocal"><span class="std std-ref">CoqMakefile.local</span></a>.
(<a class="reference external" href="https://github.com/coq/coq/pull/12389">#12389</a>, by Martin Bodin, review of Enrico Tassi).</p></li>
<li><p><strong>Removed:</strong> The option <code class="docutils literal notranslate"><span class="pre">-I</span></code> of coqchk was removed (it was
deprecated in Coq 8.8) (<a class="reference external" href="https://github.com/coq/coq/pull/12613">#12613</a>, by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
<code class="docutils literal notranslate"><span class="pre">coqchk</span></code> no longer reports names from inner modules of opaque modules as
axioms (<a class="reference external" href="https://github.com/coq/coq/pull/12862">#12862</a>, fixes <a class="reference external" href="https://github.com/coq/coq/issues/12845">#12845</a>, by Jason Gross).</p></li>
</ul>
</div>
<div class="section" id="id866">
<h4><a class="toc-backref" href="#id1592">CoqIDE</a><a class="headerlink" href="#id866" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Added:</strong>
Support showing diffs for <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:cmd.Show-Proof" title="Show Proof"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Show</span> <span class="pre">Proof</span></code></a> in CoqIDE from the <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">View</span></span></span></span></code> menu.
See <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#id10"><span class="std std-ref">&quot;Show Proof&quot; differences</span></a>.
(<a class="reference external" href="https://github.com/coq/coq/pull/12874">#12874</a>,
by Jim Fehrle and Enrico Tassi)</p></li>
<li><p><strong>Added:</strong>
Support for flag <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:flag.Printing-Goal-Names" title="Printing Goal Names"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Goal</span> <span class="pre">Names</span></code></a> in View menu
(<a class="reference external" href="https://github.com/coq/coq/pull/13145">#13145</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
<div class="section" id="id869">
<h4><a class="toc-backref" href="#id1593">Standard library</a><a class="headerlink" href="#id869" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
In the reals theory changed the epsilon in the definition of the modulus of convergence for CReal from 1/n (n in positive) to 2^z (z in Z)
so that a precision coarser than one is possible. Also added an upper bound to CReal to enable more efficient computations.
(<a class="reference external" href="https://github.com/coq/coq/pull/12186">#12186</a>,
by Michael Soegtrop).</p></li>
<li><p><strong>Changed:</strong>
Int63 notations now match up with the rest of the standard library: <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">a</span></span> <span class="name builtin pseudo"><span class="pre">\</span></span><span class="operator"><span class="pre">%</span></span>
<span class="name"><span class="pre">m</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">m</span></span> <span class="operator"><span class="pre">==</span></span> <span class="name"><span class="pre">n</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">m</span></span> <span class="operator"><span class="pre">&lt;</span></span> <span class="name"><span class="pre">n</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">m</span></span> <span class="operator"><span class="pre">&lt;=</span></span> <span class="name"><span class="pre">n</span></span></code>, and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">m</span></span> <span class="operator"><span class="pre">≤</span></span> <span class="name"><span class="pre">n</span></span></code> have been replaced
with <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">a</span></span> <span class="name"><span class="pre">mod</span></span> <span class="name"><span class="pre">m</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">m</span></span> <span class="operator"><span class="pre">=?</span></span> <span class="name"><span class="pre">n</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">m</span></span> <span class="operator"><span class="pre">&lt;?</span></span> <span class="name"><span class="pre">n</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">m</span></span> <span class="operator"><span class="pre">&lt;=?</span></span> <span class="name"><span class="pre">n</span></span></code>, and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">m</span></span> <span class="operator"><span class="pre">≤?</span></span> <span class="name"><span class="pre">n</span></span></code>.
The old notations are still available as deprecated notations.  Additionally,
there is now a <code class="docutils literal notranslate"><span class="pre">Coq.Numbers.Cyclic.Int63.Int63.Int63Notations</span></code> module that
users can import to get the <code class="docutils literal notranslate"><span class="pre">Int63</span></code> notations without unqualifying the
various primitives (<a class="reference external" href="https://github.com/coq/coq/pull/12479">#12479</a>, fixes
<a class="reference external" href="https://github.com/coq/coq/issues/12454">#12454</a>, by Jason Gross).</p></li>
<li><p><strong>Changed:</strong>
PrimFloat notations now match up with the rest of the standard library: <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">m</span></span>
<span class="operator"><span class="pre">==</span></span> <span class="name"><span class="pre">n</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">m</span></span> <span class="operator"><span class="pre">&lt;</span></span> <span class="name"><span class="pre">n</span></span></code>, and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">m</span></span> <span class="operator"><span class="pre">&lt;=</span></span> <span class="name"><span class="pre">n</span></span></code> have been replaced with <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">m</span></span> <span class="operator"><span class="pre">=?</span></span> <span class="name"><span class="pre">n</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">m</span></span>
<span class="operator"><span class="pre">&lt;?</span></span> <span class="name"><span class="pre">n</span></span></code>, and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">m</span></span> <span class="operator"><span class="pre">&lt;=?</span></span> <span class="name"><span class="pre">n</span></span></code>.  The old notations are still available as deprecated
notations.  Additionally, there is now a
<code class="docutils literal notranslate"><span class="pre">Coq.Floats.PrimFloat.PrimFloatNotations</span></code> module that users can import to
get the <code class="docutils literal notranslate"><span class="pre">PrimFloat</span></code> notations without unqualifying the various primitives
(<a class="reference external" href="https://github.com/coq/coq/pull/12556">#12556</a>, fixes <a class="reference external" href="https://github.com/coq/coq/issues/12454">#12454</a>, by Jason Gross).</p></li>
<li><p><strong>Changed:</strong> the sort of cyclic numbers from Type to Set.
For backward compatibility, a dynamic sort was defined in the 3 packages bignums, coqprime and color.
See for example commit 6f62bda in bignums.
(<a class="reference external" href="https://github.com/coq/coq/pull/12801">#12801</a>,
by Vincent Semeria).</p></li>
<li><p><strong>Changed:</strong>
<code class="docutils literal notranslate"><span class="pre">Require</span> <span class="pre">Import</span> <span class="pre">Coq.nsatz.NsatzTactic</span></code> now allows using <a class="reference internal" href="addendum/nsatz.html#coq:tacn.nsatz" title="nsatz"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">nsatz</span></code></a>
with <code class="docutils literal notranslate"><span class="pre">Z</span></code> and <code class="docutils literal notranslate"><span class="pre">Q</span></code> without having to supply instances or using <code class="docutils literal notranslate"><span class="pre">Require</span> <span class="pre">Import</span> <span class="pre">Coq.nsatz.Nsatz</span></code>, which
transitively requires unneeded files declaring axioms used in the reals
(<a class="reference external" href="https://github.com/coq/coq/pull/12861">#12861</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12860">#12860</a>,
by Jason Gross).</p></li>
<li><p><strong>Deprecated:</strong>
<code class="docutils literal notranslate"><span class="pre">prod_curry</span></code> and <code class="docutils literal notranslate"><span class="pre">prod_uncurry</span></code>, in favor of <code class="docutils literal notranslate"><span class="pre">uncurry</span></code> and <code class="docutils literal notranslate"><span class="pre">curry</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/12716">#12716</a>,
by Yishuai Li).</p></li>
<li><p><strong>Added:</strong>
New lemmas about <code class="docutils literal notranslate"><span class="pre">repeat</span></code> in <code class="docutils literal notranslate"><span class="pre">List</span></code> and <code class="docutils literal notranslate"><span class="pre">Permutation</span></code>: <code class="docutils literal notranslate"><span class="pre">repeat_app</span></code>, <code class="docutils literal notranslate"><span class="pre">repeat_eq_app</span></code>, <code class="docutils literal notranslate"><span class="pre">repeat_eq_cons</span></code>, <code class="docutils literal notranslate"><span class="pre">repeat_eq_elt</span></code>, <code class="docutils literal notranslate"><span class="pre">Forall_eq_repeat</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_repeat</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/12799">#12799</a>,
by Olivier Laurent).</p></li>
<li><p><strong>Added:</strong>
Extend some list lemmas to both directions: <code class="docutils literal notranslate"><span class="pre">app_inj_tail_iff</span></code>, <code class="docutils literal notranslate"><span class="pre">app_inv_head_iff</span></code>, <code class="docutils literal notranslate"><span class="pre">app_inv_tail_iff</span></code>.
(<a class="reference external" href="https://github.com/coq/coq/pull/12094">#12094</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12093">#12093</a>,
by Edward Wang).</p></li>
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">Decidable</span></code> instance for negation
(<a class="reference external" href="https://github.com/coq/coq/pull/12420">#12420</a>,
by Yishuai Li).</p></li>
<li><p><strong>Fixed:</strong>
<code class="docutils literal notranslate"><span class="pre">Coq.Program.Wf.Fix_F_inv</span></code> and <code class="docutils literal notranslate"><span class="pre">Coq.Program.Wf.Fix_eq</span></code> are now axiom-free. They no longer assume proof irrelevance.
(<a class="reference external" href="https://github.com/coq/coq/pull/13365">#13365</a>,
by Li-yao Xia).</p></li>
</ul>
</div>
<div class="section" id="id884">
<h4><a class="toc-backref" href="#id1594">Infrastructure and dependencies</a><a class="headerlink" href="#id884" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
When compiled with OCaml &gt;= 4.10.0, Coq will use the new best-fit GC
policy, which should provide some performance benefits. Coq's policy
is optimized for speed, but could increase memory consumption in
some cases. You are welcome to tune it using the <code class="docutils literal notranslate"><span class="pre">OCAMLRUNPARAM</span></code>
variable and report back on good settings so we can improve the defaults.
(<a class="reference external" href="https://github.com/coq/coq/pull/13040">#13040</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11277">#11277</a>,
by Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Changed:</strong>
Coq now uses the <a class="reference external" href="https://github.com/ocaml/Zarith">zarith</a>
library, based on GNU's gmp instead of <code class="docutils literal notranslate"><span class="pre">num</span></code> which is
deprecated upstream. The custom <code class="docutils literal notranslate"><span class="pre">bigint</span></code> module is
no longer provided.
(<a class="reference external" href="https://github.com/coq/coq/pull/11742">#11742</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/13007">#13007</a>,
by Emilio Jesus Gallego Arias and Vicent Laporte, with help from
Frédéric Besson).</p></li>
</ul>
</div>
</div>
<div class="section" id="changes-in-8-13-0">
<h3>Changes in 8.13.0<a class="headerlink" href="#changes-in-8-13-0" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id890">
<h4>Commands and options<a class="headerlink" href="#id890" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
The warning <code class="docutils literal notranslate"><span class="pre">custom-entry-overriden</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">custom-entry-overridden</span></code> (with two d's).
(<a class="reference external" href="https://github.com/coq/coq/pull/13556">#13556</a>,
by Simon Friis Vindum).</p></li>
</ul>
</div>
</div>
<div class="section" id="changes-in-8-13-1">
<h3>Changes in 8.13.1<a class="headerlink" href="#changes-in-8-13-1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id892">
<h4>Kernel<a class="headerlink" href="#id892" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Fix arities of VM opcodes for some floating-point operations
that could cause memory corruption
(<a class="reference external" href="https://github.com/coq/coq/pull/13867">#13867</a>,
by Guillaume Melquiond).</p></li>
</ul>
</div>
<div class="section" id="id894">
<h4>CoqIDE<a class="headerlink" href="#id894" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Added:</strong>
Option <code class="docutils literal notranslate"><span class="pre">-v</span></code> and <code class="docutils literal notranslate"><span class="pre">--version</span></code> to CoqIDE
(<a class="reference external" href="https://github.com/coq/coq/pull/13870">#13870</a>,
by Guillaume Melquiond).</p></li>
</ul>
</div>
</div>
<div class="section" id="changes-in-8-13-2">
<h3>Changes in 8.13.2<a class="headerlink" href="#changes-in-8-13-2" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id896">
<h4>Kernel<a class="headerlink" href="#id896" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Crash when using <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.vm_compute" title="vm_compute"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">vm_compute</span></code></a> on an irreducible <code class="docutils literal notranslate"><span class="pre">PArray.set</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/14005">#14005</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13998">#13998</a>,
by Guillaume Melquiond).</p></li>
<li><p><strong>Fixed:</strong>
Never store persistent arrays as VM / native structured values.
This could be used to make vo marshalling crash, and probably
breaking some other invariants of the kernel
(<a class="reference external" href="https://github.com/coq/coq/pull/14007">#14007</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/14006">#14006</a>,
by Pierre-Marie Pédrot).</p></li>
</ul>
</div>
<div class="section" id="id901">
<h4>Tactic language<a class="headerlink" href="#id901" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Ltac2 <code class="docutils literal notranslate"><span class="pre">Array.init</span></code> no longer incurs exponential overhead when used
recursively (<a class="reference external" href="https://github.com/coq/coq/pull/14012">#14012</a>, fixes <a class="reference external" href="https://github.com/coq/coq/issues/14011">#14011</a>, by Jason Gross).</p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="version-8-12">
<h2>Version 8.12<a class="headerlink" href="#version-8-12" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id904">
<h3>Summary of changes<a class="headerlink" href="#id904" title="Permalink to this headline">¶</a></h3>
<p>Coq version 8.12 integrates many usability improvements,
in particular with respect to notations, scopes and implicit arguments,
along with many bug fixes and major improvements to the reference manual.
The main changes include:</p>
<ul class="simple">
<li><p>New <a class="reference internal" href="#implicit"><span class="std std-ref">binder notation</span></a> for non-maximal implicit arguments using <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">[</span></span> <span class="operator"><span class="pre">]</span></span></code>
allowing to set and see the implicit status of arguments immediately.</p></li>
<li><p>New notation <code class="code Coq docutils literal notranslate"><span class="keyword namespace"><span class="pre">Inductive</span></span> <span class="name"><span class="pre">I</span></span> <span class="name"><span class="pre">A</span></span> <span class="operator"><span class="pre">|</span></span> <span class="name"><span class="pre">x</span></span> <span class="operator"><span class="pre">:</span></span> <span class="name"><span class="pre">s</span></span> <span class="operator"><span class="pre">:=</span></span> <span class="operator"><span class="pre">...</span></span></code> to distinguish the
<a class="reference internal" href="#uniform"><span class="std std-ref">uniform</span></a> from the non-uniform parameters in inductive definitions.</p></li>
<li><p>More robust and expressive treatment of <a class="reference internal" href="#implicitinductive"><span class="std std-ref">implicit inductive</span></a>
parameters in inductive declarations.</p></li>
<li><p>Improvements in the treatment of implicit arguments and partially applied
constants in <a class="reference internal" href="#id934"><span class="std std-ref">notations</span></a>, parsing of hexadecimal number notation and better
handling of scopes and coercions for printing.</p></li>
<li><p>A correct and efficient <a class="reference internal" href="#coercions"><span class="std std-ref">coercion coherence</span></a> checking algorithm, avoiding
spurious or duplicate warnings.</p></li>
<li><p>An improved <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Search" title="Search"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Search</span></code></a> <a class="reference internal" href="#search"><span class="std std-ref">command</span></a> which accepts complex queries. Note that
this takes precedence over the now deprecated <a class="reference internal" href="#ssrsearch"><span class="std std-ref">ssreflect search</span></a>.</p></li>
<li><p>Many additions and improvements of the <a class="reference internal" href="#id1075"><span class="std std-ref">standard library</span></a>.</p></li>
<li><p>Improvements to the <a class="reference internal" href="#refman"><span class="std std-ref">reference manual</span></a> include a more logical organization
of chapters along with updated syntax descriptions that match Coq's grammar
in most but not all chapters.</p></li>
</ul>
<p>Additionally, the <code class="docutils literal notranslate"><span class="pre">omega</span></code> tactic is deprecated in this version of Coq,
and we recommend users to switch to <a class="reference internal" href="addendum/micromega.html#coq:tacn.lia" title="lia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lia</span></code></a> in new proof scripts.</p>
<p>See the <a class="reference internal" href="#changes-in-8-12-beta1">Changes in 8.12+beta1</a> section and following sections for the
detailed list of changes, including potentially breaking changes marked
with <strong>Changed</strong>.</p>
<p>Coq's documentation is available at <a class="reference external" href="https://coq.github.io/doc/v8.12/refman">https://coq.github.io/doc/v8.12/refman</a> (reference
manual), and <a class="reference external" href="https://coq.github.io/doc/v8.12/stdlib">https://coq.github.io/doc/v8.12/stdlib</a> (documentation of
the standard library). Developer documentation of the ML API is available
at <a class="reference external" href="https://coq.github.io/doc/v8.12/api">https://coq.github.io/doc/v8.12/api</a>.</p>
<p>Maxime Dénès, Emilio Jesús Gallego Arias, Gaëtan Gilbert, Michael
Soegtrop and Théo Zimmermann worked on maintaining and improving the
continuous integration system and package building infrastructure.</p>
<p>Erik Martin-Dorel has maintained the <a class="reference external" href="https://hub.docker.com/r/coqorg/coq">Coq Docker images</a> that are used in many Coq
projects for continuous integration.</p>
<p>The opam repository for Coq packages has been maintained by
Guillaume Claret, Karl Palmskog, Matthieu Sozeau and Enrico Tassi with
contributions from many users. A list of packages is available at
<a class="reference external" href="https://coq.inria.fr/opam/www/">https://coq.inria.fr/opam/www/</a>.</p>
<p>Previously, most components of Coq had a single principal maintainer.
This was changed in 8.12 (<a class="reference external" href="https://github.com/coq/coq/pull/11295">#11295</a>) so that every component now has
a team of maintainers, who are in charge of reviewing and
merging incoming pull requests.  This gave us a chance to
significantly expand the pool of maintainters and provide faster
feedback to contributors.  Special thanks to all our maintainers!</p>
<p>Our current 31 maintainers are Yves Bertot, Frédéric Besson, Tej
Chajed, Cyril Cohen, Pierre Corbineau, Pierre Courtieu, Maxime Dénès,
Jim Fehrle, Julien Forest, Emilio Jesús Gallego Arias, Gaëtan Gilbert,
Georges Gonthier, Benjamin Grégoire, Jason Gross, Hugo Herbelin,
Vincent Laporte, Assia Mahboubi, Kenji Maillard, Guillaume Melquiond,
Pierre-Marie Pédrot, Clément Pit-Claudel, Kazuhiko Sakaguchi, Vincent
Semeria, Michael Soegtrop, Arnaud Spiwack, Matthieu Sozeau, Enrico
Tassi, Laurent Théry, Anton Trunov, Li-yao Xia, Théo Zimmermann</p>
<p>The 59 contributors to this version are Abhishek Anand, Yves Bertot, Frédéric
Besson, Lasse Blaauwbroek, Simon Boulier, Quentin Carbonneaux, Tej Chajed,
Arthur Charguéraud, Cyril Cohen, Pierre Courtieu, Matthew Dempsky, Maxime Dénès,
Andres Erbsen, Erika (&#64;rrika), Nikita Eshkeev, Jim Fehrle, &#64;formalize, Emilio
Jesús Gallego Arias, Paolo G. Giarrusso, Gaëtan Gilbert, Jason Gross, Samuel
Gruetter, Attila Gáspár, Hugo Herbelin, Jan-Oliver Kaiser, Robbert Krebbers,
Vincent Laporte, Olivier Laurent, Xavier Leroy, Thomas Letan, Yishuai Li,
Kenji Maillard, Erik Martin-Dorel, Guillaume Melquiond, Ike Mulder,
Guillaume Munch-Maccagnoni, Antonio Nikishaev, Karl Palmskog, Pierre-Marie
Pédrot, Clément Pit-Claudel, Ramkumar Ramachandra, Lars Rasmusson, Daniel
de Rauglaudre, Talia Ringer, Pierre Roux, Kazuhiko Sakaguchi, Vincent Semeria,
&#64;scinart, Kartik Singhal, Michael Soegtrop, Matthieu Sozeau, Enrico Tassi,
Laurent Théry, Ralf Treinen, Anton Trunov, Bernhard M. Wiedemann, Li-yao Xia,
Nickolai Zeldovich and Théo Zimmermann.</p>
<p>Many power users helped to improve the design of this new version via
the GitHub issue and pull request system, the Coq development mailing list
<a class="reference external" href="mailto:coqdev&#37;&#52;&#48;inria&#46;fr">coqdev<span>&#64;</span>inria<span>&#46;</span>fr</a>, the <a class="reference external" href="mailto:coq-club&#37;&#52;&#48;inria&#46;fr">coq-club<span>&#64;</span>inria<span>&#46;</span>fr</a> mailing list, the <a class="reference external" href="https://coq.discourse.group/">Discourse forum</a> and the new <a class="reference external" href="https://coq.zulipchat.com">Coq Zulip chat</a>
(thanks to Cyril Cohen for organizing the move from Gitter).</p>
<p>Version 8.12's development spanned 6 months from the release of
Coq 8.11.0. Emilio Jesus Gallego Arias and Théo Zimmermann are
the release managers of Coq 8.12. This release is the result of
~500 PRs merged, closing ~100 issues.</p>
<div class="line-block">
<div class="line">Nantes, June 2020,</div>
<div class="line">Matthieu Sozeau for the Coq development team</div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="changes-in-8-12-beta1">
<h3>Changes in 8.12+beta1<a class="headerlink" href="#changes-in-8-12-beta1" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id909">
<ul class="simple">
<li><p><a class="reference internal" href="#id910" id="id1595">Kernel</a></p></li>
<li><p><a class="reference internal" href="#id913" id="id1596">Specification language, type inference</a></p></li>
<li><p><a class="reference internal" href="#id934" id="id1597">Notations</a></p></li>
<li><p><a class="reference internal" href="#id955" id="id1598">Tactics</a></p></li>
<li><p><a class="reference internal" href="#id996" id="id1599">Tactic language</a></p></li>
<li><p><a class="reference internal" href="#id1005" id="id1600">SSReflect</a></p></li>
<li><p><a class="reference internal" href="#flags-options-and-attributes" id="id1601">Flags, options and attributes</a></p></li>
<li><p><a class="reference internal" href="#id1019" id="id1602">Commands</a></p></li>
<li><p><a class="reference internal" href="#id1037" id="id1603">Tools</a></p></li>
<li><p><a class="reference internal" href="#id1072" id="id1604">CoqIDE</a></p></li>
<li><p><a class="reference internal" href="#id1075" id="id1605">Standard library</a></p></li>
<li><p><a class="reference internal" href="#reals-library" id="id1606">Reals library</a></p></li>
<li><p><a class="reference internal" href="#id1112" id="id1607">Extraction</a></p></li>
<li><p><a class="reference internal" href="#refman" id="id1608">Reference manual</a></p></li>
<li><p><a class="reference internal" href="#id1150" id="id1609">Infrastructure and dependencies</a></p></li>
</ul>
</div>
<div class="section" id="id910">
<h4><a class="toc-backref" href="#id1595">Kernel</a><a class="headerlink" href="#id910" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Specification of <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">PrimFloat.leb</span></span></span></span></code> which made
<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">(x</span></span></span> <span><span><span class="pre">&lt;=</span></span></span> <span><span><span class="pre">y)%float</span></span></span></span></code> true for any non-NaN <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">x</span></span></span></span></code> and <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">y</span></span></span></span></code>.
(<a class="reference external" href="https://github.com/coq/coq/pull/12484">#12484</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12483">#12483</a>,
by Pierre Roux).</p></li>
</ul>
</div>
<div class="section" id="id913">
<h4><a class="toc-backref" href="#id1596">Specification language, type inference</a><a class="headerlink" href="#id913" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
The deprecation warning raised since Coq 8.10 when a trailing
implicit is declared to be non-maximally inserted (with the command
<a class="reference internal" href="language/extensions/arguments-command.html#coq:cmd.Arguments" title="Arguments"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Arguments</span></code></a>) has been turned into an error
(<a class="reference external" href="https://github.com/coq/coq/pull/11368">#11368</a>,
by SimonBoulier).</p></li>
<li><p><strong>Changed:</strong>
Typeclass resolution, accessible through <a class="reference internal" href="addendum/type-classes.html#coq:tacn.typeclasses-eauto" title="typeclasses eauto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">typeclasses</span> <span class="pre">eauto</span></code></a>,
now suspends constraints according to their modes
instead of failing. If a typeclass constraint does not match
any of the declared modes for its class, the constraint is postponed, and
the proof search continues on other goals. Proof search does a fixed point
computation to try to solve them at a later stage of resolution. It does
not fail if there remain only stuck constraints at the end of resolution.
This makes typeclasses with declared modes more robust with respect to the
order of resolution.
(<a class="reference external" href="https://github.com/coq/coq/pull/10858">#10858</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/9058">#9058</a>, by Matthieu Sozeau).</p></li>
<li><p><strong>Added:</strong>
Warn when manual implicit arguments are used in unexpected positions
of a term (e.g. in <code class="docutils literal notranslate"><span class="pre">Check</span> <span class="pre">id</span> <span class="pre">(forall</span> <span class="pre">{x},</span> <span class="pre">x)</span></code>) or when an implicit
argument name is shadowed (e.g. in <code class="docutils literal notranslate"><span class="pre">Check</span> <span class="pre">fun</span> <span class="pre">f</span> <span class="pre">:</span> <span class="pre">forall</span> <span class="pre">{x:nat}</span>
<span class="pre">{x},</span> <span class="pre">nat</span> <span class="pre">=&gt;</span> <span class="pre">f</span></code>)
(<a class="reference external" href="https://github.com/coq/coq/pull/10202">#10202</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="language/extensions/arguments-command.html#coq:cmd.Arguments" title="Arguments"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Arguments</span></code></a> now supports setting
implicit an anonymous argument, as e.g. in <code class="docutils literal notranslate"><span class="pre">Arguments</span> <span class="pre">id</span> <span class="pre">{A}</span> <span class="pre">{_}</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/11098">#11098</a>,
by Hugo Herbelin, fixes <a class="reference external" href="https://github.com/coq/coq/pull/4696">#4696</a>, <a class="reference external" href="https://github.com/coq/coq/pull/5173">#5173</a>, <a class="reference external" href="https://github.com/coq/coq/pull/9098">#9098</a>).</p>
</li>
<li id="implicit"><p><strong>Added:</strong>
Syntax for non-maximal implicit arguments in definitions and terms using
square brackets. The syntax is <code class="docutils literal notranslate"><span class="pre">[x</span> <span class="pre">:</span> <span class="pre">A]</span></code>, <code class="docutils literal notranslate"><span class="pre">[x]</span></code>, <code class="docutils literal notranslate"><span class="pre">`[A]</span></code>
to be consistent with the command <a class="reference internal" href="language/extensions/arguments-command.html#coq:cmd.Arguments" title="Arguments"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Arguments</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/11235">#11235</a>,
by Simon Boulier).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="language/extensions/implicit-arguments.html#coq:cmd.Implicit-Types" title="Implicit Types"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Implicit</span> <span class="pre">Types</span></code></a> are now taken into account for printing. To inhibit it,
unset the <a class="reference internal" href="language/extensions/implicit-arguments.html#coq:flag.Printing-Use-Implicit-Types" title="Printing Use Implicit Types"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Use</span> <span class="pre">Implicit</span> <span class="pre">Types</span></code></a> flag
(<a class="reference external" href="https://github.com/coq/coq/pull/11261">#11261</a>,
by Hugo Herbelin, granting <a class="reference external" href="https://github.com/coq/coq/pull/10366">#10366</a>).</p>
</li>
<li id="uniform"><p><strong>Added:</strong>
New syntax <a class="reference internal" href="language/core/inductive.html#coq:cmd.Inductive" title="Inductive"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Inductive</span></code></a> <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="language/core/assumptions.html#grammar-token-binder"><span class="hole"><span class="pre">binder</span></span></a></span><span class="notation-sup"><span class="pre">*</span></span></span> <span class="pre">|</span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="language/core/assumptions.html#grammar-token-binder"><span class="hole"><span class="pre">binder</span></span></a></span><span class="notation-sup"><span class="pre">*</span></span></span> <span><span><span class="pre">:=</span></span></span> <span><span><span class="pre">...</span></span></span></span></code>
to specify which parameters of an inductive type are uniform.
See <a class="reference internal" href="language/core/inductive.html#parametrized-inductive-types"><span class="std std-ref">Parameterized inductive types</span></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/11600">#11600</a>, by Gaëtan Gilbert).</p></li>
<li><p><strong>Added:</strong>
Warn when using <a class="reference internal" href="language/core/inductive.html#coq:cmd.Fixpoint" title="Fixpoint"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Fixpoint</span></code></a> or <a class="reference internal" href="language/core/coinductive.html#coq:cmd.CoFixpoint" title="CoFixpoint"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">CoFixpoint</span></code></a> for
definitions which are not recursive
(<a class="reference external" href="https://github.com/coq/coq/pull/12121">#12121</a>,
by Hugo Herbelin).</p>
</li>
<li id="implicitinductive"><p><strong>Fixed:</strong>
More robust and expressive treatment of implicit inductive
parameters in inductive declarations (<a class="reference external" href="https://github.com/coq/coq/pull/11579">#11579</a>, by Maxime Dénès, Gaëtan
Gilbert and Jasper Hugunin; fixes <a class="reference external" href="https://github.com/coq/coq/pull/7253">#7253</a> and <a class="reference external" href="https://github.com/coq/coq/pull/11585">#11585</a>).</p></li>
<li><p><strong>Fixed:</strong>
Anomaly which could be raised when printing binders with implicit types
(<a class="reference external" href="https://github.com/coq/coq/pull/12323">#12323</a>,
by Hugo Herbelin; fixes <a class="reference external" href="https://github.com/coq/coq/pull/12322">#12322</a>).</p></li>
<li><p><strong>Fixed:</strong>
Case of an anomaly in trying to infer the return clause of an ill-typed <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">match</span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/12422">#12422</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/pull/12418">#12418</a>,
by Hugo Herbelin).</p>
</li>
</ul>
</div>
<div class="section" id="id934">
<span id="id935"></span><h4><a class="toc-backref" href="#id1597">Notations</a><a class="headerlink" href="#id934" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong> Notation scopes are now always inherited in
notations binding a partially applied constant, including for
notations binding an expression of the form <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">&#64;</span></span></span><a class="reference internal" href="language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a></span></code>. The latter was
not the case beforehand
(part of <a class="reference external" href="https://github.com/coq/coq/pull/11120">#11120</a>).</p></li>
<li><p><strong>Changed:</strong>
The printing algorithm now interleaves search for notations and removal of coercions
(<a class="reference external" href="https://github.com/coq/coq/pull/11172">#11172</a>, by Hugo Herbelin).</p></li>
<li><p><strong>Changed:</strong>
Nicer printing for decimal constants in R and Q.
1.5 is now printed 1.5 rather than 15e-1
(<a class="reference external" href="https://github.com/coq/coq/pull/11848">#11848</a>,
by Pierre Roux).</p></li>
<li><p><strong>Removed:</strong> deprecated <code class="docutils literal notranslate"><span class="pre">compat</span></code> modifier of <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Notation" title="Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Notation</span></code></a>
and <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Infix" title="Infix"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Infix</span></code></a> commands. Use the <a class="reference internal" href="using/libraries/writing.html#coq:attr.deprecated" title="deprecated"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">deprecated</span></code></a> attribute instead
(<a class="reference external" href="https://github.com/coq/coq/pull/11113">#11113</a>,
by Théo Zimmermann, with help from Jason Gross).</p></li>
<li><p><strong>Deprecated:</strong>
Numeral Notation on <code class="docutils literal notranslate"><span class="pre">Decimal.uint</span></code>, <code class="docutils literal notranslate"><span class="pre">Decimal.int</span></code> and
<code class="docutils literal notranslate"><span class="pre">Decimal.decimal</span></code> are replaced respectively by numeral notations
on <code class="docutils literal notranslate"><span class="pre">Numeral.uint</span></code>, <code class="docutils literal notranslate"><span class="pre">Numeral.int</span></code> and <code class="docutils literal notranslate"><span class="pre">Numeral.numeral</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/11948">#11948</a>,
by Pierre Roux).</p></li>
<li><p><strong>Added:</strong>
Notations declared with the <code class="docutils literal notranslate"><span class="pre">where</span></code> clause in the declaration of
inductive types, coinductive types, record fields, fixpoints and
cofixpoints now support the <code class="docutils literal notranslate"><span class="pre">only</span> <span class="pre">parsing</span></code> modifier
(<a class="reference external" href="https://github.com/coq/coq/pull/11602">#11602</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="user-extensions/syntax-extensions.html#coq:flag.Printing-Parentheses" title="Printing Parentheses"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Parentheses</span></code></a> flag to print parentheses even when
implied by associativity or precedence
(<a class="reference external" href="https://github.com/coq/coq/pull/11650">#11650</a>,
by Hugo Herbelin and Abhishek Anand).</p></li>
<li><p><strong>Added:</strong>
Numeral notations now parse hexadecimal constants such as <code class="docutils literal notranslate"><span class="pre">0x2a</span></code>
or <code class="docutils literal notranslate"><span class="pre">0xb.2ap-2</span></code>. Parsers added for <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">nat</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">positive</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Z</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">N</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Q</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">R</span></span></code>, primitive integers and primitive floats
(<a class="reference external" href="https://github.com/coq/coq/pull/11948">#11948</a>,
by Pierre Roux).</p></li>
<li><p><strong>Added:</strong>
Abbreviations support arguments occurring both in term and binder position
(<a class="reference external" href="https://github.com/coq/coq/pull/8808">#8808</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Different interpretations in different scopes of the same notation
string can now be associated with different printing formats (<a class="reference external" href="https://github.com/coq/coq/pull/10832">#10832</a>, by Hugo Herbelin,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/6092">#6092</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/7766">#7766</a>).</p></li>
<li><p><strong>Fixed:</strong> Parsing and printing consistently handle inheritance of implicit
arguments in notations. With the exception of notations of
the form <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Notation</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-string"><span class="hole"><span class="pre">string</span></span></a> <span><span><span class="pre">:=</span></span></span> <span><span><span class="pre">&#64;</span></span></span><a class="reference internal" href="language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a></span></code> and <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Notation</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span><span><span class="pre">:=</span></span></span> <span><span><span class="pre">&#64;</span></span></span><a class="reference internal" href="language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a></span></code> which
inhibit implicit arguments, all notations binding a partially
applied constant, as e.g. in <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Notation</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-string"><span class="hole"><span class="pre">string</span></span></a> <span><span><span class="pre">:=</span></span></span> <span><span><span class="pre">(</span></span></span><a class="reference internal" href="language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="language/core/assumptions.html#grammar-token-arg"><span class="hole"><span class="pre">arg</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span></span><span><span><span class="pre">)</span></span></span></span></code>,
or <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Notation</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-string"><span class="hole"><span class="pre">string</span></span></a> <span><span><span class="pre">:=</span></span></span> <span><span><span class="pre">(</span></span></span><span><span><span class="pre">&#64;</span></span></span><a class="reference internal" href="language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="language/core/assumptions.html#grammar-token-arg"><span class="hole"><span class="pre">arg</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span></span><span><span><span class="pre">)</span></span></span></span></code>, or
<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Notation</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span><span><span class="pre">:=</span></span></span> <span><span><span class="pre">(</span></span></span><a class="reference internal" href="language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="language/core/assumptions.html#grammar-token-arg"><span class="hole"><span class="pre">arg</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span></span><span><span><span class="pre">)</span></span></span></span></code>, or <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Notation</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a><span><span>
<span class="pre">:=</span></span></span> <span><span><span class="pre">(</span></span></span><span><span><span class="pre">&#64;</span></span></span><a class="reference internal" href="language/core/modules.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="language/core/assumptions.html#grammar-token-arg"><span class="hole"><span class="pre">arg</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span></span><span><span><span class="pre">)</span></span></span></span></code>, inherit the remaining implicit arguments
(<a class="reference external" href="https://github.com/coq/coq/pull/11120">#11120</a>, by Hugo
Herbelin, fixing <a class="reference external" href="https://github.com/coq/coq/pull/4690">#4690</a> and
<a class="reference external" href="https://github.com/coq/coq/pull/11091">#11091</a>).</p></li>
<li><p><strong>Fixed:</strong>
Notations in <code class="docutils literal notranslate"><span class="pre">only</span> <span class="pre">printing</span></code> mode do not uselessly reserve parsing keywords
(<a class="reference external" href="https://github.com/coq/coq/pull/11590">#11590</a>,
by Hugo Herbelin, fixes <a class="reference external" href="https://github.com/coq/coq/pull/9741">#9741</a>).</p></li>
<li><p><strong>Fixed:</strong>
Numeral Notations now play better with multiple scopes for the same
inductive type. Previously, when multiple numeral notations were defined
for the same inductive, only the last one was considered for
printing. Now, among the notations that are usable for printing and either
have a scope delimiter or are open, the selection is made according
to the order of open scopes, or according to the last defined
notation if no appropriate scope is open
(<a class="reference external" href="https://github.com/coq/coq/pull/12163">#12163</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/pull/12159">#12159</a>,
by Pierre Roux, review by Hugo Herbelin and Jason Gross).</p></li>
</ul>
</div>
<div class="section" id="id955">
<h4><a class="toc-backref" href="#id1598">Tactics</a><a class="headerlink" href="#id955" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
The <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.rapply" title="rapply"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">rapply</span></code></a> tactic in <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Coq.Program.Tactics</span></span></code> now handles
arbitrary numbers of underscores and takes in a <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">uconstr</span></span></code>.  In
rare cases where users were relying on <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.rapply" title="rapply"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">rapply</span></code></a> inserting
exactly 15 underscores and no more, due to the lemma having a
completely unspecified codomain (and thus allowing for any number of
underscores), the tactic will now loop instead (<a class="reference external" href="https://github.com/coq/coq/pull/10760">#10760</a>, by Jason Gross).</p></li>
<li><p><strong>Changed:</strong>
The <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">auto</span></span> <span class="keyword"><span class="pre">with</span></span> <span class="name"><span class="pre">zarith</span></span></code> tactic and variations (including
<a class="reference internal" href="proofs/automatic-tactics/logic.html#coq:tacn.intuition" title="intuition"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">intuition</span></code></a>) may now call <a class="reference internal" href="addendum/micromega.html#coq:tacn.lia" title="lia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lia</span></code></a> instead of <code class="docutils literal notranslate"><span class="pre">omega</span></code>
(when the <code class="docutils literal notranslate"><span class="pre">Omega</span></code> module is loaded); more goals may be automatically
solved, fewer section variables will be captured spuriously
(<a class="reference external" href="https://github.com/coq/coq/pull/11018">#11018</a>,
by Vincent Laporte).</p></li>
<li><p><strong>Changed:</strong>
The new <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:flag.NativeCompute-Timing" title="NativeCompute Timing"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">NativeCompute</span> <span class="pre">Timing</span></code></a> flag causes calls to
<a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.native_compute" title="native_compute"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">native_compute</span></code></a> (as well as kernel calls to the native
compiler) to emit separate timing information about conversion to
native code, compilation, execution, and reification.  It replaces
the timing information previously emitted when the <code class="docutils literal notranslate"><span class="pre">-debug</span></code>
command-line flag was set, and allows more fine-grained timing of
the native compiler
(<a class="reference external" href="https://github.com/coq/coq/pull/11025">#11025</a>, by Jason Gross).
Additionally, the timing information now uses real time rather than
user time (fixes <a class="reference external" href="https://github.com/coq/coq/issues/11962">#11962</a>, <a class="reference external" href="https://github.com/coq/coq/pull/11963">#11963</a>, by Jason Gross)</p></li>
<li><p><strong>Changed:</strong>
Improve the efficiency of <code class="docutils literal notranslate"><span class="pre">PreOmega.elim_let</span></code> using an iterator implemented in OCaml
(<a class="reference external" href="https://github.com/coq/coq/pull/11370">#11370</a>, by Frédéric Besson).</p></li>
<li><p><strong>Changed:</strong>
Improve the efficiency of <a class="reference internal" href="addendum/micromega.html#coq:tacn.zify" title="zify"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">zify</span></code></a> by rewritting the remaining Ltac code in OCaml
(<a class="reference external" href="https://github.com/coq/coq/pull/11429">#11429</a>, by Frédéric Besson).</p></li>
<li><p><strong>Changed:</strong>
Backtrace information for tactics has been improved
(<a class="reference external" href="https://github.com/coq/coq/pull/11755">#11755</a>,
by Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Changed:</strong>
The default tactic used by <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">firstorder</span></span></code> is
<code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">auto</span></span> <span class="keyword"><span class="pre">with</span></span> <span class="name"><span class="pre">core</span></span></code> instead of <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">auto</span></span> <span class="keyword"><span class="pre">with</span></span> <span class="operator"><span class="pre">*</span></span></code>;
see <a class="reference internal" href="proofs/automatic-tactics/logic.html#decisionprocedures"><span class="std std-ref">Solvers for logic and equality</span></a> for details;
old behavior can be reset by using the <code class="docutils literal notranslate"><span class="pre">-compat</span> <span class="pre">8.12</span></code> command-line flag;
to ease the migration of legacy code, the default solver can be set to <code class="docutils literal notranslate"><span class="pre">debug</span> <span class="pre">auto</span> <span class="pre">with</span> <span class="pre">*</span></code>
with <code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">Firstorder</span> <span class="pre">Solver</span> <span class="pre">debug</span> <span class="pre">auto</span> <span class="pre">with</span> <span class="pre">*</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/11760">#11760</a>,
by Vincent Laporte).</p></li>
<li><p><strong>Changed:</strong>
<a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.autounfold" title="autounfold"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">autounfold</span></code></a> no longer fails when the <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:cmd.Opaque" title="Opaque"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Opaque</span></code></a>
command is used on constants in the hint databases
(<a class="reference external" href="https://github.com/coq/coq/pull/11883">#11883</a>,
by Attila Gáspár).</p></li>
<li><p><strong>Changed:</strong>
Tactics with qualified name of the form <code class="docutils literal notranslate"><span class="pre">Coq.Init.Notations</span></code> are
now qualified with prefix <code class="docutils literal notranslate"><span class="pre">Coq.Init.Ltac</span></code>; users of the <code class="docutils literal notranslate"><span class="pre">-noinit</span></code>
option should now import <code class="docutils literal notranslate"><span class="pre">Coq.Init.Ltac</span></code> if they want to use Ltac
(<a class="reference external" href="https://github.com/coq/coq/pull/12023">#12023</a>,
by Hugo Herbelin; minor source of incompatibilities).</p></li>
<li><p><strong>Changed:</strong>
Tactic <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.subst" title="subst"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">subst</span></code></a> <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code> now fails over a section variable which is
indirectly dependent in the goal; the incompatibility can generally
be fixed by first clearing the hypotheses causing an indirect
dependency, as reported by the error message, or by using <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.rewrite" title="rewrite"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">rewrite</span></code></a> <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">...</span></span></span> <span><span><span class="pre">in</span></span></span> <span><span><span class="pre">*</span></span></span></span></code>
instead; similarly, <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.subst" title="subst"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">subst</span></code></a> has no more effect on such variables
(<a class="reference external" href="https://github.com/coq/coq/pull/12146">#12146</a>,
by Hugo Herbelin; fixes <a class="reference external" href="https://github.com/coq/coq/pull/10812">#10812</a>
and <a class="reference external" href="https://github.com/coq/coq/pull/12139">#12139</a>).</p></li>
<li><p><strong>Changed:</strong>
The check that <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.unfold" title="unfold"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">unfold</span></code></a> arguments were indeed unfoldable has been moved to runtime
(<a class="reference external" href="https://github.com/coq/coq/pull/12256">#12256</a>,
by Pierre-Marie Pédrot; fixes
<a class="reference external" href="https://github.com/coq/coq/issues/5764">#5764</a>,
<a class="reference external" href="https://github.com/coq/coq/issues/5159">#5159</a>,
<a class="reference external" href="https://github.com/coq/coq/issues/4925">#4925</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/11727">#11727</a>).</p></li>
<li><p><strong>Changed</strong>
When the tactic <a class="reference internal" href="using/libraries/funind.html#coq:tacn.functional-induction" title="functional induction"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">functional</span> <span class="pre">induction</span></code></a> <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">c</span></span><sub><span class="pre">1</span></sub></span> <span><span><span class="pre">c</span></span><sub><span class="pre">2</span></sub></span> <span><span><span class="pre">...</span></span></span> <span><span><span class="pre">c</span></span><sub><span class="pre">n</span></sub></span></span></code> is used
with no parenthesis around <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">c</span></span><sub><span class="pre">1</span></sub></span> <span><span><span class="pre">c</span></span><sub><span class="pre">2</span></sub></span> <span><span><span class="pre">...</span></span></span> <span><span><span class="pre">c</span></span><sub><span class="pre">n</span></sub></span></span></code>, <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">c</span></span><sub><span class="pre">1</span></sub></span> <span><span><span class="pre">c</span></span><sub><span class="pre">2</span></sub></span> <span><span><span class="pre">...</span></span></span> <span><span><span class="pre">c</span></span><sub><span class="pre">n</span></sub></span></span></code> is now
read as one single applicative term. In particular implicit
arguments should be omitted. Rare source of incompatibility
(<a class="reference external" href="https://github.com/coq/coq/pull/12326">#12326</a>,
by Pierre Courtieu).</p></li>
<li><p><strong>Changed:</strong>
When using <a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:tacn.exists" title="exists"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">exists</span></code></a> or <a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:tacn.eexists" title="eexists"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">eexists</span></code></a> with multiple arguments,
the evaluation of arguments and applications of constructors are now interleaved.
This improves unification in some cases
(<a class="reference external" href="https://github.com/coq/coq/pull/12366">#12366</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12365">#12365</a>,
by Attila Gáspár).</p></li>
<li><p><strong>Removed:</strong>
Undocumented <code class="docutils literal notranslate"><span class="pre">omega</span> <span class="pre">with</span></code>.  Using <a class="reference internal" href="addendum/micromega.html#coq:tacn.lia" title="lia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lia</span></code></a> is the recommended
replacement, although the old semantics of <code class="docutils literal notranslate"><span class="pre">omega</span> <span class="pre">with</span> <span class="pre">*</span></code> can also
be recovered with <code class="docutils literal notranslate"><span class="pre">zify;</span> <span class="pre">omega</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/11288">#11288</a>,
by Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Removed:</strong>
Deprecated syntax <code class="docutils literal notranslate"><span class="pre">_eqn</span></code> for <a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:tacn.destruct" title="destruct"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">destruct</span></code></a> and <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.remember" title="remember"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">remember</span></code></a>.
Use <code class="docutils literal notranslate"><span class="pre">eqn:</span></code> syntax instead
(<a class="reference external" href="https://github.com/coq/coq/pull/11877">#11877</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Removed:</strong>
<code class="docutils literal notranslate"><span class="pre">at</span></code> clauses can no longer be used with <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.autounfold" title="autounfold"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">autounfold</span></code></a>.
Since they had no effect, it is safe to remove them
(<a class="reference external" href="https://github.com/coq/coq/pull/11883">#11883</a>,
by Attila Gáspár).</p></li>
<li><p><strong>Deprecated:</strong>
The <code class="docutils literal notranslate"><span class="pre">omega</span></code> tactic is deprecated;
use <a class="reference internal" href="addendum/micromega.html#coq:tacn.lia" title="lia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lia</span></code></a> from the <a class="reference internal" href="addendum/micromega.html#micromega"><span class="std std-ref">Micromega</span></a> plugin instead
(<a class="reference external" href="https://github.com/coq/coq/pull/11976">#11976</a>,
by Vincent Laporte).</p></li>
<li><p><strong>Added:</strong>
The <a class="reference internal" href="addendum/micromega.html#coq:tacn.zify" title="zify"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">zify</span></code></a> tactic is now aware of <code class="docutils literal notranslate"><span class="pre">Pos.pred_double</span></code>, <code class="docutils literal notranslate"><span class="pre">Pos.pred_N</span></code>,
<code class="docutils literal notranslate"><span class="pre">Pos.of_nat</span></code>, <code class="docutils literal notranslate"><span class="pre">Pos.add_carry</span></code>, <code class="docutils literal notranslate"><span class="pre">Pos.pow</span></code>, <code class="docutils literal notranslate"><span class="pre">Pos.square</span></code>, <code class="docutils literal notranslate"><span class="pre">Z.pow</span></code>, <code class="docutils literal notranslate"><span class="pre">Z.double</span></code>,
<code class="docutils literal notranslate"><span class="pre">Z.pred_double</span></code>, <code class="docutils literal notranslate"><span class="pre">Z.succ_double</span></code>, <code class="docutils literal notranslate"><span class="pre">Z.square</span></code>, <code class="docutils literal notranslate"><span class="pre">Z.div2</span></code>, and <code class="docutils literal notranslate"><span class="pre">Z.quot2</span></code>.
Injections for internal definitions in module <code class="docutils literal notranslate"><span class="pre">ZifyBool</span></code> (<code class="docutils literal notranslate"><span class="pre">isZero</span></code> and <code class="docutils literal notranslate"><span class="pre">isLeZero</span></code>)
are also added to help users to declare new <a class="reference internal" href="addendum/micromega.html#coq:tacn.zify" title="zify"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">zify</span></code></a> class instances using
Micromega tactics
(<a class="reference external" href="https://github.com/coq/coq/pull/10998">#10998</a>, by Kazuhiko Sakaguchi).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="addendum/micromega.html#coq:cmd.Show-Lia-Profile" title="Show Lia Profile"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Show</span> <span class="pre">Lia</span> <span class="pre">Profile</span></code></a> prints some statistics about <a class="reference internal" href="addendum/micromega.html#coq:tacn.lia" title="lia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lia</span></code></a> calls
(<a class="reference external" href="https://github.com/coq/coq/pull/11474">#11474</a>,  by Frédéric Besson).</p></li>
<li><p><strong>Added:</strong>
Syntax <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.pose-proof" title="pose proof"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">pose</span> <span class="pre">proof</span></code></a> <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">(</span></span></span><a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a><span><span><span class="pre">:=</span></span></span><a class="reference internal" href="language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a><span><span><span class="pre">)</span></span></span></span></code> as an alternative to
<a class="reference internal" href="proof-engine/tactics.html#coq:tacn.pose-proof" title="pose proof"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">pose</span> <span class="pre">proof</span></code></a> <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a> <span><span><span class="pre">as</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code>, following the model of
<a class="reference internal" href="proof-engine/tactics.html#coq:tacn.pose" title="pose"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">pose</span></code></a> <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">(</span></span></span><a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a><span><span><span class="pre">:=</span></span></span><a class="reference internal" href="language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a><span><span><span class="pre">)</span></span></span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/11522">#11522</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Added:</strong>
New tactical <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.with_strategy" title="with_strategy"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">with_strategy</span></code></a> which behaves like the command
<a class="reference internal" href="proofs/writing-proofs/equality.html#coq:cmd.Strategy" title="Strategy"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Strategy</span></code></a>, with effects local to the given tactic
(<a class="reference external" href="https://github.com/coq/coq/pull/12129">#12129</a>, by Jason Gross).</p></li>
<li><p><strong>Added:</strong>
The <a class="reference internal" href="addendum/micromega.html#coq:tacn.zify" title="zify"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">zify</span></code></a> tactic is now aware of <code class="docutils literal notranslate"><span class="pre">Nat.le</span></code>, <code class="docutils literal notranslate"><span class="pre">Nat.lt</span></code> and <code class="docutils literal notranslate"><span class="pre">Nat.eq</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/12213">#12213</a>, by Frédéric Besson;
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12210">#12210</a>).</p></li>
<li><p><strong>Fixed:</strong>
<a class="reference internal" href="addendum/micromega.html#coq:tacn.zify" title="zify"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">zify</span></code></a> now handles <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Z.pow_pos</span></span></code> by default.
In Coq 8.11, this was the case only when loading module
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">ZifyPow</span></span></code> because this triggered a regression of <a class="reference internal" href="addendum/micromega.html#coq:tacn.lia" title="lia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lia</span></code></a>.
The regression is now fixed, and the module kept only for compatibility
(<a class="reference external" href="https://github.com/coq/coq/pull/11362">#11362</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11191">#11191</a>,
by Frédéric Besson).</p></li>
<li><p><strong>Fixed:</strong>
Efficiency regression of <a class="reference internal" href="addendum/micromega.html#coq:tacn.lia" title="lia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lia</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/11474">#11474</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11436">#11436</a>,
by Frédéric Besson).</p></li>
<li><p><strong>Fixed:</strong>
The behavior of <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.autounfold" title="autounfold"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">autounfold</span></code></a> no longer depends on the names of terms and modules
(<a class="reference external" href="https://github.com/coq/coq/pull/11883">#11883</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/7812">#7812</a>,
by Attila Gáspár).</p></li>
<li><p><strong>Fixed:</strong>
Wrong type error in tactic <a class="reference internal" href="using/libraries/funind.html#coq:tacn.functional-induction" title="functional induction"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">functional</span> <span class="pre">induction</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/12326">#12326</a>,
by Pierre Courtieu,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11761">#11761</a>,
reported by Lasse Blaauwbroek).</p></li>
</ul>
</div>
<div class="section" id="id996">
<h4><a class="toc-backref" href="#id1599">Tactic language</a><a class="headerlink" href="#id996" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
The &quot;reference&quot; tactic generic argument now accepts arbitrary
variables of the goal context
(<a class="reference external" href="https://github.com/coq/coq/pull/12254">#12254</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Added:</strong>
An array library for Ltac2 (as compatible as possible with OCaml standard library)
(<a class="reference external" href="https://github.com/coq/coq/pull/10343">#10343</a>,
by Michael Soegtrop).</p></li>
<li><p><strong>Added:</strong>
The Ltac2 rebinding command <a class="reference internal" href="proof-engine/ltac2.html#coq:cmd.Ltac2-Set" title="Ltac2 Set"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Ltac2</span> <span class="pre">Set</span></code></a> has been extended with the ability to
give a name to the old value so as to be able to reuse it inside the
new one
(<a class="reference external" href="https://github.com/coq/coq/pull/11503">#11503</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Added:</strong>
Ltac2 notations for <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.enough" title="enough"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">enough</span></code></a> and <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.eenough" title="eenough"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">eenough</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/11740">#11740</a>,
by Michael Soegtrop).</p></li>
<li><p><strong>Added:</strong>
New Ltac2 function <code class="docutils literal notranslate"><span class="pre">Fresh.Free.of_goal</span></code> to return the list of
names of declarations of the current goal; new Ltac2 function
<code class="docutils literal notranslate"><span class="pre">Fresh.in_goal</span></code> to return a variable fresh in the current goal
(<a class="reference external" href="https://github.com/coq/coq/pull/11882">#11882</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Added:</strong>
Ltac2 notations for reductions in terms: <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">eval</span></span></span> <a class="reference internal" href="proofs/writing-proofs/equality.html#grammar-token-red_expr"><span class="hole"><span class="pre">red_expr</span></span></a> <span><span><span class="pre">in</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/11981">#11981</a>,
by Michael Soegtrop).</p></li>
<li><p><strong>Fixed:</strong>
The <a class="reference internal" href="proof-engine/ltac.html#coq:flag.Ltac-Profiling" title="Ltac Profiling"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Ltac</span> <span class="pre">Profiling</span></code></a> machinery now correctly handles
backtracking into multi-success tactics.  The call-counts of some
tactics are unfortunately inflated by 1, as some tactics are
implicitly implemented as <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">tac</span></span> <span class="operator"><span class="pre">+</span></span> <span class="name"><span class="pre">fail</span></span></code>, which has two
entry-points rather than one (fixes <a class="reference external" href="https://github.com/coq/coq/issues/12196">#12196</a>, <a class="reference external" href="https://github.com/coq/coq/pull/12197">#12197</a>, by Jason Gross).</p></li>
</ul>
</div>
<div class="section" id="id1005">
<h4><a class="toc-backref" href="#id1600">SSReflect</a><a class="headerlink" href="#id1005" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="ssrsearch">
<li><p><strong>Changed:</strong> The <code class="docutils literal notranslate"><span class="pre">Search</span> <span class="pre">(ssreflect)</span></code> command that used to be
available when loading the <code class="docutils literal notranslate"><span class="pre">ssreflect</span></code> plugin has been moved to a
separate plugin that needs to be loaded separately: <code class="docutils literal notranslate"><span class="pre">ssrsearch</span></code>
(part of <a class="reference external" href="https://github.com/coq/coq/pull/8855">#8855</a>, fixes
<a class="reference external" href="https://github.com/coq/coq/issues/12253">#12253</a>, by Théo
Zimmermann).</p></li>
<li><p><strong>Deprecated:</strong> <code class="docutils literal notranslate"><span class="pre">Search</span> <span class="pre">(ssreflect)</span></code> (available through
<code class="docutils literal notranslate"><span class="pre">Require</span> <span class="pre">ssrsearch.</span></code>) in favor of the <code class="docutils literal notranslate"><span class="pre">headconcl:</span></code> clause of
<a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Search" title="Search"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Search</span></code></a> (part of <a class="reference external" href="https://github.com/coq/coq/pull/8855">#8855</a>, by Théo Zimmermann).</p></li>
</ul>
</div>
<div class="section" id="flags-options-and-attributes">
<h4><a class="toc-backref" href="#id1601">Flags, options and attributes</a><a class="headerlink" href="#flags-options-and-attributes" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong> <a class="reference internal" href="language/core/basic.html#term-attribute"><span class="xref std std-term">Legacy attributes</span></a> can now be passed
in any order (<a class="reference external" href="https://github.com/coq/coq/pull/11665">#11665</a>, by
Théo Zimmermann).</p></li>
<li><p><strong>Removed:</strong> <code class="docutils literal notranslate"><span class="pre">Typeclasses</span> <span class="pre">Axioms</span> <span class="pre">Are</span> <span class="pre">Instances</span></code> flag, deprecated since 8.10.
Use <a class="reference internal" href="addendum/type-classes.html#coq:cmd.Declare-Instance" title="Declare Instance"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Declare</span> <span class="pre">Instance</span></code></a> for axioms which should be instances
(<a class="reference external" href="https://github.com/coq/coq/pull/11185">#11185</a>, by Théo Zimmermann).</p></li>
<li><p><strong>Removed:</strong> Deprecated unsound compatibility <code class="docutils literal notranslate"><span class="pre">Template</span> <span class="pre">Check</span></code>
flag that was introduced in 8.10 to help users gradually move their
template polymorphic inductive type definitions outside sections
(<a class="reference external" href="https://github.com/coq/coq/pull/11546">#11546</a>, by Pierre-Marie
Pédrot).</p></li>
<li><p><strong>Removed:</strong>
Deprecated <code class="docutils literal notranslate"><span class="pre">Shrink</span> <span class="pre">Obligations</span></code> flag
(<a class="reference external" href="https://github.com/coq/coq/pull/11828">#11828</a>,
by Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Removed:</strong>
Unqualified <code class="docutils literal notranslate"><span class="pre">polymorphic</span></code>, <code class="docutils literal notranslate"><span class="pre">monomorphic</span></code>, <code class="docutils literal notranslate"><span class="pre">template</span></code>,
<code class="docutils literal notranslate"><span class="pre">notemplate</span></code> attributes (they were deprecated since Coq 8.10).
Use <a class="reference internal" href="addendum/universe-polymorphism.html#coq:attr.universes(polymorphic)" title="universes(polymorphic)"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">universes(polymorphic)</span></code></a>, <code class="docutils literal notranslate"><span class="pre">universes(monomorphic)</span></code>,
<a class="reference internal" href="language/core/inductive.html#coq:attr.universes(template)" title="universes(template)"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">universes(template)</span></code></a> and <code class="docutils literal notranslate"><span class="pre">universes(notemplate)</span></code> instead
(<a class="reference external" href="https://github.com/coq/coq/pull/11663">#11663</a>, by Théo Zimmermann).</p></li>
<li><p><strong>Deprecated:</strong>
<code class="docutils literal notranslate"><span class="pre">Hide</span> <span class="pre">Obligations</span></code> flag
(<a class="reference external" href="https://github.com/coq/coq/pull/11828">#11828</a>,
by Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Added:</strong> Handle the <a class="reference internal" href="language/core/modules.html#coq:attr.local" title="local"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">local</span></code></a> attribute in <a class="reference internal" href="language/extensions/canonical.html#coq:cmd.Canonical-Structure" title="Canonical Structure"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Canonical</span>
<span class="pre">Structure</span></code></a> declarations (<a class="reference external" href="https://github.com/coq/coq/pull/11162">#11162</a>, by Enrico Tassi).</p></li>
<li><p><strong>Added:</strong>
New attributes supported when defining an inductive type
<a class="reference internal" href="addendum/universe-polymorphism.html#coq:attr.universes(cumulative)" title="universes(cumulative)"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">universes(cumulative)</span></code></a>, <code class="docutils literal notranslate"><span class="pre">universes(noncumulative)</span></code> and
<a class="reference internal" href="language/core/variants.html#coq:attr.private(matching)" title="private(matching)"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">private(matching)</span></code></a>, which correspond to legacy attributes
<code class="docutils literal notranslate"><span class="pre">Cumulative</span></code>, <code class="docutils literal notranslate"><span class="pre">NonCumulative</span></code>, and the previously undocumented
<code class="docutils literal notranslate"><span class="pre">Private</span></code> (<a class="reference external" href="https://github.com/coq/coq/pull/11665">#11665</a>, by
Théo Zimmermann).</p></li>
<li><p><strong>Added:</strong>
The <a class="reference internal" href="proofs/automatic-tactics/auto.html#creating-hints"><span class="std std-ref">Hint</span></a> commands now accept the <a class="reference internal" href="language/core/modules.html#coq:attr.export" title="export"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">export</span></code></a> locality as
an attribute, allowing to make import-scoped hints
(<a class="reference external" href="https://github.com/coq/coq/pull/11812">#11812</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="addendum/sprop.html#coq:flag.Cumulative-StrictProp" title="Cumulative StrictProp"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Cumulative</span> <span class="pre">StrictProp</span></code></a> to control cumulativity of <span class="math notranslate nohighlight">\(\SProp\)</span>
(<a class="reference external" href="https://github.com/coq/coq/pull/12034">#12034</a>, by Gaëtan
Gilbert).</p></li>
</ul>
</div>
<div class="section" id="id1019">
<h4><a class="toc-backref" href="#id1602">Commands</a><a class="headerlink" href="#id1019" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="coercions">
<li><p><strong>Changed:</strong>
The <a class="reference internal" href="addendum/implicit-coercions.html#coq:cmd.Coercion" title="Coercion"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Coercion</span></code></a> command has been improved to check the coherence of the
inheritance graph. It checks whether a circular inheritance path of <code class="docutils literal notranslate"><span class="pre">C</span> <span class="pre">&gt;-&gt;</span> <span class="pre">C</span></code>
is convertible with the identity function or not, then report it as an
ambiguous path if it is not.  The new mechanism does not report ambiguous
paths that are redundant with others. For example, checking the ambiguity of
<code class="docutils literal notranslate"><span class="pre">[f;</span> <span class="pre">g]</span></code> and <code class="docutils literal notranslate"><span class="pre">[f';</span> <span class="pre">g]</span></code> is redundant with that of <code class="docutils literal notranslate"><span class="pre">[f]</span></code> and <code class="docutils literal notranslate"><span class="pre">[f']</span></code> thus will
not be reported
(<a class="reference external" href="https://github.com/coq/coq/pull/11258">#11258</a>,
by Kazuhiko Sakaguchi).</p></li>
<li><p><strong>Changed:</strong>
Several commands (<a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Search" title="Search"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Search</span></code></a>, <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.About" title="About"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">About</span></code></a>, ...) now print the
implicit arguments in brackets when printing types (<a class="reference external" href="https://github.com/coq/coq/pull/11795">#11795</a>, by Simon Boulier).</p></li>
<li><p><strong>Changed:</strong> The warning when using <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Require" title="Require"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Require</span></code></a> inside a section
moved from the <code class="docutils literal notranslate"><span class="pre">deprecated</span></code> category to the <code class="docutils literal notranslate"><span class="pre">fragile</span></code> category,
because there is no plan to remove the functionality at this time
(<a class="reference external" href="https://github.com/coq/coq/pull/11972">#11972</a>, by Gaëtan
Gilbert).</p></li>
<li><p><strong>Changed:</strong>
<a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Redirect" title="Redirect"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Redirect</span></code></a> now obeys the <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:opt.Printing-Width" title="Printing Width"><code class="xref coq coq-opt docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Width</span></code></a> and
<a class="reference internal" href="proof-engine/vernacular-commands.html#coq:opt.Printing-Depth" title="Printing Depth"><code class="xref coq coq-opt docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Depth</span></code></a> options
(<a class="reference external" href="https://github.com/coq/coq/pull/12358">#12358</a>,
by Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Removed:</strong>
Recursive OCaml loadpaths are not supported anymore; the command
<code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">Rec</span> <span class="pre">ML</span> <span class="pre">Path</span></code> has been removed; <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Add-ML-Path" title="Add ML Path"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Add</span> <span class="pre">ML</span> <span class="pre">Path</span></code></a> is now the
preferred one. We have also dropped support for the non-qualified
version of the <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Add-LoadPath" title="Add LoadPath"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Add</span> <span class="pre">LoadPath</span></code></a> command, that is to say,
the <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">LoadPath</span> <span class="pre">dir</span></code> version; now,
you must always specify a prefix now using <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">Loadpath</span> <span class="pre">dir</span> <span class="pre">as</span> <span class="pre">Prefix</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/11618">#11618</a>,
by Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Removed:</strong> undocumented <code class="docutils literal notranslate"><span class="pre">Chapter</span></code> command.  Use <a class="reference internal" href="language/core/sections.html#coq:cmd.Section" title="Section"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Section</span></code></a>
instead (<a class="reference external" href="https://github.com/coq/coq/pull/11746">#11746</a>, by Théo
Zimmermann).</p></li>
<li><p><strong>Removed:</strong> <code class="docutils literal notranslate"><span class="pre">SearchAbout</span></code> command that was deprecated since 8.5.
Use <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Search" title="Search"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Search</span></code></a> instead
(<a class="reference external" href="https://github.com/coq/coq/pull/11944">#11944</a>, by Jim Fehrle).</p></li>
<li><p><strong>Deprecated:</strong>
Declaration of arbitrary terms as hints. Global references are now
preferred (<a class="reference external" href="https://github.com/coq/coq/pull/7791">#7791</a>, by
Pierre-Marie Pédrot).</p></li>
<li><p><strong>Deprecated:</strong> <code class="docutils literal notranslate"><span class="pre">SearchHead</span></code> in favor of the new <code class="docutils literal notranslate"><span class="pre">headconcl:</span></code>
clause of <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Search" title="Search"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Search</span></code></a> (part of <a class="reference external" href="https://github.com/coq/coq/pull/8855">#8855</a>, by Théo Zimmermann).</p></li>
<li><p><strong>Added:</strong>
<a class="reference internal" href="language/extensions/canonical.html#coq:cmd.Print-Canonical-Projections" title="Print Canonical Projections"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Canonical</span> <span class="pre">Projections</span></code></a> can now take constants as
arguments and prints only the unification rules that involve or are
synthesized from the given constants (<a class="reference external" href="https://github.com/coq/coq/pull/10747">#10747</a>, by Kazuhiko Sakaguchi).</p></li>
<li><p><strong>Added:</strong> A section variable introduced with <a class="reference internal" href="language/core/sections.html#coq:cmd.Let" title="Let"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Let</span></code></a> can be
declared as a <a class="reference internal" href="language/extensions/canonical.html#coq:cmd.Canonical-Structure" title="Canonical Structure"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Canonical</span> <span class="pre">Structure</span></code></a> (<a class="reference external" href="https://github.com/coq/coq/pull/11164">#11164</a>, by Enrico Tassi).</p></li>
<li><p><strong>Added:</strong> Support for universe bindings and universe contrainsts in
<a class="reference internal" href="language/core/sections.html#coq:cmd.Let" title="Let"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Let</span></code></a> definitions (<a class="reference external" href="https://github.com/coq/coq/pull/11534">#11534</a>, by Théo Zimmermann).</p>
</li>
<li id="search"><p><strong>Added:</strong> Support for new clauses <code class="docutils literal notranslate"><span class="pre">hyp:</span></code>, <code class="docutils literal notranslate"><span class="pre">headhyp:</span></code>, <code class="docutils literal notranslate"><span class="pre">concl:</span></code>,
<code class="docutils literal notranslate"><span class="pre">headconcl:</span></code>, <code class="docutils literal notranslate"><span class="pre">head:</span></code> and <code class="docutils literal notranslate"><span class="pre">is:</span></code> in <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Search" title="Search"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Search</span></code></a>.  Support for
complex search queries combining disjunctions, conjunctions and
negations (<a class="reference external" href="https://github.com/coq/coq/pull/8855">#8855</a>, by Hugo
Herbelin, with ideas from Cyril Cohen and help from Théo
Zimmermann).</p></li>
<li><p><strong>Fixed:</strong>
A printing bug in the presence of elimination principles with local definitions
(<a class="reference external" href="https://github.com/coq/coq/pull/12295">#12295</a>,
by Hugo Herbelin; fixes <a class="reference external" href="https://github.com/coq/coq/pull/12233">#12233</a>).</p></li>
<li><p><strong>Fixed:</strong>
Anomalies with <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:cmd.Show-Proof" title="Show Proof"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Show</span> <span class="pre">Proof</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/12296">#12296</a>,
by Hugo Herbelin; fixes
<a class="reference external" href="https://github.com/coq/coq/pull/12234">#12234</a>).</p></li>
</ul>
</div>
<div class="section" id="id1037">
<h4><a class="toc-backref" href="#id1603">Tools</a><a class="headerlink" href="#id1037" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
Internal options and behavior of <code class="docutils literal notranslate"><span class="pre">coqdep</span></code>. <code class="docutils literal notranslate"><span class="pre">coqdep</span></code>
no longer works as a replacement for <code class="docutils literal notranslate"><span class="pre">ocamldep</span></code>, thus <code class="docutils literal notranslate"><span class="pre">.ml</span></code>
files are not supported as input. Also, several deprecated options
have been removed: <code class="docutils literal notranslate"><span class="pre">-w</span></code>, <code class="docutils literal notranslate"><span class="pre">-D</span></code>, <code class="docutils literal notranslate"><span class="pre">-mldep</span></code>, <code class="docutils literal notranslate"><span class="pre">-prefix</span></code>,
<code class="docutils literal notranslate"><span class="pre">-slash</span></code>, and <code class="docutils literal notranslate"><span class="pre">-dumpbox</span></code>. Passing <code class="docutils literal notranslate"><span class="pre">-boot</span></code> to <code class="docutils literal notranslate"><span class="pre">coqdep</span></code> will
not load any path by default now, <code class="docutils literal notranslate"><span class="pre">-R/-Q</span></code> should be used instead
(<a class="reference external" href="https://github.com/coq/coq/pull/11523">#11523</a> and
<a class="reference external" href="https://github.com/coq/coq/pull/11589">#11589</a>,
by Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Changed:</strong>
The order in which the require flags <code class="docutils literal notranslate"><span class="pre">-ri</span></code>, <code class="docutils literal notranslate"><span class="pre">-re</span></code>, <code class="docutils literal notranslate"><span class="pre">-rfrom</span></code>, etc.
and the option flags <code class="docutils literal notranslate"><span class="pre">-set</span></code>, <code class="docutils literal notranslate"><span class="pre">-unset</span></code> are given now matters.  In
particular, it is now possible to interleave the loading of plugins
and the setting of options by choosing the right order for these
flags.  The load flags <code class="docutils literal notranslate"><span class="pre">-l</span></code> and <code class="docutils literal notranslate"><span class="pre">-lv</span></code> are still processed afterward
for now (<a class="reference external" href="https://github.com/coq/coq/pull/11851">#11851</a> and
<a class="reference external" href="https://github.com/coq/coq/pull/12097">#12097</a>,
by Lasse Blaauwbroek).</p></li>
<li><p><strong>Changed:</strong>
The <code class="docutils literal notranslate"><span class="pre">cleanall</span></code> target of a makefile generated by <code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code>
now erases <code class="docutils literal notranslate"><span class="pre">.lia.cache</span></code> and <code class="docutils literal notranslate"><span class="pre">.nia.cache</span></code> (<a class="reference external" href="https://github.com/coq/coq/pull/12006">#12006</a>, by Olivier Laurent).</p></li>
<li><p><strong>Changed:</strong>
The output of <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">TIMED=1</span></code> (and therefore the timing targets
such as <code class="docutils literal notranslate"><span class="pre">print-pretty-timed</span></code> and <code class="docutils literal notranslate"><span class="pre">print-pretty-timed-diff</span></code>) now
displays the full name of the output file being built, rather than
the stem of the rule (which was usually the filename without the
extension, but in general could be anything for user-defined rules
involving <code class="docutils literal notranslate"><span class="pre">%</span></code>) (<a class="reference external" href="https://github.com/coq/coq/pull/12126">#12126</a>, by Jason Gross).</p></li>
<li><p><strong>Changed:</strong>
When passing <code class="docutils literal notranslate"><span class="pre">TIMED=1</span></code> to <code class="docutils literal notranslate"><span class="pre">make</span></code> with either Coq's own makefile
or a <code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code>-made makefile, timing information is now
printed for OCaml files as well (<a class="reference external" href="https://github.com/coq/coq/pull/12211">#12211</a>, by Jason Gross).</p></li>
<li><p><strong>Changed:</strong>
The pretty-timed scripts and targets now print a newline at the end of their
tables, rather than creating text with no trailing newline (<a class="reference external" href="https://github.com/coq/coq/pull/12368">#12368</a>, by Jason Gross).</p></li>
<li><p><strong>Removed:</strong>
The <code class="docutils literal notranslate"><span class="pre">-load-ml-source</span></code> and <code class="docutils literal notranslate"><span class="pre">-load-ml-object</span></code> command-line options
have been removed; their use was very limited, you can achieve the same adding
additional object files in the linking step or using a plugin
(<a class="reference external" href="https://github.com/coq/coq/pull/11409">#11409</a>, by Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Removed:</strong>
The confusingly-named <code class="docutils literal notranslate"><span class="pre">-require</span></code> command-line option, which was
deprecated since 8.11.  Use the equivalent <code class="docutils literal notranslate"><span class="pre">-require-import</span></code> / <code class="docutils literal notranslate"><span class="pre">-ri</span></code>
options instead
(<a class="reference external" href="https://github.com/coq/coq/pull/12005">#12005</a>,
by Théo Zimmermann).</p></li>
<li><p><strong>Deprecated:</strong>
<code class="docutils literal notranslate"><span class="pre">-cumulative-sprop</span></code> command-line flag in favor of the new
<a class="reference internal" href="addendum/sprop.html#coq:flag.Cumulative-StrictProp" title="Cumulative StrictProp"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Cumulative</span> <span class="pre">StrictProp</span></code></a> flag (<a class="reference external" href="https://github.com/coq/coq/pull/12034">#12034</a>, by Gaëtan Gilbert).</p></li>
<li><p><strong>Added:</strong>
A new documentation environment <code class="docutils literal notranslate"><span class="pre">details</span></code> to make certain portion
of a Coq document foldable.  See <a class="reference internal" href="using/tools/coqdoc.html#coqdoc-hide-show"><span class="std std-ref">Hiding / Showing parts of the source</span></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/10592">#10592</a>,
by Thomas Letan).</p></li>
<li><p><strong>Added:</strong>
The <code class="docutils literal notranslate"><span class="pre">make-both-single-timing-files.py</span></code> script now accepts a
<code class="docutils literal notranslate"><span class="pre">--fuzz=N</span></code> parameter on the command line which determines how many
characters two lines may be offset in the &quot;before&quot; and &quot;after&quot;
timing logs while still being considered the same line.  When
invoking this script via the <code class="docutils literal notranslate"><span class="pre">print-pretty-single-time-diff</span></code>
target in a <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> made by <code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code>, you can set this
argument by passing <code class="docutils literal notranslate"><span class="pre">TIMING_FUZZ=N</span></code> to <code class="docutils literal notranslate"><span class="pre">make</span></code> (<a class="reference external" href="https://github.com/coq/coq/pull/11302">#11302</a>, by Jason Gross).</p></li>
<li><p><strong>Added:</strong>
The <code class="docutils literal notranslate"><span class="pre">make-one-time-file.py</span></code> and <code class="docutils literal notranslate"><span class="pre">make-both-time-files.py</span></code>
scripts now accept a <code class="docutils literal notranslate"><span class="pre">--real</span></code> parameter on the command line to
print real times rather than user times in the tables.  The
<code class="docutils literal notranslate"><span class="pre">make-both-single-timing-files.py</span></code> script accepts a <code class="docutils literal notranslate"><span class="pre">--user</span></code>
parameter to use user times.  When invoking these scripts via the
<code class="docutils literal notranslate"><span class="pre">print-pretty-timed</span></code> or <code class="docutils literal notranslate"><span class="pre">print-pretty-timed-diff</span></code> or
<code class="docutils literal notranslate"><span class="pre">print-pretty-single-time-diff</span></code> targets in a <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> made by
<code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code>, you can set this argument by passing
<code class="docutils literal notranslate"><span class="pre">TIMING_REAL=1</span></code> (to pass <code class="docutils literal notranslate"><span class="pre">--real</span></code>) or <code class="docutils literal notranslate"><span class="pre">TIMING_REAL=0</span></code> (to pass
<code class="docutils literal notranslate"><span class="pre">--user</span></code>) to <code class="docutils literal notranslate"><span class="pre">make</span></code> (<a class="reference external" href="https://github.com/coq/coq/pull/11302">#11302</a>, by Jason Gross).</p></li>
<li><p><strong>Added:</strong>
Coq's build system now supports both <code class="docutils literal notranslate"><span class="pre">TIMING_FUZZ</span></code>,
<code class="docutils literal notranslate"><span class="pre">TIMING_SORT_BY</span></code>, and <code class="docutils literal notranslate"><span class="pre">TIMING_REAL</span></code> just like a <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>
made by <code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code> (<a class="reference external" href="https://github.com/coq/coq/pull/11302">#11302</a>, by Jason Gross).</p></li>
<li><p><strong>Added:</strong>
The <code class="docutils literal notranslate"><span class="pre">make-one-time-file.py</span></code> and <code class="docutils literal notranslate"><span class="pre">make-both-time-files.py</span></code>
scripts now include peak memory usage information in the tables (can
be turned off by the <code class="docutils literal notranslate"><span class="pre">--no-include-mem</span></code> command-line parameter),
and a <code class="docutils literal notranslate"><span class="pre">--sort-by-mem</span></code> parameter to sort the tables by memory
rather than time.  When invoking these scripts via the
<code class="docutils literal notranslate"><span class="pre">print-pretty-timed</span></code> or <code class="docutils literal notranslate"><span class="pre">print-pretty-timed-diff</span></code> targets in a
<code class="docutils literal notranslate"><span class="pre">Makefile</span></code> made by <code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code>, you can set this argument by
passing <code class="docutils literal notranslate"><span class="pre">TIMING_INCLUDE_MEM=0</span></code> (to pass <code class="docutils literal notranslate"><span class="pre">--no-include-mem</span></code>) and
<code class="docutils literal notranslate"><span class="pre">TIMING_SORT_BY_MEM=1</span></code> (to pass <code class="docutils literal notranslate"><span class="pre">--sort-by-mem</span></code>) to <code class="docutils literal notranslate"><span class="pre">make</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/11606">#11606</a>, by Jason Gross).</p></li>
<li><p><strong>Added:</strong>
Coq's build system now supports both <code class="docutils literal notranslate"><span class="pre">TIMING_INCLUDE_MEM</span></code> and
<code class="docutils literal notranslate"><span class="pre">TIMING_SORT_BY_MEM</span></code> just like a <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> made by
<code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code> (<a class="reference external" href="https://github.com/coq/coq/pull/11606">#11606</a>,
by Jason Gross).</p></li>
<li><p><strong>Added:</strong>
New <code class="docutils literal notranslate"><span class="pre">coqc</span></code> / <code class="docutils literal notranslate"><span class="pre">coqtop</span></code> option <code class="docutils literal notranslate"><span class="pre">-boot</span></code> that will not bind the
<code class="docutils literal notranslate"><span class="pre">Coq</span></code> library prefix by default
(<a class="reference external" href="https://github.com/coq/coq/pull/11617">#11617</a>,
by Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Added:</strong>
Definitions in coqdoc link to themselves, giving access in html to their own url
(<a class="reference external" href="https://github.com/coq/coq/pull/12026">#12026</a>,
by Hugo Herbelin; granting <a class="reference external" href="https://github.com/coq/coq/pull/7093">#7093</a>).</p></li>
<li><p><strong>Added:</strong>
Hyperlinks on bound variables in coqdoc
(<a class="reference external" href="https://github.com/coq/coq/pull/12033">#12033</a>,
by Hugo Herbelin; it incidentally fixes
<a class="reference external" href="https://github.com/coq/coq/pull/7697">#7697</a>).</p></li>
<li><p><strong>Added:</strong>
Highlighting of link targets in coqdoc
(<a class="reference external" href="https://github.com/coq/coq/pull/12091">#12091</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
The various timing targets for Coq's standard library now correctly
display and label the &quot;before&quot; and &quot;after&quot; columns, rather than
mixing them up (<a class="reference external" href="https://github.com/coq/coq/pull/11302">#11302</a>
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11301">#11301</a>, by Jason
Gross).</p></li>
<li><p><strong>Fixed:</strong>
The sorting order of the timing script <code class="docutils literal notranslate"><span class="pre">make-both-time-files.py</span></code>
and the target <code class="docutils literal notranslate"><span class="pre">print-pretty-timed-diff</span></code> is now deterministic even
when the sorting order is <code class="docutils literal notranslate"><span class="pre">absolute</span></code> or <code class="docutils literal notranslate"><span class="pre">diff</span></code>; previously the
relative ordering of two files with identical times was
non-deterministic (<a class="reference external" href="https://github.com/coq/coq/pull/11606">#11606</a>, by Jason Gross).</p></li>
<li><p><strong>Fixed:</strong>
Fields of a record tuple now link in coqdoc to their definition
(<a class="reference external" href="https://github.com/coq/coq/pull/12027">#12027</a>, fixes
<a class="reference external" href="https://github.com/coq/coq/issues/3415">#3415</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
<code class="docutils literal notranslate"><span class="pre">coqdoc</span></code> now reports the location of a mismatched opening <code class="docutils literal notranslate"><span class="pre">[[</span></code>
instead of throwing an uninformative exception
(<a class="reference external" href="https://github.com/coq/coq/pull/12037">#12037</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/9670">#9670</a>,
by Xia Li-yao).</p></li>
<li><p><strong>Fixed:</strong>
coqchk incorrectly reporting names from opaque modules as axioms
(<a class="reference external" href="https://github.com/coq/coq/pull/12076">#12076</a>,
by Pierre Roux; fixes <a class="reference external" href="https://github.com/coq/coq/issues/5030">#5030</a>).</p></li>
<li><p><strong>Fixed:</strong>
coq_makefile-generated <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>s <code class="docutils literal notranslate"><span class="pre">pretty-timed-diff</span></code> target
no longer raises Python exceptions in the rare corner case where the
log of times contains no files (<a class="reference external" href="https://github.com/coq/coq/pull/12388">#12388</a>, fixes <a class="reference external" href="https://github.com/coq/coq/pull/12387">#12387</a>, by Jason Gross).</p></li>
</ul>
</div>
<div class="section" id="id1072">
<h4><a class="toc-backref" href="#id1604">CoqIDE</a><a class="headerlink" href="#id1072" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Removed:</strong>
&quot;Tactic&quot; menu from CoqIDE which had been unmaintained for a number of years
(<a class="reference external" href="https://github.com/coq/coq/pull/11414">#11414</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Removed:</strong>
&quot;Revert all buffers&quot; command from CoqIDE which had been broken for a long time
(<a class="reference external" href="https://github.com/coq/coq/pull/11415">#11415</a>,
by Pierre-Marie Pédrot).</p>
</li>
</ul>
</div>
<div class="section" id="id1075">
<span id="id1076"></span><h4><a class="toc-backref" href="#id1605">Standard library</a><a class="headerlink" href="#id1075" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p><strong>Changed:</strong>
Notations <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">[</span></span></span><span class="pre">|</span><a class="reference internal" href="language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a><span class="pre">|</span><span><span><span class="pre">]</span></span></span></span></code> and <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">[</span></span></span><span class="pre">|</span><span class="pre">|</span><a class="reference internal" href="language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a><span class="pre">|</span><span class="pre">|</span><span><span><span class="pre">]</span></span></span></span></code> for morphisms from 63-bit
integers to <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Z</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">zn2z</span></span> <span class="name"><span class="pre">int</span></span></code> have been removed in favor of
<code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">φ(</span></span></span><a class="reference internal" href="language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a><span><span><span class="pre">)</span></span></span></span></code> and <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Φ(</span></span></span><a class="reference internal" href="language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a><span><span><span class="pre">)</span></span></span></span></code> respectively. These notations were
breaking Ltac parsing (<a class="reference external" href="https://github.com/coq/coq/pull/11686">#11686</a>,
by Maxime Dénès).</p></li>
<li><p><strong>Changed:</strong>
The names of <code class="docutils literal notranslate"><span class="pre">Sorted_sort</span></code> and <code class="docutils literal notranslate"><span class="pre">LocallySorted_sort</span></code> in <code class="docutils literal notranslate"><span class="pre">Coq.Sorting.MergeSort</span></code>
have been swapped to appropriately reflect their meanings
(<a class="reference external" href="https://github.com/coq/coq/pull/11885">#11885</a>,
by Lysxia).</p></li>
<li><p><strong>Changed:</strong>
Notations <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">&lt;=?</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">&lt;?</span></span></code> from <code class="docutils literal notranslate"><span class="pre">Coq.Structures.Orders</span></code> and
<code class="docutils literal notranslate"><span class="pre">Coq.Sorting.Mergesort.NatOrder</span></code> are now at level 70 rather than
35, so as to be compatible with the notations defined everywhere
else in the standard library.  This may require re-parenthesizing
some expressions.  These notations were breaking the ability to
import modules from the standard library that were otherwise
compatible (fixes <a class="reference external" href="https://github.com/coq/coq/issues/11890">#11890</a>, <a class="reference external" href="https://github.com/coq/coq/pull/11891">#11891</a>, by Jason Gross).</p></li>
<li><p><strong>Changed:</strong>
The level of <code class="code Coq docutils literal notranslate"><span class="name builtin pseudo"><span class="pre">≡</span></span></code> in <code class="docutils literal notranslate"><span class="pre">Coq.Numbers.Cyclic.Int63.Int63</span></code> is now 70,
no associativity, in line with <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">=</span></span></code>.  Note that this is a minor
incompatibility with developments that declare their own <code class="code Coq docutils literal notranslate"><span class="name builtin pseudo"><span class="pre">≡</span></span></code>
notation and import <code class="docutils literal notranslate"><span class="pre">Int63</span></code> (fixes <a class="reference external" href="https://github.com/coq/coq/issues/11905">#11905</a>, <a class="reference external" href="https://github.com/coq/coq/pull/11909">#11909</a>, by Jason Gross).</p></li>
<li><p><strong>Changed:</strong>
No longer re-export <code class="docutils literal notranslate"><span class="pre">ListNotations</span></code> from <code class="docutils literal notranslate"><span class="pre">Program</span></code> (<code class="docutils literal notranslate"><span class="pre">Program.Syntax</span></code>)
(<a class="reference external" href="https://github.com/coq/coq/pull/11992">#11992</a>,
by Antonio Nikishaev).</p></li>
<li><p><strong>Changed:</strong>
It is now possible to import the <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">nsatz</span></span></code> machinery without
transitively depending on the axioms of the real numbers nor of
classical logic by loading <code class="docutils literal notranslate"><span class="pre">Coq.nsatz.NsatzTactic</span></code> rather than
<code class="docutils literal notranslate"><span class="pre">Coq.nsatz.Nsatz</span></code>.  Note that some constants have changed kernel
names, living in <code class="docutils literal notranslate"><span class="pre">Coq.nsatz.NsatzTactic</span></code> rather than
<code class="docutils literal notranslate"><span class="pre">Coq.nsatz.Nsatz</span></code>; this might cause minor incompatibilities that
can be fixed by actually running <code class="code Coq docutils literal notranslate"><span class="keyword namespace"><span class="pre">Import</span></span> <span class="name"><span class="pre">Nsatz</span></span></code> rather than
relying on absolute names (<a class="reference external" href="https://github.com/coq/coq/pull/12073">#12073</a>, by Jason Gross; fixes
<a class="reference external" href="https://github.com/coq/coq/issues/5445">#5445</a>).</p></li>
<li><p><strong>Changed:</strong>
new lemma <code class="docutils literal notranslate"><span class="pre">NoDup_incl_NoDup</span></code> in <code class="docutils literal notranslate"><span class="pre">List.v</span></code>
to remove useless hypothesis <code class="docutils literal notranslate"><span class="pre">NoDup</span> <span class="pre">l'</span></code> in <code class="docutils literal notranslate"><span class="pre">Sorting.Permutation.NoDup_Permutation_bis</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/12119">#12120</a>,
by Olivier Laurent).</p></li>
<li><p><strong>Changed:</strong>
<a class="reference internal" href="language/core/inductive.html#coq:cmd.Fixpoint" title="Fixpoint"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Fixpoints</span></code></a> of the standard library without a recursive call turned
into ordinary <a class="reference internal" href="language/core/definitions.html#coq:cmd.Definition" title="Definition"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Definitions</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/12121">#12121</a>,
by Hugo Herbelin; fixes <a class="reference external" href="https://github.com/coq/coq/pull/11903">#11903</a>).</p></li>
<li><p><strong>Deprecated:</strong>
<code class="docutils literal notranslate"><span class="pre">Bool.leb</span></code> in favor of <code class="docutils literal notranslate"><span class="pre">Bool.le</span></code>. The definition of <code class="docutils literal notranslate"><span class="pre">Bool.le</span></code>
is made local to avoid conflicts with <code class="docutils literal notranslate"><span class="pre">Nat.le</span></code>. As a consequence,
previous calls to <code class="docutils literal notranslate"><span class="pre">leb</span></code> based on importing <code class="docutils literal notranslate"><span class="pre">Bool</span></code> should now be
qualified into <code class="docutils literal notranslate"><span class="pre">Bool.le</span></code> even if <code class="docutils literal notranslate"><span class="pre">Bool</span></code> is imported
(<a class="reference external" href="https://github.com/coq/coq/pull/12162">#12162</a>,
by Olivier Laurent).</p></li>
<li><p><strong>Added:</strong> Theorem <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">bezout_comm</span></span></code> for natural numbers
(<a class="reference external" href="https://github.com/coq/coq/pull/11127">#11127</a>, by Daniel de Rauglaudre).</p></li>
<li><p><strong>Added</strong>
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">rew</span></span> <span class="name"><span class="pre">dependent</span></span></code> notations for the dependent version of
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">rew</span></span></code> in <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Coq.Init.Logic.EqNotations</span></span></code> to improve the display
and parsing of <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">match</span></span></code> statements on <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Logic.eq</span></span></code> (<a class="reference external" href="https://github.com/coq/coq/pull/11240">#11240</a>, by Jason Gross).</p></li>
<li><p><strong>Added:</strong>
Lemmas about lists:</p>
<ul class="simple">
<li><p>properties of <code class="docutils literal notranslate"><span class="pre">In</span></code>: <code class="docutils literal notranslate"><span class="pre">in_elt</span></code>, <code class="docutils literal notranslate"><span class="pre">in_elt_inv</span></code></p></li>
<li><p>properties of <code class="docutils literal notranslate"><span class="pre">nth</span></code>: <code class="docutils literal notranslate"><span class="pre">app_nth2_plus</span></code>, <code class="docutils literal notranslate"><span class="pre">nth_middle</span></code>, <code class="docutils literal notranslate"><span class="pre">nth_ext</span></code></p></li>
<li><p>properties of <code class="docutils literal notranslate"><span class="pre">last</span></code>: <code class="docutils literal notranslate"><span class="pre">last_last</span></code>, <code class="docutils literal notranslate"><span class="pre">removelast_last</span></code></p></li>
<li><p>properties of <code class="docutils literal notranslate"><span class="pre">remove</span></code>: <code class="docutils literal notranslate"><span class="pre">remove_cons</span></code>, <code class="docutils literal notranslate"><span class="pre">remove_app</span></code>, <code class="docutils literal notranslate"><span class="pre">notin_remove</span></code>, <code class="docutils literal notranslate"><span class="pre">in_remove</span></code>, <code class="docutils literal notranslate"><span class="pre">in_in_remove</span></code>, <code class="docutils literal notranslate"><span class="pre">remove_remove_comm</span></code>, <code class="docutils literal notranslate"><span class="pre">remove_remove_eq</span></code>, <code class="docutils literal notranslate"><span class="pre">remove_length_le</span></code>, <code class="docutils literal notranslate"><span class="pre">remove_length_lt</span></code></p></li>
<li><p>properties of <code class="docutils literal notranslate"><span class="pre">concat</span></code>: <code class="docutils literal notranslate"><span class="pre">in_concat</span></code>, <code class="docutils literal notranslate"><span class="pre">remove_concat</span></code></p></li>
<li><p>properties of <code class="docutils literal notranslate"><span class="pre">map</span></code> and <code class="docutils literal notranslate"><span class="pre">flat_map</span></code>: <code class="docutils literal notranslate"><span class="pre">map_last</span></code>, <code class="docutils literal notranslate"><span class="pre">map_eq_cons</span></code>, <code class="docutils literal notranslate"><span class="pre">map_eq_app</span></code>, <code class="docutils literal notranslate"><span class="pre">flat_map_app</span></code>, <code class="docutils literal notranslate"><span class="pre">flat_map_ext</span></code>, <code class="docutils literal notranslate"><span class="pre">nth_nth_nth_map</span></code></p></li>
<li><p>properties of <code class="docutils literal notranslate"><span class="pre">incl</span></code>: <code class="docutils literal notranslate"><span class="pre">incl_nil_l</span></code>, <code class="docutils literal notranslate"><span class="pre">incl_l_nil</span></code>, <code class="docutils literal notranslate"><span class="pre">incl_cons_inv</span></code>, <code class="docutils literal notranslate"><span class="pre">incl_app_app</span></code>, <code class="docutils literal notranslate"><span class="pre">incl_app_inv</span></code>, <code class="docutils literal notranslate"><span class="pre">remove_incl</span></code>, <code class="docutils literal notranslate"><span class="pre">incl_map</span></code>, <code class="docutils literal notranslate"><span class="pre">incl_filter</span></code>, <code class="docutils literal notranslate"><span class="pre">incl_Forall_in_iff</span></code></p></li>
<li><p>properties of <code class="docutils literal notranslate"><span class="pre">NoDup</span></code> and <code class="docutils literal notranslate"><span class="pre">nodup</span></code>: <code class="docutils literal notranslate"><span class="pre">NoDup_rev</span></code>, <code class="docutils literal notranslate"><span class="pre">NoDup_filter</span></code>, <code class="docutils literal notranslate"><span class="pre">nodup_incl</span></code></p></li>
<li><p>properties of <code class="docutils literal notranslate"><span class="pre">Exists</span></code> and <code class="docutils literal notranslate"><span class="pre">Forall</span></code>: <code class="docutils literal notranslate"><span class="pre">Exists_nth</span></code>, <code class="docutils literal notranslate"><span class="pre">Exists_app</span></code>, <code class="docutils literal notranslate"><span class="pre">Exists_rev</span></code>, <code class="docutils literal notranslate"><span class="pre">Exists_fold_right</span></code>, <code class="docutils literal notranslate"><span class="pre">incl_Exists</span></code>, <code class="docutils literal notranslate"><span class="pre">Forall_nth</span></code>, <code class="docutils literal notranslate"><span class="pre">Forall_app</span></code>, <code class="docutils literal notranslate"><span class="pre">Forall_elt</span></code>, <code class="docutils literal notranslate"><span class="pre">Forall_rev</span></code>, <code class="docutils literal notranslate"><span class="pre">Forall_fold_right</span></code>, <code class="docutils literal notranslate"><span class="pre">incl_Forall</span></code>, <code class="docutils literal notranslate"><span class="pre">map_ext_Forall</span></code>, <code class="docutils literal notranslate"><span class="pre">Exists_or</span></code>, <code class="docutils literal notranslate"><span class="pre">Exists_or_inv</span></code>, <code class="docutils literal notranslate"><span class="pre">Forall_and</span></code>, <code class="docutils literal notranslate"><span class="pre">Forall_and_inv</span></code>, <code class="docutils literal notranslate"><span class="pre">exists_Forall</span></code>, <code class="docutils literal notranslate"><span class="pre">Forall_image</span></code>, <code class="docutils literal notranslate"><span class="pre">concat_nil_Forall</span></code>, <code class="docutils literal notranslate"><span class="pre">in_flat_map_Exists</span></code>, <code class="docutils literal notranslate"><span class="pre">notin_flat_map_Forall</span></code></p></li>
<li><p>properties of <code class="docutils literal notranslate"><span class="pre">repeat</span></code>: <code class="docutils literal notranslate"><span class="pre">repeat_cons</span></code>, <code class="docutils literal notranslate"><span class="pre">repeat_to_concat</span></code></p></li>
<li><p>definitions and properties of <code class="docutils literal notranslate"><span class="pre">list_sum</span></code> and <code class="docutils literal notranslate"><span class="pre">list_max</span></code>: <code class="docutils literal notranslate"><span class="pre">list_sum_app</span></code>, <code class="docutils literal notranslate"><span class="pre">list_max_app</span></code>, <code class="docutils literal notranslate"><span class="pre">list_max_le</span></code>, <code class="docutils literal notranslate"><span class="pre">list_max_lt</span></code></p></li>
<li><p>misc: <code class="docutils literal notranslate"><span class="pre">elt_eq_unit</span></code>, <code class="docutils literal notranslate"><span class="pre">last_length</span></code>, <code class="docutils literal notranslate"><span class="pre">rev_eq_app</span></code>, <code class="docutils literal notranslate"><span class="pre">removelast_firstn_len</span></code>, <code class="docutils literal notranslate"><span class="pre">cons_seq</span></code>, <code class="docutils literal notranslate"><span class="pre">seq_S</span></code></p></li>
</ul>
<p>(<a class="reference external" href="https://github.com/coq/coq/pull/11249">#11249</a>, <a class="reference external" href="https://github.com/coq/coq/pull/12237">#12237</a>,
by Olivier Laurent).</p>
</li>
<li><p><strong>Added:</strong>
Well-founded induction principles for <code class="docutils literal notranslate"><span class="pre">nat</span></code>: <code class="docutils literal notranslate"><span class="pre">lt_wf_rect1</span></code>, <code class="docutils literal notranslate"><span class="pre">lt_wf_rect</span></code>, <code class="docutils literal notranslate"><span class="pre">gt_wf_rect</span></code>, <code class="docutils literal notranslate"><span class="pre">lt_wf_double_rect</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/11335">#11335</a>,
by Olivier Laurent).</p></li>
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">remove'</span></code> and <code class="docutils literal notranslate"><span class="pre">count_occ'</span></code> over lists,
alternatives to <code class="docutils literal notranslate"><span class="pre">remove</span></code> and <code class="docutils literal notranslate"><span class="pre">count_occ</span></code> based on <code class="docutils literal notranslate"><span class="pre">filter</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/11350">#11350</a>,
by Yishuai Li).</p></li>
<li><p><strong>Added:</strong>
Facts about <code class="docutils literal notranslate"><span class="pre">N.iter</span></code> and <code class="docutils literal notranslate"><span class="pre">Pos.iter</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">N.iter_swap_gen</span></code>, <code class="docutils literal notranslate"><span class="pre">N.iter_swap</span></code>, <code class="docutils literal notranslate"><span class="pre">N.iter_succ</span></code>, <code class="docutils literal notranslate"><span class="pre">N.iter_succ_r</span></code>, <code class="docutils literal notranslate"><span class="pre">N.iter_add</span></code>, <code class="docutils literal notranslate"><span class="pre">N.iter_ind</span></code>, <code class="docutils literal notranslate"><span class="pre">N.iter_invariant</span></code>;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Pos.iter_succ_r</span></code>, <code class="docutils literal notranslate"><span class="pre">Pos.iter_ind</span></code>.</p></li>
</ul>
</div></blockquote>
<p>(<a class="reference external" href="https://github.com/coq/coq/pull/11880">#11880</a>,
by Lysxia).</p>
</li>
<li><p><strong>Added:</strong>
Facts about <code class="docutils literal notranslate"><span class="pre">Permutation</span></code>:</p>
<ul class="simple">
<li><p>structure: <code class="docutils literal notranslate"><span class="pre">Permutation_refl'</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_morph_transp</span></code></p></li>
<li><p>compatibilities: <code class="docutils literal notranslate"><span class="pre">Permutation_app_rot</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_app_swap_app</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_app_middle</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_middle2</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_elt</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_Forall</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_Exists</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_Forall2</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_flat_map</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_list_sum</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_list_max</span></code></p></li>
<li><p>inversions: <code class="docutils literal notranslate"><span class="pre">Permutation_app_inv_m</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_vs_elt_inv</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_vs_cons_inv</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_vs_cons_cons_inv</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_map_inv</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_image</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_elt_map_inv</span></code></p></li>
<li><p>length-preserving definition by means of transpositions <code class="docutils literal notranslate"><span class="pre">Permutation_transp</span></code> with associated properties: <code class="docutils literal notranslate"><span class="pre">Permutation_transp_sym</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_transp_equiv</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_transp_cons</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_Permutation_transp</span></code>, <code class="docutils literal notranslate"><span class="pre">Permutation_ind_transp</span></code></p></li>
</ul>
<p>(<a class="reference external" href="https://github.com/coq/coq/pull/11946">#11946</a>,
by Olivier Laurent).</p>
</li>
<li><p><strong>Added:</strong>
Notations for sigma types: <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">x</span> <span class="pre">&amp;</span> <span class="pre">P</span> <span class="pre">&amp;</span> <span class="pre">Q</span> <span class="pre">}</span></code>, <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">'</span> <span class="pre">pat</span> <span class="pre">&amp;</span> <span class="pre">P</span> <span class="pre">}</span></code>, <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">'</span> <span class="pre">pat</span> <span class="pre">&amp;</span> <span class="pre">P</span> <span class="pre">&amp;</span> <span class="pre">Q</span> <span class="pre">}</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/11957">#11957</a>,
by Olivier Laurent).</p></li>
<li><p><strong>Added:</strong>
Order relations <code class="docutils literal notranslate"><span class="pre">lt</span></code> and <code class="docutils literal notranslate"><span class="pre">compare</span></code> added in <code class="docutils literal notranslate"><span class="pre">Bool.Bool</span></code>.
Order properties for <code class="docutils literal notranslate"><span class="pre">bool</span></code> added in <code class="docutils literal notranslate"><span class="pre">Bool.BoolOrder</span></code> as well as two modules <code class="docutils literal notranslate"><span class="pre">Bool_as_OT</span></code> and <code class="docutils literal notranslate"><span class="pre">Bool_as_DT</span></code> in <code class="docutils literal notranslate"><span class="pre">Structures.OrdersEx</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/12008">#12008</a>,
by Olivier Laurent).</p></li>
<li><p><strong>Added:</strong>
Properties of some operations on vectors:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">nth_order</span></code>: <code class="docutils literal notranslate"><span class="pre">nth_order_hd</span></code>, <code class="docutils literal notranslate"><span class="pre">nth_order_tl</span></code>, <code class="docutils literal notranslate"><span class="pre">nth_order_ext</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">replace</span></code>: <code class="docutils literal notranslate"><span class="pre">nth_order_replace_eq</span></code>, <code class="docutils literal notranslate"><span class="pre">nth_order_replace_neq</span></code>, <code class="docutils literal notranslate"><span class="pre">replace_id</span></code>, <code class="docutils literal notranslate"><span class="pre">replace_replace_eq</span></code>, <code class="docutils literal notranslate"><span class="pre">replace_replace_neq</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">map</span></code>: <code class="docutils literal notranslate"><span class="pre">map_id</span></code>, <code class="docutils literal notranslate"><span class="pre">map_map</span></code>, <code class="docutils literal notranslate"><span class="pre">map_ext_in</span></code>, <code class="docutils literal notranslate"><span class="pre">map_ext</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Forall</span></code> and <code class="docutils literal notranslate"><span class="pre">Forall2</span></code>: <code class="docutils literal notranslate"><span class="pre">Forall_impl</span></code>, <code class="docutils literal notranslate"><span class="pre">Forall_forall</span></code>, <code class="docutils literal notranslate"><span class="pre">Forall_nth_order</span></code>, <code class="docutils literal notranslate"><span class="pre">Forall2_nth_order</span></code></p></li>
</ul>
<p>(<a class="reference external" href="https://github.com/coq/coq/pull/12014">#12014</a>,
by Olivier Laurent).</p>
</li>
<li><p><strong>Added:</strong>
Lemmas
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">orb_negb_l</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">andb_negb_l</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">implb_true_iff</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">implb_false_iff</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">implb_true_r</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">implb_false_r</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">implb_true_l</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">implb_false_l</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">implb_same</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">implb_contrapositive</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">implb_negb</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">implb_curry</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">implb_andb_distrib_r</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">implb_orb_distrib_r</span></span></code>,
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">implb_orb_distrib_l</span></span></code> in library <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Bool</span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/12018">#12018</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Added:</strong>
Definition and properties of cyclic permutations / circular shifts: <code class="docutils literal notranslate"><span class="pre">CPermutation</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/12031">#12031</a>,
by Olivier Laurent).</p></li>
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">Structures.OrderedTypeEx.Ascii_as_OT</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/12044">#12044</a>,
by formalize.eth (<a class="reference external" href="mailto:formalize&#37;&#52;&#48;protonmail&#46;com">formalize<span>&#64;</span>protonmail<span>&#46;</span>com</a>)).</p></li>
<li><p><strong>Fixed:</strong>
Rewrote <code class="docutils literal notranslate"><span class="pre">Structures.OrderedTypeEx.String_as_OT.compare</span></code>
to avoid huge proof terms
(<a class="reference external" href="https://github.com/coq/coq/pull/12044">#12044</a>,
by formalize.eth (<a class="reference external" href="mailto:formalize&#37;&#52;&#48;protonmail&#46;com">formalize<span>&#64;</span>protonmail<span>&#46;</span>com</a>);
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12015">#12015</a>).</p></li>
</ul>
</div>
<div class="section" id="reals-library">
<h4><a class="toc-backref" href="#id1606">Reals library</a><a class="headerlink" href="#reals-library" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p><strong>Changed:</strong>
Cleanup of names in the Reals theory: replaced <code class="docutils literal notranslate"><span class="pre">tan_is_inj</span></code> with
<code class="docutils literal notranslate"><span class="pre">tan_inj</span></code> and replaced <code class="docutils literal notranslate"><span class="pre">atan_right_inv</span></code> with <code class="docutils literal notranslate"><span class="pre">tan_atan</span></code> -
compatibility notations are provided. Moved various auxiliary lemmas
from <code class="docutils literal notranslate"><span class="pre">Ratan.v</span></code> to more appropriate places
(<a class="reference external" href="https://github.com/coq/coq/pull/9803">#9803</a>,
by Laurent Théry and Michael Soegtrop).</p></li>
<li><p><strong>Changed:</strong>
Replace <code class="docutils literal notranslate"><span class="pre">CRzero</span></code> and <code class="docutils literal notranslate"><span class="pre">CRone</span></code> by <code class="docutils literal notranslate"><span class="pre">CR_of_Q</span> <span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">CR_of_Q</span> <span class="pre">1</span></code> in
<code class="docutils literal notranslate"><span class="pre">ConstructiveReals</span></code>.  Use implicit arguments for
<code class="docutils literal notranslate"><span class="pre">ConstructiveReals</span></code>. Move <code class="docutils literal notranslate"><span class="pre">ConstructiveReals</span></code> into new directory
<code class="docutils literal notranslate"><span class="pre">Abstract</span></code>. Remove imports of implementations inside those
<code class="docutils literal notranslate"><span class="pre">Abstract</span></code> files. Move implementation by means of Cauchy sequences
in new directory <code class="docutils literal notranslate"><span class="pre">Cauchy</span></code>.  Split files <code class="docutils literal notranslate"><span class="pre">ConstructiveMinMax</span></code> and
<code class="docutils literal notranslate"><span class="pre">ConstructivePower</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The constructive reals modules are marked as experimental.</p>
</div>
<p>(<a class="reference external" href="https://github.com/coq/coq/pull/11725">#11725</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/12287">#12287</a>
and <a class="reference external" href="https://github.com/coq/coq/pull/12288">#12288</a>,
by Vincent Semeria).</p>
</li>
<li><p><strong>Removed:</strong>
Type <code class="docutils literal notranslate"><span class="pre">RList</span></code> has been removed.  All uses have been replaced by <code class="docutils literal notranslate"><span class="pre">list</span> <span class="pre">R</span></code>.
Functions from <code class="docutils literal notranslate"><span class="pre">RList</span></code> named <code class="docutils literal notranslate"><span class="pre">In</span></code>, <code class="docutils literal notranslate"><span class="pre">Rlength</span></code>, <code class="docutils literal notranslate"><span class="pre">cons_Rlist</span></code>, <code class="docutils literal notranslate"><span class="pre">app_Rlist</span></code>
have also been removed as they are essentially the same as <code class="docutils literal notranslate"><span class="pre">In</span></code>, <code class="docutils literal notranslate"><span class="pre">length</span></code>,
<code class="docutils literal notranslate"><span class="pre">app</span></code>, and <code class="docutils literal notranslate"><span class="pre">map</span></code> from <code class="docutils literal notranslate"><span class="pre">List</span></code>, modulo the following changes:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">RList.In</span> <span class="pre">x</span> <span class="pre">(RList.cons</span> <span class="pre">a</span> <span class="pre">l)</span></code> used to be convertible to
<code class="docutils literal notranslate"><span class="pre">(x</span> <span class="pre">=</span> <span class="pre">a)</span> <span class="pre">\/</span> <span class="pre">RList.In</span> <span class="pre">x</span> <span class="pre">l</span></code>,
but <code class="docutils literal notranslate"><span class="pre">List.In</span> <span class="pre">x</span> <span class="pre">(a</span> <span class="pre">::</span> <span class="pre">l)</span></code> is convertible to
<code class="docutils literal notranslate"><span class="pre">(a</span> <span class="pre">=</span> <span class="pre">x)</span> <span class="pre">\/</span> <span class="pre">List.In</span> <span class="pre">l</span></code>.
The equality is reversed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">app_Rlist</span></code> and <code class="docutils literal notranslate"><span class="pre">List.map</span></code> take arguments in different order.</p></li>
</ul>
</div></blockquote>
<p>(<a class="reference external" href="https://github.com/coq/coq/pull/11404">#11404</a>,
by Yves Bertot).</p>
</li>
<li><p><strong>Added:</strong>
inverse trigonometric functions <code class="docutils literal notranslate"><span class="pre">asin</span></code> and <code class="docutils literal notranslate"><span class="pre">acos</span></code> with lemmas for
the derivatives, bounds and special values of these functions; an
extensive set of identities between trigonometric functions and
their inverse functions; lemmas for the injectivity of sine and
cosine; lemmas on the derivative of the inverse of decreasing
functions and on the derivative of horizontally mirrored functions;
various generic auxiliary lemmas and definitions for <code class="docutils literal notranslate"><span class="pre">Rsqr</span></code>, <code class="docutils literal notranslate"><span class="pre">sqrt</span></code>,
<code class="docutils literal notranslate"><span class="pre">posreal</span></code> and others
(<a class="reference external" href="https://github.com/coq/coq/pull/9803">#9803</a>,
by Laurent Théry and Michael Soegtrop).</p></li>
</ul>
</div>
<div class="section" id="id1112">
<h4><a class="toc-backref" href="#id1607">Extraction</a><a class="headerlink" href="#id1112" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Added:</strong>
Support for better extraction of strings in OCaml and Haskell:
<code class="docutils literal notranslate"><span class="pre">ExtOcamlNativeString</span></code> provides bindings from the Coq <code class="docutils literal notranslate"><span class="pre">String</span></code> type to
the OCaml <code class="docutils literal notranslate"><span class="pre">string</span></code> type, and string literals can be extracted to literals,
both in OCaml and Haskell (<a class="reference external" href="https://github.com/coq/coq/pull/10486">#10486</a>, by Xavier Leroy, with help from
Maxime Dénès, review by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
In Haskell extraction with <code class="docutils literal notranslate"><span class="pre">ExtrHaskellString</span></code>, equality comparisons on
strings and characters are now guaranteed to be uniquely well-typed, even in
very polymorphic contexts under <code class="docutils literal notranslate"><span class="pre">unsafeCoerce</span></code>; this is achieved by adding
type annotations to the extracted code, and by making <code class="docutils literal notranslate"><span class="pre">ExtrHaskellString</span></code>
export <code class="docutils literal notranslate"><span class="pre">ExtrHaskellBasic</span></code> (<a class="reference external" href="https://github.com/coq/coq/pull/12263">#12263</a>, by Jason Gross, fixes <a class="reference external" href="https://github.com/coq/coq/issues/12257">#12257</a> and <a class="reference external" href="https://github.com/coq/coq/issues/12258">#12258</a>).</p>
</li>
</ul>
</div>
<div class="section" id="refman">
<span id="id1117"></span><h4><a class="toc-backref" href="#id1608">Reference manual</a><a class="headerlink" href="#refman" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Changed:</strong>
The reference manual has been restructured to get a more logical
organization.  In the new version, there are fewer top-level
chapters, and, in the HTML format, chapters are split into smaller
pages.  This is still a work in progress and further restructuring
is expected in the next versions of Coq
(<a class="reference external" href="https://github.com/coq/ceps/pull/43">CEP#43</a>, implemented in
<a class="reference external" href="https://github.com/coq/coq/pull/11601">#11601</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/11871">#11871</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/11914">#11914</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/12148">#12148</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/12172">#12172</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/12239">#12239</a>
and <a class="reference external" href="https://github.com/coq/coq/pull/12330">#12330</a>,
effort inspired by Matthieu Sozeau, led by Théo Zimmermann, with
help and reviews of Jim Fehrle, Clément Pit-Claudel and others).</p></li>
<li><p><strong>Changed:</strong>
Most of the grammar is now presented using the notation mechanism
that has been used to present commands and tactics since Coq 8.8 and
which is documented in <a class="reference internal" href="language/core/basic.html#syntax-conventions"><span class="std std-ref">Syntax conventions</span></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/11183">#11183</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/11314">#11314</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/11423">#11423</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/11705">#11705</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/11718">#11718</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/11720">#11720</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/11961">#11961</a>
and <a class="reference external" href="https://github.com/coq/coq/pull/12103">#12103</a>, by Jim
Fehrle, reviewed by Théo Zimmermann).</p></li>
<li><p><strong>Added:</strong>
A glossary of terms and an index of attributes
(<a class="reference external" href="https://github.com/coq/coq/pull/11869">#11869</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/12150">#12150</a>
and <a class="reference external" href="https://github.com/coq/coq/pull/12224">#12224</a>,
by Jim Fehrle and Théo Zimmermann,
reviewed by Clément Pit-Claudel)</p></li>
<li><p><strong>Added:</strong>
A selector that allows switching between versions of the reference
manual (<a class="reference external" href="https://github.com/coq/coq/pull/12286">#12286</a>, by
Clément Pit-Claudel).</p></li>
<li><p><strong>Fixed:</strong>
Most of the documented syntax has been thoroughly updated to make it
accurate and easily understood.  This was done using a
semi-automated <code class="docutils literal notranslate"><span class="pre">doc_grammar</span></code> tool introduced for this purpose and
through significant revisions to the text
(<a class="reference external" href="https://github.com/coq/coq/pull/9884">#9884</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/10614">#10614</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/11314">#11314</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/11423">#11423</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/11705">#11705</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/11718">#11718</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/11720">#11720</a>
<a class="reference external" href="https://github.com/coq/coq/pull/11797">#11797</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/11913">#11913</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/11958">#11958</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/11960">#11960</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/11961">#11961</a>
and <a class="reference external" href="https://github.com/coq/coq/pull/12103">#12103</a>, by Jim
Fehrle, reviewed by Théo Zimmermann and Jason Gross).</p></li>
</ul>
</div>
<div class="section" id="id1150">
<h4><a class="toc-backref" href="#id1609">Infrastructure and dependencies</a><a class="headerlink" href="#id1150" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p><strong>Changed:</strong>
Minimal versions of dependencies for building the reference manual:
now requires Sphinx &gt;= 2.3.1 &amp; &lt; 3.0.0, sphinx_rtd_theme 0.4.3+ and
sphinxcontrib-bibtex 0.4.2+.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The reference manual is known not to build properly with
Sphinx 3.</p>
</div>
<p>(<a class="reference external" href="https://github.com/coq/coq/pull/12224">#12224</a>,
by Jim Fehrle and Théo Zimmermann).</p>
</li>
<li><p><strong>Removed:</strong>
Python 2 is no longer required in any part of the codebase
(<a class="reference external" href="https://github.com/coq/coq/pull/11245">#11245</a>,
by Emilio Jesus Gallego Arias).</p></li>
</ul>
</div>
</div>
<div class="section" id="changes-in-8-12-0">
<h3>Changes in 8.12.0<a class="headerlink" href="#changes-in-8-12-0" title="Permalink to this headline">¶</a></h3>
<p><strong>Notations</strong></p>
<ul class="simple">
<li><p><strong>Added:</strong>
Simultaneous definition of terms and notations now support custom entries.
Fixes <a class="reference external" href="https://github.com/coq/coq/pull/11121">#11121</a>.
(<a class="reference external" href="https://github.com/coq/coq/pull/11523">#12523</a>, by Maxime Dénès).</p></li>
<li><p><strong>Fixed:</strong>
Printing bug with notations for n-ary applications used with applied references.
(<a class="reference external" href="https://github.com/coq/coq/pull/12683">#12683</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/pull/12682">#12682</a>,
by Hugo Herbelin).</p></li>
</ul>
<p><strong>Tactics</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
<a class="reference internal" href="addendum/type-classes.html#coq:tacn.typeclasses-eauto" title="typeclasses eauto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">typeclasses</span> <span class="pre">eauto</span></code></a> (and discriminated hint bases) now correctly
classify local variables as being unfoldable
(<a class="reference external" href="https://github.com/coq/coq/pull/12572">#12572</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12571">#12571</a>,
by Pierre-Marie Pédrot).</p></li>
</ul>
<p><strong>Tactic language</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Excluding occurrences was causing an anomaly in tactics
(e.g., <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">pattern</span></span> <span class="operator"><span class="pre">_</span></span> <span class="name"><span class="pre">at</span></span> <span class="name"><span class="pre">L</span></span></code> where <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">L</span></span></code> is <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">-</span></span><span class="literal number integer"><span class="pre">2</span></span></code>).
(<a class="reference external" href="https://github.com/coq/coq/pull/12541">#12541</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12228">#12228</a>,
by Pierre Roux).</p></li>
<li><p><strong>Fixed:</strong>
Parsing of multi-parameters Ltac2 types
(<a class="reference external" href="https://github.com/coq/coq/pull/12594">#12594</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12595">#12595</a>,
by Pierre-Marie Pédrot).</p></li>
</ul>
<p><strong>SSReflect</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Do not store the full environment inside ssr ast_closure_term
(<a class="reference external" href="https://github.com/coq/coq/pull/12708">#12708</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12707">#12707</a>,
by Pierre-Marie Pédrot).</p></li>
</ul>
<p><strong>Commands and options</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Properly report the mismatched magic number of vo files
(<a class="reference external" href="https://github.com/coq/coq/pull/12677">#12677</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12513">#12513</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Changed:</strong>
Arbitrary hints have been undeprecated, and their definition
now triggers a standard warning instead
(<a class="reference external" href="https://github.com/coq/coq/pull/12678">#12678</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11970">#11970</a>,
by Pierre-Marie Pédrot).</p></li>
</ul>
<p><strong>CoqIDE</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong> CoqIDE no longer exits when trying to open a file whose name is not a valid identifier
(<a class="reference external" href="https://github.com/coq/coq/pull/12562">#12562</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/10988">#10988</a>,
by Vincent Laporte).</p></li>
</ul>
<p><strong>Infrastructure and dependencies</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Running <code class="docutils literal notranslate"><span class="pre">make</span></code> in <code class="docutils literal notranslate"><span class="pre">test-suite/</span></code> twice (or more) in a row will no longer
rebuild the <code class="docutils literal notranslate"><span class="pre">modules/</span></code> tests on subsequent runs, if they have not been
modified in the meantime (<a class="reference external" href="https://github.com/coq/coq/pull/12583">#12583</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12582">#12582</a>, by Jason Gross).</p></li>
</ul>
</div>
<div class="section" id="changes-in-8-12-1">
<h3>Changes in 8.12.1<a class="headerlink" href="#changes-in-8-12-1" title="Permalink to this headline">¶</a></h3>
<p><strong>Kernel</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong> Incompleteness of conversion checking on problems
involving <a class="reference internal" href="language/core/conversion.html#eta-expansion-sect"><span class="std std-ref">η-expansion</span></a> and <a class="reference internal" href="addendum/universe-polymorphism.html#cumulative"><span class="std std-ref">cumulative universe
polymorphic inductive types</span></a> (<a class="reference external" href="https://github.com/coq/coq/pull/12738">#12738</a>, fixes <a class="reference external" href="https://github.com/coq/coq/issues/7015">#7015</a>, by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
Polymorphic side-effects inside monomorphic definitions were incorrectly
handled as not inlined. This allowed deriving an inconsistency
(<a class="reference external" href="https://github.com/coq/coq/pull/13331">#13331</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13330">#13330</a>,
by Pierre-Marie Pédrot).</p></li>
</ul>
<p><strong>Notations</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Undetected collision between a lonely notation and a notation in
scope at printing time
(<a class="reference external" href="https://github.com/coq/coq/pull/12946">#12946</a>,
fixes the first part of <a class="reference external" href="https://github.com/coq/coq/issues/12908">#12908</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Printing of notations in custom entries with
variables not mentioning an explicit level
(<a class="reference external" href="https://github.com/coq/coq/pull/13026">#13026</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12775">#12775</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/13018">#13018</a>,
by Hugo Herbelin).</p></li>
</ul>
<p><strong>Tactics</strong></p>
<ul class="simple">
<li><p><strong>Added:</strong>
<a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.replace" title="replace"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">replace</span></code></a> and <a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:tacn.inversion" title="inversion"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">inversion</span></code></a> support registration of a
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">core.identity</span></span></code>-like equality in <code class="code Coq docutils literal notranslate"><span class="keyword type"><span class="pre">Type</span></span></code>, such as HoTT's <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">path</span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/12847">#12847</a>,
partially fixes <a class="reference external" href="https://github.com/coq/coq/issues/12846">#12846</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
Anomaly with <a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:tacn.injection" title="injection"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">injection</span></code></a> involving artificial
dependencies disappearing by reduction
(<a class="reference external" href="https://github.com/coq/coq/pull/12816">#12816</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12787">#12787</a>,
by Hugo Herbelin).</p></li>
</ul>
<p><strong>Tactic language</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Miscellaneous issues with locating tactic errors
(<a class="reference external" href="https://github.com/coq/coq/pull/13247">#13247</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12773">#12773</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/12992">#12992</a>,
by Hugo Herbelin).</p></li>
</ul>
<p><strong>SSReflect</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Regression in error reporting after <a class="reference internal" href="proof-engine/ssreflect-proof-language.html#coq:tacn.case-(ssreflect)" title="case (ssreflect)"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">case</span></code></a>.
A generic error message &quot;Could not fill dependent hole in apply&quot; was
reported for any error following <a class="reference internal" href="proof-engine/ssreflect-proof-language.html#coq:tacn.case-(ssreflect)" title="case (ssreflect)"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">case</span></code></a> or
<a class="reference internal" href="proof-engine/ssreflect-proof-language.html#coq:tacn.elim-(ssreflect)" title="elim (ssreflect)"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">elim</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/12857">#12857</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12837">#12837</a>,
by Enrico Tassi).</p></li>
</ul>
<p><strong>Commands and options</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Failures of <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Search" title="Search"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Search</span></code></a> in the presence of primitive projections
(<a class="reference external" href="https://github.com/coq/coq/pull/13301">#13301</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13298">#13298</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
<a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Search" title="Search"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Search</span></code></a> supports filtering on parts of identifiers which are
not proper identifiers themselves, such as <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">&quot;1&quot;</span></span></span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/13351">#13351</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13349">#13349</a>,
by Hugo Herbelin).</p></li>
</ul>
<p><strong>Tools</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Special symbols now escaped in the index produced by coqdoc,
avoiding collision with the syntax of the output format
(<a class="reference external" href="https://github.com/coq/coq/pull/12754">#12754</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12752">#12752</a>,
by Hugo Herbelin).</p></li>
<li><p><strong>Fixed:</strong>
The <code class="docutils literal notranslate"><span class="pre">details</span></code> environment added in the 8.12 release can now be used
as advertised in the reference manual
(<a class="reference external" href="https://github.com/coq/coq/pull/12772">#12772</a>,
by Thomas Letan).</p></li>
<li><p><strong>Fixed:</strong>
Targets such as <code class="docutils literal notranslate"><span class="pre">print-pretty-timed</span></code> in <code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code>-made
<code class="docutils literal notranslate"><span class="pre">Makefile</span></code>s no longer error in rare cases where <code class="docutils literal notranslate"><span class="pre">--output-sync</span></code> is not
passed to make and the timing output gets interleaved in just the wrong way
(<a class="reference external" href="https://github.com/coq/coq/pull/13063">#13063</a>, fixes <a class="reference external" href="https://github.com/coq/coq/issues/13062">#13062</a>, by Jason Gross).</p></li>
</ul>
<p><strong>CoqIDE</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
View menu &quot;Display parentheses&quot;
(<a class="reference external" href="https://github.com/coq/coq/pull/12794">#12794</a> and <a class="reference external" href="https://github.com/coq/coq/pull/13067">#13067</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12793">#12793</a>,
by Jean-Christophe Léchenet and Hugo Herbelin).</p></li>
</ul>
<p><strong>Infrastructure and dependencies</strong></p>
<ul class="simple">
<li><p><strong>Added:</strong>
Coq is now tested against OCaml 4.11.1
(<a class="reference external" href="https://github.com/coq/coq/pull/12972">#12972</a>,
by Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Fixed:</strong>
The reference manual can now build with Sphinx 3
(<a class="reference external" href="https://github.com/coq/coq/pull/13011">#13011</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/12332">#12332</a>,
by Théo Zimmermann and Jim Fehrle).</p></li>
</ul>
</div>
<div class="section" id="changes-in-8-12-2">
<h3>Changes in 8.12.2<a class="headerlink" href="#changes-in-8-12-2" title="Permalink to this headline">¶</a></h3>
<p><strong>Notations</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
8.12 regression causing notations mentioning a coercion to be ignored
(<a class="reference external" href="https://github.com/coq/coq/pull/13436">#13436</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13432">#13432</a>,
by Hugo Herbelin).</p></li>
</ul>
<p><strong>Tactics</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
8.12 regression: incomplete inference of implicit arguments in <a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:tacn.exists" title="exists"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">exists</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/13468">#13468</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/13456">#13456</a>,
by Hugo Herbelin).</p></li>
</ul>
</div>
</div>
<div class="section" id="version-8-11">
<h2>Version 8.11<a class="headerlink" href="#version-8-11" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1210">
<h3>Summary of changes<a class="headerlink" href="#id1210" title="Permalink to this headline">¶</a></h3>
<p>The main changes brought by Coq version 8.11 are:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#id1250"><span class="std std-ref">Ltac2</span></a>, a new tactic language for writing more robust larger scale
tactics, with built-in support for datatypes and the multi-goal tactic monad.</p></li>
<li><p><a class="reference internal" href="#primitivefloats"><span class="std std-ref">Primitive floats</span></a> are integrated in terms and follow the binary64 format
of the IEEE 754 standard, as specified in the <code class="docutils literal notranslate"><span class="pre">Coq.Float.Floats</span></code> library.</p></li>
<li><p><a class="reference internal" href="#sections"><span class="std std-ref">Cleanups</span></a> of the section mechanism, delayed proofs and further
restrictions of template polymorphism to fix soundness issues related to
universes.</p></li>
<li><p>New <a class="reference internal" href="#unsafeflags"><span class="std std-ref">unsafe flags</span></a> to disable locally guard, positivity and universe
checking. Reliance on these flags is always printed by
<code class="code Coq docutils literal notranslate"><span class="keyword namespace"><span class="pre">Print</span></span> <span class="name"><span class="pre">Assumptions</span></span></code>.</p></li>
<li><p><a class="reference internal" href="#exportbug"><span class="std std-ref">Fixed bugs</span></a> of <code class="code Coq docutils literal notranslate"><span class="keyword namespace"><span class="pre">Export</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="keyword namespace"><span class="pre">Import</span></span></code> that can have a
significant impact on user developments (<strong>common source of
incompatibility!</strong>).</p></li>
<li><p>New interactive development method based on <code class="docutils literal notranslate"><span class="pre">vos</span></code> <a class="reference internal" href="#vos"><span class="std std-ref">interface files</span></a>,
allowing to work on a file without recompiling the proof parts of their
dependencies.</p></li>
<li><p>New <code class="code Coq docutils literal notranslate"><span class="keyword namespace"><span class="pre">Arguments</span></span></code> annotation for <a class="reference internal" href="#bidirarguments"><span class="std std-ref">bidirectional type inference</span></a>
configuration for reference (e.g. constants, inductive) applications.</p></li>
<li><p>New <a class="reference internal" href="#refineinstance"><span class="std std-ref">refine attribute</span></a> for <a class="reference internal" href="addendum/type-classes.html#coq:cmd.Instance" title="Instance"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Instance</span></code></a> can be used instead of
the removed <code class="docutils literal notranslate"><span class="pre">Refine</span> <span class="pre">Instance</span> <span class="pre">Mode</span></code>.</p></li>
<li><p>Generalization of the <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">under</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">over</span></span></code> <a class="reference internal" href="#ssrunderover"><span class="std std-ref">tactics</span></a> of SSReflect to
arbitrary relations.</p></li>
<li><p><a class="reference internal" href="#reals"><span class="std std-ref">Revision</span></a> of the <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Coq.Reals</span></span></code> library, its axiomatisation and
instances of the constructive and classical real numbers.</p></li>
</ul>
<p>Additionally, while the <code class="docutils literal notranslate"><span class="pre">omega</span></code> tactic is not yet deprecated in
this version of Coq, it should soon be the case and we already
recommend users to switch to <a class="reference internal" href="addendum/micromega.html#coq:tacn.lia" title="lia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lia</span></code></a> in new proof scripts.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">dev/doc/critical-bugs</span></code> file documents the known critical bugs
of Coq and affected releases. See the <a class="reference internal" href="#changes-in-8-11-beta1">Changes in 8.11+beta1</a>
section and following sections for the detailed list of changes,
including potentially breaking changes marked with <strong>Changed</strong>.</p>
<p>Coq's documentation is available at <a class="reference external" href="https://coq.github.io/doc/v8.11/api">https://coq.github.io/doc/v8.11/api</a> (documentation of
the ML API), <a class="reference external" href="https://coq.github.io/doc/v8.11/refman">https://coq.github.io/doc/v8.11/refman</a> (reference
manual), and <a class="reference external" href="https://coq.github.io/doc/v8.11/stdlib">https://coq.github.io/doc/v8.11/stdlib</a> (documentation of
the standard library).</p>
<p>Maxime Dénès, Emilio Jesús Gallego Arias, Gaëtan Gilbert, Michael
Soegtrop and Théo Zimmermann worked on maintaining and improving the
continuous integration system and package building infrastructure.</p>
<p>The opam repository for Coq packages has been maintained by
Guillaume Claret, Karl Palmskog, Matthieu Sozeau and Enrico Tassi with
contributions from many users. A list of packages is available at
<a class="reference external" href="https://coq.inria.fr/opam/www/">https://coq.inria.fr/opam/www/</a>.</p>
<p>The 61 contributors to this version are Michael D. Adams, Guillaume
Allais, Helge Bahmann, Langston Barrett, Guillaume Bertholon, Frédéric
Besson, Simon Boulier, Michele Caci, Tej Chajed, Arthur Charguéraud,
Cyril Cohen, Frédéric Dabrowski, Arthur Azevedo de Amorim, Maxime
Dénès, Nikita Eshkeev, Jim Fehrle, Emilio Jesús Gallego Arias,
Paolo G. Giarrusso, Gaëtan Gilbert, Georges Gonthier, Jason Gross,
Samuel Gruetter, Armaël Guéneau, Hugo Herbelin, Florent Hivert, Jasper
Hugunin, Shachar Itzhaky, Jan-Oliver Kaiser, Robbert Krebbers, Vincent
Laporte, Olivier Laurent, Samuel Lelièvre, Nicholas Lewycky, Yishuai
Li, Jose Fernando Lopez Fernandez, Andreas Lynge, Kenji Maillard, Erik
Martin-Dorel, Guillaume Melquiond, Alexandre Moine, Oliver Nash,
Wojciech Nawrocki, Antonio Nikishaev, Pierre-Marie Pédrot, Clément
Pit-Claudel, Lars Rasmusson, Robert Rand, Talia Ringer, JP Rodi,
Pierre Roux, Kazuhiko Sakaguchi, Vincent Semeria, Michael Soegtrop,
Matthieu Sozeau, spanjel, Claude Stolze, Enrico Tassi, Laurent Théry,
James R. Wilcox, Xia Li-yao, Théo Zimmermann</p>
<p>Many power users helped to improve the design of the new features via
the issue and pull request system, the Coq development mailing list,
the <a class="reference external" href="mailto:coq-club&#37;&#52;&#48;inria&#46;fr">coq-club<span>&#64;</span>inria<span>&#46;</span>fr</a> mailing list or the <a class="reference external" href="https://coq.discourse.group/">Discourse forum</a>. It would be impossible to mention
exhaustively the names of everybody who to some extent influenced the
development.</p>
<p>Version 8.11 is the sixth release of Coq developed on a time-based
development cycle. Its development spanned 3 months from the release of
Coq 8.10. Pierre-Marie Pédrot is the release manager and maintainer of this
release, assisted by Matthieu Sozeau. This release is the result of 2000+
commits and 300+ PRs merged, closing 75+ issues.</p>
<div class="line-block">
<div class="line">Paris, November 2019,</div>
<div class="line">Matthieu Sozeau for the Coq development team</div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="changes-in-8-11-beta1">
<h3>Changes in 8.11+beta1<a class="headerlink" href="#changes-in-8-11-beta1" title="Permalink to this headline">¶</a></h3>
<p><strong>Kernel</strong></p>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="primitivefloats">
<li><p><strong>Added:</strong>
A built-in support of floating-point arithmetic, allowing
one to devise efficient reflection tactics involving numerical
computation. Primitive floats are added in the language of terms,
following the binary64 format of the IEEE 754 standard, and the
related operations are implemented for the different reduction
engines of Coq by using the corresponding processor operators in
rounding-to-nearest-even. The properties of these operators are
axiomatized in the theory <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Coq.Floats.FloatAxioms</span></span></code> which is part
of the library <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Coq.Floats.Floats</span></span></code>.
See Section <a class="reference internal" href="language/core/primitive.html#primitive-floats"><span class="std std-ref">Primitive Floats</span></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/9867">#9867</a>,
closes <a class="reference external" href="https://github.com/coq/coq/issues/8276">#8276</a>,
by Guillaume Bertholon, Erik Martin-Dorel, Pierre Roux).</p></li>
<li><p><strong>Changed:</strong>
Internal definitions generated by <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:tacn.abstract" title="abstract"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">abstract</span></code></a>-like tactics are now inlined
inside universe <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:cmd.Qed" title="Qed"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Qed</span></code></a>-terminated polymorphic definitions, similarly to what
happens for their monomorphic counterparts,
(<a class="reference external" href="https://github.com/coq/coq/pull/10439">#10439</a>, by Pierre-Marie Pédrot).</p>
</li>
<li id="sections"><p><strong>Fixed:</strong>
Section data is now part of the kernel. Solves a soundness issue
in interactive mode where global monomorphic universe constraints would be
dropped when forcing a delayed opaque proof inside a polymorphic section. Also
relaxes the nesting criterion for sections, as polymorphic sections can now
appear inside a monomorphic one
(<a class="reference external" href="https://github.com/coq/coq/pull/10664">#10664</a>, by Pierre-Marie Pédrot).</p></li>
<li><p><strong>Changed:</strong>
Using <code class="docutils literal notranslate"><span class="pre">SProp</span></code> is now allowed by default, without needing to pass
<code class="docutils literal notranslate"><span class="pre">-allow-sprop</span></code> or use <a class="reference internal" href="addendum/sprop.html#coq:flag.Allow-StrictProp" title="Allow StrictProp"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Allow</span> <span class="pre">StrictProp</span></code></a> (<a class="reference external" href="https://github.com/coq/coq/pull/10811">#10811</a>, by Gaëtan Gilbert).</p></li>
</ul>
<p><strong>Specification language, type inference</strong></p>
<blockquote>
<div></div></blockquote>
<ul id="bidirarguments">
<li><p><strong>Added:</strong>
Annotation in <code class="docutils literal notranslate"><span class="pre">Arguments</span></code> for bidirectionality hints: it is now possible
to tell type inference to use type information from the context once the <code class="docutils literal notranslate"><span class="pre">n</span></code>
first arguments of an application are known. The syntax is:
<code class="docutils literal notranslate"><span class="pre">Arguments</span> <span class="pre">foo</span> <span class="pre">x</span> <span class="pre">y</span> <span class="pre">&amp;</span> <span class="pre">z</span></code>. See <a class="reference internal" href="language/extensions/arguments-command.html#bidirectionality-hints"><span class="std std-ref">Bidirectionality hints</span></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/10049">#10049</a>, by Maxime Dénès with
help from Enrico Tassi).</p></li>
<li><p><strong>Added:</strong>
Record fields can be annotated to prevent them from being used as canonical projections;
see <a class="reference internal" href="language/extensions/canonical.html#canonicalstructures"><span class="std std-ref">Canonical Structures</span></a> for details
(<a class="reference external" href="https://github.com/coq/coq/pull/10076">#10076</a>,
by Vincent Laporte).</p></li>
<li><p><strong>Changed:</strong>
Require parentheses around nested disjunctive patterns, so that pattern and
term syntax are consistent; match branch patterns no longer require
parentheses for notation at level 100 or more.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Incompatibilities</p>
<ul class="simple">
<li><p>In <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">match</span></span> <span class="name"><span class="pre">p</span></span> <span class="keyword"><span class="pre">with</span></span> <span class="operator"><span class="pre">(_,</span></span> <span class="operator"><span class="pre">(</span></span><span class="literal number integer"><span class="pre">0</span></span><span class="operator"><span class="pre">|</span></span><span class="literal number integer"><span class="pre">1</span></span><span class="operator"><span class="pre">))</span></span> <span class="operator"><span class="pre">=&gt;</span></span> <span class="operator"><span class="pre">...</span></span></code> parentheses may no longer be
omitted around <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">0</span></span></span><span class="pre">|</span><span><span><span class="pre">1</span></span></span></span></code>.</p></li>
<li><p>Notation <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">p</span></span> <span class="operator"><span class="pre">|</span></span> <span class="name"><span class="pre">q</span></span><span class="operator"><span class="pre">)</span></span></code> now potentially clashes with core pattern syntax,
and should be avoided. <code class="docutils literal notranslate"><span class="pre">-w</span> <span class="pre">disj-pattern-notation</span></code> flags such <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Notation" title="Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Notation</span></code></a>.</p></li>
</ul>
</div>
<p>See <a class="reference internal" href="language/extensions/match.html#extendedpatternmatching"><span class="std std-ref">Extended pattern matching</span></a> for details
(<a class="reference external" href="https://github.com/coq/coq/pull/10167">#10167</a>,
by Georges Gonthier).</p>
</li>
<li><p><strong>Changed:</strong>
<a class="reference internal" href="using/libraries/funind.html#coq:cmd.Function" title="Function"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Function</span></code></a> always opens a proof when used with a <code class="docutils literal notranslate"><span class="pre">measure</span></code> or <code class="docutils literal notranslate"><span class="pre">wf</span></code>
annotation, see <a class="reference internal" href="using/libraries/funind.html#advanced-recursive-functions"><span class="std std-ref">Advanced recursive functions</span></a> for the updated
documentation (<a class="reference external" href="https://github.com/coq/coq/pull/10215">#10215</a>,
by Enrico Tassi).</p></li>
<li><p><strong>Changed:</strong>
The legacy command <a class="reference internal" href="addendum/generalized-rewriting.html#coq:cmd.Add-Morphism" title="Add Morphism"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Add</span> <span class="pre">Morphism</span></code></a> always opens a proof and cannot be used
inside a module type. In order to declare a module type parameter that
happens to be a morphism, use <a class="reference internal" href="addendum/generalized-rewriting.html#coq:cmd.Declare-Morphism" title="Declare Morphism"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Declare</span> <span class="pre">Morphism</span></code></a>. See
<a class="reference internal" href="addendum/generalized-rewriting.html#deprecated-syntax-for-generalized-rewriting"><span class="std std-ref">Deprecated syntax and backward incompatibilities</span></a> for the updated
documentation (<a class="reference external" href="https://github.com/coq/coq/pull/10215">#10215</a>,
by Enrico Tassi).</p></li>
<li><p><strong>Changed:</strong>
The universe polymorphism setting now applies from the opening of a section.
In particular, it is not possible anymore to mix polymorphic and monomorphic
definitions in a section when there are no variables nor universe constraints
defined in this section. This makes the behavior consistent with the
documentation. (<a class="reference external" href="https://github.com/coq/coq/pull/10441">#10441</a>,
by Pierre-Marie Pédrot)</p></li>
<li><p><strong>Added:</strong>
The <a class="reference internal" href="language/core/sections.html#coq:cmd.Section" title="Section"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Section</span></code></a> command now accepts the &quot;universes&quot; attribute. In
addition to setting the section universe polymorphism, it also locally sets
the universe polymorphic option inside the section.
(<a class="reference external" href="https://github.com/coq/coq/pull/10441">#10441</a>, by Pierre-Marie Pédrot)</p></li>
<li><p><strong>Fixed:</strong>
<code class="docutils literal notranslate"><span class="pre">Program</span> <span class="pre">Fixpoint</span></code> now uses <code class="docutils literal notranslate"><span class="pre">ex</span></code> and <code class="docutils literal notranslate"><span class="pre">sig</span></code> to make telescopes
involving <code class="docutils literal notranslate"><span class="pre">Prop</span></code> types (<a class="reference external" href="https://github.com/coq/coq/pull/10758">#10758</a>, by Gaëtan Gilbert, fixing
<a class="reference external" href="https://github.com/coq/coq/issues/10757">#10757</a> reported by
Xavier Leroy).</p></li>
<li><p><strong>Changed:</strong>
Output of the <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Print" title="Print"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span></code></a> and <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.About" title="About"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">About</span></code></a> commands.
Arguments meta-data is now displayed as the corresponding
<a class="reference internal" href="language/extensions/arguments-command.html#coq:cmd.Arguments" title="Arguments"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Arguments</span></code></a> command instead of the
human-targeted prose used in previous Coq versions. (<a class="reference external" href="https://github.com/coq/coq/pull/10985">#10985</a>, by Gaëtan Gilbert).</p>
</li>
<li id="refineinstance"><p><strong>Added:</strong> <a class="reference internal" href="addendum/type-classes.html#coq:attr.refine" title="refine"><code class="xref coq coq-attr docutils literal notranslate"><span class="pre">refine</span></code></a> attribute for <a class="reference internal" href="addendum/type-classes.html#coq:cmd.Instance" title="Instance"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Instance</span></code></a>, a more
predictable version of the old <code class="docutils literal notranslate"><span class="pre">Refine</span> <span class="pre">Instance</span> <span class="pre">Mode</span></code> which
unconditionally opens a proof (<a class="reference external" href="https://github.com/coq/coq/pull/10996">#10996</a>, by Gaëtan Gilbert).</p></li>
<li><p><strong>Changed:</strong>
The unsupported attribute error is now an error-by-default warning,
meaning it can be disabled (<a class="reference external" href="https://github.com/coq/coq/pull/10997">#10997</a>, by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong> Bugs sometimes preventing to define valid (co)fixpoints with implicit arguments
in the presence of local definitions, see <a class="reference external" href="https://github.com/coq/coq/issues/3282">#3282</a>
(<a class="reference external" href="https://github.com/coq/coq/pull/11132">#11132</a>, by Hugo Herbelin).</p>
<div class="admonition note">
<p class="admonition-title">Example</p>
<p>The following features an implicit argument after a local
definition. It was wrongly rejected.</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span></span><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">f</span><span> := </span><span class="coqdoc-keyword">fix</span><span> </span><span class="coqdoc-var">f</span><span> (</span><span class="coqdoc-var">o</span><span> := </span><span class="coqdoc-var">true</span><span>) {</span><span class="coqdoc-var">n</span><span> : </span><span class="coqdoc-var">nat</span><span>} </span><span class="coqdoc-var">m</span><span> {</span><span class="coqdoc-keyword">struct</span><span> </span><span class="coqdoc-var">m</span><span>} :=</span><span>
  </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">m</span><span> </span><span class="coqdoc-keyword">with</span><span> 0 =&gt; 0 | </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">m'</span><span> =&gt; </span><span class="coqdoc-var">f</span><span> (</span><span class="coqdoc-var">n</span><span>:=</span><span class="coqdoc-var">n</span><span>+1) </span><span class="coqdoc-var">m'</span><span> </span><span class="coqdoc-keyword">end</span><span>.</span><span>
</span></dt><dd class="coqtop-hidden"><span>f is defined
</span></dd>
</dl>
</div>
</div>
</li>
</ul>
<p><strong>Notations</strong></p>
<ul class="simple">
<li><p><strong>Added:</strong>
Numeral Notations now support sorts in the input to printing
functions (e.g., numeral notations can be defined for terms
containing things like <code class="docutils literal notranslate"><span class="pre">&#64;cons</span> <span class="pre">Set</span> <span class="pre">nat</span> <span class="pre">nil</span></code>).  (<a class="reference external" href="https://github.com/coq/coq/pull/9883">#9883</a>, by Jason Gross).</p></li>
<li><p><strong>Added:</strong>
The <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Notation" title="Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Notation</span></code></a> and <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Infix" title="Infix"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Infix</span></code></a> commands now support the <code class="docutils literal notranslate"><span class="pre">deprecated</span></code>
attribute
(<a class="reference external" href="https://github.com/coq/coq/pull/10180">#10180</a>, by Maxime Dénès).</p></li>
<li><p><strong>Deprecated:</strong>
The former <code class="docutils literal notranslate"><span class="pre">compat</span></code> annotation for notations is
deprecated, and its semantics changed. It is now made equivalent to using
a <code class="docutils literal notranslate"><span class="pre">deprecated</span></code> attribute, and is no longer connected with the <code class="docutils literal notranslate"><span class="pre">-compat</span></code>
command-line flag
(<a class="reference external" href="https://github.com/coq/coq/pull/10180">#10180</a>, by Maxime Dénès).</p></li>
<li><p><strong>Changed:</strong>
A simplification of parsing rules could cause a slight change of
parsing precedences for the very rare users who defined notations
with <code class="docutils literal notranslate"><span class="pre">constr</span></code> at level strictly between 100 and 200 and used these
notations on the right-hand side of a cast operator (<code class="docutils literal notranslate"><span class="pre">:</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;:</span></code>,
<code class="docutils literal notranslate"><span class="pre">&lt;&lt;:</span></code>) (<a class="reference external" href="https://github.com/coq/coq/pull/10963">#10963</a>, by Théo
Zimmermann, simplification initially noticed by Jim Fehrle).</p></li>
</ul>
<p><strong>Tactics</strong></p>
<ul class="simple">
<li><p><strong>Added:</strong>
Syntax <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">injection</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a> <span><span><span class="pre">as</span></span></span> <span><span><span class="pre">[=</span></span></span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="proof-engine/tactics.html#grammar-token-intropattern"><span class="hole"><span class="pre">intropattern</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span></span> <span><span><span class="pre">]</span></span></span></span></code> as
an alternative to <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">injection</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a> <span><span><span class="pre">as</span></span></span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="proof-engine/tactics.html#grammar-token-simple_intropattern"><span class="hole"><span class="pre">simple_intropattern</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span></span></span></code> using
the standard injection intropattern syntax (<a class="reference external" href="https://github.com/coq/coq/pull/9288">#9288</a>, by Hugo Herbelin).</p></li>
<li><p><strong>Changed:</strong>
Reimplementation of the <a class="reference internal" href="addendum/micromega.html#coq:tacn.zify" title="zify"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">zify</span></code></a> tactic. The tactic is more efficient and copes with dependent hypotheses.
It can also be extended by redefining the tactic <code class="docutils literal notranslate"><span class="pre">zify_post_hook</span></code>.
(<a class="reference external" href="https://github.com/coq/coq/pull/9856">#9856</a>, fixes
<a class="reference external" href="https://github.com/coq/coq/issues/8898">#8898</a>,
<a class="reference external" href="https://github.com/coq/coq/issues/7886">#7886</a>,
<a class="reference external" href="https://github.com/coq/coq/issues/9848">#9848</a> and
<a class="reference external" href="https://github.com/coq/coq/issues/5155">#5155</a>, by Frédéric Besson).</p></li>
<li><p><strong>Changed:</strong>
The goal selector tactical <code class="docutils literal notranslate"><span class="pre">only</span></code> now checks that the goal range
it is given is valid instead of ignoring goals out of the focus
range (<a class="reference external" href="https://github.com/coq/coq/pull/10318">#10318</a>, by Gaëtan
Gilbert).</p></li>
<li><p><strong>Added:</strong>
Flags <a class="reference internal" href="addendum/micromega.html#coq:flag.Lia-Cache" title="Lia Cache"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Lia</span> <span class="pre">Cache</span></code></a>, <a class="reference internal" href="addendum/micromega.html#coq:flag.Nia-Cache" title="Nia Cache"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Nia</span> <span class="pre">Cache</span></code></a> and <a class="reference internal" href="addendum/micromega.html#coq:flag.Nra-Cache" title="Nra Cache"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Nra</span> <span class="pre">Cache</span></code></a>.
(<a class="reference external" href="https://github.com/coq/coq/pull/10765">#10765</a>, by Frédéric Besson,
see <a class="reference external" href="https://github.com/coq/coq/issues/10772">#10772</a> for use case).</p></li>
<li><p><strong>Added:</strong>
The <a class="reference internal" href="addendum/micromega.html#coq:tacn.zify" title="zify"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">zify</span></code></a> tactic is now aware of <code class="docutils literal notranslate"><span class="pre">Z.to_N</span></code>.
(<a class="reference external" href="https://github.com/coq/coq/pull/10774">#10774</a>, grants
<a class="reference external" href="https://github.com/coq/coq/issues/9162">#9162</a>, by Kazuhiko Sakaguchi).</p></li>
<li><p><strong>Changed:</strong>
The <a class="reference internal" href="proof-engine/ltac.html#coq:tacn.assert_succeeds" title="assert_succeeds"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">assert_succeeds</span></code></a> and <a class="reference internal" href="proof-engine/ltac.html#coq:tacn.assert_fails" title="assert_fails"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">assert_fails</span></code></a> tactics now
only run their tactic argument once, even if it has multiple
successes.  This prevents blow-up and looping from using
multisuccess tactics with <a class="reference internal" href="proof-engine/ltac.html#coq:tacn.assert_succeeds" title="assert_succeeds"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">assert_succeeds</span></code></a>.  (<a class="reference external" href="https://github.com/coq/coq/pull/10966">#10966</a> fixes <a class="reference external" href="https://github.com/coq/coq/issues/10965">#10965</a>, by Jason Gross).</p></li>
<li><p><strong>Fixed:</strong>
The <a class="reference internal" href="proof-engine/ltac.html#coq:tacn.assert_succeeds" title="assert_succeeds"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">assert_succeeds</span></code></a> and <a class="reference internal" href="proof-engine/ltac.html#coq:tacn.assert_fails" title="assert_fails"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">assert_fails</span></code></a> tactics now
behave correctly when their tactic fully solves the goal.  (<a class="reference external" href="https://github.com/coq/coq/pull/10966">#10966</a> fixes <a class="reference external" href="https://github.com/coq/coq/issues/9114">#9114</a>, by Jason Gross).</p></li>
</ul>
<p><strong>Tactic language</strong></p>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="id1250">
<li><p><strong>Added:</strong>
Ltac2, a new version of the tactic language Ltac, that doesn't
preserve backward compatibility, has been integrated in the main Coq
distribution.  It is still experimental, but we already recommend
users of advanced Ltac to start using it and report bugs or request
enhancements.  See its documentation in the <a class="reference internal" href="proof-engine/ltac2.html#ltac2"><span class="std std-ref">dedicated chapter</span></a> (<a class="reference external" href="https://github.com/coq/coq/pull/10002">#10002</a>, plugin
authored by Pierre-Marie Pédrot, with contributions by various
users, integration by Maxime Dénès, help on integrating / improving
the documentation by Théo Zimmermann and Jim Fehrle).</p></li>
<li><p><strong>Added:</strong>
Ltac2 tactic notations with “constr” arguments can specify the
notation scope for these arguments;
see <a class="reference internal" href="proof-engine/ltac2.html#ltac2-notations"><span class="std std-ref">Notations</span></a> for details
(<a class="reference external" href="https://github.com/coq/coq/pull/10289">#10289</a>,
by Vincent Laporte).</p></li>
<li><p><strong>Changed:</strong>
White spaces are forbidden in the <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">&amp;</span></span></span><a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code> syntax for ltac2 references
that are described in <a class="reference internal" href="proof-engine/ltac2.html#ltac2-built-in-quotations"><span class="std std-ref">Built-in quotations</span></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/10324">#10324</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/10088">#10088</a>,
authored by Pierre-Marie Pédrot).</p></li>
</ul>
<p><strong>SSReflect</strong></p>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="ssrunderover">
<li><p><strong>Added:</strong>
Generalize tactics <a class="reference internal" href="proof-engine/ssreflect-proof-language.html#coq:tacn.under" title="under"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">under</span></code></a> and <a class="reference internal" href="proof-engine/ssreflect-proof-language.html#coq:tacn.over" title="over"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">over</span></code></a> for any registered
relation. More precisely, assume the given context lemma has type
<code class="docutils literal notranslate"><span class="pre">forall</span> <span class="pre">f1</span> <span class="pre">f2,</span> <span class="pre">..</span> <span class="pre">-&gt;</span> <span class="pre">(forall</span> <span class="pre">i,</span> <span class="pre">R1</span> <span class="pre">(f1</span> <span class="pre">i)</span> <span class="pre">(f2</span> <span class="pre">i))</span> <span class="pre">-&gt;</span> <span class="pre">R2</span> <span class="pre">f1</span> <span class="pre">f2</span></code>.  The
first step performed by <a class="reference internal" href="proof-engine/ssreflect-proof-language.html#coq:tacn.under" title="under"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">under</span></code></a> (since Coq 8.10) amounts to
calling the tactic <a class="reference internal" href="proof-engine/ssreflect-proof-language.html#coq:tacn.rewrite-(ssreflect)" title="rewrite (ssreflect)"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">rewrite</span></code></a>, which
itself relies on <a class="reference internal" href="addendum/generalized-rewriting.html#coq:tacn.setoid_rewrite" title="setoid_rewrite"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">setoid_rewrite</span></code></a> if need be. So this step was
already compatible with a double implication or setoid equality for
the conclusion head symbol <code class="docutils literal notranslate"><span class="pre">R2</span></code>. But a further step consists in
tagging the generated subgoal <code class="docutils literal notranslate"><span class="pre">R1</span> <span class="pre">(f1</span> <span class="pre">i)</span> <span class="pre">(?f2</span> <span class="pre">i)</span></code> to protect it from
unwanted evar instantiation, and get <code class="docutils literal notranslate"><span class="pre">Under_rel</span> <span class="pre">_</span> <span class="pre">R1</span> <span class="pre">(f1</span> <span class="pre">i)</span> <span class="pre">(?f2</span> <span class="pre">i)</span></code>
that is displayed as <code class="docutils literal notranslate"><span class="pre">'Under[</span> <span class="pre">f1</span> <span class="pre">i</span> <span class="pre">]</span></code>. In Coq 8.10, this second
(convenience) step was only performed when <code class="docutils literal notranslate"><span class="pre">R1</span></code> was Leibniz' <code class="docutils literal notranslate"><span class="pre">eq</span></code> or
<code class="docutils literal notranslate"><span class="pre">iff</span></code>. Now, it is also performed for any relation <code class="docutils literal notranslate"><span class="pre">R1</span></code> which has a
<code class="docutils literal notranslate"><span class="pre">RewriteRelation</span></code> instance (a <code class="docutils literal notranslate"><span class="pre">RelationClasses.Reflexive</span></code> instance
being also needed so <a class="reference internal" href="proof-engine/ssreflect-proof-language.html#coq:tacn.over" title="over"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">over</span></code></a> can discharge the <code class="docutils literal notranslate"><span class="pre">'Under[</span> <span class="pre">_</span> <span class="pre">]</span></code>
goal by instantiating the hidden evar.)
This feature generalizing support for setoid-like relations is
enabled as soon as we do both <code class="docutils literal notranslate"><span class="pre">Require</span> <span class="pre">Import</span> <span class="pre">ssreflect.</span></code> and
<code class="docutils literal notranslate"><span class="pre">Require</span> <span class="pre">Setoid.</span></code> Finally, a rewrite rule <code class="docutils literal notranslate"><span class="pre">UnderE</span></code> has been
added if one wants to &quot;unprotect&quot; the evar, and instantiate it
manually with another rule than reflexivity (i.e., without using the
<a class="reference internal" href="proof-engine/ssreflect-proof-language.html#coq:tacn.over" title="over"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">over</span></code></a> tactic nor the <code class="docutils literal notranslate"><span class="pre">over</span></code> rewrite rule). See also Section
<a class="reference internal" href="proof-engine/ssreflect-proof-language.html#under-ssr"><span class="std std-ref">Rewriting under binders</span></a> (<a class="reference external" href="https://github.com/coq/coq/pull/10022">#10022</a>,
by Erik Martin-Dorel, with suggestions and review by Enrico Tassi
and Cyril Cohen).</p></li>
<li><p><strong>Added:</strong>
A <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">void</span></span></code> notation for the standard library empty type (<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Empty_set</span></span></code>)
(<a class="reference external" href="https://github.com/coq/coq/pull/10932">#10932</a>, by Arthur Azevedo de
Amorim).</p></li>
<li><p><strong>Added:</strong> Lemma <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">inj_compr</span></span></code> to <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">ssr.ssrfun</span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/11136">#11136</a>, by Cyril Cohen).</p></li>
</ul>
<p><strong>Commands and options</strong></p>
<ul>
<li><p><strong>Removed:</strong>
Deprecated flag <code class="docutils literal notranslate"><span class="pre">Refine</span> <span class="pre">Instance</span> <span class="pre">Mode</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/9530">#9530</a>, fixes
<a class="reference external" href="https://github.com/coq/coq/issues/3632">#3632</a>, <a class="reference external" href="https://github.com/coq/coq/issues/3890">#3890</a> and <a class="reference external" href="https://github.com/coq/coq/issues/4638">#4638</a>
by Maxime Dénès, review by Gaëtan Gilbert).</p></li>
<li><p><strong>Changed:</strong>
<a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Fail" title="Fail"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Fail</span></code></a> does not catch critical errors (including &quot;stack overflow&quot;)
anymore (<a class="reference external" href="https://github.com/coq/coq/pull/10173">#10173</a>,
by Gaëtan Gilbert).</p></li>
<li><p><strong>Removed:</strong>
Undocumented <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Instance</span></span></span> <span><span><span class="pre">:</span></span></span> <span><span><span class="pre">!</span></span></span><a class="reference internal" href="language/core/basic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a></span></code> syntax
(<a class="reference external" href="https://github.com/coq/coq/pull/10185">#10185</a>, by Gaëtan Gilbert).</p></li>
<li><p><strong>Removed:</strong>
Deprecated <code class="docutils literal notranslate"><span class="pre">Show</span> <span class="pre">Script</span></code> command
(<a class="reference external" href="https://github.com/coq/coq/pull/10277">#10277</a>, by Gaëtan Gilbert).</p>
</li>
<li id="unsafeflags"><p><strong>Added:</strong>
Unsafe commands to enable/disable guard checking, positivity checking
and universes checking (providing a local <code class="docutils literal notranslate"><span class="pre">-type-in-type</span></code>).
See <a class="reference internal" href="proof-engine/vernacular-commands.html#controlling-typing-flags"><span class="std std-ref">Controlling Typing Flags</span></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/10291">#10291</a> by Simon Boulier).</p>
</li>
<li id="exportbug"><p><strong>Fixed:</strong>
Two bugs in <a class="reference internal" href="language/core/modules.html#coq:cmd.Export" title="Export"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Export</span></code></a>. This can have an impact on the behavior of the
<a class="reference internal" href="language/core/modules.html#coq:cmd.Import" title="Import"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Import</span></code></a> command on libraries. <code class="docutils literal notranslate"><span class="pre">Import</span> <span class="pre">A</span></code> when <code class="docutils literal notranslate"><span class="pre">A</span></code> imports <code class="docutils literal notranslate"><span class="pre">B</span></code> which exports
<code class="docutils literal notranslate"><span class="pre">C</span></code> was importing <code class="docutils literal notranslate"><span class="pre">C</span></code>, whereas <a class="reference internal" href="language/core/modules.html#coq:cmd.Import" title="Import"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Import</span></code></a> is not transitive. Also, after
<code class="docutils literal notranslate"><span class="pre">Import</span> <span class="pre">A</span> <span class="pre">B</span></code>, the import of <code class="docutils literal notranslate"><span class="pre">B</span></code> was sometimes incomplete
(<a class="reference external" href="https://github.com/coq/coq/pull/10476">#10476</a>, by Maxime Dénès).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is a common source of incompatibilities in projects
migrating to Coq 8.11.</p>
</div>
</li>
<li><p><strong>Changed:</strong>
Output generated by <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:flag.Printing-Dependent-Evars-Line" title="Printing Dependent Evars Line"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Dependent</span> <span class="pre">Evars</span> <span class="pre">Line</span></code></a> flag
used by the Prooftree tool in Proof General.
(<a class="reference external" href="https://github.com/coq/coq/pull/10489">#10489</a>,
closes <a class="reference external" href="https://github.com/coq/coq/issues/4504">#4504</a>,
<a class="reference external" href="https://github.com/coq/coq/issues/10399">#10399</a> and
<a class="reference external" href="https://github.com/coq/coq/issues/10400">#10400</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Added:</strong>
Optionally highlight the differences between successive proof steps in the
<a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:cmd.Show-Proof" title="Show Proof"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Show</span> <span class="pre">Proof</span></code></a> command.  Experimental; only available in coqtop
and Proof General for now, may be supported in other IDEs
in the future.
(<a class="reference external" href="https://github.com/coq/coq/pull/10494">#10494</a>,
by Jim Fehrle).</p></li>
<li><p><strong>Removed:</strong> Legacy commands <code class="docutils literal notranslate"><span class="pre">AddPath</span></code>, <code class="docutils literal notranslate"><span class="pre">AddRecPath</span></code>, and <code class="docutils literal notranslate"><span class="pre">DelPath</span></code>
which were undocumented, broken variants of <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Add-LoadPath" title="Add LoadPath"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Add</span> <span class="pre">LoadPath</span></code></a>,
<a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Add-Rec-LoadPath" title="Add Rec LoadPath"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Add</span> <span class="pre">Rec</span> <span class="pre">LoadPath</span></code></a>, and <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Remove-LoadPath" title="Remove LoadPath"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Remove</span> <span class="pre">LoadPath</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/11187">#11187</a>,
by Maxime Dénès and Théo Zimmermann).</p></li>
</ul>
<p><strong>Tools</strong></p>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="vos">
<li><p><strong>Added:</strong>
<code class="docutils literal notranslate"><span class="pre">coqc</span></code> now provides the ability to generate compiled interfaces.
Use <code class="docutils literal notranslate"><span class="pre">coqc</span> <span class="pre">-vos</span> <span class="pre">foo.v</span></code> to skip all opaque proofs during the
compilation of <code class="docutils literal notranslate"><span class="pre">foo.v</span></code>, and output a file called <code class="docutils literal notranslate"><span class="pre">foo.vos</span></code>.
This feature is experimental. It enables working on a Coq file without the need to
first compile the proofs contained in its dependencies
(<a class="reference external" href="https://github.com/coq/coq/pull/8642">#8642</a> by Arthur Charguéraud, review by
Maxime Dénès and Emilio Gallego).</p></li>
<li><p><strong>Added:</strong>
Command-line options <code class="docutils literal notranslate"><span class="pre">-require-import</span></code>, <code class="docutils literal notranslate"><span class="pre">-require-export</span></code>,
<code class="docutils literal notranslate"><span class="pre">-require-import-from</span></code> and <code class="docutils literal notranslate"><span class="pre">-require-export-from</span></code>, as well as their
shorthand, <code class="docutils literal notranslate"><span class="pre">-ri</span></code>, <code class="docutils literal notranslate"><span class="pre">-re</span></code>, <code class="docutils literal notranslate"><span class="pre">-refrom</span></code> and -<code class="docutils literal notranslate"><span class="pre">rifrom</span></code>. Deprecate
confusing command line option <code class="docutils literal notranslate"><span class="pre">-require</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/10245">#10245</a>
by Hugo Herbelin, review by Emilio Gallego).</p></li>
<li><p><strong>Changed:</strong>
Renamed <code class="docutils literal notranslate"><span class="pre">VDFILE</span></code> from <code class="docutils literal notranslate"><span class="pre">.coqdeps.d</span></code> to <code class="docutils literal notranslate"><span class="pre">.&lt;CoqMakefile&gt;.d</span></code> in the <code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code>
utility, where <code class="docutils literal notranslate"><span class="pre">&lt;CoqMakefile&gt;</span></code> is the name of the output file given by the
<code class="docutils literal notranslate"><span class="pre">-o</span></code> option. In this way two generated makefiles can coexist in the same
directory.
(<a class="reference external" href="https://github.com/coq/coq/pull/10947">#10947</a>, by Kazuhiko Sakaguchi).</p></li>
<li><p><strong>Fixed:</strong> <code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code> now supports environment variable <code class="docutils literal notranslate"><span class="pre">COQBIN</span></code> with
no ending <code class="docutils literal notranslate"><span class="pre">/</span></code> character (<a class="reference external" href="https://github.com/coq/coq/pull/11068">#11068</a>, by Gaëtan Gilbert).</p></li>
</ul>
<p><strong>Standard library</strong></p>
<ul class="simple">
<li><p><strong>Changed:</strong>
Moved the <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:tacn.auto" title="auto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">auto</span></code></a> hints of the <code class="docutils literal notranslate"><span class="pre">OrderedType</span></code> module into a new <code class="docutils literal notranslate"><span class="pre">ordered_type</span></code>
database
(<a class="reference external" href="https://github.com/coq/coq/pull/9772">#9772</a>,
by Vincent Laporte).</p></li>
<li><p><strong>Removed:</strong>
Deprecated modules <code class="docutils literal notranslate"><span class="pre">Coq.ZArith.Zlogarithm</span></code> and <code class="docutils literal notranslate"><span class="pre">Coq.ZArith.Zsqrt_compat</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/9811">#9811</a>,
by Vincent Laporte).</p>
</li>
<li id="reals"><p><strong>Added:</strong>
Module <code class="docutils literal notranslate"><span class="pre">Reals.Cauchy.ConstructiveCauchyReals</span></code> defines constructive real numbers
by Cauchy sequences of rational numbers
(<a class="reference external" href="https://github.com/coq/coq/pull/10445">#10445</a>, by Vincent Semeria,
with the help and review of Guillaume Melquiond and Bas Spitters).
This module is not meant to be imported directly, please import
<code class="docutils literal notranslate"><span class="pre">Reals.Abstract.ConstructiveReals</span></code> instead.</p></li>
<li><p><strong>Added:</strong>
New module <code class="docutils literal notranslate"><span class="pre">Reals.ClassicalDedekindReals</span></code> defines Dedekind real
numbers as boolean-valued functions along with 3 logical axioms:
limited principle of omniscience, excluded middle of negations, and
functional extensionality.  The exposed type <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">R</span></span></code> in module
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Reals.Rdefinitions</span></span></code> now corresponds to these Dedekind reals,
hidden behind an opaque module, which significantly reduces the
number of axioms needed (see <code class="docutils literal notranslate"><span class="pre">Reals.Rdefinitions</span></code> and
<code class="docutils literal notranslate"><span class="pre">Reals.Raxioms</span></code>), while preserving backward compatibility.
Classical Dedekind reals are a quotient of constructive reals, which
allows to transport many constructive proofs to the classical case
(<a class="reference external" href="https://github.com/coq/coq/pull/10827">#10827</a>, by Vincent Semeria,
based on discussions with Guillaume Melquiond, Bas Spitters and Hugo Herbelin,
code review by Hugo Herbelin).</p></li>
<li><p><strong>Added:</strong>
New lemmas on <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">combine</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">filter</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">nodup</span></span></code>, <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">nth</span></span></code>, and
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">nth_error</span></span></code> functions on lists
(<a class="reference external" href="https://github.com/coq/coq/pull/10651">#10651</a>, and
<a class="reference external" href="https://github.com/coq/coq/pull/10731">#10731</a>, by Oliver Nash).</p></li>
<li><p><strong>Changed:</strong>
The lemma <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">filter_app</span></span></code> was moved to the <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">List</span></span></code> module
(<a class="reference external" href="https://github.com/coq/coq/pull/10651">#10651</a>, by Oliver Nash).</p></li>
<li><p><strong>Added:</strong>
Standard equivalence between weak excluded-middle and the
classical instance of De Morgan's law, in module <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">ClassicalFacts</span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/10895">#10895</a>, by Hugo Herbelin).</p></li>
</ul>
<p><strong>Infrastructure and dependencies</strong></p>
<ul class="simple">
<li><p><strong>Changed:</strong>
Coq now officially supports OCaml 4.08.
See <code class="docutils literal notranslate"><span class="pre">INSTALL</span></code> file for details
(<a class="reference external" href="https://github.com/coq/coq/pull/10471">#10471</a>,
by Emilio Jesús Gallego Arias).</p></li>
</ul>
</div>
<div class="section" id="changes-in-8-11-0">
<h3>Changes in 8.11.0<a class="headerlink" href="#changes-in-8-11-0" title="Permalink to this headline">¶</a></h3>
<p><strong>Kernel</strong></p>
<ul class="simple">
<li><p><strong>Changed:</strong> the native compilation (<a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.native_compute" title="native_compute"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">native_compute</span></code></a>) now
creates a directory to contain temporary files instead of putting
them in the root of the system temporary directory (<a class="reference external" href="https://github.com/coq/coq/pull/11081">#11081</a>, by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong> <a class="reference external" href="https://github.com/issues/11360">#11360</a>.
Broken section closing when a template polymorphic inductive type depends on
a section variable through its parameters (<a class="reference external" href="https://github.com/coq/coq/pull/11361">#11361</a>, by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong> The type of <code class="code Coq docutils literal notranslate"><span class="keyword type"><span class="pre">Set</span></span><span class="operator"><span class="pre">+</span></span><span class="literal number integer"><span class="pre">1</span></span></code> would be computed to be itself,
leading to a proof of False (<a class="reference external" href="https://github.com/coq/coq/pull/11422">#11422</a>, by Gaëtan Gilbert).</p></li>
</ul>
<p><strong>Specification language, type inference</strong></p>
<ul class="simple">
<li><p><strong>Changed:</strong> Heuristics for universe minimization to <code class="code Coq docutils literal notranslate"><span class="keyword type"><span class="pre">Set</span></span></code>: only
minimize flexible universes (<a class="reference external" href="https://github.com/coq/coq/pull/10657">#10657</a>,
by Gaëtan Gilbert with help from Maxime Dénès and Matthieu Sozeau).</p></li>
<li><p><strong>Fixed:</strong>
A dependency was missing when looking for default clauses in the
algorithm for printing pattern matching clauses (<a class="reference external" href="https://github.com/coq/coq/pull/11233">#11233</a>, by Hugo Herbelin, fixing
<a class="reference external" href="https://github.com/coq/coq/pull/11231">#11231</a>, reported by Barry
Jay).</p></li>
</ul>
<p><strong>Notations</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
<a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Print-Visibility" title="Print Visibility"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Visibility</span></code></a> was failing in the presence of only-printing notations
(<a class="reference external" href="https://github.com/coq/coq/pull/11276">#11276</a>,
by Hugo Herbelin, fixing <a class="reference external" href="https://github.com/coq/coq/pull/10750">#10750</a>).</p></li>
<li><p><strong>Fixed:</strong>
Recursive notations with custom entries were incorrectly parsing <code class="docutils literal notranslate"><span class="pre">constr</span></code>
instead of custom grammars (<a class="reference external" href="https://github.com/coq/coq/pull/11311">#11311</a>
by Maxime Dénès, fixes <a class="reference external" href="https://github.com/coq/coq/pull/9532">#9532</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/9490">#9490</a>).</p></li>
</ul>
<p><strong>Tactics</strong></p>
<ul class="simple">
<li><p><strong>Changed:</strong>
The tactics <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.eapply" title="eapply"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">eapply</span></code></a>, <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.refine" title="refine"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">refine</span></code></a> and variants no
longer allow shelved goals to be solved by typeclass resolution
(<a class="reference external" href="https://github.com/coq/coq/pull/10762">#10762</a>, by Matthieu Sozeau).</p></li>
<li><p><strong>Fixed:</strong> The optional string argument to <a class="reference internal" href="proof-engine/ltac.html#coq:tacn.time" title="time"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">time</span></code></a> is now
properly quoted under <a class="reference internal" href="proof-engine/ltac.html#coq:cmd.Print-Ltac" title="Print Ltac"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Ltac</span></code></a> (<a class="reference external" href="https://github.com/coq/coq/pull/11203">#11203</a>, fixes <a class="reference external" href="https://github.com/coq/coq/issues/10971">#10971</a>, by Jason Gross)</p></li>
<li><p><strong>Fixed:</strong>
Efficiency regression of <a class="reference internal" href="addendum/micromega.html#coq:tacn.lia" title="lia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lia</span></code></a> introduced in 8.10
by PR <a class="reference external" href="https://github.com/coq/coq/pull/9725">#9725</a>
(<a class="reference external" href="https://github.com/coq/coq/pull/11263">#11263</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11063">#11063</a>,
and <a class="reference external" href="https://github.com/coq/coq/issues/11242">#11242</a>,
and <a class="reference external" href="https://github.com/coq/coq/issues/11270">#11270</a>, by Frédéric Besson).</p></li>
<li><p><strong>Deprecated:</strong>
The undocumented <code class="docutils literal notranslate"><span class="pre">omega</span> <span class="pre">with</span></code> tactic variant has been deprecated.
Using <a class="reference internal" href="addendum/micromega.html#coq:tacn.lia" title="lia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lia</span></code></a> is the recommended replacement, though the old semantics
of <code class="docutils literal notranslate"><span class="pre">omega</span> <span class="pre">with</span> <span class="pre">*</span></code> can be recovered with <code class="docutils literal notranslate"><span class="pre">zify;</span> <span class="pre">omega</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/11337">#11337</a>,
by Emilio Jesus Gallego Arias).</p></li>
<li><p><strong>Fixed</strong>
For compatibility reasons, in 8.11, <a class="reference internal" href="addendum/micromega.html#coq:tacn.zify" title="zify"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">zify</span></code></a> does not support <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Z.pow_pos</span></span></code> by default.
It can be enabled by explicitly loading the module <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">ZifyPow</span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/11430">#11430</a> by Frédéric Besson
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11191">#11191</a>).</p></li>
</ul>
<p><strong>Tactic language</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Syntax of tactic <code class="docutils literal notranslate"><span class="pre">cofix</span> <span class="pre">...</span> <span class="pre">with</span> <span class="pre">...</span></code> was broken since Coq 8.10
(<a class="reference external" href="https://github.com/coq/coq/pull/11241">#11241</a>,
by Hugo Herbelin).</p></li>
</ul>
<p><strong>Commands and options</strong></p>
<ul class="simple">
<li><p><strong>Deprecated:</strong> The <code class="docutils literal notranslate"><span class="pre">-load-ml-source</span></code> and <code class="docutils literal notranslate"><span class="pre">-load-ml-object</span></code> command
line options have been deprecated; their use was very limited, you
can achieve the same by adding object files in the linking step or
by using a plugin (<a class="reference external" href="https://github.com/coq/coq/pull/11428">#11428</a>, by Emilio Jesus Gallego
Arias).</p></li>
</ul>
<p><strong>Tools</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
<code class="docutils literal notranslate"><span class="pre">coqtop</span> <span class="pre">--version</span></code> was broken when called in the middle of an installation process
(<a class="reference external" href="https://github.com/coq/coq/pull/11255">#11255</a>, by Hugo Herbelin, fixing
<a class="reference external" href="https://github.com/coq/coq/pull/11254">#11254</a>).</p></li>
<li><p><strong>Deprecated:</strong> The <code class="docutils literal notranslate"><span class="pre">-quick</span></code> command is renamed to <code class="docutils literal notranslate"><span class="pre">-vio</span></code>, for
consistency with the new <code class="docutils literal notranslate"><span class="pre">-vos</span></code> and <code class="docutils literal notranslate"><span class="pre">-vok</span></code> flags. Usage of
<code class="docutils literal notranslate"><span class="pre">-quick</span></code> is now deprecated (<a class="reference external" href="https://github.com/coq/coq/pull/11280">#11280</a>, by Arthur Charguéraud).</p></li>
<li><p><strong>Fixed:</strong>
<code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code> does not break when using the <code class="docutils literal notranslate"><span class="pre">CAMLPKGS</span></code> variable
together with an unpacked (<code class="docutils literal notranslate"><span class="pre">mllib</span></code>) plugin (<a class="reference external" href="https://github.com/coq/coq/pull/11357">#11357</a>, by Gaëtan Gilbert).</p></li>
<li><p><strong>Fixed:</strong>
<code class="docutils literal notranslate"><span class="pre">coqdoc</span></code> with option <code class="docutils literal notranslate"><span class="pre">-g</span></code> (Gallina only) now correctly prints
commands with attributes (<a class="reference external" href="https://github.com/coq/coq/pull/11394">#11394</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11353">#11353</a>,
by Karl Palmskog).</p></li>
</ul>
<p><strong>CoqIDE</strong></p>
<ul class="simple">
<li><p><strong>Changed:</strong> CoqIDE now uses the GtkSourceView native implementation
of the autocomplete mechanism (<a class="reference external" href="https://github.com/coq/coq/pull/11400">#11400</a>, by Pierre-Marie Pédrot).</p></li>
</ul>
<p><strong>Standard library</strong></p>
<ul class="simple">
<li><p><strong>Removed:</strong> Export of module <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">RList</span></span></code> in <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Ranalysis</span></span></code> and
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Ranalysis_reg</span></span></code>. Module <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">RList</span></span></code> is still there but must be
imported explicitly where required (<a class="reference external" href="https://github.com/coq/coq/pull/11396">#11396</a>, by Michael Soegtrop).</p></li>
</ul>
<p><strong>Infrastructure and dependencies</strong></p>
<ul class="simple">
<li><p><strong>Added:</strong>
Build date can now be overridden by setting the <code class="docutils literal notranslate"><span class="pre">SOURCE_DATE_EPOCH</span></code>
environment variable
(<a class="reference external" href="https://github.com/coq/coq/pull/11227">#11227</a>,
by Bernhard M. Wiedemann).</p></li>
</ul>
</div>
<div class="section" id="changes-in-8-11-1">
<h3>Changes in 8.11.1<a class="headerlink" href="#changes-in-8-11-1" title="Permalink to this headline">¶</a></h3>
<p><strong>Kernel</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Allow more inductive types in <code class="docutils literal notranslate"><span class="pre">Unset</span> <span class="pre">Positivity</span> <span class="pre">Checking</span></code> mode
(<a class="reference external" href="https://github.com/coq/coq/pull/11811">#11811</a>,
by SimonBoulier).</p></li>
</ul>
<p><strong>Notations</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Bugs in dealing with precedences of notations in custom entries
(<a class="reference external" href="https://github.com/coq/coq/pull/11530">#11530</a>,
by Hugo Herbelin, fixing in particular
<a class="reference external" href="https://github.com/coq/coq/pull/9517">#9517</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/9519">#9519</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/9521">#9521</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/11331">#11331</a>).</p></li>
<li><p><strong>Added:</strong>
In primitive floats, print a warning when parsing a decimal value
that is not exactly a binary64 floating-point number.
For instance, parsing 0.1 will print a warning whereas parsing 0.5 won't.
(<a class="reference external" href="https://github.com/coq/coq/pull/11859">#11859</a>,
by Pierre Roux).</p></li>
</ul>
<p><strong>CoqIDE</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Compiling file paths containing spaces
(<a class="reference external" href="https://github.com/coq/coq/pull/10008">#10008</a>,
by snyke7, fixing <a class="reference external" href="https://github.com/coq/coq/pull/11595">#11595</a>).</p></li>
</ul>
<p><strong>Infrastructure and dependencies</strong></p>
<ul class="simple">
<li><p><strong>Added:</strong>
Bump official OCaml support and CI testing to 4.10.0
(<a class="reference external" href="https://github.com/coq/coq/pull/11131">#11131</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/11123">#11123</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/11102">#11102</a>,
by Emilio Jesus Gallego Arias, Jacques-Henri Jourdan,
Guillaume Melquiond, and Guillaume Munch-Maccagnoni).</p></li>
</ul>
<p><strong>Miscellaneous</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
<a class="reference internal" href="addendum/extraction.html#coq:cmd.Extraction-Implicit" title="Extraction Implicit"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Extraction</span> <span class="pre">Implicit</span></code></a> on the constructor of a record was leading to an anomaly
(<a class="reference external" href="https://github.com/coq/coq/pull/11329">#11329</a>,
by Hugo Herbelin, fixes <a class="reference external" href="https://github.com/coq/coq/pull/11114">#11114</a>).</p></li>
</ul>
</div>
<div class="section" id="changes-in-8-11-2">
<h3>Changes in 8.11.2<a class="headerlink" href="#changes-in-8-11-2" title="Permalink to this headline">¶</a></h3>
<p><strong>Kernel</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Using <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Require" title="Require"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Require</span></code></a> inside a section caused an anomaly when closing
the section. (<a class="reference external" href="https://github.com/coq/coq/pull/11972">#11972</a>, by
Gaëtan Gilbert, fixing <a class="reference external" href="https://github.com/coq/coq/issues/11783">#11783</a>, reported by Attila
Boros).</p></li>
</ul>
<p><strong>Tactics</strong></p>
<ul class="simple">
<li><p><strong>Fixed:</strong>
Anomaly with induction schemes whose conclusion is not normalized
(<a class="reference external" href="https://github.com/coq/coq/pull/12116">#12116</a>,
by Hugo Herbelin; fixes
<a class="reference external" href="https://github.com/coq/coq/pull/12045">#12045</a>)</p></li>
<li><p><strong>Fixed:</strong>
Loss of location of some tactic errors
(<a class="reference external" href="https://github.com/coq/coq/pull/12223">#12223</a>,
by Hugo Herbelin; fixes
<a class="reference external" href="https://github.com/coq/coq/pull/12152">#12152</a> and
<a class="reference external" href="https://github.com/coq/coq/pull/12255">#12255</a>).</p></li>
</ul>
<p><strong>Commands and options</strong></p>
<ul class="simple">
<li><p><strong>Changed:</strong>
Ignore -native-compiler option when built without native compute
support.
(<a class="reference external" href="https://github.com/coq/coq/pull/12070">#12070</a>,
by Pierre Roux).</p></li>
</ul>
<p><strong>CoqIDE</strong></p>
<ul class="simple">
<li><p><strong>Changed:</strong>
CoqIDE now uses native window frames by default on Windows.
The GTK window frames can be restored by setting the <code class="docutils literal notranslate"><span class="pre">GTK_CSD</span></code> environment variable to <code class="docutils literal notranslate"><span class="pre">1</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/12060">#12060</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11080">#11080</a>,
by Attila Gáspár).</p></li>
<li><p><strong>Fixed:</strong>
New patch presumably fixing the random Coq 8.11 segfault issue with CoqIDE completion
(<a class="reference external" href="https://github.com/coq/coq/pull/12068">#12068</a>,
by Hugo Herbelin, presumably fixing
<a class="reference external" href="https://github.com/coq/coq/pull/11943">#11943</a>).</p></li>
<li><p><strong>Fixed:</strong>
Highlighting style consistently applied to all three buffers of CoqIDE
(<a class="reference external" href="https://github.com/coq/coq/pull/12106">#12106</a>,
by Hugo Herbelin; fixes
<a class="reference external" href="https://github.com/coq/coq/pull/11506">#11506</a>).</p></li>
</ul>
</div>
</div>
<div class="section" id="version-8-10">
<h2>Version 8.10<a class="headerlink" href="#version-8-10" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1348">
<h3>Summary of changes<a class="headerlink" href="#id1348" title="Permalink to this headline">¶</a></h3>
<p>Coq version 8.10 contains two major new features: support for a native
fixed-precision integer type and a new sort <span class="math notranslate nohighlight">\(\SProp\)</span> of strict
propositions. It is also the result of refinements and stabilization of
previous features, deprecations or removals of deprecated features,
cleanups of the internals of the system and API, and many documentation improvements.
This release includes many user-visible changes, including deprecations that are
documented in the next subsection, and new features that are documented in the
reference manual. Here are the most important user-visible changes:</p>
<ul>
<li><p>Kernel:</p>
<ul class="simple">
<li><p>A notion of primitive object was added to the calculus. Its first
instance is primitive cyclic unsigned integers, axiomatized in
module <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">UInt63</span></span></code>. See Section <a class="reference internal" href="language/core/primitive.html#primitive-integers"><span class="std std-ref">Primitive Integers</span></a>.
The <code class="docutils literal notranslate"><span class="pre">Coq.Numbers.Cyclic.Int31</span></code> library is deprecated
(<a class="reference external" href="https://github.com/coq/coq/pull/6914">#6914</a>, by Maxime Dénès,
Benjamin Grégoire and Vincent Laporte,
with help and reviews from many others).</p></li>
<li><p>The <span class="math notranslate nohighlight">\(\SProp\)</span> sort of definitionally proof-irrelevant propositions was
introduced. <span class="math notranslate nohighlight">\(\SProp\)</span> allows to mark proof
terms as irrelevant for conversion, and is treated like <span class="math notranslate nohighlight">\(\Prop\)</span>
during extraction. It is enabled using the <code class="docutils literal notranslate"><span class="pre">-allow-sprop</span></code>
command-line flag or the <a class="reference internal" href="addendum/sprop.html#coq:flag.Allow-StrictProp" title="Allow StrictProp"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Allow</span> <span class="pre">StrictProp</span></code></a> flag.
See Chapter <a class="reference internal" href="addendum/sprop.html#sprop"><span class="std std-ref">SProp (proof irrelevant propositions)</span></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/8817">#8817</a>, by Gaëtan Gilbert).</p></li>
<li><p>The unfolding heuristic in termination checking was made more
complete, allowing more constants to be unfolded to discover valid
recursive calls.  Performance regression may occur in Fixpoint
declarations without an explicit <code class="docutils literal notranslate"><span class="pre">{struct}</span></code> annotation, since
guessing the decreasing argument can now be more expensive
(<a class="reference external" href="https://github.com/coq/coq/pull/9602">#9602</a>, by Enrico Tassi).</p></li>
</ul>
</li>
<li><p>Universes:</p>
<ul class="simple">
<li><p>Added Subgraph variant to <a class="reference internal" href="addendum/universe-polymorphism.html#coq:cmd.Print-Universes" title="Print Universes"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Universes</span></code></a>.
Try for instance
<code class="code Coq docutils literal notranslate"><span class="keyword namespace"><span class="pre">Print</span></span> <span class="name"><span class="pre">Universes</span></span> <span class="name"><span class="pre">Subgraph</span></span><span class="operator"><span class="pre">(</span></span><span class="name"><span class="pre">sigT2.u1</span></span> <span class="name"><span class="pre">sigT_of_sigT2.u1</span></span> <span class="name"><span class="pre">projT3_eq.u1</span></span><span class="operator"><span class="pre">).</span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/8451">#8451</a>, by Gaëtan Gilbert).</p></li>
<li><p>Added private universes for opaque polymorphic constants, see the
documentation for the <a class="reference internal" href="addendum/universe-polymorphism.html#coq:flag.Private-Polymorphic-Universes" title="Private Polymorphic Universes"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Private</span> <span class="pre">Polymorphic</span> <span class="pre">Universes</span></code></a> flag,
and unset it to get the previous behavior
(<a class="reference external" href="https://github.com/coq/coq/pull/8850">#8850</a>, by Gaëtan Gilbert).</p></li>
</ul>
</li>
<li><p>Notations:</p>
<ul class="simple">
<li><p>New command <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.String-Notation" title="String Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">String</span> <span class="pre">Notation</span></code></a> to register string syntax for custom
inductive types
(<a class="reference external" href="https://github.com/coq/coq/pull/8965">#8965</a>, by Jason Gross).</p></li>
<li><p>Experimental: <a class="reference internal" href="user-extensions/syntax-extensions.html#number-notations"><span class="std std-ref">Number Notations</span></a> now parse decimal
constants such as <code class="docutils literal notranslate"><span class="pre">1.02e+01</span></code> or <code class="docutils literal notranslate"><span class="pre">10.2</span></code>. Parsers added for <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Q</span></span></code> and <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">R</span></span></code>.
In the rare case when such numeral notations were used
in a development along with <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Q</span></span></code> or <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">R</span></span></code>, they may have to be removed or
disambiguated through explicit scope annotations
(<a class="reference external" href="https://github.com/coq/coq/pull/8764">#8764</a>, by Pierre Roux).</p></li>
</ul>
</li>
<li><p>Ltac backtraces can be turned on using the <a class="reference internal" href="proof-engine/ltac.html#coq:flag.Ltac-Backtrace" title="Ltac Backtrace"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Ltac</span> <span class="pre">Backtrace</span></code></a>
flag, which is off by default
(<a class="reference external" href="https://github.com/coq/coq/pull/9142">#9142</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/7769">#7769</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/7385">#7385</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p>The tactics <a class="reference internal" href="addendum/micromega.html#coq:tacn.lia" title="lia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lia</span></code></a>, <a class="reference internal" href="addendum/micromega.html#coq:tacn.nia" title="nia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">nia</span></code></a>, <a class="reference internal" href="addendum/micromega.html#coq:tacn.lra" title="lra"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lra</span></code></a>, <a class="reference internal" href="addendum/micromega.html#coq:tacn.nra" title="nra"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">nra</span></code></a> are now using a novel
Simplex-based proof engine. In case of regression, unset <code class="docutils literal notranslate"><span class="pre">Simplex</span></code>
to get the venerable Fourier-based engine
(<a class="reference external" href="https://github.com/coq/coq/pull/8457">#8457</a>, by Fréderic Besson).</p></li>
<li><p>SSReflect:</p>
<ul>
<li><p>New intro patterns:</p>
<ul>
<li><p>temporary introduction: <code class="docutils literal notranslate"><span class="pre">=&gt;</span> <span class="pre">+</span></code></p></li>
<li><p>block introduction: <code class="docutils literal notranslate"><span class="pre">=&gt;</span> <span class="pre">[^</span> <span class="pre">prefix</span> <span class="pre">]</span> <span class="pre">[^~</span> <span class="pre">suffix</span> <span class="pre">]</span></code></p></li>
<li><p>fast introduction: <code class="docutils literal notranslate"><span class="pre">=&gt;</span> <span class="pre">&gt;</span></code></p></li>
<li><p>tactics as views: <code class="docutils literal notranslate"><span class="pre">=&gt;</span> <span class="pre">/ltac:mytac</span></code></p></li>
<li><p>replace hypothesis: <code class="docutils literal notranslate"><span class="pre">=&gt;</span> <span class="pre">{}H</span></code></p>
<p>See Section <a class="reference internal" href="proof-engine/ssreflect-proof-language.html#introduction-ssr"><span class="std std-ref">Introduction in the context</span></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/6705">#6705</a>, by Enrico Tassi,
with help from Maxime Dénès,
ideas coming from various users).</p>
</li>
</ul>
</li>
<li><p>New tactic <a class="reference internal" href="proof-engine/ssreflect-proof-language.html#coq:tacn.under" title="under"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">under</span></code></a> to rewrite under binders, given an
extensionality lemma:</p>
<ul class="simple">
<li><p>interactive mode: <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">under</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a></span></code>, associated terminator: <a class="reference internal" href="proof-engine/ssreflect-proof-language.html#coq:tacn.over" title="over"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">over</span></code></a></p></li>
<li><p>one-liner mode: <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">under</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a> <span><span><span class="pre">do</span></span></span> <span><span><span class="pre">[</span></span></span><a class="reference internal" href="language/core/basic.html#grammar-token-tactic"><span class="hole"><span class="pre">tactic</span></span></a> <span class="pre">|</span> <span><span><span class="pre">...]</span></span></span></span></code></p></li>
</ul>
<p>It can take occurrence switches, contextual patterns, and intro patterns:
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">under</span></span> <span class="operator"><span class="pre">{</span></span><span class="literal number integer"><span class="pre">2</span></span><span class="operator"><span class="pre">}[</span></span><span class="keyword"><span class="pre">in</span></span> <span class="name"><span class="pre">RHS</span></span><span class="operator"><span class="pre">]</span></span><span class="name"><span class="pre">eq_big</span></span> <span class="operator"><span class="pre">=&gt;</span></span> <span class="operator"><span class="pre">[</span></span><span class="name"><span class="pre">i</span></span><span class="operator"><span class="pre">|</span></span><span class="name"><span class="pre">i</span></span> <span class="operator"><span class="pre">?]</span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/9651">#9651</a>,
by Erik Martin-Dorel and Enrico Tassi).</p>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:cmd.Combined-Scheme" title="Combined Scheme"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Combined</span> <span class="pre">Scheme</span></code></a> now works when inductive schemes are generated in sort
<span class="math notranslate nohighlight">\(\Type\)</span>. It used to be limited to sort <code class="docutils literal notranslate"><span class="pre">Prop</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/7634">#7634</a>, by Théo Winterhalter).</p></li>
<li><p>A new registration mechanism for reference from ML code to Coq
constructs has been added
(<a class="reference external" href="https://github.com/coq/coq/pull/186">#186</a>,
by Emilio Jesús Gallego Arias, Maxime Dénès and Vincent Laporte).</p></li>
<li><p>CoqIDE:</p>
<ul class="simple">
<li><p>CoqIDE now depends on gtk+3 and lablgtk3 instead of gtk+2 and lablgtk2.
The INSTALL file available in the Coq sources has been updated to list
the new dependencies
(<a class="reference external" href="https://github.com/coq/coq/pull/9279">#9279</a>,
by Hugo Herbelin, with help from Jacques Garrigue,
Emilio Jesús Gallego Arias, Michael Sogetrop and Vincent Laporte).</p></li>
<li><p>Smart input for Unicode characters. For example, typing
<code class="docutils literal notranslate"><span class="pre">\alpha</span></code> then <code class="docutils literal notranslate"><span class="pre">Shift+Space</span></code> will insert the greek letter alpha.
A larger number of default bindings are provided, following the latex
naming convention. Bindings can be customized, either globally, or on a
per-project basis. See Section <a class="reference internal" href="practical-tools/coqide.html#coqide-unicode"><span class="std std-ref">Bindings for input of Unicode symbols</span></a> for details
(<a class="reference external" href="https://github.com/coq/coq/pull/8560">#8560</a>, by Arthur Charguéraud).</p></li>
</ul>
</li>
<li><p>Infrastructure and dependencies:</p>
<ul>
<li><p>Coq 8.10 requires OCaml &gt;= 4.05.0, bumped from 4.02.3 See the
<code class="docutils literal notranslate"><span class="pre">INSTALL</span></code> file for more information on dependencies
(<a class="reference external" href="https://github.com/coq/coq/pull/7522">#7522</a>, by Emilio Jesús Gallego Arías).</p></li>
<li><p>Coq 8.10 doesn't need Camlp5 to build anymore. It now includes a
fork of the core parsing library that Coq uses, which is a small
subset of the whole Camlp5 distribution. In particular, this subset
doesn't depend on the OCaml AST, allowing easier compilation and
testing on experimental OCaml versions. Coq also ships a new parser
<code class="docutils literal notranslate"><span class="pre">coqpp</span></code> that plugin authors must switch to
(<a class="reference external" href="https://github.com/coq/coq/pull/7902">#7902</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/7979">#7979</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/8161">#8161</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/8667">#8667</a>,
and <a class="reference external" href="https://github.com/coq/coq/pull/8945">#8945</a>,
by Pierre-Marie Pédrot and Emilio Jesús Gallego Arias).</p>
<p>The Coq developers would like to thank Daniel de Rauglaudre for many
years of continued support.</p>
</li>
<li><p>Coq now supports building with Dune, in addition to the traditional
Makefile which is scheduled for deprecation
(<a class="reference external" href="https://github.com/coq/coq/pull/6857">#6857</a>,
by Emilio Jesús Gallego Arias, with help from Rudi Grinberg).</p>
<p>Experimental support for building Coq projects has been integrated
in Dune at the same time, providing an <a class="reference external" href="https://coq.discourse.group/t/a-guide-to-building-your-coq-libraries-and-plugins-with-dune/">improved experience</a>
for plugin developers. We thank the Dune team for their work
supporting Coq.</p>
</li>
</ul>
</li>
</ul>
<p>Version 8.10 also comes with a bunch of smaller-scale changes and
improvements regarding the different components of the system, including
many additions to the standard library (see the next subsection for details).</p>
<p>On the implementation side, the <code class="docutils literal notranslate"><span class="pre">dev/doc/changes.md</span></code> file documents
the numerous changes to the implementation and improvements of
interfaces. The file provides guidelines on porting a plugin to the new
version and a plugin development tutorial originally made by Yves Bertot
is now in <code class="docutils literal notranslate"><span class="pre">doc/plugin_tutorial</span></code>. The <code class="docutils literal notranslate"><span class="pre">dev/doc/critical-bugs</span></code> file
documents the known critical bugs of Coq and affected releases.</p>
<p>The efficiency of the whole system has seen improvements thanks to
contributions from Gaëtan Gilbert, Pierre-Marie Pédrot, and Maxime Dénès.</p>
<p>Maxime Dénès, Emilio Jesús Gallego Arias, Gaëtan Gilbert, Michael
Soegtrop, Théo Zimmermann worked on maintaining and improving the
continuous integration system and package building infrastructure.
Coq is now continuously tested against the OCaml trunk, in addition to the
oldest supported and latest OCaml releases.</p>
<p>Coq's documentation for the development branch is now deployed
continuously at <a class="reference external" href="https://coq.github.io/doc/master/api">https://coq.github.io/doc/master/api</a> (documentation of
the ML API), <a class="reference external" href="https://coq.github.io/doc/master/refman">https://coq.github.io/doc/master/refman</a> (reference
manual), and <a class="reference external" href="https://coq.github.io/doc/master/stdlib">https://coq.github.io/doc/master/stdlib</a> (documentation of
the standard library). Similar links exist for the <code class="docutils literal notranslate"><span class="pre">v8.10</span></code> branch.</p>
<p>The opam repository for Coq packages has been maintained by Guillaume
Melquiond, Matthieu Sozeau, Enrico Tassi (who migrated it to opam 2)
with contributions from many users. A list of packages is available at
<a class="reference external" href="https://coq.inria.fr/opam/www/">https://coq.inria.fr/opam/www/</a>.</p>
<p>The 61 contributors to this version are Tanaka Akira, Benjamin
Barenblat, Yves Bertot, Frédéric Besson, Lasse Blaauwbroek, Martin
Bodin, Joachim Breitner, Tej Chajed, Frédéric Chapoton, Arthur
Charguéraud, Cyril Cohen, Lukasz Czajka, David A. Dalrymple, Christian
Doczkal, Maxime Dénès, Andres Erbsen, Jim Fehrle, Emilio Jesus Gallego
Arias, Gaëtan Gilbert, Matěj Grabovský, Simon Gregersen, Jason Gross,
Samuel Gruetter, Hugo Herbelin, Jasper Hugunin, Mirai Ikebuchi,
Chantal Keller, Matej Košík, Sam Pablo Kuper, Vincent Laporte, Olivier
Laurent, Larry Darryl Lee Jr, Nick Lewycky, Yao Li, Yishuai Li, Assia
Mahboubi, Simon Marechal, Erik Martin-Dorel, Thierry Martinez,
Guillaume Melquiond, Kayla Ngan, Karl Palmskog, Pierre-Marie Pédrot,
Clément Pit-Claudel, Pierre Roux, Kazuhiko Sakaguchi, Ryan Scott,
Vincent Semeria, Gan Shen, Michael Soegtrop, Matthieu Sozeau, Enrico
Tassi, Laurent Théry, Kamil Trzciński, whitequark, Théo Winterhalter,
Xia Li-yao, Beta Ziliani and Théo Zimmermann.</p>
<p>Many power users helped to improve the design of the new features via
the issue and pull request system, the Coq development mailing list,
the <a class="reference external" href="mailto:coq-club&#37;&#52;&#48;inria&#46;fr">coq-club<span>&#64;</span>inria<span>&#46;</span>fr</a> mailing list or the new Discourse forum. It would
be impossible to mention exhaustively the names of everybody who to some
extent influenced the development.</p>
<p>Version 8.10 is the fifth release of Coq developed on a time-based
development cycle. Its development spanned 6 months from the release of
Coq 8.9. Vincent Laporte is the release manager and maintainer of this
release. This release is the result of ~2500 commits and ~650 PRs merged,
closing 150+ issues.</p>
<div class="line-block">
<div class="line">Santiago de Chile, April 2019,</div>
<div class="line">Matthieu Sozeau for the Coq development team</div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="other-changes-in-8-10-beta1">
<h3>Other changes in 8.10+beta1<a class="headerlink" href="#other-changes-in-8-10-beta1" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Command-line tools and options:</p>
<ul>
<li><p>The use of <code class="docutils literal notranslate"><span class="pre">coqtop</span></code> as a compiler has been deprecated, in favor of
<code class="docutils literal notranslate"><span class="pre">coqc</span></code>. Consequently option <code class="docutils literal notranslate"><span class="pre">-compile</span></code> will stop to be accepted in
the next release. <code class="docutils literal notranslate"><span class="pre">coqtop</span></code> is now reserved to interactive
use
(<a class="reference external" href="https://github.com/coq/coq/pull/9095">#9095</a>,
by Emilio Jesús Gallego Arias).</p></li>
<li><p>New option <code class="docutils literal notranslate"><span class="pre">-topfile</span> <span class="pre">filename</span></code>, which will set the current module name
(<em>à la</em> <code class="docutils literal notranslate"><span class="pre">-top</span></code>) based on the filename passed, taking into account the
proper <code class="docutils literal notranslate"><span class="pre">-R</span></code>/<code class="docutils literal notranslate"><span class="pre">-Q</span></code> options. For example, given <code class="docutils literal notranslate"><span class="pre">-R</span> <span class="pre">Foo</span> <span class="pre">foolib</span></code> using
<code class="docutils literal notranslate"><span class="pre">-topfile</span> <span class="pre">foolib/bar.v</span></code> will set the module name to <code class="docutils literal notranslate"><span class="pre">Foo.Bar</span></code>.
CoqIDE now properly sets the module name for a given file based on
its path
(<a class="reference external" href="https://github.com/coq/coq/pull/8991">#8991</a>,
closes <a class="reference external" href="https://github.com/coq/coq/issues/8989">#8989</a>,
by Gaëtan Gilbert).</p></li>
<li><p>Experimental: Coq flags and options can now be set on the
command-line, e.g. <code class="docutils literal notranslate"><span class="pre">-set</span> <span class="pre">&quot;Universe</span> <span class="pre">Polymorphism=true&quot;</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/9876">#9876</a>, by Gaëtan Gilbert).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">-native-compiler</span></code> flag of <code class="docutils literal notranslate"><span class="pre">coqc</span></code> and <code class="docutils literal notranslate"><span class="pre">coqtop</span></code> now takes an
argument which can have three values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">no</span></code> disables native_compute</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">yes</span></code> enables native_compute and precompiles <code class="docutils literal notranslate"><span class="pre">.v</span></code> files to
native code</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ondemand</span></code> enables native_compute but compiles code only when
<code class="docutils literal notranslate"><span class="pre">native_compute</span></code> is called</p></li>
</ul>
<p>The default value is <code class="docutils literal notranslate"><span class="pre">ondemand</span></code>. Note that this flag now has
priority over the configure flag of the same name.</p>
<p>A new <code class="docutils literal notranslate"><span class="pre">-bytecode-compiler</span></code> flag for <code class="docutils literal notranslate"><span class="pre">coqc</span></code> and <code class="docutils literal notranslate"><span class="pre">coqtop</span></code> controls
whether conversion can use the VM. The default value is <code class="docutils literal notranslate"><span class="pre">yes</span></code>.</p>
<p>(<a class="reference external" href="https://github.com/coq/coq/pull/8870">#8870</a>, by Maxime Dénès)</p>
</li>
<li><p>The pretty timing diff scripts (flag <code class="docutils literal notranslate"><span class="pre">TIMING=1</span></code> to a
<code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code>-made <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>, also
<code class="docutils literal notranslate"><span class="pre">tools/make-both-single-timing-files.py</span></code>,
<code class="docutils literal notranslate"><span class="pre">tools/make-both-time-files.py</span></code>, and <code class="docutils literal notranslate"><span class="pre">tools/make-one-time-file.py</span></code>)
now correctly support non-UTF-8 characters in the output of
<code class="docutils literal notranslate"><span class="pre">coqc</span></code> / <code class="docutils literal notranslate"><span class="pre">make</span></code> as well as printing to stdout, on both python2 and
python3
(<a class="reference external" href="https://github.com/coq/coq/pull/9872">#9872</a>,
closes <a class="reference external" href="https://github.com/coq/coq/issues/9767">#9767</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/9705">#9705</a>,
by Jason Gross)</p></li>
<li><p>coq_makefile's install target now errors if any file to install is missing
(<a class="reference external" href="https://github.com/coq/coq/pull/9906">#9906</a>, by Gaëtan Gilbert).</p></li>
<li><p>Preferences from <code class="docutils literal notranslate"><span class="pre">coqide.keys</span></code> are no longer overridden by
modifiers preferences in <code class="docutils literal notranslate"><span class="pre">coqiderc</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/10014">#10014</a>, by Hugo Herbelin).</p></li>
</ul>
</li>
<li><p>Specification language, type inference:</p>
<ul>
<li><p>Fixing a missing check in interpreting instances of existential
variables that are bound to local definitions. Might exceptionally
induce an overhead if the cost of checking the conversion of the
corresponding definitions is additionally high
(<a class="reference external" href="https://github.com/coq/coq/pull/8217">#8217</a>,
closes <a class="reference external" href="https://github.com/coq/coq/issues/8215">#8215</a>,
by Hugo Herbelin).</p></li>
<li><p>A few improvements in inference of the return clause of <code class="docutils literal notranslate"><span class="pre">match</span></code> that
can exceptionally introduce incompatibilities. This can be
solved by writing an explicit <code class="docutils literal notranslate"><span class="pre">return</span></code> clause, sometimes even simply
an explicit <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">_</span></code> clause
(<a class="reference external" href="https://github.com/coq/coq/pull/262">#262</a>, by Hugo Herbelin).</p></li>
<li><p>Using non-projection values with the projection syntax is not
allowed. For instance <code class="code Coq docutils literal notranslate"><span class="literal number integer"><span class="pre">0</span></span><span class="operator"><span class="pre">.(</span></span><span class="name"><span class="pre">S</span></span><span class="operator"><span class="pre">)</span></span></code> is not a valid way to write <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">S</span></span> <span class="literal number integer"><span class="pre">0</span></span></code>.
Projections from non-primitive (emulated) records are allowed with
warning &quot;nonprimitive-projection-syntax&quot;
(<a class="reference external" href="https://github.com/coq/coq/pull/8829">#8829</a>, by Gaëtan Gilbert).</p></li>
<li><p>An option and attributes to control the automatic decision to declare
an inductive type as template polymorphic were added.  Warning
&quot;auto-template&quot; (off by default) can trigger when an inductive is
automatically declared template polymorphic without the attribute.</p>
<p>Inductive types declared by Funind will never be template polymorphic.</p>
<p>(<a class="reference external" href="https://github.com/coq/coq/pull/8488">#8488</a>, by Gaëtan Gilbert)</p>
</li>
</ul>
</li>
<li><p>Notations:</p>
<ul class="simple">
<li><p>New command <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Declare-Scope" title="Declare Scope"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Declare</span> <span class="pre">Scope</span></code></a> to explicitly declare a scope name
before any use of it. Implicit declaration of a scope at the time of
<a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Bind-Scope" title="Bind Scope"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Bind</span> <span class="pre">Scope</span></code></a>, <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Delimit-Scope" title="Delimit Scope"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Delimit</span> <span class="pre">Scope</span></code></a>, <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Undelimit-Scope" title="Undelimit Scope"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Undelimit</span> <span class="pre">Scope</span></code></a>,
or <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Notation" title="Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Notation</span></code></a> is deprecated
(<a class="reference external" href="https://github.com/coq/coq/pull/7135">#7135</a>, by Hugo Herbelin).</p></li>
<li><p>Various bugs have been fixed (e.g. <a class="reference external" href="https://github.com/coq/coq/pull/9214">#9214</a> on removing spurious
parentheses on abbreviations shortening a strict prefix of an
application, by Hugo Herbelin).</p></li>
<li><p><a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Number-Notation" title="Number Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Notation</span></code></a> now support inductive types in the input to
printing functions (e.g., numeral notations can be defined for terms
containing things like <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">&#64;</span></span><span class="name"><span class="pre">cons</span></span> <span class="name"><span class="pre">nat</span></span> <span class="name"><span class="pre">O</span></span> <span class="name"><span class="pre">O</span></span></code>), and parsing functions now
fully normalize terms including parameters of constructors (so that,
e.g., a numeral notation whose parsing function outputs a proof of
<code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Nat.gcd</span></span> <span class="name"><span class="pre">x</span></span> <span class="name"><span class="pre">y</span></span> <span class="operator"><span class="pre">=</span></span> <span class="literal number integer"><span class="pre">1</span></span></code> will no longer fail to parse due to containing the
constant <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Nat.gcd</span></span></code> in the parameter-argument of <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">eq_refl</span></span></code>)
(<a class="reference external" href="https://github.com/coq/coq/pull/9874">#9874</a>,
closes <a class="reference external" href="https://github.com/coq/coq/issues/9840">#9840</a>
and <a class="reference external" href="https://github.com/coq/coq/issues/9844">#9844</a>,
by Jason Gross).</p></li>
<li><p>Deprecated compatibility notations have actually been
removed. Uses of these notations are generally easy to fix thanks
to the hint contained in the deprecation warning emitted by Coq
8.8 and 8.9.  For projects that require more than a handful of
such fixes, there is <a class="reference external" href="https://gist.github.com/JasonGross/9770653967de3679d131c59d42de6d17#file-replace-notations-py">a script</a>
that will do it automatically, using the output of <code class="docutils literal notranslate"><span class="pre">coqc</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/8638">#8638</a>, by Jason Gross).</p></li>
<li><p>Allow inspecting custom grammar entries by <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Print-Custom-Grammar" title="Print Custom Grammar"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Custom</span> <span class="pre">Grammar</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/10061">#10061</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/pull/9681">#9681</a>,
by Jasper Hugunin, review by Pierre-Marie Pédrot and Hugo Herbelin).</p></li>
</ul>
</li>
<li><p>The <a class="reference external" href="https://coq.inria.fr/distrib/V8.9.0/refman/proof-engine/detailed-tactic-examples.html#quote">quote plugin</a>
was removed. If some users are interested in maintaining this plugin
externally, the Coq development team can provide assistance for
extracting the plugin and setting up a new repository
(<a class="reference external" href="https://github.com/coq/coq/pull/7894">#7894</a>, by Maxime Dénès).</p></li>
<li><p>Ltac:</p>
<ul class="simple">
<li><p>Tactic names are no longer allowed to clash, even if they are not defined in
the same section. For example, the following is no longer accepted:
<code class="code Coq docutils literal notranslate"><span class="keyword namespace"><span class="pre">Ltac</span></span> <span class="name"><span class="pre">foo</span></span> <span class="operator"><span class="pre">:=</span></span> <span class="keyword reserved"><span class="pre">idtac</span></span><span class="operator"><span class="pre">.</span></span> <span class="keyword namespace"><span class="pre">Section</span></span> <span class="name"><span class="pre">S</span></span><span class="operator"><span class="pre">.</span></span> <span class="keyword namespace"><span class="pre">Ltac</span></span> <span class="name"><span class="pre">foo</span></span> <span class="operator"><span class="pre">:=</span></span> <span class="name"><span class="pre">fail</span></span><span class="operator"><span class="pre">.</span></span> <span class="keyword namespace"><span class="pre">End</span></span> <span class="name"><span class="pre">S</span></span><span class="operator"><span class="pre">.</span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/8555">#8555</a>, by Maxime Dénès).</p></li>
<li><p>Names of existential variables occurring in Ltac functions
(e.g. <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">?[</span></span><span class="name"><span class="pre">n</span></span><span class="operator"><span class="pre">]</span></span></code> or <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">?</span></span><span class="name"><span class="pre">n</span></span></code> in terms - not in patterns) are now interpreted
the same way as other variable names occurring in Ltac functions
(<a class="reference external" href="https://github.com/coq/coq/pull/7309">#7309</a>, by Hugo Herbelin).</p></li>
</ul>
</li>
<li><p>Tactics:</p>
<ul class="simple">
<li><p>Removed the deprecated <code class="docutils literal notranslate"><span class="pre">romega</span></code> tactic
(<a class="reference external" href="https://github.com/coq/coq/pull/8419">#8419</a>,
by Maxime Dénès and Vincent Laporte).</p></li>
<li><p>Hint declaration and removal should now specify a database (e.g. <code class="docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Resolve</span>
<span class="pre">foo</span> <span class="pre">:</span> <span class="pre">database</span></code>). When the database name is omitted, the hint is added to the
<code class="docutils literal notranslate"><span class="pre">core</span></code> database (as previously), but a deprecation warning is emitted
(<a class="reference external" href="https://github.com/coq/coq/pull/8987">#8987</a>, by Maxime Dénès).</p></li>
<li><p>There are now tactics in <code class="docutils literal notranslate"><span class="pre">PreOmega.v</span></code> called
<code class="docutils literal notranslate"><span class="pre">Z.div_mod_to_equations</span></code>, <code class="docutils literal notranslate"><span class="pre">Z.quot_rem_to_equations</span></code>, and
<code class="docutils literal notranslate"><span class="pre">Z.to_euclidean_division_equations</span></code> (which combines the <code class="docutils literal notranslate"><span class="pre">div_mod</span></code>
and <code class="docutils literal notranslate"><span class="pre">quot_rem</span></code> variants) which allow <a class="reference internal" href="addendum/micromega.html#coq:tacn.lia" title="lia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lia</span></code></a>, <a class="reference internal" href="addendum/micromega.html#coq:tacn.nia" title="nia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">nia</span></code></a>, etc to
support <code class="docutils literal notranslate"><span class="pre">Z.div</span></code> and <code class="docutils literal notranslate"><span class="pre">Z.modulo</span></code> (<code class="docutils literal notranslate"><span class="pre">Z.quot</span></code> and <code class="docutils literal notranslate"><span class="pre">Z.rem</span></code>, respectively),
by posing the specifying equation for <code class="docutils literal notranslate"><span class="pre">Z.div</span></code> and <code class="docutils literal notranslate"><span class="pre">Z.modulo</span></code> before
replacing them with atoms
(<a class="reference external" href="https://github.com/coq/coq/pull/8062">#8062</a>, by Jason Gross).</p></li>
<li><p>The syntax of the <a class="reference internal" href="addendum/type-classes.html#coq:tacn.autoapply" title="autoapply"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">autoapply</span></code></a> tactic was fixed to conform with preexisting
documentation: it now takes a <code class="docutils literal notranslate"><span class="pre">with</span></code> clause instead of a <code class="docutils literal notranslate"><span class="pre">using</span></code> clause
(<a class="reference external" href="https://github.com/coq/coq/pull/9524">#9524</a>,
closes <a class="reference external" href="https://github.com/coq/coq/issues/7632">#7632</a>,
by Théo Zimmermann).</p></li>
<li><p>Modes are now taken into account by <a class="reference internal" href="addendum/type-classes.html#coq:tacn.typeclasses-eauto" title="typeclasses eauto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">typeclasses</span> <span class="pre">eauto</span></code></a> for
local hypotheses
(<a class="reference external" href="https://github.com/coq/coq/pull/9996">#9996</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/5752">#5752</a>,
by Maxime Dénès, review by Pierre-Marie Pédrot).</p></li>
<li><p>New variant <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.change_no_check" title="change_no_check"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">change_no_check</span></code></a> of <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.change" title="change"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">change</span></code></a>, usable as a
documented replacement of <code class="docutils literal notranslate"><span class="pre">convert_concl_no_check</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/10012">#10012</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/10017">#10017</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/10053">#10053</a>, and
<a class="reference external" href="https://github.com/coq/coq/pull/10059">#10059</a>,
by Hugo Herbelin and Paolo G. Giarrusso).</p></li>
<li><p>The simplified value returned by <a class="reference internal" href="addendum/ring.html#coq:tacn.field_simplify" title="field_simplify"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">field_simplify</span></code></a> is not
always a fraction anymore.  When the denominator is <code class="code Coq docutils literal notranslate"><span class="literal number integer"><span class="pre">1</span></span></code>, it
returns <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">x</span></span></code> while previously it was returning <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">x</span></span><span class="operator"><span class="pre">/</span></span><span class="literal number integer"><span class="pre">1</span></span></code>.  This
change could break codes that were post-processing application of
<a class="reference internal" href="addendum/ring.html#coq:tacn.field_simplify" title="field_simplify"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">field_simplify</span></code></a> to get rid of these <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">x</span></span><span class="operator"><span class="pre">/</span></span><span class="literal number integer"><span class="pre">1</span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/9854">#9854</a>,
by Laurent Théry,
with help from Michael Soegtrop, Maxime Dénès, and Vincent Laporte).</p></li>
</ul>
</li>
<li><p>SSReflect:</p>
<ul>
<li><p>Clear discipline made consistent across the entire proof language.
Whenever a clear switch <code class="docutils literal notranslate"><span class="pre">{x..}</span></code> comes immediately before an existing proof
context entry (used as a view, as a rewrite rule or as name for a new
context entry) then such entry is cleared too.</p>
<p>E.g. The following sentences are elaborated as follows (when H is an existing
proof context entry):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">=&gt;</span> <span class="pre">{x..}</span> <span class="pre">H</span></code>       -&gt;  <code class="docutils literal notranslate"><span class="pre">=&gt;</span> <span class="pre">{x..H}</span> <span class="pre">H</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">=&gt;</span> <span class="pre">{x..}</span> <span class="pre">/H</span></code>      -&gt;  <code class="docutils literal notranslate"><span class="pre">=&gt;</span> <span class="pre">/v</span> <span class="pre">{x..H}</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rewrite</span> <span class="pre">{x..}</span> <span class="pre">H</span></code>  -&gt;  <code class="docutils literal notranslate"><span class="pre">rewrite</span> <span class="pre">E</span> <span class="pre">{x..H}</span></code></p></li>
</ul>
<p>(<a class="reference external" href="https://github.com/coq/coq/pull/9341">#9341</a>, by Enrico Tassi).</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">inE</span></code> now expands <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">in</span> <span class="pre">r</span> <span class="pre">x</span></code> when <code class="docutils literal notranslate"><span class="pre">r</span></code> is a <code class="docutils literal notranslate"><span class="pre">simpl_rel</span></code>.
New <code class="docutils literal notranslate"><span class="pre">{pred</span> <span class="pre">T}</span></code> notation for a <code class="docutils literal notranslate"><span class="pre">pred</span> <span class="pre">T</span></code> alias in the <code class="docutils literal notranslate"><span class="pre">pred_sort</span></code> coercion
class, simplified <code class="docutils literal notranslate"><span class="pre">predType</span></code> interface: <code class="docutils literal notranslate"><span class="pre">pred_class</span></code> and <code class="docutils literal notranslate"><span class="pre">mkPredType</span></code>
deprecated, <code class="docutils literal notranslate"><span class="pre">{pred</span> <span class="pre">T}</span></code> and <code class="docutils literal notranslate"><span class="pre">PredType</span></code> should be used instead.
<code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">c</span> <span class="pre">return</span> <span class="pre">t</span> <span class="pre">then</span> <span class="pre">...</span></code> now expects <code class="docutils literal notranslate"><span class="pre">c</span></code> to be a variable bound in <code class="docutils literal notranslate"><span class="pre">t</span></code>.
New <code class="docutils literal notranslate"><span class="pre">nonPropType</span></code> interface matching types that do _not_ have sort <code class="docutils literal notranslate"><span class="pre">Prop</span></code>.
New <code class="docutils literal notranslate"><span class="pre">relpre</span> <span class="pre">R</span> <span class="pre">f</span></code> definition for the preimage of a relation R under f
(<a class="reference external" href="https://github.com/coq/coq/pull/9995">#9995</a>, by Georges Gonthier).</p></li>
</ul>
</li>
<li><p>Commands:</p>
<ul>
<li><p>Binders for an <a class="reference internal" href="addendum/type-classes.html#coq:cmd.Instance" title="Instance"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Instance</span></code></a> now act more like binders for a <a class="reference internal" href="language/core/definitions.html#coq:cmd.Theorem" title="Theorem"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Theorem</span></code></a>.
Names may not be repeated, and may not overlap with section variable names
(<a class="reference external" href="https://github.com/coq/coq/pull/8820">#8820</a>,
closes <a class="reference external" href="https://github.com/coq/coq/issues/8791">#8791</a>,
by Jasper Hugunin).</p></li>
<li><p>Removed the deprecated <code class="docutils literal notranslate"><span class="pre">Implicit</span> <span class="pre">Tactic</span></code> family of commands
(<a class="reference external" href="https://github.com/coq/coq/pull/8779">#8779</a>, by Pierre-Marie Pédrot).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Automatic</span> <span class="pre">Introduction</span></code> option has been removed and is now the
default
(<a class="reference external" href="https://github.com/coq/coq/pull/9001">#9001</a>,
by Emilio Jesús Gallego Arias).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Arguments</span></code> now accepts names for arguments provided with <code class="docutils literal notranslate"><span class="pre">extra_scopes</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/9117">#9117</a>, by Maxime Dénès).</p></li>
<li><p>The naming scheme for anonymous binders in a <code class="docutils literal notranslate"><span class="pre">Theorem</span></code> has changed to
avoid conflicts with explicitly named binders
(<a class="reference external" href="https://github.com/coq/coq/pull/9160">#9160</a>,
closes <a class="reference external" href="https://github.com/coq/coq/issues/8819">#8819</a>,
by Jasper Hugunin).</p></li>
<li><p>Computation of implicit arguments now properly handles local definitions in the
binders for an <code class="docutils literal notranslate"><span class="pre">Instance</span></code>, and can be mixed with implicit binders <code class="docutils literal notranslate"><span class="pre">{x</span> <span class="pre">:</span> <span class="pre">T}</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/9307">#9307</a>,
closes <a class="reference external" href="https://github.com/coq/coq/issues/9300">#9300</a>,
by Jasper Hugunin).</p></li>
<li><p><a class="reference internal" href="addendum/type-classes.html#coq:cmd.Declare-Instance" title="Declare Instance"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Declare</span> <span class="pre">Instance</span></code></a> now requires an instance name.</p>
<p>The flag <code class="docutils literal notranslate"><span class="pre">Refine</span> <span class="pre">Instance</span> <span class="pre">Mode</span></code> has been turned off by default, meaning that
<a class="reference internal" href="addendum/type-classes.html#coq:cmd.Instance" title="Instance"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Instance</span></code></a> no longer opens a proof when a body is provided. The flag
has been deprecated and will be removed in the next version.</p>
<p>(<a class="reference external" href="https://github.com/coq/coq/pull/9270">#9270</a>,
and <a class="reference external" href="https://github.com/coq/coq/pull/9825">#9825</a>,
by Maxime Dénès)</p>
</li>
<li><p>Command <a class="reference internal" href="addendum/type-classes.html#coq:cmd.Instance" title="Instance"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Instance</span></code></a>, when no body is provided, now always opens
a proof. This is a breaking change, as instance of <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Instance</span>
</span></span><a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">1</span></sub></span></a> <span><span><span class="pre">:</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">2</span></sub></span></a><span><span><span class="pre">.</span></span></span></span></code> where <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">2</span></sub></span></a></span></code> is a trivial class will
have to be changed into <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Instance</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">1</span></sub></span></a> <span><span><span class="pre">:</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">2</span></sub></span></a> <span><span><span class="pre">:=</span></span></span> <span><span><span class="pre">{</span></span></span><span><span><span class="pre">}</span></span></span><span><span><span class="pre">.</span></span></span></span></code>
or <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">Instance</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">1</span></sub></span></a> <span><span><span class="pre">:</span></span></span> <a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">2</span></sub></span></a><span><span><span class="pre">.</span></span></span> <span><span><span class="pre">Proof.</span></span></span> <span><span><span class="pre">Qed.</span></span></span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/9274">#9274</a>, by Maxime Dénès).</p></li>
<li><p>The flag <a class="reference internal" href="addendum/program.html#coq:flag.Program-Mode" title="Program Mode"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Program</span> <span class="pre">Mode</span></code></a> now means that the <code class="docutils literal notranslate"><span class="pre">Program</span></code> attribute is enabled
for all commands that support it. In particular, it does not have any effect
on tactics anymore. May cause some incompatibilities
(<a class="reference external" href="https://github.com/coq/coq/pull/9410">#9410</a>, by Maxime Dénès).</p></li>
<li><p>The algorithm computing implicit arguments now behaves uniformly for primitive
projection and application nodes
(<a class="reference external" href="https://github.com/coq/coq/pull/9509">#9509</a>,
closes <a class="reference external" href="https://github.com/coq/coq/issues/9508">#9508</a>,
by Pierre-Marie Pédrot).</p></li>
<li><p><a class="reference internal" href="language/core/assumptions.html#coq:cmd.Hypotheses" title="Hypotheses"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hypotheses</span></code></a> and <a class="reference internal" href="language/core/assumptions.html#coq:cmd.Variables" title="Variables"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Variables</span></code></a> can now take implicit
binders inside sections
(<a class="reference external" href="https://github.com/coq/coq/pull/9364">#9364</a>,
closes <a class="reference external" href="https://github.com/coq/coq/issues/9363">#9363</a>,
by Jasper Hugunin).</p></li>
<li><p>Removed deprecated option <code class="docutils literal notranslate"><span class="pre">Automatic</span> <span class="pre">Coercions</span> <span class="pre">Import</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/8094">#8094</a>, by Maxime Dénès).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Show</span> <span class="pre">Script</span></code> command has been deprecated
(<a class="reference external" href="https://github.com/coq/coq/pull/9829">#9829</a>, by Vincent Laporte).</p></li>
<li><p><a class="reference internal" href="addendum/implicit-coercions.html#coq:cmd.Coercion" title="Coercion"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Coercion</span></code></a> does not warn ambiguous paths which are obviously
convertible with existing ones. The ambiguous paths messages have been
turned to warnings, thus now they could appear in the output of <code class="docutils literal notranslate"><span class="pre">coqc</span></code>.
The convertibility checking procedure for coercion paths is complete for
paths consisting of coercions satisfying the uniform inheritance condition,
but some coercion paths could be reported as ambiguous even if they are
convertible with existing ones when they have coercions that don't satisfy
the uniform inheritance condition
(<a class="reference external" href="https://github.com/coq/coq/pull/9743">#9743</a>,
closes <a class="reference external" href="https://github.com/coq/coq/issues/3219">#3219</a>,
by Kazuhiko Sakaguchi).</p></li>
<li><p>A new flag <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:flag.Fast-Name-Printing" title="Fast Name Printing"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Fast</span> <span class="pre">Name</span> <span class="pre">Printing</span></code></a> has been introduced. It changes the
algorithm used for allocating bound variable names for a faster but less
clever one
(<a class="reference external" href="https://github.com/coq/coq/pull/9078">#9078</a>, by Pierre-Marie Pédrot).</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">Typeclasses</span> <span class="pre">Axioms</span> <span class="pre">Are</span> <span class="pre">Instances</span></code> (compatibility option
introduced in the previous version) is deprecated. Use <a class="reference internal" href="addendum/type-classes.html#coq:cmd.Declare-Instance" title="Declare Instance"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Declare</span>
<span class="pre">Instance</span></code></a> for axioms which should be instances
(<a class="reference external" href="https://github.com/coq/coq/pull/8920">#8920</a>, by Gaëtan Gilbert).</p></li>
<li><p>Removed option <code class="docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Primitive</span> <span class="pre">Projection</span> <span class="pre">Compatibility</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/9306">#9306</a>, by Gaëtan Gilbert).</p></li>
</ul>
</li>
<li><p>Standard Library:</p>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">Bvector.BVeq</span></code> that decides whether two <code class="docutils literal notranslate"><span class="pre">Bvector</span></code>s are equal.
Added notations for <code class="docutils literal notranslate"><span class="pre">BVxor</span></code>, <code class="docutils literal notranslate"><span class="pre">BVand</span></code>, <code class="docutils literal notranslate"><span class="pre">BVor</span></code>, <code class="docutils literal notranslate"><span class="pre">BVeq</span></code> and <code class="docutils literal notranslate"><span class="pre">BVneg</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/8171">#8171</a>, by Yishuai Li).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">ByteVector</span></code> type that can convert to and from <code class="docutils literal notranslate"><span class="pre">string</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/8365">#8365</a>, by Yishuai Li).</p></li>
<li><p>Added lemmas about monotonicity of <code class="docutils literal notranslate"><span class="pre">N.double</span></code> and <code class="docutils literal notranslate"><span class="pre">N.succ_double</span></code>, and about
the upper bound of number represented by a vector.
Allowed implicit vector length argument in <code class="docutils literal notranslate"><span class="pre">Ndigits.Bv2N</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/8815">#8815</a>, by Yishuai Li).</p></li>
<li><p>The prelude used to be automatically Exported and is now only
Imported. This should be relevant only when importing files which
don't use <code class="docutils literal notranslate"><span class="pre">-noinit</span></code> into files which do
(<a class="reference external" href="https://github.com/coq/coq/pull/9013">#9013</a>, by Gaëtan Gilbert).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">Coq.Structures.OrderedTypeEx.String_as_OT</span></code> to make strings an
ordered type, using lexical order
(<a class="reference external" href="https://github.com/coq/coq/pull/7221">#7221</a>, by Li Yao).</p></li>
<li><p>Added lemmas about <code class="docutils literal notranslate"><span class="pre">Z.testbit</span></code>, <code class="docutils literal notranslate"><span class="pre">Z.ones</span></code>, and <code class="docutils literal notranslate"><span class="pre">Z.modulo</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/9425">#9425</a>, by Andres Erbsen).</p></li>
<li><p>Moved the <code class="docutils literal notranslate"><span class="pre">auto</span></code> hints of the <code class="docutils literal notranslate"><span class="pre">FSet</span></code> library into a new
<code class="docutils literal notranslate"><span class="pre">fset</span></code> database
(<a class="reference external" href="https://github.com/coq/coq/pull/9725">#9725</a>, by Frédéric Besson).</p></li>
<li><p>Added <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">Coq.Structures.EqualitiesFacts.PairUsualDecidableTypeFull</span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/9984">#9984</a>,
by Jean-Christophe Léchenet and Oliver Nash).</p></li>
</ul>
</li>
<li><p>Some error messages that show problems with a pair of non-matching
values will now highlight the differences
(<a class="reference external" href="https://github.com/coq/coq/pull/8669">#8669</a>, by Jim Fehrle).</p></li>
<li><p>Changelog has been moved from a specific file <code class="docutils literal notranslate"><span class="pre">CHANGES.md</span></code> to the
reference manual; former Credits chapter of the reference manual has
been split in two parts: a History chapter which was enriched with
additional historical information about Coq versions 1 to 5, and a
Changes chapter which was enriched with the content formerly in
<code class="docutils literal notranslate"><span class="pre">CHANGES.md</span></code> and <code class="docutils literal notranslate"><span class="pre">COMPATIBILITY</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/9133">#9133</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/9668">#9668</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/9939">#9939</a>,
<a class="reference external" href="https://github.com/coq/coq/pull/9964">#9964</a>,
and <a class="reference external" href="https://github.com/coq/coq/pull/10085">#10085</a>,
by Théo Zimmermann,
with help and ideas from Emilio Jesús Gallego Arias, Gaëtan
Gilbert, Clément Pit-Claudel, Matthieu Sozeau, and Enrico Tassi).</p></li>
</ul>
</div>
<div class="section" id="changes-in-8-10-beta2">
<h3>Changes in 8.10+beta2<a class="headerlink" href="#changes-in-8-10-beta2" title="Permalink to this headline">¶</a></h3>
<p>Many bug fixes and documentation improvements, in particular:</p>
<p><strong>Tactics</strong></p>
<ul class="simple">
<li><p>Make the <a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:tacn.discriminate" title="discriminate"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">discriminate</span></code></a> tactic work together with
<a class="reference internal" href="addendum/universe-polymorphism.html#coq:flag.Universe-Polymorphism" title="Universe Polymorphism"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Universe</span> <span class="pre">Polymorphism</span></code></a> and equality in <code class="code Coq docutils literal notranslate"><span class="keyword type"><span class="pre">Type</span></span></code>. This,
in particular, makes <a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:tacn.discriminate" title="discriminate"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">discriminate</span></code></a> compatible with the HoTT
library <a class="reference external" href="https://github.com/HoTT/HoTT">https://github.com/HoTT/HoTT</a>
(<a class="reference external" href="https://github.com/coq/coq/pull/10205">#10205</a>,
by Andreas Lynge, review by Pierre-Marie Pédrot and Matthieu Sozeau).</p></li>
</ul>
<p><strong>SSReflect</strong></p>
<ul class="simple">
<li><p>Make the <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">E:</span> <span class="pre">t</span></code> tactic work together with
<a class="reference internal" href="addendum/universe-polymorphism.html#coq:flag.Universe-Polymorphism" title="Universe Polymorphism"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Universe</span> <span class="pre">Polymorphism</span></code></a> and equality in <code class="code Coq docutils literal notranslate"><span class="keyword type"><span class="pre">Type</span></span></code>.
This makes <a class="reference internal" href="proof-engine/ssreflect-proof-language.html#coq:tacn.case-(ssreflect)" title="case (ssreflect)"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">case</span></code></a> compatible with the HoTT
library <a class="reference external" href="https://github.com/HoTT/HoTT">https://github.com/HoTT/HoTT</a>
(<a class="reference external" href="https://github.com/coq/coq/pull/10302">#10302</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/10301">#10301</a>,
by Andreas Lynge, review by Enrico Tassi)</p></li>
<li><p>Make the <code class="docutils literal notranslate"><span class="pre">rewrite</span> <span class="pre">/t</span></code> tactic work together with
<a class="reference internal" href="addendum/universe-polymorphism.html#coq:flag.Universe-Polymorphism" title="Universe Polymorphism"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Universe</span> <span class="pre">Polymorphism</span></code></a>.
This makes <a class="reference internal" href="proof-engine/ssreflect-proof-language.html#coq:tacn.rewrite-(ssreflect)" title="rewrite (ssreflect)"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">rewrite</span></code></a> compatible with the HoTT
library <a class="reference external" href="https://github.com/HoTT/HoTT">https://github.com/HoTT/HoTT</a>
(<a class="reference external" href="https://github.com/coq/coq/pull/10305">#10305</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/9336">#9336</a>,
by Andreas Lynge, review by Enrico Tassi)</p></li>
</ul>
<p><strong>CoqIDE</strong></p>
<ul class="simple">
<li><p>Fix CoqIDE instability on Windows after the update to gtk3
(<a class="reference external" href="https://github.com/coq/coq/pull/10360">#10360</a>, by Michael Soegtrop,
closes <a class="reference external" href="https://github.com/coq/coq/issues/9885">#9885</a>).</p></li>
</ul>
<p><strong>Miscellaneous</strong></p>
<ul class="simple">
<li><p>Proof General can now display Coq-generated diffs between proof steps
in color
(<a class="reference external" href="https://github.com/coq/coq/pull/10019">#10019</a> and
(in Proof General) <a class="reference external" href="https://github.com/ProofGeneral/PG/pull/421">#421</a>,
by Jim Fehrle).</p></li>
</ul>
</div>
<div class="section" id="changes-in-8-10-beta3">
<h3>Changes in 8.10+beta3<a class="headerlink" href="#changes-in-8-10-beta3" title="Permalink to this headline">¶</a></h3>
<p><strong>Kernel</strong></p>
<ul>
<li><p>Fix soundness issue with template polymorphism (<a class="reference external" href="https://github.com/coq/coq/issues/9294">#9294</a>).</p>
<p>Declarations of template-polymorphic inductive types ignored the
provenance of the universes they were abstracting on and did not
detect if they should be greater or equal to <span class="math notranslate nohighlight">\(\Set\)</span> in
general. Previous universes and universes introduced by the inductive
definition could have constraints that prevented their instantiation
with e.g. <span class="math notranslate nohighlight">\(\Prop\)</span>, resulting in unsound instantiations later. The
implemented fix only allows abstraction over universes introduced by
the inductive declaration, and properly records all their constraints
by making them by default only <span class="math notranslate nohighlight">\(&gt;= \Prop\)</span>. It is also checked
that a template polymorphic inductive actually is polymorphic on at
least one universe.</p>
<p>This prevents inductive declarations in sections to be universe
polymorphic over section parameters. For a backward compatible fix,
simply hoist the inductive definition out of the section.
An alternative is to declare the inductive as universe-polymorphic and
cumulative in a universe-polymorphic section: all universes and
constraints will be properly gathered in this case.
See <a class="reference internal" href="language/core/inductive.html#template-polymorphism"><span class="std std-ref">Template polymorphism</span></a> for a detailed exposition of the
rules governing template-polymorphic types.</p>
<p>To help users incrementally fix this issue, a command line option
<code class="docutils literal notranslate"><span class="pre">-no-template-check</span></code> and a global flag <code class="docutils literal notranslate"><span class="pre">Template</span> <span class="pre">Check</span></code> are
available to selectively disable the new check. Use at your own risk.</p>
<p>(<a class="reference external" href="https://github.com/coq/coq/pull/9918">#9918</a>, by Matthieu Sozeau
and Maxime Dénès).</p>
</li>
</ul>
<p><strong>User messages</strong></p>
<ul class="simple">
<li><p>Improve the ambiguous paths warning to indicate which path is ambiguous with
new one
(<a class="reference external" href="https://github.com/coq/coq/pull/10336">#10336</a>,
closes <a class="reference external" href="https://github.com/coq/coq/issues/3219">#3219</a>,
by Kazuhiko Sakaguchi).</p></li>
</ul>
<p><strong>Extraction</strong></p>
<ul class="simple">
<li><p>Fix extraction to OCaml of primitive machine integers;
see <a class="reference internal" href="language/core/primitive.html#primitive-integers"><span class="std std-ref">Primitive Integers</span></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/10430">#10430</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/10361">#10361</a>,
by Vincent Laporte).</p></li>
<li><p>Fix a printing bug of OCaml extraction on dependent record projections, which
produced improper <code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">false</span></code>. This change makes the OCaml extractor
internally inline record projections by default; thus the monolithic OCaml
extraction (<a class="reference internal" href="addendum/extraction.html#coq:cmd.Extraction" title="Extraction"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Extraction</span></code></a> and <a class="reference internal" href="addendum/extraction.html#coq:cmd.Recursive-Extraction" title="Recursive Extraction"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Recursive</span> <span class="pre">Extraction</span></code></a>) does not
produce record projection constants anymore except for record projections
explicitly instructed to extract, and records declared in opaque modules
(<a class="reference external" href="https://github.com/coq/coq/pull/10577">#10577</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/7348">#7348</a>,
by Kazuhiko Sakaguchi).</p></li>
</ul>
<p><strong>Standard library</strong></p>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">splitat</span></code> function and lemmas about <code class="docutils literal notranslate"><span class="pre">splitat</span></code> and <code class="docutils literal notranslate"><span class="pre">uncons</span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/9379">#9379</a>,
by Yishuai Li, with help of Konstantinos Kallas,
follow-up of <a class="reference external" href="https://github.com/coq/coq/pull/8365">#8365</a>,
which added <code class="docutils literal notranslate"><span class="pre">uncons</span></code> in 8.10+beta1).</p></li>
</ul>
</div>
<div class="section" id="changes-in-8-10-0">
<h3>Changes in 8.10.0<a class="headerlink" href="#changes-in-8-10-0" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Micromega tactics (<a class="reference internal" href="addendum/micromega.html#coq:tacn.lia" title="lia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lia</span></code></a>, <a class="reference internal" href="addendum/micromega.html#coq:tacn.nia" title="nia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">nia</span></code></a>, etc) are no longer confused by
primitive projections (<a class="reference external" href="https://github.com/coq/coq/pull/10806">#10806</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/9512">#9512</a>
by Vincent Laporte).</p></li>
</ul>
</div>
<div class="section" id="changes-in-8-10-1">
<h3>Changes in 8.10.1<a class="headerlink" href="#changes-in-8-10-1" title="Permalink to this headline">¶</a></h3>
<p>A few bug fixes and documentation improvements, in particular:</p>
<p><strong>Kernel</strong></p>
<ul class="simple">
<li><p>Fix proof of False when using <span class="math notranslate nohighlight">\(\SProp\)</span> (incorrect De Bruijn handling
when inferring the relevance mark of a function) (<a class="reference external" href="https://github.com/coq/coq/pull/10904">#10904</a>, by Pierre-Marie Pédrot).</p></li>
</ul>
<p><strong>Tactics</strong></p>
<ul class="simple">
<li><p>Fix an anomaly when unsolved evar in <a class="reference internal" href="addendum/ring.html#coq:cmd.Add-Ring" title="Add Ring"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Add</span> <span class="pre">Ring</span></code></a>
(<a class="reference external" href="https://github.com/coq/coq/pull/10891">#10891</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/9851">#9851</a>,
by Gaëtan Gilbert).</p></li>
</ul>
<p><strong>Tactic language</strong></p>
<ul class="simple">
<li><p>Fix Ltac regression in binding free names in uconstr
(<a class="reference external" href="https://github.com/coq/coq/pull/10899">#10899</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/10894">#10894</a>,
by Hugo Herbelin).</p></li>
</ul>
<p><strong>CoqIDE</strong></p>
<ul class="simple">
<li><p>Fix handling of unicode input before space
(<a class="reference external" href="https://github.com/coq/coq/pull/10852">#10852</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/10842">#10842</a>,
by Arthur Charguéraud).</p></li>
</ul>
<p><strong>Extraction</strong></p>
<ul class="simple">
<li><p>Fix custom extraction of inductives to JSON
(<a class="reference external" href="https://github.com/coq/coq/pull/10897">#10897</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/4741">#4741</a>,
by Helge Bahmann).</p></li>
</ul>
</div>
<div class="section" id="changes-in-8-10-2">
<h3>Changes in 8.10.2<a class="headerlink" href="#changes-in-8-10-2" title="Permalink to this headline">¶</a></h3>
<p><strong>Kernel</strong></p>
<ul class="simple">
<li><p>Fixed a critical bug of template polymorphism and nonlinear universes
(<a class="reference external" href="https://github.com/coq/coq/pull/11128">#11128</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11039">#11039</a>,
by Gaëtan Gilbert).</p></li>
<li><p>Fixed an anomaly “Uncaught exception Constr.DestKO” on <code class="code Coq docutils literal notranslate"><span class="keyword namespace"><span class="pre">Inductive</span></span></code>
(<a class="reference external" href="https://github.com/coq/coq/pull/11052">#11052</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11048">#11048</a>,
by Gaëtan Gilbert).</p></li>
<li><p>Fixed an anomaly “not enough abstractions in fix body”
(<a class="reference external" href="https://github.com/coq/coq/pull/11014">#11014</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/8459">#8459</a>,
by Gaëtan Gilbert).</p></li>
</ul>
<p><strong>Notations</strong></p>
<ul class="simple">
<li><p>Fixed an 8.10 regression related to the printing of coercions associated with notations
(<a class="reference external" href="https://github.com/coq/coq/pull/11090">#11090</a>,
fixes <a class="reference external" href="https://github.com/coq/coq/issues/11033">#11033</a>, by Hugo Herbelin).</p></li>
</ul>
<p><strong>CoqIDE</strong></p>
<ul class="simple">
<li><p>Fixed uneven dimensions of CoqIDE panels when window has been resized
(<a class="reference external" href="https://github.com/coq/coq/pull/11070">#11070</a>,
fixes 8.10-regression <a class="reference external" href="https://github.com/coq/coq/issues/10956">#10956</a>,
by Guillaume Melquiond).</p></li>
<li><p>Do not include final stops in queries
(<a class="reference external" href="https://github.com/coq/coq/pull/11069">#11069</a>,
fixes 8.10-regression <a class="reference external" href="https://github.com/coq/coq/issues/11058">#11058</a>,
by Guillaume Melquiond).</p></li>
</ul>
<p><strong>Infrastructure and dependencies</strong></p>
<ul class="simple">
<li><p>Enable building of executables when they are running
(<a class="reference external" href="https://github.com/coq/coq/pull/11000">#11000</a>,
fixes 8.9-regression <a class="reference external" href="https://github.com/coq/coq/issues/10728">#10728</a>,
by Gaëtan Gilbert).</p></li>
</ul>
</div>
</div>
<div class="section" id="version-8-9">
<h2>Version 8.9<a class="headerlink" href="#version-8-9" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1495">
<h3>Summary of changes<a class="headerlink" href="#id1495" title="Permalink to this headline">¶</a></h3>
<p>Coq version 8.9 contains the result of refinements and stabilization
of features and deprecations or removals of deprecated features,
cleanups of the internals of the system and API along with a few new
features. This release includes many user-visible changes, including
deprecations that are documented in the next subsection and new features that
are documented in the reference manual. Here are the most important
changes:</p>
<ul class="simple">
<li><p>Kernel: mutually recursive records are now supported, by Pierre-Marie
Pédrot.</p></li>
<li><p>Notations:</p>
<ul>
<li><p>Support for autonomous grammars of terms called “custom entries”, by
Hugo Herbelin (see Section <a class="reference internal" href="user-extensions/syntax-extensions.html#custom-entries"><span class="std std-ref">Custom entries</span></a> of the reference
manual).</p></li>
<li><p>Deprecated notations of the standard library will be removed in the
next version of Coq, see the next subsection for a script to
ease porting, by Jason Gross and Jean-Christophe Léchenet.</p></li>
<li><p>Added the <a class="reference internal" href="user-extensions/syntax-extensions.html#coq:cmd.Number-Notation" title="Number Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Notation</span></code></a> command for registering decimal
numeral notations for custom types, by Daniel de Rauglaudre, Pierre
Letouzey and Jason Gross.</p></li>
</ul>
</li>
<li><p>Tactics: Introduction tactics <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.intro" title="intro"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">intro</span></code></a>/<a class="reference internal" href="proof-engine/tactics.html#coq:tacn.intros" title="intros"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">intros</span></code></a> on a goal that is an
existential variable now force a refinement of the goal into a
dependent product rather than failing, by Hugo Herbelin.</p></li>
<li><p>Decision procedures: deprecation of tactic <code class="docutils literal notranslate"><span class="pre">romega</span></code> in favor of
<a class="reference internal" href="addendum/micromega.html#coq:tacn.lia" title="lia"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lia</span></code></a> and removal of <code class="docutils literal notranslate"><span class="pre">fourier</span></code>, replaced by <a class="reference internal" href="addendum/micromega.html#coq:tacn.lra" title="lra"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lra</span></code></a> which
subsumes it, by Frédéric Besson, Maxime Dénès, Vincent Laporte and
Laurent Théry.</p></li>
<li><p>Proof language: focusing bracket <code class="docutils literal notranslate"><span class="pre">{</span></code> now supports named
<a class="reference internal" href="proofs/writing-proofs/proof-mode.html#curly-braces"><span class="std std-ref">goals</span></a>, e.g. <code class="docutils literal notranslate"><span class="pre">[x]:{</span></code> will focus
on a goal (existential variable) named <code class="docutils literal notranslate"><span class="pre">x</span></code>, by Théo Zimmermann.</p></li>
<li><p>SSReflect: the implementation of delayed clear was simplified by
Enrico Tassi: the variables are always renamed using inaccessible
names when the clear switch is processed and finally cleared at the
end of the intro pattern. In addition to that, the use-and-discard flag
<code class="docutils literal notranslate"><span class="pre">{}</span></code> typical of rewrite rules can now be also applied to views,
e.g. <code class="docutils literal notranslate"><span class="pre">=&gt;</span> <span class="pre">{}/v</span></code> applies <code class="docutils literal notranslate"><span class="pre">v</span></code> and then clears <code class="docutils literal notranslate"><span class="pre">v</span></code>. See Section
<a class="reference internal" href="proof-engine/ssreflect-proof-language.html#introduction-ssr"><span class="std std-ref">Introduction in the context</span></a>.</p></li>
<li><p>Vernacular:</p>
<ul>
<li><p>Experimental support for <a class="reference internal" href="language/core/basic.html#term-attribute"><span class="xref std std-term">attributes</span></a> on
commands, by Vincent Laporte, as in <code class="docutils literal notranslate"><span class="pre">#[local]</span> <span class="pre">Lemma</span> <span class="pre">foo</span> <span class="pre">:</span> <span class="pre">bar.</span></code>
Tactics and tactic notations now support the <code class="docutils literal notranslate"><span class="pre">deprecated</span></code>
attribute.</p></li>
<li><p>Removed deprecated commands <code class="docutils literal notranslate"><span class="pre">Arguments</span> <span class="pre">Scope</span></code> and <code class="docutils literal notranslate"><span class="pre">Implicit</span>
<span class="pre">Arguments</span></code> in favor of <a class="reference internal" href="language/extensions/arguments-command.html#coq:cmd.Arguments" title="Arguments"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Arguments</span></code></a>, with the help of Jasper Hugunin.</p></li>
<li><p>New flag <a class="reference internal" href="language/core/inductive.html#coq:flag.Uniform-Inductive-Parameters" title="Uniform Inductive Parameters"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Uniform</span> <span class="pre">Inductive</span> <span class="pre">Parameters</span></code></a> by Jasper Hugunin to
avoid repeating uniform parameters in constructor declarations.</p></li>
<li><p>New commands <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Variables" title="Hint Variables"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Variables</span></code></a> and <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Hint-Constants" title="Hint Constants"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Constants</span></code></a>, by
Matthieu Sozeau, for controlling the opacity status of variables and
constants in hint databases. It is recommended to always use these
commands after creating a hint database with <a class="reference internal" href="proofs/automatic-tactics/auto.html#coq:cmd.Create-HintDb" title="Create HintDb"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Create</span> <span class="pre">HintDb</span></code></a>.</p></li>
<li><p>Multiple sections with the same name are now allowed, by Jasper
Hugunin.</p></li>
</ul>
</li>
<li><p>Library: additions and changes in the <code class="docutils literal notranslate"><span class="pre">VectorDef</span></code>, <code class="docutils literal notranslate"><span class="pre">Ascii</span></code>, and
<code class="docutils literal notranslate"><span class="pre">String</span></code> libraries. Syntax notations are now available only when using
<code class="docutils literal notranslate"><span class="pre">Import</span></code> of libraries and not merely <code class="docutils literal notranslate"><span class="pre">Require</span></code>, by various
contributors (source of incompatibility, see the next subsection for details).</p></li>
<li><p>Toplevels: <code class="docutils literal notranslate"><span class="pre">coqtop</span></code> and <code class="docutils literal notranslate"><span class="pre">coqide</span></code> can now display diffs between proof
steps in color, using the <a class="reference internal" href="proofs/writing-proofs/proof-mode.html#coq:opt.Diffs" title="Diffs"><code class="xref coq coq-opt docutils literal notranslate"><span class="pre">Diffs</span></code></a> option, by Jim Fehrle.</p></li>
<li><p>Documentation: we integrated a large number of fixes to the new Sphinx
documentation by various contributors, coordinated by Clément
Pit-Claudel and Théo Zimmermann.</p></li>
<li><p>Tools: removed the <code class="docutils literal notranslate"><span class="pre">gallina</span></code> utility and the homebrewed <code class="docutils literal notranslate"><span class="pre">Emacs</span></code> mode.</p></li>
<li><p>Packaging: as in Coq 8.8.2, the Windows installer now includes many
more external packages that can be individually selected for
installation, by Michael Soegtrop.</p></li>
</ul>
<p>Version 8.9 also comes with a bunch of smaller-scale changes and
improvements regarding the different components of the system.  Most
important ones are documented in the next subsection file.</p>
<p>On the implementation side, the <code class="docutils literal notranslate"><span class="pre">dev/doc/changes.md</span></code> file documents
the numerous changes to the implementation and improvements of
interfaces. The file provides guidelines on porting a plugin to the new
version and a plugin development tutorial kept in sync with Coq was
introduced by Yves Bertot <a class="reference external" href="http://github.com/ybertot/plugin_tutorials">http://github.com/ybertot/plugin_tutorials</a>.
The new <code class="docutils literal notranslate"><span class="pre">dev/doc/critical-bugs</span></code> file documents the known critical bugs
of Coq and affected releases.</p>
<p>The efficiency of the whole system has seen improvements thanks to
contributions from Gaëtan Gilbert, Pierre-Marie Pédrot, and Maxime Dénès.</p>
<p>Maxime Dénès, Emilio Jesús Gallego Arias, Gaëtan Gilbert, Michael
Soegtrop, Théo Zimmermann worked on maintaining and improving the
continuous integration system.</p>
<p>The opam repository for Coq packages has been maintained by Guillaume
Melquiond, Matthieu Sozeau, Enrico Tassi with contributions from many
users. A list of packages is available at <a class="reference external" href="https://coq.inria.fr/opam/www/">https://coq.inria.fr/opam/www/</a>.</p>
<p>The 54 contributors for this version are Léo Andrès, Rin Arakaki,
Benjamin Barenblat, Langston Barrett, Siddharth Bhat, Martin Bodin,
Simon Boulier, Timothy Bourke, Joachim Breitner, Tej Chajed, Arthur
Charguéraud, Pierre Courtieu, Maxime Dénès, Andres Erbsen, Jim Fehrle,
Julien Forest, Emilio Jesus Gallego Arias, Gaëtan Gilbert, Matěj
Grabovský, Jason Gross, Samuel Gruetter, Armaël Guéneau, Hugo Herbelin,
Jasper Hugunin, Ralf Jung, Sam Pablo Kuper, Ambroise Lafont, Leonidas
Lampropoulos, Vincent Laporte, Peter LeFanu Lumsdaine, Pierre Letouzey,
Jean-Christophe Léchenet, Nick Lewycky, Yishuai Li, Sven M. Hallberg,
Assia Mahboubi, Cyprien Mangin, Guillaume Melquiond, Perry E. Metzger,
Clément Pit-Claudel, Pierre-Marie Pédrot, Daniel R. Grayson, Kazuhiko
Sakaguchi, Michael Soegtrop, Matthieu Sozeau, Paul Steckler, Enrico
Tassi, Laurent Théry, Anton Trunov, whitequark, Théo Winterhalter,
Zeimer, Beta Ziliani, Théo Zimmermann.</p>
<p>Many power users helped to improve the design of the new features via
the issue and pull request system, the Coq development mailing list or
the <a class="reference external" href="mailto:coq-club&#37;&#52;&#48;inria&#46;fr">coq-club<span>&#64;</span>inria<span>&#46;</span>fr</a> mailing list. It would be impossible to mention
exhaustively the names of everybody who to some extent influenced the
development.</p>
<p>Version 8.9 is the fourth release of Coq developed on a time-based
development cycle. Its development spanned 7 months from the release of
Coq 8.8. The development moved to a decentralized merging process
during this cycle. Guillaume Melquiond was in charge of the release
process and is the maintainer of this release. This release is the
result of ~2,000 commits and ~500 PRs merged, closing 75+ issues.</p>
<p>The Coq development team welcomed Vincent Laporte, a new Coq
engineer working with Maxime Dénès in the Coq consortium.</p>
<div class="line-block">
<div class="line">Paris, November 2018,</div>
<div class="line">Matthieu Sozeau for the Coq development team</div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="details-of-changes-in-8-9-beta1">
<h3>Details of changes in 8.9+beta1<a class="headerlink" href="#details-of-changes-in-8-9-beta1" title="Permalink to this headline">¶</a></h3>
<p>Kernel</p>
<ul class="simple">
<li><p>Mutually defined records are now supported.</p></li>
</ul>
<p>Notations</p>
<ul class="simple">
<li><p>New support for autonomous grammars of terms, called &quot;custom
entries&quot; (see chapter &quot;Syntax extensions&quot; of the reference manual).</p></li>
<li><p>Deprecated compatibility notations will actually be removed in the
next version of Coq.  Uses of these notations are generally easy to
fix thanks to the hint contained in the deprecation warnings. For
projects that require more than a handful of such fixes, there is <a class="reference external" href="https://gist.github.com/JasonGross/9770653967de3679d131c59d42de6d17#file-replace-notations-py">a
script</a>
that will do it automatically, using the output of <code class="docutils literal notranslate"><span class="pre">coqc</span></code>. The script
contains documentation on its usage in a comment at the top.</p></li>
</ul>
<p>Tactics</p>
<ul class="simple">
<li><p>Added toplevel goal selector <code class="docutils literal notranslate"><span class="pre">!</span></code> which expects a single focused goal.
Use with <code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">Default</span> <span class="pre">Goal</span> <span class="pre">Selector</span></code> to force focusing before tactics
are called.</p></li>
<li><p>The undocumented &quot;nameless&quot; forms <code class="docutils literal notranslate"><span class="pre">fix</span> <span class="pre">N</span></code>, <code class="docutils literal notranslate"><span class="pre">cofix</span></code> that were
deprecated in 8.8 have been removed from Ltac's syntax; please use
<code class="docutils literal notranslate"><span class="pre">fix</span> <span class="pre">ident</span> <span class="pre">N/cofix</span> <span class="pre">ident</span></code> to explicitly name the (co)fixpoint
hypothesis to be introduced.</p></li>
<li><p>Introduction tactics <code class="docutils literal notranslate"><span class="pre">intro</span></code>/<code class="docutils literal notranslate"><span class="pre">intros</span></code> on a goal that is an
existential variable now force a refinement of the goal into a
dependent product rather than failing.</p></li>
<li><p>Support for <code class="docutils literal notranslate"><span class="pre">fix</span></code>/<code class="docutils literal notranslate"><span class="pre">cofix</span></code> added in Ltac <code class="docutils literal notranslate"><span class="pre">match</span></code> and <code class="docutils literal notranslate"><span class="pre">lazymatch</span></code>.</p></li>
<li><p>Ltac backtraces now include trace information about tactics
called by OCaml-defined tactics.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">Ltac</span> <span class="pre">Debug</span></code> now applies also to terms built using Ltac functions.</p></li>
<li><p>Deprecated the <code class="docutils literal notranslate"><span class="pre">Implicit</span> <span class="pre">Tactic</span></code> family of commands.</p></li>
<li><p>The default program obligation tactic uses a bounded proof search
instead of an unbounded and potentially non-terminating one now
(source of incompatibility).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">simple</span> <span class="pre">apply</span></code> tactic now respects the <code class="docutils literal notranslate"><span class="pre">Opaque</span></code> flag when called from
Ltac (<code class="docutils literal notranslate"><span class="pre">auto</span></code> still does not respect it).</p></li>
<li><p>Tactic <code class="docutils literal notranslate"><span class="pre">constr_eq</span></code> now adds universe constraints needed for the
identity to the context (it used to ignore them). New tactic
<code class="docutils literal notranslate"><span class="pre">constr_eq_strict</span></code> checks that the required constraints already hold
without adding new ones. Preexisting tactic <code class="docutils literal notranslate"><span class="pre">constr_eq_nounivs</span></code> can
still be used if you really want to ignore universe constraints.</p></li>
<li><p>Tactics and tactic notations now understand the <code class="docutils literal notranslate"><span class="pre">deprecated</span></code> attribute.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">fourier</span></code> tactic has been removed. Please now use <code class="docutils literal notranslate"><span class="pre">lra</span></code> instead. You
may need to add <code class="docutils literal notranslate"><span class="pre">Require</span> <span class="pre">Import</span> <span class="pre">Lra</span></code> to your developments. For compatibility,
we now define <code class="docutils literal notranslate"><span class="pre">fourier</span></code> as a deprecated alias of <code class="docutils literal notranslate"><span class="pre">lra</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">romega</span></code> tactics have been deprecated; please use <code class="docutils literal notranslate"><span class="pre">lia</span></code> instead.</p></li>
</ul>
<p>Focusing</p>
<ul class="simple">
<li><p>Focusing bracket <code class="docutils literal notranslate"><span class="pre">{</span></code> now supports named goal selectors,
e.g. <code class="docutils literal notranslate"><span class="pre">[x]:</span> <span class="pre">{</span></code> will focus on a goal (existential variable) named <code class="docutils literal notranslate"><span class="pre">x</span></code>.
As usual, unfocus with <code class="docutils literal notranslate"><span class="pre">}</span></code> once the subgoal is fully solved.</p></li>
</ul>
<p>Specification language</p>
<ul class="simple">
<li><p>A fix to unification (which was sensitive to the ascii name of
variables) may occasionally change type inference in incompatible
ways, especially regarding the inference of the return clause of <code class="docutils literal notranslate"><span class="pre">match</span></code>.</p></li>
</ul>
<p>Standard Library</p>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">Ascii.eqb</span></code> and <code class="docutils literal notranslate"><span class="pre">String.eqb</span></code> and the <code class="docutils literal notranslate"><span class="pre">=?</span></code> notation for them,
and proved some lemmas about them.  Note that this might cause
incompatibilities if you have, e.g., <code class="docutils literal notranslate"><span class="pre">string_scope</span></code> and <code class="docutils literal notranslate"><span class="pre">Z_scope</span></code> both
open with <code class="docutils literal notranslate"><span class="pre">string_scope</span></code> on top, and expect <code class="docutils literal notranslate"><span class="pre">=?</span></code> to refer to <code class="docutils literal notranslate"><span class="pre">Z.eqb</span></code>.
Solution: wrap <code class="docutils literal notranslate"><span class="pre">_</span> <span class="pre">=?</span> <span class="pre">_</span></code> in <code class="docutils literal notranslate"><span class="pre">(_</span> <span class="pre">=?</span> <span class="pre">_)%Z</span></code> (or whichever scope you
want).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">Ndigits.N2Bv_sized</span></code>, and proved some lemmas about it.
Deprecated <code class="docutils literal notranslate"><span class="pre">Ndigits.N2Bv_gen</span></code>.</p></li>
<li><p>The scopes <code class="docutils literal notranslate"><span class="pre">int_scope</span></code> and <code class="docutils literal notranslate"><span class="pre">uint_scope</span></code> have been renamed to
<code class="docutils literal notranslate"><span class="pre">dec_int_scope</span></code> and <code class="docutils literal notranslate"><span class="pre">dec_uint_scope</span></code>, to clash less with ssreflect
and other packages.  They are still delimited by <code class="docutils literal notranslate"><span class="pre">%int</span></code> and <code class="docutils literal notranslate"><span class="pre">%uint</span></code>.</p></li>
<li><p>Syntax notations for <code class="docutils literal notranslate"><span class="pre">string</span></code>, <code class="docutils literal notranslate"><span class="pre">ascii</span></code>, <code class="docutils literal notranslate"><span class="pre">Z</span></code>, <code class="docutils literal notranslate"><span class="pre">positive</span></code>, <code class="docutils literal notranslate"><span class="pre">N</span></code>, <code class="docutils literal notranslate"><span class="pre">R</span></code>,
and <code class="docutils literal notranslate"><span class="pre">int31</span></code> are no longer available merely by <a class="reference internal" href="proof-engine/vernacular-commands.html#coq:cmd.Require" title="Require"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Require</span></code></a>ing the files
that define the inductives.  You must <a class="reference internal" href="language/core/modules.html#coq:cmd.Import" title="Import"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Import</span></code></a> <code class="docutils literal notranslate"><span class="pre">Coq.Strings.String.StringSyntax</span></code>
(after <code class="docutils literal notranslate"><span class="pre">Require</span></code> <code class="docutils literal notranslate"><span class="pre">Coq.Strings.String</span></code>), <code class="docutils literal notranslate"><span class="pre">Coq.Strings.Ascii.AsciiSyntax</span></code> (after
<code class="docutils literal notranslate"><span class="pre">Require</span></code> <code class="docutils literal notranslate"><span class="pre">Coq.Strings.Ascii</span></code>), <code class="docutils literal notranslate"><span class="pre">Coq.ZArith.BinIntDef</span></code>, <code class="docutils literal notranslate"><span class="pre">Coq.PArith.BinPosDef</span></code>,
<code class="docutils literal notranslate"><span class="pre">Coq.NArith.BinNatDef</span></code>, <code class="docutils literal notranslate"><span class="pre">Coq.Reals.Rdefinitions</span></code>, and
<code class="docutils literal notranslate"><span class="pre">Coq.Numbers.Cyclic.Int31.Int31</span></code>, respectively, to be able to use
these notations.  Note that passing <code class="docutils literal notranslate"><span class="pre">-compat</span> <span class="pre">8.8</span></code> or issuing
<code class="docutils literal notranslate"><span class="pre">Require</span> <span class="pre">Import</span> <span class="pre">Coq.Compat.Coq88</span></code> will make these notations
available.  Users wishing to port their developments automatically
may download <code class="docutils literal notranslate"><span class="pre">fix.py</span></code> from
<a class="reference external" href="https://gist.github.com/JasonGross/5d4558edf8f5c2c548a3d96c17820169">https://gist.github.com/JasonGross/5d4558edf8f5c2c548a3d96c17820169</a>
and run a command like <code class="docutils literal notranslate"><span class="pre">while</span> <span class="pre">true;</span> <span class="pre">do</span> <span class="pre">make</span> <span class="pre">-Okj</span> <span class="pre">2&gt;&amp;1</span> <span class="pre">|</span>
<span class="pre">/path/to/fix.py;</span> <span class="pre">done</span></code> and get a cup of coffee.  (This command must
be manually interrupted once the build finishes all the way though.
Note also that this method is not fail-proof; you may have to adjust
some scopes if you were relying on string notations not being
available even when <code class="docutils literal notranslate"><span class="pre">string_scope</span></code> was open.)</p></li>
<li><p>Numeral syntax for <code class="docutils literal notranslate"><span class="pre">nat</span></code> is no longer available without loading the
entire prelude (<code class="docutils literal notranslate"><span class="pre">Require</span> <span class="pre">Import</span> <span class="pre">Coq.Init.Prelude</span></code>).  This only
impacts users running Coq without the init library (<code class="docutils literal notranslate"><span class="pre">-nois</span></code> or
<code class="docutils literal notranslate"><span class="pre">-noinit</span></code>) and also issuing <code class="docutils literal notranslate"><span class="pre">Require</span> <span class="pre">Import</span> <span class="pre">Coq.Init.Datatypes</span></code>.</p></li>
</ul>
<p>Tools</p>
<ul class="simple">
<li><p>Coq_makefile lets one override or extend the following variables from
the command line: <code class="docutils literal notranslate"><span class="pre">COQFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">COQCHKFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">COQDOCFLAGS</span></code>.
<code class="docutils literal notranslate"><span class="pre">COQFLAGS</span></code> is now entirely separate from <code class="docutils literal notranslate"><span class="pre">COQLIBS</span></code>, so in custom Makefiles
<code class="docutils literal notranslate"><span class="pre">$(COQFLAGS)</span></code> should be replaced by <code class="docutils literal notranslate"><span class="pre">$(COQFLAGS)</span> <span class="pre">$(COQLIBS)</span></code>.</p></li>
<li><p>Removed the <code class="docutils literal notranslate"><span class="pre">gallina</span></code> utility (extracts specification from Coq vernacular files).
If you would like to maintain this tool externally, please contact us.</p></li>
<li><p>Removed the Emacs modes distributed with Coq. You are advised to
use <a class="reference external" href="https://proofgeneral.github.io/">Proof-General</a> (and optionally
<a class="reference external" href="https://github.com/cpitclaudel/company-coq">Company-Coq</a>) instead.
If your use case is not covered by these alternative Emacs modes,
please open an issue. We can help set up external maintenance as part
of Proof-General, or independently as part of coq-community.</p></li>
</ul>
<p>Commands</p>
<ul class="simple">
<li><p>Removed deprecated commands <code class="docutils literal notranslate"><span class="pre">Arguments</span> <span class="pre">Scope</span></code> and <code class="docutils literal notranslate"><span class="pre">Implicit</span> <span class="pre">Arguments</span></code>
(not the option). Use the <code class="docutils literal notranslate"><span class="pre">Arguments</span></code> command instead.</p></li>
<li><p>Nested proofs may be enabled through the option <code class="docutils literal notranslate"><span class="pre">Nested</span> <span class="pre">Proofs</span> <span class="pre">Allowed</span></code>.
By default, they are disabled and produce an error. The deprecation
warning which used to occur when using nested proofs has been removed.</p></li>
<li><p>Added option <code class="docutils literal notranslate"><span class="pre">Uniform</span> <span class="pre">Inductive</span> <span class="pre">Parameters</span></code> which abstracts over parameters
before typechecking constructors, allowing to write for example
<code class="docutils literal notranslate"><span class="pre">Inductive</span> <span class="pre">list</span> <span class="pre">(A</span> <span class="pre">:</span> <span class="pre">Type)</span> <span class="pre">:=</span> <span class="pre">nil</span> <span class="pre">:</span> <span class="pre">list</span> <span class="pre">|</span> <span class="pre">cons</span> <span class="pre">:</span> <span class="pre">A</span> <span class="pre">-&gt;</span> <span class="pre">list</span> <span class="pre">-&gt;</span> <span class="pre">list.</span></code></p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">Hint</span> <span class="pre">Variables/Constants</span> <span class="pre">Opaque/Transparent</span></code> commands for setting
globally the opacity flag of variables and constants in hint databases,
overriding the opacity setting of the hint database.</p></li>
<li><p>Added generic syntax for &quot;attributes&quot;, as in:
<code class="docutils literal notranslate"><span class="pre">#[local]</span> <span class="pre">Lemma</span> <span class="pre">foo</span> <span class="pre">:</span> <span class="pre">bar.</span></code></p></li>
<li><p>Added the <code class="docutils literal notranslate"><span class="pre">Numeral</span> <span class="pre">Notation</span></code> command for registering decimal numeral
notations for custom types</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">SsrHave</span> <span class="pre">NoTCResolution</span></code> command no longer has special global
scope. If you want the previous behavior, use <code class="docutils literal notranslate"><span class="pre">Global</span> <span class="pre">Set</span> <span class="pre">SsrHave</span>
<span class="pre">NoTCResolution</span></code>.</p></li>
<li><p>Multiple sections with the same name are allowed.</p></li>
</ul>
<p>Coq binaries and process model</p>
<ul>
<li><p>Before 8.9, Coq distributed a single <code class="docutils literal notranslate"><span class="pre">coqtop</span></code> binary and a set of
dynamically loadable plugins that used to take over the main loop
for tasks such as IDE language server or parallel proof checking.</p>
<p>These plugins have been turned into full-fledged binaries so each
different process has associated a particular binary now, in
particular <code class="docutils literal notranslate"><span class="pre">coqidetop</span></code> is the CoqIDE language server, and
<code class="docutils literal notranslate"><span class="pre">coq{proof,tactic,query}worker</span></code> are in charge of task-specific and
parallel proof checking.</p>
</li>
</ul>
<p>SSReflect</p>
<ul>
<li><p>The implementation of delayed clear switches in intro patterns
is now simpler to explain:</p>
<ol class="arabic simple">
<li><p>The immediate effect of a clear switch like <code class="docutils literal notranslate"><span class="pre">{x}</span></code> is to rename the
variable <code class="docutils literal notranslate"><span class="pre">x</span></code> to <code class="docutils literal notranslate"><span class="pre">_x_</span></code> (i.e. a reserved identifier that cannot be mentioned
explicitly)</p></li>
<li><p>The delayed effect of <code class="docutils literal notranslate"><span class="pre">{x}</span></code> is that <code class="docutils literal notranslate"><span class="pre">_x_</span></code> is cleared at the end of the intro
pattern</p></li>
<li><p>A clear switch immediately before a view application like <code class="docutils literal notranslate"><span class="pre">{x}/v</span></code> is
translated to <code class="docutils literal notranslate"><span class="pre">/v{x}</span></code>.</p></li>
</ol>
<p>In particular, the third rule lets one write <code class="docutils literal notranslate"><span class="pre">{x}/v</span></code> even if <code class="docutils literal notranslate"><span class="pre">v</span></code> uses the variable <code class="docutils literal notranslate"><span class="pre">x</span></code>:
indeed the view is executed before the renaming.</p>
</li>
<li><p>An empty clear switch is now accepted in intro patterns before a
view application whenever the view is a variable.
One can now write <code class="docutils literal notranslate"><span class="pre">{}/v</span></code> to mean <code class="docutils literal notranslate"><span class="pre">{v}/v</span></code>.  Remark that <code class="docutils literal notranslate"><span class="pre">{}/x</span></code> is very similar
to the idiom <code class="docutils literal notranslate"><span class="pre">{}e</span></code> for the rewrite tactic (the equation <code class="docutils literal notranslate"><span class="pre">e</span></code> is used for
rewriting and then discarded).</p></li>
</ul>
<p>Standard Library</p>
<ul class="simple">
<li><p>There are now conversions between <code class="docutils literal notranslate"><span class="pre">string</span></code> and <code class="docutils literal notranslate"><span class="pre">positive</span></code>, <code class="docutils literal notranslate"><span class="pre">Z</span></code>,
<code class="docutils literal notranslate"><span class="pre">nat</span></code>, and <code class="docutils literal notranslate"><span class="pre">N</span></code> in binary, octal, and hex.</p></li>
</ul>
<p>Display diffs between proof steps</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">coqtop</span></code> and <code class="docutils literal notranslate"><span class="pre">coqide</span></code> can now highlight the differences between proof steps
in color. This can be enabled from the command line or the
<code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">Diffs</span> <span class="pre">&quot;on&quot;/&quot;off&quot;/&quot;removed&quot;</span></code> command. Please see the documentation for
details.  Showing diffs in Proof General requires small changes to PG
(under discussion).</p></li>
</ul>
<p>Notations</p>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">++</span></code> infix for <code class="docutils literal notranslate"><span class="pre">VectorDef.append</span></code>.
Note that this might cause incompatibilities if you have, e.g., <code class="docutils literal notranslate"><span class="pre">list_scope</span></code>
and <code class="docutils literal notranslate"><span class="pre">vector_scope</span></code> both open with <code class="docutils literal notranslate"><span class="pre">vector_scope</span></code> on top, and expect <code class="docutils literal notranslate"><span class="pre">++</span></code> to
refer to <code class="docutils literal notranslate"><span class="pre">app</span></code>.
Solution: wrap <code class="docutils literal notranslate"><span class="pre">_</span> <span class="pre">++</span> <span class="pre">_</span></code> in <code class="docutils literal notranslate"><span class="pre">(_</span> <span class="pre">++</span> <span class="pre">_)%list</span></code> (or whichever scope you want).</p></li>
</ul>
</div>
<div class="section" id="changes-in-8-8-0">
<h3>Changes in 8.8.0<a class="headerlink" href="#changes-in-8-8-0" title="Permalink to this headline">¶</a></h3>
<p>Various bug fixes.</p>
</div>
<div class="section" id="changes-in-8-8-1">
<h3>Changes in 8.8.1<a class="headerlink" href="#changes-in-8-8-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Some quality-of-life fixes.</p></li>
<li><p>Numerous improvements to the documentation.</p></li>
<li><p>Fix a critical bug related to primitive projections and <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.native_compute" title="native_compute"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">native_compute</span></code></a>.</p></li>
<li><p>Ship several additional Coq libraries with the Windows installer.</p></li>
</ul>
</div>
</div>
<div class="section" id="version-8-8">
<h2>Version 8.8<a class="headerlink" href="#version-8-8" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1497">
<h3>Summary of changes<a class="headerlink" href="#id1497" title="Permalink to this headline">¶</a></h3>
<p>Coq version 8.8 contains the result of refinements and stabilization of
features and deprecations, cleanups of the internals of the system along
with a few new features. The main user visible changes are:</p>
<ul class="simple">
<li><p>Kernel: fix a subject reduction failure due to allowing fixpoints
on non-recursive values, by Matthieu Sozeau.
Handling of evars in the VM (the kernel still does not accept evars)
by Pierre-Marie Pédrot.</p></li>
<li><p>Notations: many improvements on recursive notations and support for
destructuring patterns in the syntax of notations by Hugo Herbelin.</p></li>
<li><p>Proof language: tacticals for profiling, timing and checking success
or failure of tactics by Jason Gross. The focusing bracket <code class="docutils literal notranslate"><span class="pre">{</span></code>
supports single-numbered goal selectors, e.g. <code class="docutils literal notranslate"><span class="pre">2:{</span></code>, by Théo
Zimmermann.</p></li>
<li><p>Vernacular: deprecation of commands and more uniform handling of the
<code class="docutils literal notranslate"><span class="pre">Local</span></code> flag, by Vincent Laporte and Maxime Dénès, part of a larger
attribute system overhaul. Experimental <code class="docutils literal notranslate"><span class="pre">Show</span> <span class="pre">Extraction</span></code> command by
Pierre Letouzey. Coercion now accepts <code class="docutils literal notranslate"><span class="pre">Prop</span></code> or <code class="docutils literal notranslate"><span class="pre">Type</span></code> as a source
by Arthur Charguéraud. <code class="docutils literal notranslate"><span class="pre">Export</span></code> modifier for options allowing to
export the option to modules that <code class="docutils literal notranslate"><span class="pre">Import</span></code> and not only <code class="docutils literal notranslate"><span class="pre">Require</span></code>
a module, by Pierre-Marie Pédrot.</p></li>
<li><p>Universes: many user-level and API level enhancements: qualified
naming and printing, variance annotations for cumulative inductive
types, more general constraints and enhancements of the minimization
heuristics, interaction with modules by Gaëtan Gilbert, Pierre-Marie
Pédrot and Matthieu Sozeau.</p></li>
<li><p>Library: Decimal Numbers library by Pierre Letouzey and various small
improvements.</p></li>
<li><p>Documentation: a large community effort resulted in the migration
of the reference manual to the Sphinx documentation tool. The result
is this manual. The new documentation infrastructure (based on Sphinx)
is by Clément Pit-Claudel. The migration was coordinated by Maxime Dénès
and Paul Steckler, with some help of Théo Zimmermann during the
final integration phase. The 14 people who ported the manual are
Calvin Beck, Heiko Becker, Yves Bertot, Maxime Dénès, Richard Ford,
Pierre Letouzey, Assia Mahboubi, Clément Pit-Claudel,
Laurence Rideau, Matthieu Sozeau, Paul Steckler, Enrico Tassi,
Laurent Théry, Nikita Zyuzin.</p></li>
<li><p>Tools: experimental <code class="docutils literal notranslate"><span class="pre">-mangle-names</span></code> option to <code class="docutils literal notranslate"><span class="pre">coqtop</span></code>/<code class="docutils literal notranslate"><span class="pre">coqc</span></code> for
linting proof scripts, by Jasper Hugunin.</p></li>
</ul>
<p>On the implementation side, the <code class="docutils literal notranslate"><span class="pre">dev/doc/changes.md</span></code> file
documents the numerous changes to the implementation and improvements of
interfaces. The file provides guidelines on porting a plugin to the new
version.</p>
<p>Version 8.8 also comes with a bunch of smaller-scale changes and
improvements regarding the different components of the system.
Most important ones are documented in the next subsection file.</p>
<p>The efficiency of the whole system has seen improvements thanks to
contributions from Gaëtan Gilbert, Pierre-Marie Pédrot, Maxime Dénès and
Matthieu Sozeau and performance issue tracking by Jason Gross and Paul
Steckler.</p>
<p>The official wiki and the bugtracker of Coq migrated to the GitHub
platform, thanks to the work of Pierre Letouzey and Théo
Zimmermann. Gaëtan Gilbert, Emilio Jesús Gallego Arias worked on
maintaining and improving the continuous integration system.</p>
<p>The opam repository for Coq packages has been maintained by Guillaume
Melquiond, Matthieu Sozeau, Enrico Tassi with contributions from many
users. A list of packages is available at <a class="reference external" href="https://coq.inria.fr/opam/www/">https://coq.inria.fr/opam/www/</a>.</p>
<p>The 44 contributors for this version are Yves Bertot, Joachim Breitner, Tej
Chajed, Arthur Charguéraud, Jacques-Pascal Deplaix, Maxime Dénès, Jim Fehrle,
Julien Forest, Yannick Forster, Gaëtan Gilbert, Jason Gross, Samuel Gruetter,
Thomas Hebb, Hugo Herbelin, Jasper Hugunin, Emilio Jesus Gallego Arias, Ralf
Jung, Johannes Kloos, Matej Košík, Robbert Krebbers, Tony Beta Lambda, Vincent
Laporte, Peter LeFanu Lumsdaine, Pierre Letouzey, Farzon Lotfi, Cyprien Mangin,
Guillaume Melquiond, Raphaël Monat, Carl Patenaude Poulin, Pierre-Marie Pédrot,
Clément Pit-Claudel, Matthew Ryan, Matt Quinn, Sigurd Schneider, Bernhard
Schommer, Michael Soegtrop, Matthieu Sozeau, Arnaud Spiwack, Paul Steckler,
Enrico Tassi, Anton Trunov, Martin Vassor, Vadim Zaliva and Théo Zimmermann.</p>
<p>Version 8.8 is the third release of Coq developed on a time-based
development cycle. Its development spanned 6 months from the release of
Coq 8.7 and was based on a public roadmap. The development process
was coordinated by Matthieu Sozeau. Maxime Dénès was in charge of the
release process. Théo Zimmermann is the maintainer of this release.</p>
<p>Many power users helped to improve the design of the new features via
the bug tracker, the pull request system, the Coq development mailing
list or the <a class="reference external" href="mailto:coq-club&#37;&#52;&#48;inria&#46;fr">coq-club<span>&#64;</span>inria<span>&#46;</span>fr</a> mailing list. Special thanks to the users who
contributed patches and intensive brain-storming and code reviews,
starting with Jason Gross, Ralf Jung, Robbert Krebbers and Amin Timany.
It would however be impossible to mention exhaustively the names
of everybody who to some extent influenced the development.</p>
<p>The Coq consortium, an organization directed towards users and
supporters of the system, is now running and employs Maxime Dénès.
The contacts of the Coq Consortium are Yves Bertot and Maxime Dénès.</p>
<div class="line-block">
<div class="line">Santiago de Chile, March 2018,</div>
<div class="line">Matthieu Sozeau for the Coq development team</div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="details-of-changes-in-8-8-beta1">
<h3>Details of changes in 8.8+beta1<a class="headerlink" href="#details-of-changes-in-8-8-beta1" title="Permalink to this headline">¶</a></h3>
<p>Kernel</p>
<ul class="simple">
<li><p>Support for template polymorphism for definitions was removed. May trigger
more &quot;universe inconsistency&quot; errors in rare occasions.</p></li>
<li><p>Fixpoints are no longer allowed on non-recursive inductive types.</p></li>
</ul>
<p>Notations</p>
<ul class="simple">
<li><p>Recursive notations with the recursive pattern repeating on the
right (e.g. &quot;( x ; .. ; y ; z )&quot;) now supported.</p></li>
<li><p>Notations with a specific level for the leftmost nonterminal,
when printing-only, are supported.</p></li>
<li><p>Notations can now refer to the syntactic category of patterns (as in
&quot;fun 'pat =&gt;&quot; or &quot;match p with pat =&gt; ... end&quot;). Two variants are
available, depending on whether a single variable is considered as a
pattern or not.</p></li>
<li><p>Recursive notations now support &quot;..&quot; patterns with several
occurrences of the recursive term or binder, possibly mixing terms
and binders, possibly in reverse left-to-right order.</p></li>
<li><p>&quot;Locate&quot; now working also on notations of the form &quot;x + y&quot; (rather
than &quot;_ + _&quot;).</p></li>
</ul>
<p>Specification language</p>
<ul class="simple">
<li><p>When printing clauses of a &quot;match&quot;, clauses with same right-hand
side are factorized and the last most factorized clause with no
variables, if it exists, is turned into a default clause.
Use &quot;Unset Printing Allow Default Clause&quot; do deactivate printing
of a default clause.
Use &quot;Unset Printing Factorizable Match Patterns&quot; to deactivate
factorization of clauses with same right-hand side.</p></li>
</ul>
<p>Tactics</p>
<ul class="simple">
<li><p>On Linux, &quot;native_compute&quot; calls can be profiled using the &quot;perf&quot;
utility. The command &quot;Set NativeCompute Profiling&quot; enables
profiling, and &quot;Set NativeCompute Profile Filename&quot; customizes
the profile filename.</p></li>
<li><p>The tactic &quot;omega&quot; is now aware of the bodies of context variables
such as &quot;x := 5 : Z&quot; (see #1362). This could be disabled via
Unset Omega UseLocalDefs.</p></li>
<li><p>The tactic &quot;romega&quot; is also aware now of the bodies of context variables.</p></li>
<li><p>The tactic &quot;zify&quot; resp. &quot;omega with N&quot; is now aware of N.pred.</p></li>
<li><p>Tactic &quot;decide equality&quot; now able to manage constructors which
contain proofs.</p></li>
<li><p>Added tactics reset ltac profile, show ltac profile (and variants)</p></li>
<li><p>Added tactics restart_timer, finish_timing, and time_constr as an
experimental way of timing Ltac's evaluation phase</p></li>
<li><p>Added tactic optimize_heap, analogous to the Vernacular Optimize
Heap, which performs a major garbage collection and heap compaction
in the OCaml run-time system.</p></li>
<li><p>The tactics &quot;dtauto&quot;, &quot;dintuition&quot;, &quot;firstorder&quot; now handle inductive types
with let bindings in the parameters.</p></li>
<li><p>The tactic <code class="docutils literal notranslate"><span class="pre">dtauto</span></code> now handles some inductives such as
<code class="docutils literal notranslate"><span class="pre">&#64;sigT</span> <span class="pre">A</span> <span class="pre">(fun</span> <span class="pre">_</span> <span class="pre">=&gt;</span> <span class="pre">B)</span></code> as non-dependent conjunctions.</p></li>
<li><p>A bug fixed in <code class="docutils literal notranslate"><span class="pre">rewrite</span> <span class="pre">H</span> <span class="pre">in</span> <span class="pre">*</span></code> and <code class="docutils literal notranslate"><span class="pre">rewrite</span> <span class="pre">H</span> <span class="pre">in</span> <span class="pre">*</span> <span class="pre">|-</span></code> may cause a
few rare incompatibilities (it was unintendedly recursively
rewriting in the side conditions generated by H).</p></li>
<li><p>Added tactics &quot;assert_succeeds tac&quot; and &quot;assert_fails tac&quot; to ensure
properties of the execution of a tactic without keeping the effect
of the execution.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vm_compute</span></code> now supports existential variables.</p></li>
<li><p>Calls to <code class="docutils literal notranslate"><span class="pre">shelve</span></code> and <code class="docutils literal notranslate"><span class="pre">give_up</span></code> within calls to tactic <code class="docutils literal notranslate"><span class="pre">refine</span></code> now working.</p></li>
<li><p>Deprecated tactic <code class="docutils literal notranslate"><span class="pre">appcontext</span></code> was removed.</p></li>
</ul>
<p>Focusing</p>
<ul class="simple">
<li><p>Focusing bracket <code class="docutils literal notranslate"><span class="pre">{</span></code> now supports single-numbered goal selector,
e.g. <code class="docutils literal notranslate"><span class="pre">2:</span> <span class="pre">{</span></code> will focus on the second subgoal. As usual, unfocus
with <code class="docutils literal notranslate"><span class="pre">}</span></code> once the subgoal is fully solved.
The <code class="docutils literal notranslate"><span class="pre">Focus</span></code> and <code class="docutils literal notranslate"><span class="pre">Unfocus</span></code> commands are now deprecated.</p></li>
</ul>
<p>Commands</p>
<ul class="simple">
<li><p>Proofs ending in &quot;Qed exporting ident, .., ident&quot; are not supported
anymore. Constants generated during <code class="docutils literal notranslate"><span class="pre">abstract</span></code> are kept private to the
local environment.</p></li>
<li><p>The deprecated Coercion Local, Open Local Scope, Notation Local syntax
was removed. Use Local as a prefix instead.</p></li>
<li><p>For the Extraction Language command, &quot;OCaml&quot; is spelled correctly.
The older &quot;Ocaml&quot; is still accepted, but deprecated.</p></li>
<li><p>Using “Require” inside a section is deprecated.</p></li>
<li><p>An experimental command &quot;Show Extraction&quot; allows to extract the content
of the current ongoing proof (grant wish #4129).</p></li>
<li><p>Coercion now accepts the type of its argument to be &quot;Prop&quot; or &quot;Type&quot;.</p></li>
<li><p>The &quot;Export&quot; modifier can now be used when setting and unsetting options, and
will result in performing the same change when the module corresponding the
command is imported.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Axiom</span></code> command does not automatically declare axioms as instances when
their type is a class. Previous behavior can be restored using <code class="docutils literal notranslate"><span class="pre">Set</span>
<span class="pre">Typeclasses</span> <span class="pre">Axioms</span> <span class="pre">Are</span> <span class="pre">Instances</span></code>.</p></li>
</ul>
<p>Universes</p>
<ul class="simple">
<li><p>Qualified naming of global universes now works like other namespaced
objects (e.g. constants), with a separate namespace, inside and across
module and library boundaries. Global universe names introduced in an
inductive / constant / Let declaration get qualified with the name of
the declaration.</p></li>
<li><p>Universe cumulativity for inductive types is now specified as a
variance for each polymorphic universe. See the reference manual for
more information.</p></li>
<li><p>Inference of universe constraints with cumulative inductive types
produces more general constraints. Unsetting new option Cumulativity
Weak Constraints produces even more general constraints (but may
produce too many universes to be practical).</p></li>
<li><p>Fix #5726: Notations that start with <code class="docutils literal notranslate"><span class="pre">Type</span></code> now support universe instances
with <code class="docutils literal notranslate"><span class="pre">&#64;{u}</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">Definition</span></code> now understands universe declarations
(like <code class="docutils literal notranslate"><span class="pre">&#64;{u|</span> <span class="pre">Set</span> <span class="pre">&lt;</span> <span class="pre">u}</span></code>).</p></li>
</ul>
<p>Tools</p>
<ul class="simple">
<li><p>Coq can now be run with the option -mangle-names to change the auto-generated
name scheme. This is intended to function as a linter for developments that
want to be robust to changes in auto-generated names. This feature is experimental,
and may change or disappear without warning.</p></li>
<li><p>GeoProof support was removed.</p></li>
</ul>
<p>Checker</p>
<ul class="simple">
<li><p>The checker now accepts filenames in addition to logical paths.</p></li>
</ul>
<p>CoqIDE</p>
<ul class="simple">
<li><p>Find and Replace All report the number of occurrences found; Find indicates
when it wraps.</p></li>
</ul>
<p>coqdep</p>
<ul class="simple">
<li><p>Learned to read -I, -Q, -R and filenames from _CoqProject files.
This is used by coq_makefile when generating dependencies for .v
files (but not other files).</p></li>
</ul>
<p>Documentation</p>
<ul class="simple">
<li><p>The Coq FAQ, formerly located at <a class="reference external" href="https://coq.inria.fr/faq">https://coq.inria.fr/faq</a>, has been
moved to the GitHub wiki section of this repository; the main entry
page is <a class="reference external" href="https://github.com/coq/coq/wiki/The-Coq-FAQ">https://github.com/coq/coq/wiki/The-Coq-FAQ</a>.</p></li>
<li><p>Documentation: a large community effort resulted in the migration
of the reference manual to the Sphinx documentation tool. The result
is partially integrated in this version.</p></li>
</ul>
<p>Standard Library</p>
<ul class="simple">
<li><p>New libraries Coq.Init.Decimal, Coq.Numbers.DecimalFacts,
Coq.Numbers.DecimalNat, Coq.Numbers.DecimalPos,
Coq.Numbers.DecimalN, Coq.Numbers.DecimalZ,
Coq.Numbers.DecimalString providing a type of decimal numbers, some
facts about them, and conversions between decimal numbers and nat,
positive, N, Z, and string.</p></li>
<li><p>Added [Coq.Strings.String.concat] to concatenate a list of strings
inserting a separator between each item</p></li>
<li><p>Notation <code class="docutils literal notranslate"><span class="pre">'</span></code> for Zpos in QArith was removed.</p></li>
<li><p>Some deprecated aliases are now emitting warnings when used.</p></li>
</ul>
<p>Compatibility support</p>
<ul class="simple">
<li><p>Support for compatibility with versions before 8.6 was dropped.</p></li>
</ul>
<p>Options</p>
<ul class="simple">
<li><p>The following deprecated options have been removed:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Refolding</span> <span class="pre">Reduction</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Standard</span> <span class="pre">Proposition</span> <span class="pre">Elimination</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Dependent</span> <span class="pre">Propositions</span> <span class="pre">Elimination</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Discriminate</span> <span class="pre">Introduction</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Shrink</span> <span class="pre">Abstract</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tactic</span> <span class="pre">Pattern</span> <span class="pre">Unification</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Intuition</span> <span class="pre">Iff</span> <span class="pre">Unfolding</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Injection</span> <span class="pre">L2R</span> <span class="pre">Pattern</span> <span class="pre">Order</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Record</span> <span class="pre">Elimination</span> <span class="pre">Schemes</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Match</span> <span class="pre">Strict</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tactic</span> <span class="pre">Compat</span> <span class="pre">Context</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Typeclasses</span> <span class="pre">Legacy</span> <span class="pre">Resolution</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Typeclasses</span> <span class="pre">Module</span> <span class="pre">Eta</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Typeclass</span> <span class="pre">Resolution</span> <span class="pre">After</span> <span class="pre">Apply</span></code></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="details-of-changes-in-8-8-0">
<h3>Details of changes in 8.8.0<a class="headerlink" href="#details-of-changes-in-8-8-0" title="Permalink to this headline">¶</a></h3>
<p>Tools</p>
<ul class="simple">
<li><p>Asynchronous proof delegation policy was fixed. Since version 8.7
Coq was ignoring previous runs and the <code class="docutils literal notranslate"><span class="pre">-async-proofs-delegation-threshold</span></code>
option did not have the expected behavior.</p></li>
</ul>
<p>Tactic language</p>
<ul class="simple">
<li><p>The undocumented &quot;nameless&quot; forms <code class="docutils literal notranslate"><span class="pre">fix</span> <span class="pre">N</span></code>, <code class="docutils literal notranslate"><span class="pre">cofix</span></code> have been
deprecated; please use <code class="docutils literal notranslate"><span class="pre">fix</span> <span class="pre">ident</span> <span class="pre">N</span> <span class="pre">/cofix</span> <span class="pre">ident</span></code> to explicitly
name the (co)fixpoint hypothesis to be introduced.</p></li>
</ul>
<p>Documentation</p>
<ul class="simple">
<li><p>The reference manual is now fully ported to Sphinx.</p></li>
</ul>
<p>Other small deprecations and bug fixes.</p>
</div>
<div class="section" id="details-of-changes-in-8-8-1">
<h3>Details of changes in 8.8.1<a class="headerlink" href="#details-of-changes-in-8-8-1" title="Permalink to this headline">¶</a></h3>
<p>Kernel</p>
<ul class="simple">
<li><p>Fix a critical bug with cofixpoints and <code class="docutils literal notranslate"><span class="pre">vm_compute</span></code>/<code class="docutils literal notranslate"><span class="pre">native_compute</span></code> (#7333).</p></li>
<li><p>Fix a critical bug with modules and algebraic universes (#7695)</p></li>
<li><p>Fix a critical bug with inlining of polymorphic constants (#7615).</p></li>
<li><p>Fix a critical bug with universe polymorphism and <code class="docutils literal notranslate"><span class="pre">vm_compute</span></code> (#7723). Was
present since 8.5.</p></li>
</ul>
<p>Notations</p>
<ul class="simple">
<li><p>Fixed unexpected collision between only-parsing and only-printing
notations (issue #7462).</p></li>
</ul>
<p>Windows installer</p>
<ul class="simple">
<li><p>The Windows installer now includes external packages Ltac2 and Equations
(it included the Bignums package since 8.8+beta1).</p></li>
</ul>
<p>Many other bug fixes, documentation improvements (including fixes of
regressions due to the Sphinx migration), and user message improvements
(for details, see the 8.8.1 milestone at
<a class="reference external" href="https://github.com/coq/coq/milestone/13?closed=1">https://github.com/coq/coq/milestone/13?closed=1</a>).</p>
</div>
<div class="section" id="details-of-changes-in-8-8-2">
<h3>Details of changes in 8.8.2<a class="headerlink" href="#details-of-changes-in-8-8-2" title="Permalink to this headline">¶</a></h3>
<p>Documentation</p>
<ul class="simple">
<li><p>A PDF version of the reference manual is available once again.</p></li>
</ul>
<p>Tools</p>
<ul class="simple">
<li><p>The coq-makefile targets <code class="docutils literal notranslate"><span class="pre">print-pretty-timed</span></code>, <code class="docutils literal notranslate"><span class="pre">print-pretty-timed-diff</span></code>,
and <code class="docutils literal notranslate"><span class="pre">print-pretty-single-time-diff</span></code> now correctly label the &quot;before&quot; and
&quot;after&quot; columns, rather than swapping them.</p></li>
</ul>
<p>Kernel</p>
<ul class="simple">
<li><p>The kernel does not tolerate capture of global universes by
polymorphic universe binders, fixing a soundness break (triggered
only through custom plugins)</p></li>
</ul>
<p>Windows installer</p>
<ul class="simple">
<li><p>The Windows installer now includes many more external packages that can be
individually selected for installation.</p></li>
</ul>
<p>Many other bug fixes and lots of documentation improvements (for details,
see the 8.8.2 milestone at <a class="reference external" href="https://github.com/coq/coq/milestone/15?closed=1">https://github.com/coq/coq/milestone/15?closed=1</a>).</p>
</div>
</div>
<div class="section" id="version-8-7">
<h2>Version 8.7<a class="headerlink" href="#version-8-7" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1498">
<h3>Summary of changes<a class="headerlink" href="#id1498" title="Permalink to this headline">¶</a></h3>
<p>Coq version 8.7 contains the result of refinements, stabilization of features
and cleanups of the internals of the system along with a few new features. The
main user visible changes are:</p>
<ul class="simple">
<li><p>New tactics: variants of tactics supporting existential variables <a class="reference internal" href="proof-engine/tactics.html#coq:tacn.eassert" title="eassert"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">eassert</span></code></a>,
<a class="reference internal" href="proof-engine/tactics.html#coq:tacn.eenough" title="eenough"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">eenough</span></code></a>, etc... by Hugo Herbelin. Tactics <code class="docutils literal notranslate"><span class="pre">extensionality</span> <span class="pre">in</span> <span class="pre">H</span></code> and
<a class="reference internal" href="proofs/writing-proofs/reasoning-inductives.html#coq:tacn.inversion_sigma" title="inversion_sigma"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">inversion_sigma</span></code></a> by Jason Gross, <code class="docutils literal notranslate"><span class="pre">specialize</span> <span class="pre">with</span> <span class="pre">...</span></code> accepting partial bindings
by Pierre Courtieu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Cumulative</span> <span class="pre">Polymorphic</span> <span class="pre">Inductive</span></code> types, allowing cumulativity of universes to
go through applied inductive types, by Amin Timany and Matthieu Sozeau.</p></li>
<li><p>Integration of the SSReflect plugin and its documentation in the reference
manual, by Enrico Tassi, Assia Mahboubi and Maxime Dénès.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">coq_makefile</span></code> tool was completely redesigned to improve its maintainability
and the extensibility of generated Makefiles, and to make <code class="docutils literal notranslate"><span class="pre">_CoqProject</span></code> files
more palatable to IDEs by Enrico Tassi.</p></li>
</ul>
<p>Coq 8.7 involved a large amount of work on cleaning and speeding up the code
base, notably the work of Pierre-Marie Pédrot on making the tactic-level system
insensitive to existential variable expansion, providing a safer API to plugin
writers and making the code more robust. The <code class="docutils literal notranslate"><span class="pre">dev/doc/changes.txt</span></code> file
documents the numerous changes to the implementation and improvements of
interfaces. An effort to provide an official, streamlined API to plugin writers
is in progress, thanks to the work of Matej Košík.</p>
<p>Version 8.7 also comes with a bunch of smaller-scale changes and improvements
regarding the different components of the system. We shall only list a few of
them.</p>
<p>The efficiency of the whole system has been significantly improved thanks to
contributions from Pierre-Marie Pédrot, Maxime Dénès and Matthieu Sozeau and
performance issue tracking by Jason Gross and Paul Steckler.</p>
<p>Thomas Sibut-Pinote and Hugo Herbelin added support for side effect hooks in
cbv, cbn and simpl. The side effects are provided via a plugin available at
<a class="reference external" href="https://github.com/herbelin/reduction-effects/">https://github.com/herbelin/reduction-effects/</a>.</p>
<p>The BigN, BigZ, BigQ libraries are no longer part of the Coq standard library,
they are now provided by a separate repository <a class="reference external" href="https://github.com/coq/bignums">https://github.com/coq/bignums</a>,
maintained by Pierre Letouzey.</p>
<p>In the Reals library, <code class="docutils literal notranslate"><span class="pre">IZR</span></code> has been changed to produce a compact representation
of integers and real constants are now represented using <code class="docutils literal notranslate"><span class="pre">IZR</span></code> (work by
Guillaume Melquiond).</p>
<p>Standard library additions and improvements by Jason Gross, Pierre Letouzey and
others, documented in the next subsection file.</p>
<p>The mathematical proof language/declarative mode plugin was removed from the
archive.</p>
<p>The opam repository for Coq packages has been maintained by Guillaume Melquiond,
Matthieu Sozeau, Enrico Tassi with contributions from many users. A list of
packages is available at <a class="reference external" href="https://coq.inria.fr/opam/www/">https://coq.inria.fr/opam/www/</a>.</p>
<p>Packaging tools and software development kits were prepared by Michael Soegtrop
with the help of Maxime Dénès and Enrico Tassi for Windows, and Maxime Dénès for
MacOS X. Packages are regularly built on the Travis continuous integration
server.</p>
<p>The contributors for this version are Abhishek Anand, C.J. Bell, Yves Bertot,
Frédéric Besson, Tej Chajed, Pierre Courtieu, Maxime Dénès, Julien Forest,
Gaëtan Gilbert, Jason Gross, Hugo Herbelin, Emilio Jesús Gallego Arias, Ralf
Jung, Matej Košík, Xavier Leroy, Pierre Letouzey, Assia Mahboubi, Cyprien
Mangin, Erik Martin-Dorel, Olivier Marty, Guillaume Melquiond, Sam Pablo Kuper,
Benjamin Pierce, Pierre-Marie Pédrot, Lars Rasmusson, Lionel Rieg, Valentin
Robert, Yann Régis-Gianas, Thomas Sibut-Pinote, Michael Soegtrop, Matthieu
Sozeau, Arnaud Spiwack, Paul Steckler, George Stelle, Pierre-Yves Strub, Enrico
Tassi, Hendrik Tews, Amin Timany, Laurent Théry, Vadim Zaliva and Théo
Zimmermann.</p>
<p>The development process was coordinated by Matthieu Sozeau with the help of
Maxime Dénès, who was also in charge of the release process. Théo Zimmermann is
the maintainer of this release.</p>
<p>Many power users helped to improve the design of the new features via the bug
tracker, the pull request system, the Coq development mailing list or the
Coq-Club mailing list. Special thanks to the users who contributed patches and
intensive brain-storming and code reviews, starting with Jason Gross, Ralf Jung,
Robbert Krebbers, Xavier Leroy, Clément Pit–Claudel and Gabriel Scherer. It
would however be impossible to mention exhaustively the names of everybody who
to some extent influenced the development.</p>
<p>Version 8.7 is the second release of Coq developed on a time-based development
cycle. Its development spanned 9 months from the release of Coq 8.6 and was
based on a public road-map. It attracted many external contributions. Code
reviews and continuous integration testing were systematically used before
integration of new features, with an important focus given to compatibility and
performance issues, resulting in a hopefully more robust release than Coq 8.6
while maintaining compatibility.</p>
<p>Coq Enhancement Proposals (CEPs for short) and open pull request discussions
were used to discuss publicly the new features.</p>
<p>The Coq consortium, an organization directed towards users and supporters of the
system, is now upcoming and will rely on Inria’s newly created Foundation.</p>
<div class="line-block">
<div class="line">Paris, August 2017,</div>
<div class="line">Matthieu Sozeau and the Coq development team</div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="potential-compatibility-issues">
<h3>Potential compatibility issues<a class="headerlink" href="#potential-compatibility-issues" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Extra superfluous names in introduction patterns may now raise an
error rather than a warning when the superfluous name is already in
use. The easy fix is to remove the superfluous name.</p></li>
</ul>
</div>
<div class="section" id="details-of-changes-in-8-7-beta1">
<h3>Details of changes in 8.7+beta1<a class="headerlink" href="#details-of-changes-in-8-7-beta1" title="Permalink to this headline">¶</a></h3>
<p>Tactics</p>
<ul class="simple">
<li><p>New tactic &quot;extensionality in H&quot; which applies (possibly dependent)
functional extensionality in H supposed to be a quantified equality
until giving a bare equality.</p></li>
<li><p>New tactic <code class="docutils literal notranslate"><span class="pre">inversion_sigma</span></code> which turns equalities of dependent
pairs (e.g., <code class="docutils literal notranslate"><span class="pre">existT</span> <span class="pre">P</span> <span class="pre">x</span> <span class="pre">p</span> <span class="pre">=</span> <span class="pre">existT</span> <span class="pre">P</span> <span class="pre">y</span> <span class="pre">q</span></code>, frequently left over by
<code class="docutils literal notranslate"><span class="pre">inversion</span></code> on a dependent type family) into pairs of equalities
(e.g., a hypothesis <code class="docutils literal notranslate"><span class="pre">H</span> <span class="pre">:</span> <span class="pre">x</span> <span class="pre">=</span> <span class="pre">y</span></code> and a hypothesis of type <code class="docutils literal notranslate"><span class="pre">rew</span> <span class="pre">H</span> <span class="pre">in</span> <span class="pre">p</span> <span class="pre">=</span> <span class="pre">q</span></code>);
these hypotheses can subsequently be simplified using
<code class="docutils literal notranslate"><span class="pre">subst</span></code>, without ever invoking any kind of axiom asserting
uniqueness of identity proofs. If you want to explicitly specify the
hypothesis to be inverted, or name the generated hypotheses, you can
invoke <code class="docutils literal notranslate"><span class="pre">induction</span> <span class="pre">H</span> <span class="pre">as</span> <span class="pre">[H1</span> <span class="pre">H2]</span> <span class="pre">using</span> <span class="pre">eq_sigT_rect</span></code>.  The tactic also
works for <code class="docutils literal notranslate"><span class="pre">sig</span></code>, <code class="docutils literal notranslate"><span class="pre">sigT2</span></code>, and <code class="docutils literal notranslate"><span class="pre">sig2</span></code>, and there are similar
<code class="docutils literal notranslate"><span class="pre">eq_sig*_rect</span></code> induction lemmas.</p></li>
<li><p>Tactic &quot;specialize with ...&quot; now accepts any partial bindings.
Missing bindings are either solved by unification or left quantified
in the hypothesis.</p></li>
<li><p>New representation of terms that statically ensure stability by
evar-expansion. This has several consequences.</p>
<ul>
<li><p>In terms of performance, this adds a cost to every term destructuration,
but at the same time most eager evar normalizations were removed, which
couterbalances this drawback and even sometimes outperforms the old
implementation. For instance, many operations that would require O(n)
normalization of the term are now O(1) in tactics. YMMV.</p></li>
<li><p>This triggers small changes in unification, which was not evar-insensitive.
Most notably, the new implementation recognizes Miller patterns that were
missed before because of a missing normalization step. Hopefully this should
be fairly uncommon.</p></li>
</ul>
</li>
<li><p>Tactic &quot;auto with real&quot; can now discharge comparisons of literals.</p></li>
<li><p>The types of variables in patterns of &quot;match&quot; are now
beta-iota-reduced after type checking. This has an impact on the
type of the variables that the tactic &quot;refine&quot; introduces in the
context, producing types that should be closer to the expectations.</p></li>
<li><p>In &quot;Tactic Notation&quot; or &quot;TACTIC EXTEND&quot;, entry &quot;constr_with_bindings&quot;
now uses type classes and rejects terms with unresolved holes, like
entry &quot;constr&quot; does. To get the former behavior use
&quot;open_constr_with_bindings&quot; (possible source of incompatibility).</p></li>
<li><p>New e-variants eassert, eenough, epose proof, eset, eremember, epose
which behave like the corresponding variants with no &quot;e&quot; but turn
unresolved implicit arguments into existential variables, on the
shelf, rather than failing.</p></li>
<li><p>Tactic injection has become more powerful (closes bug #4890) and its
documentation has been updated.</p></li>
<li><p>New variants of the <code class="docutils literal notranslate"><span class="pre">first</span></code> and <code class="docutils literal notranslate"><span class="pre">solve</span></code> tacticals that do not rely
on parsing rules, meant to define tactic notations.</p></li>
<li><p>Added support for side effects hooks in <code class="docutils literal notranslate"><span class="pre">cbv</span></code>, <code class="docutils literal notranslate"><span class="pre">cbn</span></code> and <code class="docutils literal notranslate"><span class="pre">simpl</span></code>.
The side effects are provided via a plugin:
<a class="reference external" href="https://github.com/herbelin/reduction-effects/">https://github.com/herbelin/reduction-effects/</a></p></li>
<li><p>It is now possible to take hint database names as parameters in a
Ltac definition or a Tactic Notation.</p></li>
<li><p>New option <code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">Ltac</span> <span class="pre">Batch</span> <span class="pre">Debug</span></code> on top of <code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">Ltac</span> <span class="pre">Debug</span></code> for
non-interactive Ltac debug output.</p></li>
</ul>
<p>Gallina</p>
<ul class="simple">
<li><p>Now supporting all kinds of binders, including 'pat, in syntax of record fields.</p></li>
</ul>
<p>Commands</p>
<ul class="simple">
<li><p>Goals context can be printed in a more compact way when <code class="docutils literal notranslate"><span class="pre">Set</span>
<span class="pre">Printing</span> <span class="pre">Compact</span> <span class="pre">Contexts</span></code> is activated.</p></li>
<li><p>Unfocused goals can be printed with the <code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">Printing</span> <span class="pre">Unfocused</span></code>
option.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Print</span></code> now shows the types of let-bindings.</p></li>
<li><p>The compatibility options for printing primitive projections
(<code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">Printing</span> <span class="pre">Primitive</span> <span class="pre">Projection</span> <span class="pre">Parameters</span></code> and
<code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">Printing</span> <span class="pre">Primitive</span> <span class="pre">Projection</span> <span class="pre">Compatibility</span></code>) are now off by default.</p></li>
<li><p>Possibility to unset the printing of notations in a more fine grained
fashion than <code class="docutils literal notranslate"><span class="pre">Unset</span> <span class="pre">Printing</span> <span class="pre">Notations</span></code> is provided without any
user-syntax. The goal is that someone creates a plugin to experiment
such a user-syntax, to be later integrated in Coq when stabilized.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">About</span></code> now tells if a reference is a coercion.</p></li>
<li><p>The deprecated <code class="docutils literal notranslate"><span class="pre">Save</span></code> vernacular and its form <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">Theorem</span> <span class="pre">id</span></code> to
close proofs have been removed from the syntax. Please use <code class="docutils literal notranslate"><span class="pre">Qed</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Search</span></code> now sorts results by relevance (the relevance metric is a
weighted sum of number of distinct symbols and size of the term).</p></li>
</ul>
<p>Standard Library</p>
<ul class="simple">
<li><p>New file PropExtensionality.v to explicitly work in the axiomatic
context of propositional extensionality.</p></li>
<li><p>New file SetoidChoice.v axiomatically providing choice over setoids,
and, consequently, choice of representatives in equivalence classes.
Various proof-theoretic characterizations of choice over setoids in
file ChoiceFacts.v.</p></li>
<li><p>New lemmas about iff and about orders on positive and Z.</p></li>
<li><p>New lemmas on powerRZ.</p></li>
<li><p>Strengthened statement of JMeq_eq_dep (closes bug #4912).</p></li>
<li><p>The BigN, BigZ, BigZ libraries are no longer part of the Coq standard
library, they are now provided by a separate repository
<a class="reference external" href="https://github.com/coq/bignums">https://github.com/coq/bignums</a>
The split has been done just after the Int31 library.</p></li>
<li><p>IZR (Reals) has been changed to produce a compact representation of
integers. As a consequence, IZR is no longer convertible to INR and
lemmas such as INR_IZR_INZ should be used instead.</p></li>
<li><p>Real constants are now represented using IZR rather than R0 and R1;
this might cause rewriting rules to fail to apply to constants.</p></li>
<li><p>Added new notation {x &amp; P} for sigT (without a type for x)</p></li>
</ul>
<p>Plugins</p>
<ul class="simple">
<li><p>The Ssreflect plugin is now distributed with Coq. Its documentation has
been integrated as a chapter of the reference manual. This chapter is
work in progress so feedback is welcome.</p></li>
<li><p>The mathematical proof language (also known as declarative mode) was removed.</p></li>
<li><p>A new command Extraction TestCompile has been introduced, not meant
for the general user but instead for Coq's test-suite.</p></li>
<li><p>The extraction plugin is no longer loaded by default. It must be
explicitly loaded with [Require Extraction], which is backwards
compatible.</p></li>
<li><p>The functional induction plugin (which provides the [Function]
vernacular) is no longer loaded by default. It must be explicitly
loaded with [Require FunInd], which is backwards compatible.</p></li>
</ul>
<p>Dependencies</p>
<ul class="simple">
<li><p>Support for camlp4 has been removed.</p></li>
</ul>
<p>Tools</p>
<ul>
<li><p>coq_makefile was completely redesigned to improve its maintainability and
the extensibility of generated Makefiles, and to make _CoqProject files
more palatable to IDEs.  Overview:</p>
<ul class="simple">
<li><p>_CoqProject files contain only Coq specific data (i.e. the list of
files, -R options, ...)</p></li>
<li><p>coq_makefile translates _CoqProject to Makefile.conf and copies in the
desired location a standard Makefile (that reads Makefile.conf)</p></li>
<li><p>Makefile extensions can be implemented in a Makefile.local file (read
by the main Makefile) by installing a hook in the extension points
provided by the standard Makefile</p></li>
</ul>
<p>The current version contains code for retro compatibility that prints
warnings when a deprecated feature is used.  Please upgrade your _CoqProject
accordingly.</p>
<ul class="simple">
<li><p>Additionally, coq_makefile-made Makefiles now support experimental timing
targets <code class="docutils literal notranslate"><span class="pre">pretty-timed</span></code>, <code class="docutils literal notranslate"><span class="pre">pretty-timed-before</span></code>, <code class="docutils literal notranslate"><span class="pre">pretty-timed-after</span></code>,
<code class="docutils literal notranslate"><span class="pre">print-pretty-timed-diff</span></code>, <code class="docutils literal notranslate"><span class="pre">print-pretty-single-time-diff</span></code>,
<code class="docutils literal notranslate"><span class="pre">all.timing.diff</span></code>, and the variable <code class="docutils literal notranslate"><span class="pre">TIMING=1</span></code> (or <code class="docutils literal notranslate"><span class="pre">TIMING=before</span></code> or
<code class="docutils literal notranslate"><span class="pre">TIMING=after</span></code>); see the documentation for more details.</p></li>
</ul>
</li>
</ul>
<p>Build Infrastructure</p>
<ul class="simple">
<li><p>Note that 'make world' does not build the bytecode binaries anymore.
For that, you can use 'make byte' (and 'make install-byte' afterwards).
Warning: native and byte compilations should <em>not</em> be mixed in the same
instance of 'make -j', otherwise both ocamlc and ocamlopt might race for
access to the same .cmi files. In short, use &quot;make -j &amp;&amp; make -j byte&quot;
instead of &quot;make -j world byte&quot;.</p></li>
</ul>
<p>Universes</p>
<ul class="simple">
<li><p>Cumulative inductive types. see prefixes &quot;Cumulative&quot;, &quot;NonCumulative&quot;
for inductive definitions and the option &quot;Set Polymorphic Inductive Cumulativity&quot;
in the reference manual.</p></li>
<li><p>New syntax <code class="docutils literal notranslate"><span class="pre">foo&#64;{_}</span></code> to instantiate a polymorphic definition with
anonymous universes (can also be used with <code class="docutils literal notranslate"><span class="pre">Type</span></code>).</p></li>
</ul>
<p>XML Protocol and internal changes</p>
<p>See dev/doc/changes.txt</p>
<p>Many bugfixes including #1859, #2884, #3613, #3943, #3994,
#4250, #4709, #4720, #4824, #4844, #4911, #5026, #5233,
#5275, #5315, #5336, #5360, #5390, #5414, #5417, #5420,
#5439, #5449, #5475, #5476, #5482, #5501, #5507, #5520,
#5523, #5524, #5553, #5577, #5578, #5589, #5597, #5598,
#5607, #5618, #5619, #5620, #5641, #5648, #5651, #5671.</p>
<p>Many bugfixes on OS X and Windows (now the test-suite passes on these
platforms too).</p>
<p>Many optimizations.</p>
<p>Many documentation improvements.</p>
</div>
<div class="section" id="details-of-changes-in-8-7-beta2">
<h3>Details of changes in 8.7+beta2<a class="headerlink" href="#details-of-changes-in-8-7-beta2" title="Permalink to this headline">¶</a></h3>
<p>Tools</p>
<ul class="simple">
<li><p>In CoqIDE, the &quot;Compile Buffer&quot; command takes account of flags in
_CoqProject or other project file.</p></li>
</ul>
<p>Improvements around some error messages.</p>
<p>Many bug fixes including two important ones:</p>
<ul class="simple">
<li><p>Bug #5730: CoqIDE becomes unresponsive on file open.</p></li>
<li><p>coq_makefile: make sure compile flags for Coq and coq_makefile are in sync
(in particular, make sure the <code class="docutils literal notranslate"><span class="pre">-safe-string</span></code> option is used to compile plugins).</p></li>
</ul>
</div>
<div class="section" id="details-of-changes-in-8-7-0">
<h3>Details of changes in 8.7.0<a class="headerlink" href="#details-of-changes-in-8-7-0" title="Permalink to this headline">¶</a></h3>
<p>OCaml</p>
<ul>
<li><p>Users can pass specific flags to the OCaml optimizing compiler by
-using the flambda-opts configure-time option.</p>
<p>Beware that compiling Coq with a flambda-enabled compiler is
experimental and may require large amounts of RAM and CPU, see
INSTALL for more details.</p>
</li>
</ul>
</div>
<div class="section" id="details-of-changes-in-8-7-1">
<h3>Details of changes in 8.7.1<a class="headerlink" href="#details-of-changes-in-8-7-1" title="Permalink to this headline">¶</a></h3>
<p>Compatibility with OCaml 4.06.0.</p>
<p>Many bug fixes, documentation improvements, and user message improvements (for
details see the 8.7.1 milestone at <a class="reference external" href="https://github.com/coq/coq/milestone/10?closed=1">https://github.com/coq/coq/milestone/10?closed=1</a>).</p>
</div>
<div class="section" id="details-of-changes-in-8-7-2">
<h3>Details of changes in 8.7.2<a class="headerlink" href="#details-of-changes-in-8-7-2" title="Permalink to this headline">¶</a></h3>
<p>Fixed a critical bug in the VM handling of universes (#6677). This bug
affected all releases since 8.5.</p>
<p>Improved support for building with OCaml 4.06.0 and external num package.</p>
<p>Many other bug fixes, documentation improvements, and user
message improvements (for details, see the 8.7.2 milestone at
<a class="reference external" href="https://github.com/coq/coq/milestone/11?closed=1">https://github.com/coq/coq/milestone/11?closed=1</a>).</p>
</div>
</div>
<div class="section" id="version-8-6">
<h2>Version 8.6<a class="headerlink" href="#version-8-6" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1499">
<h3>Summary of changes<a class="headerlink" href="#id1499" title="Permalink to this headline">¶</a></h3>
<p>Coq version 8.6 contains the result of refinements, stabilization of
8.5’s features and cleanups of the internals of the system. Over the
year of (now time-based) development, about 450 bugs were resolved and
over 100 contributions integrated. The main user visible changes are:</p>
<ul class="simple">
<li><p>A new, faster state-of-the-art universe constraint checker, by
Jacques-Henri Jourdan.</p></li>
<li><p>In CoqIDE and other asynchronous interfaces, more fine-grained
asynchronous processing and error reporting by Enrico Tassi, making
Coq capable of recovering from errors and continue processing the
document.</p></li>
<li><p>More access to the proof engine features from Ltac: goal management
primitives, range selectors and a <a class="reference internal" href="addendum/type-classes.html#coq:tacn.typeclasses-eauto" title="typeclasses eauto"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">typeclasses</span> <span class="pre">eauto</span></code></a> engine handling
multiple goals and multiple successes, by Cyprien Mangin, Matthieu
Sozeau and Arnaud Spiwack.</p></li>
<li><p>Tactic behavior uniformization and specification, generalization of
intro-patterns by Hugo Herbelin and others.</p></li>
<li><p>A brand new warning system allowing to control warnings, turn them
into errors or ignore them selectively by Maxime Dénès, Guillaume
Melquiond, Pierre-Marie Pédrot and others.</p></li>
<li><p>Irrefutable patterns in abstractions, by Daniel de Rauglaudre.</p></li>
<li><p>The ssreflect subterm selection algorithm by Georges Gonthier and
Enrico Tassi is now accessible to tactic writers through the
ssrmatching plugin.</p></li>
<li><p>Integration of LtacProf, a profiler for Ltac by Jason Gross, Paul
Steckler, Enrico Tassi and Tobias Tebbi.</p></li>
</ul>
<p>Coq 8.6 also comes with a bunch of smaller-scale changes and
improvements regarding the different components of the system. We shall
only list a few of them.</p>
<p>The iota reduction flag is now a shorthand for match, fix and cofix
flags controlling the corresponding reduction rules (by Hugo Herbelin
and Maxime Dénès).</p>
<p>Maxime Dénès maintained the native compilation machinery.</p>
<p>Pierre-Marie Pédrot separated the Ltac code from general purpose
tactics, and generalized and rationalized the handling of generic
arguments, allowing to create new versions of Ltac more easily in the
future.</p>
<p>In patterns and terms, &#64;, abbreviations and notations are now
interpreted the same way, by Hugo Herbelin.</p>
<p>Name handling for universes has been improved by Pierre-Marie Pédrot and
Matthieu Sozeau. The minimization algorithm has been improved by
Matthieu Sozeau.</p>
<p>The unifier has been improved by Hugo Herbelin and Matthieu Sozeau,
fixing some incompatibilities introduced in Coq 8.5. Unification
constraints can now be left floating around and be seen by the user
thanks to a new option. The Keyed Unification mode has been improved by
Matthieu Sozeau.</p>
<p>The typeclass resolution engine and associated proof search tactic have
been reimplemented on top of the proof-engine monad, providing better
integration in tactics, and new options have been introduced to control
it, by Matthieu Sozeau with help from Théo Zimmermann.</p>
<p>The efficiency of the whole system has been significantly improved
thanks to contributions from Pierre-Marie Pédrot, Maxime Dénès and
Matthieu Sozeau and performance issue tracking by Jason Gross and Paul
Steckler.</p>
<p>Standard library improvements by Jason Gross, Sébastien Hinderer, Pierre
Letouzey and others.</p>
<p>Emilio Jesús Gallego Arias contributed many cleanups and refactorings of
the pretty-printing and user interface communication components.</p>
<p>Frédéric Besson maintained the micromega tactic.</p>
<p>The opam repository for Coq packages has been maintained by Guillaume
Claret, Guillaume Melquiond, Matthieu Sozeau, Enrico Tassi and others. A
list of packages is now available at <a class="reference external" href="https://coq.inria.fr/opam/www/">https://coq.inria.fr/opam/www/</a>.</p>
<p>Packaging tools and software development kits were prepared by Michael
Soegtrop with the help of Maxime Dénès and Enrico Tassi for Windows, and
Maxime Dénès and Matthieu Sozeau for MacOS X. Packages are now regularly
built on the continuous integration server. Coq now comes with a META
file usable with ocamlfind, contributed by Emilio Jesús Gallego Arias,
Gregory Malecha, and Matthieu Sozeau.</p>
<p>Matej Košík maintained and greatly improved the continuous integration
setup and the testing of Coq contributions. He also contributed many API
improvements and code cleanups throughout the system.</p>
<p>The contributors for this version are Bruno Barras, C.J. Bell, Yves
Bertot, Frédéric Besson, Pierre Boutillier, Tej Chajed, Guillaume
Claret, Xavier Clerc, Pierre Corbineau, Pierre Courtieu, Maxime Dénès,
Ricky Elrod, Emilio Jesús Gallego Arias, Jason Gross, Hugo Herbelin,
Sébastien Hinderer, Jacques-Henri Jourdan, Matej Košík, Xavier Leroy,
Pierre Letouzey, Gregory Malecha, Cyprien Mangin, Erik Martin-Dorel,
Guillaume Melquiond, Clément Pit–Claudel, Pierre-Marie Pédrot, Daniel de
Rauglaudre, Lionel Rieg, Gabriel Scherer, Thomas Sibut-Pinote, Matthieu
Sozeau, Arnaud Spiwack, Paul Steckler, Enrico Tassi, Laurent Théry,
Nickolai Zeldovich and Théo Zimmermann. The development process was
coordinated by Hugo Herbelin and Matthieu Sozeau with the help of Maxime
Dénès, who was also in charge of the release process.</p>
<p>Many power users helped to improve the design of the new features via
the bug tracker, the pull request system, the Coq development mailing
list or the Coq-Club mailing list. Special thanks to the users who
contributed patches and intensive brain-storming and code reviews,
starting with Cyril Cohen, Jason Gross, Robbert Krebbers, Jonathan
Leivent, Xavier Leroy, Gregory Malecha, Clément Pit–Claudel, Gabriel
Scherer and Beta Ziliani. It would however be impossible to mention
exhaustively the names of everybody who to some extent influenced the
development.</p>
<p>Version 8.6 is the first release of Coq developed on a time-based
development cycle. Its development spanned 10 months from the release of
Coq 8.5 and was based on a public roadmap. To date, it contains more
external contributions than any previous Coq system. Code reviews were
systematically done before integration of new features, with an
important focus given to compatibility and performance issues, resulting
in a hopefully more robust release than Coq 8.5.</p>
<p>Coq Enhancement Proposals (CEPs for short) were introduced by Enrico
Tassi to provide more visibility and a discussion period on new
features, they are publicly available <a class="reference external" href="https://github.com/coq/ceps">https://github.com/coq/ceps</a>.</p>
<p>Started during this period, an effort is led by Yves Bertot and Maxime
Dénès to put together a Coq consortium.</p>
<div class="line-block">
<div class="line">Paris, November 2016,</div>
<div class="line">Matthieu Sozeau and the Coq development team</div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="potential-sources-of-incompatibilities">
<h3>Potential sources of incompatibilities<a class="headerlink" href="#potential-sources-of-incompatibilities" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Symptom: An obligation generated by Program or an abstracted subproof
has different arguments.</p>
<p>Cause: Set Shrink Abstract and Set Shrink Obligations are on by default
and the subproof does not use the argument.</p>
<p>Remedy:</p>
<ul class="simple">
<li><p>Adapt the script.</p></li>
<li><p>Write an explicit lemma to prove the obligation/subproof and use it
instead (compatible with 8.4).</p></li>
<li><p>Unset the option for the program/proof the obligation/subproof originates
from.</p></li>
</ul>
</li>
<li><p>Symptom: In a goal, order of hypotheses, or absence of an equality of
the form &quot;x = t&quot; or &quot;t = x&quot;, or no unfolding of a local definition.</p>
<p>Cause: This might be connected to a number of fixes in the tactic
&quot;subst&quot;. The former behavior can be reactivated by issuing &quot;Unset
Regular Subst Tactic&quot;.</p>
</li>
</ul>
</div>
<div class="section" id="details-of-changes-in-8-6beta1">
<h3>Details of changes in 8.6beta1<a class="headerlink" href="#details-of-changes-in-8-6beta1" title="Permalink to this headline">¶</a></h3>
<p>Kernel</p>
<ul class="simple">
<li><p>A new, faster state-of-the-art universe constraint checker.</p></li>
</ul>
<p>Specification language</p>
<ul class="simple">
<li><p>Giving implicit arguments explicitly to a constant with multiple
choices of implicit arguments does not break any more insertion of
further maximal implicit arguments.</p></li>
<li><p>Ability to put any pattern in binders, prefixed by quote, e.g.
&quot;fun '(a,b) =&gt; ...&quot;, &quot;λ '(a,(b,c)), ...&quot;, &quot;Definition foo '(x,y) := ...&quot;.
It expands into a &quot;let 'pattern := ...&quot;</p></li>
</ul>
<p>Tactics</p>
<ul class="simple">
<li><p>Flag &quot;Bracketing Last Introduction Pattern&quot; is now on by default.</p></li>
<li><p>Flag &quot;Regular Subst Tactic&quot; is now on by default: it respects the
initial order of hypothesis, it contracts cycles, it unfolds no
local definitions (common source of incompatibilities, fixable by
&quot;Unset Regular Subst Tactic&quot;).</p></li>
<li><p>New flag &quot;Refolding Reduction&quot;, now disabled by default, which turns
on refolding of constants/fixpoints (as in cbn) during the reductions
done during type inference and tactic retyping. Can be extremely
expensive. When set off, this recovers the 8.4 behavior of unification
and type inference. Potential source of incompatibility with 8.5 developments
(the option is set on in Compat/Coq85.v).</p></li>
<li><p>New flag &quot;Shrink Abstract&quot; that minimalizes proofs generated by the abstract
tactical w.r.t. variables appearing in the body of the proof.
On by default and deprecated. Minor source of incompatibility
for code relying on the precise arguments of abstracted proofs.</p></li>
<li><p>Serious bugs are fixed in tactic &quot;double induction&quot; (source of
incompatibilities as soon as the inductive types have dependencies in
the type of their constructors; &quot;double induction&quot; remains however
deprecated).</p></li>
<li><p>In introduction patterns of the form (pat1,...,patn), n should match
the exact number of hypotheses introduced (except for local definitions
for which pattern can be omitted, as in regular pattern-matching).</p></li>
<li><p>Tactic scopes in Ltac like constr: and ltac: now require parentheses around
their argument.</p></li>
<li><p>Every generic argument type declares a tactic scope of the form &quot;name:(...)&quot;
where name is the name of the argument. This generalizes the constr: and ltac:
instances.</p></li>
<li><p>When in strict mode (i.e. in a Ltac definition), if the &quot;intro&quot; tactic is
given a free identifier, it is not bound in subsequent tactics anymore.
In order to introduce a binding, use e.g. the &quot;fresh&quot; primitive instead
(potential source of incompatibilities).</p></li>
<li><p>New tactics is_ind, is_const, is_proj, is_constructor for use in Ltac.</p></li>
<li><p>New goal selectors.  Sets of goals can be selected by listing integers
ranges. Example: &quot;1,4-7,24: tac&quot; focuses &quot;tac&quot; on goals 1,4,5,6,7,24.</p></li>
<li><p>For uniformity with &quot;destruct&quot;/&quot;induction&quot; and for a more natural
behavior, &quot;injection&quot; can now work in place by activating option
&quot;Structural Injection&quot;. In this case, hypotheses are also put in the
context in the natural left-to-right order and the hypothesis on
which injection applies is cleared.</p></li>
<li><p>Tactic &quot;contradiction&quot; (hence &quot;easy&quot;) now also solve goals with
hypotheses of the form &quot;~True&quot; or &quot;t&lt;&gt;t&quot; (possible source of
incompatibilities because of more successes in automation, but
generally a more intuitive strategy).</p></li>
<li><p>Option &quot;Injection On Proofs&quot; was renamed &quot;Keep Proof Equalities&quot;. When
enabled, injection and inversion do not drop equalities between objects
in Prop. Still disabled by default.</p></li>
<li><p>New tactics &quot;notypeclasses refine&quot; and &quot;simple notypeclasses refine&quot; that
disallow typeclass resolution when typechecking their argument, for use
in typeclass hints.</p></li>
<li><p>Integration of LtacProf, a profiler for Ltac.</p></li>
<li><p>Reduction tactics now accept more fine-grained flags: iota is now a shorthand
for the new flags match, fix and cofix.</p></li>
<li><p>The ssreflect subterm selection algorithm is now accessible to tactic writers
through the ssrmatching plugin.</p></li>
<li><p>When used as an argument of an ltac function, &quot;auto&quot; without &quot;with&quot;
nor &quot;using&quot; clause now correctly uses only the core hint database by
default.</p></li>
</ul>
<p>Hints</p>
<ul class="simple">
<li><p>Revised the syntax of [Hint Cut] to follow standard notation for regexps.</p></li>
<li><p>Hint Mode now accepts &quot;!&quot; which means that the mode matches only if the
argument's head is not an evar (it goes under applications, casts, and
scrutinees of matches and projections).</p></li>
<li><p>Hints can now take an optional user-given pattern, used only by
[typeclasses eauto] with the [Filtered Unification] option on.</p></li>
</ul>
<p>Typeclasses</p>
<ul class="simple">
<li><p>Many new options and new engine based on the proof monad. The
[typeclasses eauto] tactic is now a multi-goal, multi-success tactic.
See reference manual for more information. It is planned to
replace auto and eauto in the following version. The 8.5 resolution
engine is still available to help solve compatibility issues.</p></li>
</ul>
<p>Program</p>
<ul class="simple">
<li><p>The &quot;Shrink Obligations&quot; flag now applies to all obligations, not only
those solved by the automatic tactic.</p></li>
<li><p>&quot;Shrink Obligations&quot; is on by default and deprecated. Minor source of
incompatibility for code relying on the precise arguments of
obligations.</p></li>
</ul>
<p>Notations</p>
<ul class="simple">
<li><p>&quot;Bind Scope&quot; can once again bind &quot;Funclass&quot; and &quot;Sortclass&quot;.</p></li>
</ul>
<p>General infrastructure</p>
<ul class="simple">
<li><p>New configurable warning system which can be controlled with the vernacular
command &quot;Set Warnings&quot;, or, under coqc/coqtop, with the flag &quot;-w&quot;. In
particular, the default is now that warnings are printed by coqc.</p></li>
<li><p>In asynchronous mode, Coq is now capable of recovering from errors and
continue processing the document.</p></li>
</ul>
<p>Tools</p>
<ul class="simple">
<li><p>coqc accepts a -o option to specify the output file name</p></li>
<li><p>coqtop accepts --print-version to print Coq and OCaml versions in
easy to parse format</p></li>
<li><p>Setting [Printing Dependent Evars Line] can be unset to disable the
computation associated with printing the &quot;dependent evars: &quot; line in
-emacs mode</p></li>
<li><p>Removed the -verbose-compat-notations flag and the corresponding Set
Verbose Compat vernacular, since these warnings can now be silenced or
turned into errors using &quot;-w&quot;.</p></li>
</ul>
<p>XML protocol</p>
<ul class="simple">
<li><p>message format has changed, see dev/doc/changes.txt for more details.</p></li>
</ul>
<p>Many bug fixes, minor changes and documentation improvements are not mentioned
here.</p>
</div>
<div class="section" id="details-of-changes-in-8-6">
<h3>Details of changes in 8.6<a class="headerlink" href="#details-of-changes-in-8-6" title="Permalink to this headline">¶</a></h3>
<p>Kernel</p>
<ul class="simple">
<li><p>Fixed critical bug #5248 in VM long multiplication on 32-bit
architectures. Was there only since 8.6beta1, so no stable release impacted.</p></li>
</ul>
<p>Other bug fixes in universes, type class shelving,...</p>
</div>
<div class="section" id="details-of-changes-in-8-6-1">
<h3>Details of changes in 8.6.1<a class="headerlink" href="#details-of-changes-in-8-6-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fix #5380: Default colors for CoqIDE are actually applied.</p></li>
<li><p>Fix plugin warnings</p></li>
<li><p>Document named evars (including Show ident)</p></li>
<li><p>Fix Bug #5574, document function scope</p></li>
<li><p>Adding a test case as requested in bug 5205.</p></li>
<li><p>Fix Bug #5568, no dup notation warnings on repeated module imports</p></li>
<li><p>Fix documentation of Typeclasses eauto :=</p></li>
<li><p>Refactor documentation of records.</p></li>
<li><p>Protecting from warnings while compiling 8.6</p></li>
<li><p>Fixing an inconsistency between configure and configure.ml</p></li>
<li><p>Add test-suite checks for coqchk with constraints</p></li>
<li><p>Fix bug #5019 (looping zify on dependent types)</p></li>
<li><p>Fix bug 5550: &quot;typeclasses eauto with&quot; does not work with section variables.</p></li>
<li><p>Bug 5546, qualify datatype constructors when needed in Show Match</p></li>
<li><p>Bug #5535, test for Show with -emacs</p></li>
<li><p>Fix bug #5486, don't reverse ids in tuples</p></li>
<li><p>Fixing #5522 (anomaly with free vars of pat)</p></li>
<li><p>Fix bug #5526, don't check for nonlinearity in notation if printing only</p></li>
<li><p>Fix bug #5255</p></li>
<li><p>Fix bug #3659: -time should understand multibyte encodings.</p></li>
<li><p>FIx bug #5300: Anomaly: Uncaught exception Not_found&quot; in &quot;Print Assumptions&quot;.</p></li>
<li><p>Fix outdated description in RefMan.</p></li>
<li><p>Repairing <code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">Rewriting</span> <span class="pre">Schemes</span></code></p></li>
<li><p>Fixing #5487 (v8.5 regression on ltac-matching expressions with evars).</p></li>
<li><p>Fix description of command-line arguments for Add (Rec) LoadPath</p></li>
<li><p>Fix bug #5377: &#64;? patterns broken.</p></li>
<li><p>add XML protocol doc</p></li>
<li><p>Fix anomaly when doing [all:Check _.] during a proof.</p></li>
<li><p>Correction of bug #4306</p></li>
<li><p>Fix #5435: [Eval native_compute in] raises anomaly.</p></li>
<li><p>Instances should obey universe binders even when defined by tactics.</p></li>
<li><p>Intern names bound in match patterns</p></li>
<li><p>funind: Ignore missing info for current function</p></li>
<li><p>Do not typecheck twice the type of opaque constants.</p></li>
<li><p>show unused intro pattern warning</p></li>
<li><p>[future] Be eager when &quot;chaining&quot; already resolved future values.</p></li>
<li><p>Opaque side effects</p></li>
<li><p>Fix #5132: coq_makefile generates incorrect install goal</p></li>
<li><p>Run non-tactic comands without resilient_command</p></li>
<li><p>Univs: fix bug #5365, generation of u+k &lt;= v constraints</p></li>
<li><p>make <code class="docutils literal notranslate"><span class="pre">emit</span></code> tail recursive</p></li>
<li><p>Don't require printing-only notation to be productive</p></li>
<li><p>Fix the way setoid_rewrite handles bindings.</p></li>
<li><p>Fix for bug 5244 - set printing width ignored when given enough space</p></li>
<li><p>Fix bug 4969, autoapply was not tagging shelved subgoals correctly</p></li>
</ul>
</div>
</div>
<div class="section" id="version-8-5">
<h2>Version 8.5<a class="headerlink" href="#version-8-5" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1500">
<h3>Summary of changes<a class="headerlink" href="#id1500" title="Permalink to this headline">¶</a></h3>
<p>Coq version 8.5 contains the result of five specific long-term projects:</p>
<ul class="simple">
<li><p>A new asynchronous evaluation and compilation mode by Enrico Tassi
with help from Bruno Barras and Carst Tankink.</p></li>
<li><p>Full integration of the new proof engine by Arnaud Spiwack helped by
Pierre-Marie Pédrot,</p></li>
<li><p>Addition of conversion and reduction based on native compilation by
Maxime Dénès and Benjamin Grégoire.</p></li>
<li><p>Full universe polymorphism for definitions and inductive types by
Matthieu Sozeau.</p></li>
<li><p>An implementation of primitive projections with
η-conversion bringing significant performance improvements
when using records by Matthieu Sozeau.</p></li>
</ul>
<p>The full integration of the proof engine, by Arnaud Spiwack and
Pierre-Marie Pédrot, brings to primitive tactics and the user level Ltac
language dependent subgoals, deep backtracking and multiple goal
handling, along with miscellaneous features and an improved potential
for future modifications. Dependent subgoals allow statements in a goal
to mention the proof of another. Proofs of unsolved subgoals appear as
existential variables. Primitive backtracking makes it possible to write
a tactic with several possible outcomes which are tried successively
when subsequent tactics fail. Primitives are also available to control
the backtracking behavior of tactics. Multiple goal handling paves the
way for smarter automation tactics. It is currently used for simple goal
manipulation such as goal reordering.</p>
<p>The way Coq processes a document in batch and interactive mode has been
redesigned by Enrico Tassi with help from Bruno Barras. Opaque proofs,
the text between Proof and Qed, can be processed asynchronously,
decoupling the checking of definitions and statements from the checking
of proofs. It improves the responsiveness of interactive development,
since proofs can be processed in the background. Similarly, compilation
of a file can be split into two phases: the first one checking only
definitions and statements and the second one checking proofs. A file
resulting from the first phase – with the .vio extension – can be
already Required. All .vio files can be turned into complete .vo files
in parallel. The same infrastructure also allows terminating tactics to
be run in parallel on a set of goals via the <code class="docutils literal notranslate"><span class="pre">par:</span></code> goal selector.</p>
<p>CoqIDE was modified to cope with asynchronous checking of the document.
Its source code was also made separate from that of Coq, so that CoqIDE
no longer has a special status among user interfaces, paving the way for
decoupling its release cycle from that of Coq in the future.</p>
<p>Carst Tankink developed a Coq back-end for user interfaces built on
Makarius Wenzel’s Prover IDE framework (PIDE), like PIDE/jEdit (with
help from Makarius Wenzel) or PIDE/Coqoon (with help from Alexander
Faithfull and Jesper Bengtson). The development of such features was
funded by the Paral-ITP French ANR project.</p>
<p>The full universe polymorphism extension was designed by Matthieu
Sozeau. It conservatively extends the universes system and core calculus
with definitions and inductive declarations parameterized by universes
and constraints. It is based on a modification of the kernel
architecture to handle constraint checking only, leaving the generation
of constraints to the refinement/type inference engine. Accordingly,
tactics are now fully universe aware, resulting in more localized error
messages in case of inconsistencies and allowing higher-level algorithms
like unification to be entirely type safe. The internal representation
of universes has been modified but this is invisible to the user.</p>
<p>The underlying logic has been extended with η-conversion for
records defined with primitive projections by Matthieu Sozeau. This
additional form of η-conversion is justified using the same
principle than the previously added η-conversion for function
types, based on formulations of the Calculus of Inductive Constructions
with typed equality. Primitive projections, which do not carry the
parameters of the record and are rigid names (not defined as a
pattern matching construct), make working with nested records more
manageable in terms of time and space consumption. This extension and
universe polymorphism were carried out partly while Matthieu Sozeau was
working at the IAS in Princeton.</p>
<p>The guard condition has been made compliant with extensional equality
principles such as propositional extensionality and univalence, thanks
to Maxime Dénès and Bruno Barras. To ensure compatibility with the
univalence axiom, a new flag <code class="docutils literal notranslate"><span class="pre">-indices-matter</span></code> has been implemented,
taking into account the universe levels of indices when computing the
levels of inductive types. This supports using Coq as a tool to explore
the relations between homotopy theory and type theory.</p>
<p>Maxime Dénès and Benjamin Grégoire developed an implementation of
conversion test and normal form computation using the OCaml native
compiler. It complements the virtual machine conversion offering much
faster computation for expensive functions.</p>
<p>Coq 8.5 also comes with a bunch of many various smaller-scale changes
and improvements regarding the different components of the system. We
shall only list a few of them.</p>
<p>Pierre Boutillier developed an improved tactic for simplification of
expressions called <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.cbn" title="cbn"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">cbn</span></code></a>.</p>
<p>Maxime Dénès maintained the bytecode-based reduction machine. Pierre
Letouzey maintained the extraction mechanism.</p>
<p>Pierre-Marie Pédrot has extended the syntax of terms to, experimentally,
allow holes in terms to be solved by a locally specified tactic.</p>
<p>Existential variables are referred to by identifiers rather than mere
numbers, thanks to Hugo Herbelin who also improved the tactic language
here and there.</p>
<p>Error messages for universe inconsistencies have been improved by
Matthieu Sozeau. Error messages for unification and type inference
failures have been improved by Hugo Herbelin, Pierre-Marie Pédrot and
Arnaud Spiwack.</p>
<p>Pierre Courtieu contributed new features for using Coq through Proof
General and for better interactive experience (bullets, Search, etc).</p>
<p>The efficiency of the whole system has been significantly improved
thanks to contributions from Pierre-Marie Pédrot.</p>
<p>A distribution channel for Coq packages using the opam tool has been
initiated by Thomas Braibant and developed by Guillaume Claret, with
contributions by Enrico Tassi and feedback from Hugo Herbelin.</p>
<p>Packaging tools were provided by Pierre Letouzey and Enrico Tassi
(Windows), Pierre Boutillier, Matthieu Sozeau and Maxime Dénès (MacOS
X). Maxime Dénès improved significantly the testing and benchmarking
support.</p>
<p>Many power users helped to improve the design of the new features via
the bug tracker, the coq development mailing list or the Coq-Club
mailing list. Special thanks are going to the users who contributed
patches and intensive brain-storming, starting with Jason Gross,
Jonathan Leivent, Greg Malecha, Clément Pit-Claudel, Marc Lasson, Lionel
Rieg. It would however be impossible to mention with precision all names
of people who to some extent influenced the development.</p>
<p>Version 8.5 is one of the most important releases of Coq. Its development
spanned over about 3 years and a half with about one year of
beta-testing. General maintenance during part or whole of this period
has been done by Pierre Boutillier, Pierre Courtieu, Maxime Dénès, Hugo
Herbelin, Pierre Letouzey, Guillaume Melquiond, Pierre-Marie Pédrot,
Matthieu Sozeau, Arnaud Spiwack, Enrico Tassi as well as Bruno Barras,
Yves Bertot, Frédéric Besson, Xavier Clerc, Pierre Corbineau,
Jean-Christophe Filliâtre, Julien Forest, Sébastien Hinderer, Assia
Mahboubi, Jean-Marc Notin, Yann Régis-Gianas, François Ripault, Carst
Tankink. Maxime Dénès coordinated the release process.</p>
<div class="line-block">
<div class="line">Paris, January 2015, revised December 2015,</div>
<div class="line">Hugo Herbelin, Matthieu Sozeau and the Coq development team</div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="id1501">
<h3>Potential sources of incompatibilities<a class="headerlink" href="#id1501" title="Permalink to this headline">¶</a></h3>
<p>List of typical changes to be done to adapt files from Coq 8.4
to Coq 8.5 when not using compatibility option <code class="docutils literal notranslate"><span class="pre">-compat</span> <span class="pre">8.4</span></code>.</p>
<ul>
<li><p>Symptom: &quot;The reference omega was not found in the current environment&quot;.</p>
<p>Cause: &quot;Require Omega&quot; does not import the tactic &quot;omega&quot; any more</p>
<p>Possible solutions:</p>
<ul class="simple">
<li><p>use &quot;Require Import OmegaTactic&quot; (not compatible with 8.4)</p></li>
<li><p>use &quot;Require Import Omega&quot; (compatible with 8.4)</p></li>
<li><p>add definition &quot;Ltac omega := Coq.omega.Omega.omega.&quot;</p></li>
</ul>
</li>
<li><p>Symptom: &quot;intuition&quot; cannot solve a goal (not working anymore on nonstandard connective)</p>
<p>Cause: &quot;intuition&quot; had an accidental non-uniform behavior fixed on nonstandard connectives</p>
<p>Possible solutions:</p>
<ul class="simple">
<li><p>use &quot;dintuition&quot; instead; it is stronger than &quot;intuition&quot; and works
uniformly on nonstandard connectives, such as n-ary conjunctions or disjunctions
(not compatible with 8.4)</p></li>
<li><p>do the script differently</p></li>
</ul>
</li>
<li><p>Symptom: The constructor foo (in type bar) expects n arguments.</p>
<p>Cause: parameters must now be given in patterns</p>
<p>Possible solutions:</p>
<ul class="simple">
<li><p>use option &quot;Set Asymmetric Patterns&quot; (compatible with 8.4)</p></li>
<li><p>add &quot;_&quot; for the parameters (not compatible with 8.4)</p></li>
<li><p>turn the parameters into implicit arguments (compatible with 8.4)</p></li>
</ul>
</li>
<li><p>Symptom: &quot;NPeano.Nat.foo&quot; not existing anymore</p>
<p>Possible solutions:</p>
<ul class="simple">
<li><p>use &quot;Nat.foo&quot; instead</p></li>
</ul>
<p>Symptom: typing problems with proj1_sig or similar</p>
<p>Cause: coercion from sig to sigT and similar coercions have been
removed so as to make the initial state easier to understand for
beginners</p>
<p>Solution: change proj1_sig into projT1 and similarly (compatible with 8.4)</p>
</li>
</ul>
<p>Other detailed changes</p>
<ul>
<li><p>options for <em>coq</em> compilation (see below for ocaml).</p>
<ul class="simple">
<li><p>[-I foo] is now deprecated and will not add directory foo to the
coq load path (only for ocaml, see below). Just replace [-I foo] by
[-Q foo &quot;&quot;] in your project file and re-generate makefile. Or
perform the same operation directly in your makefile if you edit it
by hand.</p></li>
<li><p>Option -R Foo bar is the same in v8.5 than in v8.4 concerning coq
load path.</p></li>
<li><p>Option [-I foo -as bar] is unchanged but discouraged unless you
compile ocaml code. Use -Q foo bar instead.</p></li>
</ul>
<p>for more details: see section &quot;Customization at launch
time&quot; of the reference manual.</p>
</li>
<li><p>Command line options for ocaml  Compilation of ocaml code (plugins)</p>
<ul class="simple">
<li><p>[-I foo] is <em>not</em> deprecated to add foo to the ocaml load path.</p></li>
<li><p>[-I foo -as bar] adds foo to the ocaml load path <em>and</em> adds foo to
the coq load path with logical name bar (shortcut for -I foo -Q foo
bar).</p></li>
</ul>
<p>for more details: section &quot;Customization at launch
time&quot; of the reference manual.</p>
</li>
<li><p>Universe Polymorphism.</p></li>
<li><p>Refinement, unification and tactics are now aware of universes,
resulting in more localized errors. Universe inconsistencies
should no more get raised at Qed time but during the proof.
Unification <em>always</em> produces well-typed substitutions, hence
some rare cases of unifications that succeeded while producing
ill-typed terms before will now fail.</p></li>
<li><p>The [change p with c] tactic semantics changed, now typechecking
[c] at each matching occurrence [t] of the pattern [p], and
converting [t] with [c].</p></li>
<li><p>Template polymorphic inductive types: the partial application
of a template polymorphic type (e.g. list) is not polymorphic.
An explicit parameter application (e.g [fun A =&gt; list A]) or
[apply (list _)] will result in a polymorphic instance.</p></li>
<li><p>The type inference algorithm now takes opacity of constants into
account. This may have effects on tactics using type inference
(e.g. induction). Extra &quot;Transparent&quot; might have to be added to
revert opacity of constants.</p></li>
</ul>
<p>Type classes.</p>
<ul class="simple">
<li><p>When writing an <code class="docutils literal notranslate"><span class="pre">Instance</span> <span class="pre">foo</span> <span class="pre">:</span> <span class="pre">Class</span> <span class="pre">A</span> <span class="pre">:=</span> <span class="pre">{|</span> <span class="pre">proj</span> <span class="pre">:=</span> <span class="pre">t</span> <span class="pre">|}</span></code> (note the
vertical bars), support for typechecking the projections using the
type information and switching to proof mode is no longer available.
Use <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">}</span></code> (without the vertical bars) instead.</p></li>
</ul>
<p>Tactic abstract.</p>
<ul class="simple">
<li><p>Auxiliary lemmas generated by the abstract tactic are removed from
the global environment and inlined in the proof term when a proof
is ended with Qed.  The behavior of 8.4 can be obtained by ending
proofs with &quot;Qed exporting&quot; or &quot;Qed exporting ident, .., ident&quot;.</p></li>
</ul>
</div>
<div class="section" id="details-of-changes-in-8-5beta1">
<h3>Details of changes in 8.5beta1<a class="headerlink" href="#details-of-changes-in-8-5beta1" title="Permalink to this headline">¶</a></h3>
<p>Logic</p>
<ul class="simple">
<li><p>Primitive projections for records allow for a compact representation
of projections, without parameters and avoid the behavior of defined
projections that can unfold to a case expression. To turn the use of
native projections on, use [Set Primitive Projections]. Record,
Class and Structure types defined while this option is set will be
defined with primitive projections instead of the usual encoding as
a case expression. For compatibility, when p is a primitive
projection, &#64;p can be used to refer to the projection with explicit
parameters, i.e. [&#64;p] is definitionally equal to [λ params r. r.(p)].
Records with primitive projections have eta-conversion, the
canonical form being [mkR pars (p1 t) ... (pn t)].</p></li>
<li><p>New universe polymorphism (see reference manual)</p></li>
<li><p>New option -type-in-type to collapse the universe hierarchy (this makes the
logic inconsistent).</p></li>
<li><p>The guard condition for fixpoints is now a bit stricter. Propagation
of subterm value through pattern matching is restricted according to
the return predicate. Restores compatibility of Coq's logic with the
propositional extensionality axiom. May create incompatibilities in
recursive programs heavily using dependent types.</p></li>
<li><p>Trivial inductive types are no longer defined in Type but in Prop, which
leads to a non-dependent induction principle being generated in place of
the dependent one. To recover the old behavior, explicitly define your
inductive types in Set.</p></li>
</ul>
<p>Commands</p>
<ul class="simple">
<li><p>A command &quot;Variant&quot; allows to define non-recursive variant types.</p></li>
<li><p>The command &quot;Record foo ...&quot; does not generate induction principles
(foo_rect, foo_rec, foo_ind) anymore by default (feature wish
#2693). The command &quot;Variant foo ...&quot; does not either. A flag
&quot;Set/Unset Nonrecursive Elimination Schemes&quot; allows changing this.
The tactic &quot;induction&quot; on a &quot;Record&quot; or a &quot;Variant&quot; is now actually
doing &quot;destruct&quot;.</p></li>
<li><p>The &quot;Open Scope&quot; command can now be given also a delimiter (e.g. Z).</p></li>
<li><p>The &quot;Definition&quot; command now allows the &quot;Local&quot; modifier, allowing
for non-importable definitions. The same goes for &quot;Axiom&quot; and &quot;Parameter&quot;.</p></li>
<li><p>Section-specific commands such as &quot;Let&quot; (resp. &quot;Variable&quot;, &quot;Hypothesis&quot;) used
out of a section now behave like the corresponding &quot;Local&quot; command, i.e.
&quot;Local Definition&quot; (resp. &quot;Local Parameter&quot;, &quot;Local Axiom&quot;). (potential source
of rare incompatibilities).</p></li>
<li><p>The &quot;Let&quot; command can now define local (co)fixpoints.</p></li>
<li><p>Command &quot;Search&quot; has been renamed into &quot;SearchHead&quot;. The command
name &quot;Search&quot; now behaves like former &quot;SearchAbout&quot;. The latter name
is deprecated.</p></li>
<li><p>&quot;Search&quot;, &quot;About&quot;, &quot;SearchHead&quot;, &quot;SearchRewrite&quot; and &quot;SearchPattern&quot;
now search for hypothesis (of the current goal by default) first.
They now also support the goal selector prefix to specify another
goal to search: e.g. &quot;n:Search id&quot;. This is also true for
SearchAbout although it is deprecated.</p></li>
<li><p>The coq/user-contrib directory and the XDG directories are no longer
recursively added to the load path, so files from installed libraries
now need to be fully qualified for the &quot;Require&quot; command to find them.
The tools/update-require script can be used to convert a development.</p></li>
<li><p>A new Print Strategies command allows visualizing the opacity status
of the whole engine.</p></li>
<li><p>The &quot;Locate&quot; command now searches through all sorts of qualified namespaces of
Coq: terms, modules, tactics, etc. The old behavior of the command can be
retrieved using the &quot;Locate Term&quot; command.</p></li>
<li><p>New &quot;Derive&quot; command to help writing program by derivation.</p></li>
<li><p>New &quot;Refine Instance Mode&quot; option that allows to deactivate the generation of
obligations in incomplete typeclass instances, raising an error instead.</p></li>
<li><p>&quot;Collection&quot; command to name sets of section hypotheses.  Named collections
can be used in the syntax of &quot;Proof using&quot; to assert which section variables
are used in a proof.</p></li>
<li><p>The &quot;Optimize Proof&quot; command can be placed in the middle of a proof to
force the compaction of the data structure used to represent the ongoing
proof (evar map). This may result in a lower memory footprint and speed up
the execution of the following tactics.</p></li>
<li><p>&quot;Optimize Heap&quot; command to tell the OCaml runtime to perform a major
garbage collection step and heap compaction.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Instance</span></code> no longer treats the <code class="docutils literal notranslate"><span class="pre">{|...|}</span></code> syntax specially; it handles it
in the same way as other commands, e.g. &quot;Definition&quot;. Use the <code class="docutils literal notranslate"><span class="pre">{...}</span></code>
syntax (no pipe symbols) to recover the old behavior.</p></li>
</ul>
<p>Specification Language</p>
<ul class="simple">
<li><p>Slight changes in unification error messages.</p></li>
<li><p>Added a syntax $(...)$ that allows putting tactics in terms (may
break user notations using &quot;$(&quot;, fixable by inserting a space or
rewriting the notation).</p></li>
<li><p>Constructors in pattern-matching patterns now respect the same rules
regarding implicit arguments as in applicative position. The old
behavior can be recovered by the command &quot;Set Asymmetric
Patterns&quot;. As a side effect, notations for constructors explicitly
mentioning non-implicit parameters can now be used in patterns.
Considering that the pattern language is already rich enough, binding
local definitions is however now forbidden in patterns (source of
incompatibilities for local definitions that delta-reduce to a constructor).</p></li>
<li><p>Type inference algorithm now granting opacity of constants. This might also
affect behavior of tactics (source of incompatibilities, solvable by
re-declaring transparent constants which were set opaque).</p></li>
<li><p>Existential variables are now referred to by an identifier and the
relevant part of their instance is displayed by default. They can be
reparsed. The naming policy is yet unstable and subject to changes
in future releases.</p></li>
</ul>
<p>Tactics</p>
<ul class="simple">
<li><p>New tactic engine allowing dependent subgoals, fully backtracking
(also known as multiple success) tactics, as well as tactics which
can consider multiple goals together. In the new tactic engine,
instantiation information of existential variables is always
propagated to tactics, removing the need to manually use the
&quot;instantiate&quot; tactics to mark propagation points.</p>
<ul>
<li><p>New tactical (a+b) inserts a backtracking point. When (a+b);c fails
during the execution of c, it can backtrack and try b instead of a.</p></li>
<li><p>New tactical (once a) removes all the backtracking points from a
(i.e. it selects the first success of a).</p></li>
<li><p>Tactic &quot;constructor&quot; is now fully backtracking. In case of
incompatibilities (e.g. combinatoric explosion), the former
behavior of &quot;constructor&quot; can be retrieved by using instead
&quot;[&gt; once constructor ..]&quot;. Thanks to backtracking, undocumented
&quot;constructor &lt;tac&gt;&quot; syntax is now equivalent to
&quot;[&gt; once (constructor; tac) ..]&quot;.</p></li>
<li><p>New &quot;multimatch&quot; variant of &quot;match&quot; tactic which backtracks to
new branches in case of a later failure. The &quot;match&quot; tactic is
equivalent to &quot;once multimatch&quot;.</p></li>
<li><p>New selector &quot;all:&quot; such that &quot;all:tac&quot; applies tactic &quot;tac&quot; to
all the focused goals, instead of just the first one as is the
default.</p></li>
<li><p>A corresponding new option Set Default Goal Selector &quot;all&quot; makes
the tactics in scripts be applied to all the focused goal by default</p></li>
<li><p>New selector &quot;par:&quot; such that &quot;par:tac&quot; applies the (terminating)
tactic &quot;tac&quot; to all the focused goal in parallel. The number of worker
can be selected with -async-proofs-tac-j and also limited using the
coqworkmgr utility.</p></li>
<li><p>New tactics &quot;revgoals&quot;, &quot;cycle&quot; and &quot;swap&quot; to reorder goals.</p></li>
<li><p>The semantics of recursive tactics (introduced with &quot;Ltac t := ...&quot;
or &quot;let rec t := ... in ...&quot;) changed slightly as t is now
applied to every goal, not each goal independently. In particular
it may be applied when no goals are left. This may cause tactics
such as &quot;let rec t := constructor;t&quot; to loop indefinitely. The
simple fix is to rewrite the recursive calls as follows:
&quot;let rec t := constructor;[t..]&quot; which recovers the earlier behavior
(source of rare incompatibilities).</p></li>
<li><p>New tactic language feature &quot;numgoals&quot; to count number of goals. It is
accompanied by a &quot;guard&quot; tactic which fails if a Boolean test over
integers does not pass.</p></li>
<li><p>New tactical &quot;[&gt; ... ]&quot; to apply tactics to individual goals.</p></li>
<li><p>New tactic &quot;gfail&quot; which works like &quot;fail&quot; except it will also
fail if every goal has been solved.</p></li>
<li><p>The refine tactic is changed not to use an ad hoc typing algorithm
to generate subgoals. It also uses the dependent subgoal feature
to generate goals to materialize every existential variable which
is introduced by the refinement (source of incompatibilities).</p></li>
<li><p>A tactic shelve is introduced to manage the subgoals which may be
solved by unification: shelve removes every goal it is applied to
from focus. These goals can later be called back into focus by the
Unshelve command.</p></li>
<li><p>A variant shelve_unifiable only removes those goals which appear
as existential variables in other goals. To emulate the old
refine, use &quot;refine c;shelve_unifiable&quot;. This can still cause
incompatibilities in rare occasions.</p></li>
<li><p>New &quot;give_up&quot; tactic to skip over a goal.  A proof containing
given up goals cannot be closed with &quot;Qed&quot;, but only with &quot;Admitted&quot;.</p></li>
</ul>
</li>
<li><p>The implementation of the admit tactic has changed: no axiom is
generated for the admitted sub proof. &quot;admit&quot; is now an alias for
&quot;give_up&quot;.  Code relying on this specific behavior of &quot;admit&quot;
can be made to work by:</p>
<ul>
<li><p>Adding an &quot;Axiom&quot; for each admitted subproof.</p></li>
<li><p>Adding a single &quot;Axiom proof_admitted : False.&quot; and the Ltac definition
&quot;Ltac admit := case proof_admitted.&quot;.</p></li>
</ul>
</li>
<li><p>Matching using &quot;lazymatch&quot; was fundamentally modified. It now behaves
like &quot;match&quot; (immediate execution of the matching branch) but without
the backtracking mechanism in case of failure.</p></li>
<li><p>New &quot;tryif t then u else v&quot; tactical which executes &quot;u&quot; in case of success
of &quot;t&quot; and &quot;v&quot; in case of failure.</p></li>
<li><p>New conversion tactic &quot;native_compute&quot;: evaluates the goal (or an hypothesis)
with a call-by-value strategy, using the OCaml native compiler. Useful on
very intensive computations.</p></li>
<li><p>New &quot;cbn&quot; tactic, a well-behaved simpl.</p></li>
<li><p>Repeated identical calls to omega should now produce identical proof terms.</p></li>
<li><p>Tactics btauto, a reflexive Boolean tautology solver.</p></li>
<li><p>Tactic &quot;tauto&quot; was exceptionally able to destruct other connectives
than the binary connectives &quot;and&quot;, &quot;or&quot;, &quot;prod&quot;, &quot;sum&quot;, &quot;iff&quot;. This
non-uniform behavior has been fixed (bug #2680) and tauto is
slightly weaker (possible source of incompatibilities). On the
opposite side, new tactic &quot;dtauto&quot; is able to destruct any
record-like inductive types, superseding the old version of &quot;tauto&quot;.</p></li>
<li><p>Similarly, &quot;intuition&quot; has been made more uniform and, where it now
fails, &quot;dintuition&quot; can be used (possible source of incompatibilities).</p></li>
<li><p>New option &quot;Unset Intuition Negation Unfolding&quot; for deactivating automatic
unfolding of &quot;not&quot; in intuition.</p></li>
<li><p>Tactic notations can now be defined locally to a module (use &quot;Local&quot; prefix).</p></li>
<li><p>Tactic &quot;red&quot; now reduces head beta-iota redexes (potential source of
rare incompatibilities).</p></li>
<li><p>Tactic &quot;hnf&quot; now reduces inner beta-iota redexes
(potential source of rare incompatibilities).</p></li>
<li><p>Tactic &quot;intro H&quot; now reduces beta-iota redexes if these hide a product
(potential source of rare incompatibilities).</p></li>
<li><p>In Ltac matching on patterns of the form &quot;_ pat1 ... patn&quot; now
behaves like if matching on &quot;?X pat1 ... patn&quot;, i.e. accepting &quot;_&quot;
to be instantiated by an applicative term (experimental at this
stage, potential source of incompatibilities).</p></li>
<li><p>In Ltac matching on goal, types of hypotheses are now interpreted in
the %type scope (possible source of incompatibilities).</p></li>
<li><p>&quot;change ... in ...&quot; and &quot;simpl ... in ...&quot; now properly consider nested
occurrences (possible source of incompatibilities since this alters
the numbering of occurrences), but do not support nested occurrences.</p></li>
<li><p>Tactics simpl, vm_compute and native_compute can be given a notation string
to a constant as argument.</p></li>
<li><p>When given a reference as argument, simpl, vm_compute and
native_compute now strictly interpret it as the head of a pattern
starting with this reference.</p></li>
<li><p>The &quot;change p with c&quot; tactic semantics changed, now type checking
&quot;c&quot; at each matching occurrence &quot;t&quot; of the pattern &quot;p&quot;, and
converting &quot;t&quot; with &quot;c&quot;.</p></li>
<li><p>Now &quot;appcontext&quot; and &quot;context&quot; behave the same. The old buggy behavior of
&quot;context&quot; can be retrieved at parse time by setting the
&quot;Tactic Compat Context&quot; flag (possible source of incompatibilities).</p></li>
<li><p>New introduction pattern p/c which applies lemma c on the fly on the
hypothesis under consideration before continuing with introduction pattern p.</p></li>
<li><p>New introduction pattern [= x1 .. xn] applies &quot;injection as [x1 .. xn]&quot;
on the fly if injection is applicable to the hypothesis under consideration
(idea borrowed from Georges Gonthier). Introduction pattern [=] applies
&quot;discriminate&quot; if a discriminable equality.</p></li>
<li><p>New introduction patterns * and ** to respectively introduce all forthcoming
dependent variables and all variables/hypotheses dependent or not.</p></li>
<li><p>Tactic &quot;injection c as ipats&quot; now clears c if c refers to an
hypothesis and moves the resulting equations in the hypotheses
independently of the number of ipats, which has itself to be less
than the number of new hypotheses (possible source of incompatibilities;
former behavior obtainable by &quot;Unset Injection L2R Pattern Order&quot;).</p></li>
<li><p>Tactic &quot;injection&quot; now automatically simplifies subgoals
&quot;existT n p = existT n p'&quot; into &quot;p = p'&quot; when &quot;n&quot; is in an inductive type for
which a decidable equality scheme has been generated with &quot;Scheme Equality&quot;
(possible source of incompatibilities).</p></li>
<li><p>New tactic &quot;rewrite_strat&quot; for generalized rewriting with user-defined
strategies, subsuming autorewrite.</p></li>
<li><p>Injection can now also deduce equality of arguments of sort Prop, by using
the option &quot;Set Injection On Proofs&quot; (disabled by default). Also improved the
error messages.</p></li>
<li><p>Tactic &quot;subst id&quot; now supports id occurring in dependent local definitions.</p></li>
<li><p>Bugs fixed about intro-pattern &quot;*&quot; might lead to some rare incompatibilities.</p></li>
<li><p>New tactical &quot;time&quot; to display time spent executing its argument.</p></li>
<li><p>Tactics referring or using a constant dependent in a section variable which
has been cleared or renamed in the current goal context now fail
(possible source of incompatibilities solvable by avoiding clearing
the relevant hypotheses).</p></li>
<li><p>New construct &quot;uconstr:c&quot; and &quot;type_term c&quot; to build untyped terms.</p></li>
<li><p>Binders in terms defined in Ltac (either &quot;constr&quot; or &quot;uconstr&quot;) can
now take their names from identifiers defined in Ltac. As a
consequence, a name cannot be used in a binder &quot;constr:(fun x =&gt;
...)&quot; if an Ltac variable of that name already exists and does not
contain an identifier. Source of occasional incompatibilities.</p></li>
<li><p>The &quot;refine&quot; tactic now accepts untyped terms built with &quot;uconstr&quot;
so that terms with holes can be constructed piecewise in Ltac.</p></li>
<li><p>New bullets --, ++, <strong>, ---, +++, *</strong>, ... made available.</p></li>
<li><p>More informative messages when wrong bullet is used.</p></li>
<li><p>Bullet suggestion when a subgoal is solved.</p></li>
<li><p>New tactic &quot;enough&quot;, symmetric to &quot;assert&quot;, but with subgoals
swapped, as a more friendly replacement of &quot;cut&quot;.</p></li>
<li><p>In destruct/induction, experimental modifier &quot;!&quot; prefixing the
hypothesis name to tell not erasing the hypothesis.</p></li>
<li><p>Bug fixes in &quot;inversion as&quot; may occasionally lead to incompatibilities.</p></li>
<li><p>Behavior of introduction patterns -&gt; and &lt;- made more uniform
(hypothesis is cleared, rewrite in hypotheses and conclusion and
erasing the variable when rewriting a variable).</p></li>
<li><p>New experimental option &quot;Set Standard Proposition Elimination Names&quot;
so that case analysis or induction on schemes in Type containing
propositions now produces &quot;H&quot;-based names.</p></li>
<li><p>Tactics from plugins are now active only when the corresponding module
is imported (source of incompatibilities, solvable by adding an &quot;Import&quot;;
in the particular case of Omega, use &quot;Require Import OmegaTactic&quot;).</p></li>
<li><p>Semantics of destruct/induction has been made more regular in some
edge cases, possibly leading to incompatibilities:</p>
<ul>
<li><p>new goals are now opened when the term does not match a subterm of
the goal and has unresolved holes, while in 8.4 these holes were
turned into existential variables</p></li>
<li><p>when no &quot;at&quot; option is given, the historical semantics which
selects all subterms syntactically identical to the first subterm
matching the given pattern is used</p></li>
<li><p>non-dependent destruct/induction on an hypothesis with premises in
an inductive type with indices is fixed</p></li>
<li><p>residual local definitions are now correctly removed.</p></li>
</ul>
</li>
<li><p>The rename tactic may now replace variables in parallel.</p></li>
<li><p>A new &quot;Info&quot; command replaces the &quot;info&quot; tactical discontinued in
v8.4. It still gives informative results in many cases.</p></li>
<li><p>The &quot;info_auto&quot; tactic is known to be broken and does not print a
trace anymore. Use &quot;Info 1 auto&quot; instead. The same goes for
&quot;info_trivial&quot;. On the other hand &quot;info_eauto&quot; still works fine,
while &quot;Info 1 eauto&quot; prints a trivial trace.</p></li>
<li><p>When using a lemma of the prototypical form &quot;forall A, {a:A &amp; P a}&quot;,
&quot;apply&quot; and &quot;apply in&quot; do not instantiate anymore &quot;A&quot; with the
current goal and use &quot;a&quot; as the proof, as they were sometimes doing,
now considering that it is a too powerful decision.</p></li>
</ul>
<p>Program</p>
<ul class="simple">
<li><p>&quot;Solve Obligations using&quot; changed to &quot;Solve Obligations with&quot;,
consistent with &quot;Proof with&quot;.</p></li>
<li><p>Program Lemma, Definition now respect automatic introduction.</p></li>
<li><p>Program Lemma, Definition, etc.. now interpret &quot;-&gt;&quot; like Lemma and
Definition as a non-dependent arrow (potential source of
incompatibility).</p></li>
<li><p>Add/document &quot;Set Hide Obligations&quot; (to hide obligations in the final
term inside an implicit argument) and &quot;Set Shrink Obligations&quot; (to
minimize dependencies of obligations defined by tactics).</p></li>
</ul>
<p>Notations</p>
<ul class="simple">
<li><p>The syntax &quot;x -&gt; y&quot; is now declared at level 99. In particular, it has
now a lower priority than &quot;&lt;-&gt;&quot;: &quot;A -&gt; B &lt;-&gt; C&quot; is now &quot;A -&gt; (B &lt;-&gt; C)&quot;
(possible source of incompatibilities)</p></li>
<li><p>Notations accept term-providing tactics using the $(...)$ syntax.</p></li>
<li><p>&quot;Bind Scope&quot; can no longer bind &quot;Funclass&quot; and &quot;Sortclass&quot;.</p></li>
<li><p>A notation can be given a (compat &quot;8.x&quot;) annotation, making it behave
like a &quot;only parsing&quot; notation, but the annotation may lead to eventually
issue warnings or errors in further versions when this notation is used.</p></li>
<li><p>More systematic insertion of spaces as a default for printing
notations (&quot;format&quot; still available to override the default).</p></li>
<li><p>In notations, a level modifier referring to a non-existent variable is
now considered an error rather than silently ignored.</p></li>
</ul>
<p>Tools</p>
<ul class="simple">
<li><p>Option -I now only adds directories to the ml path.</p></li>
<li><p>Option -Q behaves as -R, except that the logical path of any loaded file has
to be fully qualified.</p></li>
<li><p>Option -R no longer adds recursively to the ml path; only the root
directory is added. (Behavior with respect to the load path is
unchanged.)</p></li>
<li><p>Option -nois prevents coq/theories and coq/plugins to be recursively
added to the load path. (Same behavior as with coq/user-contrib.)</p></li>
<li><p>coqdep accepts a -dumpgraph option generating a dot file.</p></li>
<li><p>Makefiles generated through coq_makefile have three new targets &quot;quick&quot;
&quot;checkproofs&quot; and &quot;vio2vo&quot;, allowing respectively to asynchronously compile
the files without playing the proof scripts, asynchronously checking
that the quickly generated proofs are correct and generating the object
files from the quickly generated proofs.</p></li>
<li><p>The XML plugin was discontinued and removed from the source.</p></li>
<li><p>A new utility called coqworkmgr can be used to limit the number of
concurrent workers started by independent processes, like make and CoqIDE.
This is of interest for users of the par: goal selector.</p></li>
</ul>
<p>Interfaces</p>
<ul class="simple">
<li><p>CoqIDE supports asynchronous edition of the document, ongoing tasks and
errors are reported in the bottom right window.  The number of workers
taking care of processing proofs can be selected with -async-proofs-j.</p></li>
<li><p>CoqIDE highlights in yellow &quot;unsafe&quot; commands such as axiom
declarations, and tactics like &quot;give_up&quot;.</p></li>
<li><p>CoqIDE supports Proof General like key bindings;
to activate the PG mode go to Edit -&gt; Preferences -&gt; Editor.
For the documentation see Help -&gt; Help for PG mode.</p></li>
<li><p>CoqIDE automatically retracts the locked area when one edits the
locked text.</p></li>
<li><p>CoqIDE search and replace got regular expressions power. See the
documentation of OCaml's Str module for the supported syntax.</p></li>
<li><p>Many CoqIDE windows, including the query one, are now detachable to
improve usability on multi screen work stations.</p></li>
<li><p>Coqtop/coqc outputs highlighted syntax. Colors can be configured thanks
to the COQ_COLORS environment variable, and their current state can
be displayed with the -list-tags command line option.</p></li>
<li><p>Third party user interfaces can install their main loop in $COQLIB/toploop
and call coqtop with the -toploop flag to select it.</p></li>
</ul>
<p>Internal Infrastructure</p>
<ul class="simple">
<li><p>Many reorganizations in the ocaml source files. For instance,
many internal a.s.t. of Coq are now placed in mli files in
a new directory intf/, for instance constrexpr.mli or glob_term.mli.
More details in dev/doc/changes.</p></li>
<li><p>The file states/initial.coq does not exist anymore. Instead, coqtop
initially does a &quot;Require&quot; of Prelude.vo (or nothing when given
the options -noinit or -nois).</p></li>
<li><p>The format of vo files has slightly changed: cf final comments in
checker/cic.mli.</p></li>
<li><p>The build system does not produce anymore programs named coqtop.opt
and a symbolic link to coqtop. Instead, coqtop is now directly
an executable compiled with the best OCaml compiler available.
The bytecode program coqtop.byte is still produced. Same for other
utilities.</p></li>
<li><p>Some options of the ./configure script slightly changed:</p>
<ul>
<li><p>The -coqrunbyteflags and its blank-separated argument is replaced
by option -vmbyteflags which expects a comma-separated argument.</p></li>
<li><p>The -coqtoolsbyteflags option is discontinued, see -no-custom instead.</p></li>
</ul>
</li>
</ul>
<p>Miscellaneous</p>
<ul class="simple">
<li><p>ML plugins now require a &quot;DECLARE PLUGIN &quot;foo&quot;&quot; statement. The &quot;foo&quot; name
must be exactly the name of the ML module that will be loaded through a
&quot;Declare ML &quot;foo&quot;&quot; command.</p></li>
</ul>
</div>
<div class="section" id="details-of-changes-in-8-5beta2">
<h3>Details of changes in 8.5beta2<a class="headerlink" href="#details-of-changes-in-8-5beta2" title="Permalink to this headline">¶</a></h3>
<p>Logic</p>
<ul class="simple">
<li><p>The VM now supports inductive types with up to 8388851 non-constant
constructors and up to 8388607 constant ones.</p></li>
</ul>
<p>Specification language</p>
<ul class="simple">
<li><p>Syntax &quot;$(tactic)$&quot; changed to &quot;ltac: tactic&quot;.</p></li>
</ul>
<p>Tactics</p>
<ul class="simple">
<li><p>A script using the admit tactic can no longer be concluded by either
Qed or Defined. In the first case, Admitted can be used instead. In
the second case, a subproof should be used.</p></li>
<li><p>The easy tactic and the now tactical now have a more predictable
behavior, but they might now discharge some previously unsolved goals.</p></li>
</ul>
<p>Extraction</p>
<ul class="simple">
<li><p>Definitions extracted to Haskell GHC should no longer randomly
segfault when some Coq types cannot be represented by Haskell types.</p></li>
<li><p>Definitions can now be extracted to Json for post-processing.</p></li>
</ul>
<p>Tools</p>
<ul class="simple">
<li><p>Option -I -as has been removed, and option -R -as has been
deprecated. In both cases, option -R can be used instead.</p></li>
<li><p>coq_makefile now generates double-colon rules for rules such as clean.</p></li>
</ul>
<p>API</p>
<ul class="simple">
<li><p>The interface of [change] has changed to take a [change_arg], which
can be built from a [constr] using [make_change_arg].</p></li>
</ul>
</div>
<div class="section" id="details-of-changes-in-8-5beta3">
<h3>Details of changes in 8.5beta3<a class="headerlink" href="#details-of-changes-in-8-5beta3" title="Permalink to this headline">¶</a></h3>
<p>Commands</p>
<ul class="simple">
<li><p>New command &quot;Redirect&quot; to redirect the output of a command to a file.</p></li>
<li><p>New command &quot;Undelimit Scope&quot; to remove the delimiter of a scope.</p></li>
<li><p>New option &quot;Strict Universe Declaration&quot;, set by default. It enforces the
declaration of all polymorphic universes appearing in a definition when
introducing it.</p></li>
<li><p>New command &quot;Show id&quot; to show goal named id.</p></li>
<li><p>Option &quot;Virtual Machine&quot; removed.</p></li>
</ul>
<p>Tactics</p>
<ul class="simple">
<li><p>New flag &quot;Regular Subst Tactic&quot; which fixes &quot;subst&quot; in situations where
it failed to substitute all substitutable equations or failed to simplify
cycles, or accidentally unfolded local definitions (flag is off by default).</p></li>
<li><p>New flag &quot;Loose Hint Behavior&quot; to handle hints loaded but not imported in a
special way. It accepts three distinct flags:
* &quot;Lax&quot;, which is the default one, sets the old behavior, i.e. a non-imported
hint behaves the same as an imported one.
* &quot;Warn&quot; outputs a warning when a non-imported hint is used. Note that this is
an over-approximation, because a hint may be triggered by an eauto run that
will eventually fail and backtrack.
* &quot;Strict&quot; changes the behavior of an unloaded hint to the one of the fail
tactic, allowing to emulate the hopefully future import-scoped hint mechanism.</p></li>
<li><p>New compatibility flag &quot;Universal Lemma Under Conjunction&quot; which
let tactics working under conjunctions apply sublemmas of the form
&quot;forall A, ... -&gt; A&quot;.</p></li>
<li><p>New compatibility flag &quot;Bracketing Last Introduction Pattern&quot; which can be
set so that the last disjunctive-conjunctive introduction pattern given to
&quot;intros&quot; automatically complete the introduction of its subcomponents, as the
the disjunctive-conjunctive introduction patterns in non-terminal position
already do.</p></li>
<li><p>New flag &quot;Shrink Abstract&quot; that minimalizes proofs generated by the abstract
tactical w.r.t. variables appearing in the body of the proof.</p></li>
</ul>
<p>Program</p>
<ul class="simple">
<li><p>The &quot;Shrink Obligations&quot; flag now applies to all obligations, not only those
solved by the automatic tactic.</p></li>
<li><p>Importing Program no longer overrides the &quot;exists&quot; tactic (potential source
of incompatibilities).</p></li>
<li><p>Hints costs are now correctly taken into account (potential source of
incompatibilities).</p></li>
<li><p>Documented the Hint Cut command that allows control of the
proof search during typeclass resolution (see reference manual).</p></li>
</ul>
<p>API</p>
<ul>
<li><p>Some functions from pretyping/typing.ml and their derivatives were potential
source of evarmap leaks, as they dropped their resulting evarmap. The
situation was clarified by renaming them according to a <code class="docutils literal notranslate"><span class="pre">unsafe_*</span></code> scheme. Their
sound variant is likewise renamed to their old name. The following renamings
were made.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Typing.type_of</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">unsafe_type_of</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Typing.e_type_of</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">type_of</span></code></p></li>
<li><p>A new <code class="docutils literal notranslate"><span class="pre">e_type_of</span></code> function that matches the <code class="docutils literal notranslate"><span class="pre">e_</span></code> prefix policy</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tacmach.pf_type_of</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">pf_unsafe_type_of</span></code></p></li>
<li><p>A new safe <code class="docutils literal notranslate"><span class="pre">pf_type_of</span></code> function.</p></li>
</ul>
<p>All uses of <code class="docutils literal notranslate"><span class="pre">unsafe_*</span></code> functions should be eventually eliminated.</p>
</li>
</ul>
<p>Tools</p>
<ul class="simple">
<li><p>Added an option -w to control the output of coqtop warnings.</p></li>
<li><p>Configure now takes an optional -native-compiler (yes|no) flag replacing
-no-native-compiler. The new flag is set to no by default under Windows.</p></li>
<li><p>Flag -no-native-compiler was removed and became the default for coqc. If
precompilation of files for native conversion test is desired, use
-native-compiler.</p></li>
<li><p>The -compile command-line option now takes the full path of the considered
file, including the &quot;.v&quot; extension, and outputs a warning if such an extension
is lacking.</p></li>
<li><p>The -require and -load-vernac-object command-line options now take a logical
path of a given library rather than a physical path, thus they behave like
Require [Import] path.</p></li>
<li><p>The -vm command-line option has been removed.</p></li>
</ul>
<p>Standard Library</p>
<blockquote>
<div><ul class="simple">
<li><p>There is now a Coq.Compat.Coq84 library, which sets the various compatibility
options and does a few redefinitions to make Coq behave more like Coq v8.4.
The standard way of putting Coq in v8.4 compatibility mode is to pass the command
line flags &quot;-require Coq.Compat.Coq84 -compat 8.4&quot;.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="details-of-changes-in-8-5">
<h3>Details of changes in 8.5<a class="headerlink" href="#details-of-changes-in-8-5" title="Permalink to this headline">¶</a></h3>
<p>Tools</p>
<ul class="simple">
<li><p>Flag &quot;-compat 8.4&quot; now loads Coq.Compat.Coq84. The standard way of
putting Coq in v8.4 compatibility mode is to pass the command line flag
&quot;-compat 8.4&quot;. It can be followed by &quot;-require Coq.Compat.AdmitAxiom&quot;
if the 8.4 behavior of admit is needed, in which case it uses an axiom.</p></li>
</ul>
<p>Specification language</p>
<ul class="simple">
<li><p>Syntax &quot;$(tactic)$&quot; changed to &quot;ltac:(tactic)&quot;.</p></li>
</ul>
<p>Tactics</p>
<ul class="simple">
<li><p>Syntax &quot;destruct !hyp&quot; changed to &quot;destruct (hyp)&quot;, and similarly
for induction (rare source of incompatibilities easily solvable by
removing parentheses around &quot;hyp&quot; when not for the purpose of keeping
the hypothesis).</p></li>
<li><p>Syntax &quot;p/c&quot; for on-the-fly application of a lemma c before
introducing along pattern p changed to p%c1..%cn. The feature and
syntax are in experimental stage.</p></li>
<li><p>&quot;Proof using&quot; does not clear unused section variables.</p></li>
<li><p>Tactic &quot;refine&quot; has been changed back to the 8.4 behavior of shelving subgoals
that occur in other subgoals. The &quot;refine&quot; tactic of 8.5beta3 has been
renamed &quot;simple refine&quot;; it does not shelve any subgoal.</p></li>
<li><p>New tactical &quot;unshelve tac&quot; which grab existential variables put on
the tactic shelve by the execution of &quot;tac&quot;.</p></li>
</ul>
</div>
<div class="section" id="details-of-changes-in-8-5pl1">
<h3>Details of changes in 8.5pl1<a class="headerlink" href="#details-of-changes-in-8-5pl1" title="Permalink to this headline">¶</a></h3>
<p>Critical bugfix</p>
<ul class="simple">
<li><p>The subterm relation for the guard condition was incorrectly defined on
primitive projections (#4588)</p></li>
</ul>
<p>Plugin development tools</p>
<ul class="simple">
<li><p>add a .merlin target to the makefile</p></li>
</ul>
<p>Various performance improvements (time, space used by .vo files)</p>
<p>Other bugfixes</p>
<ul class="simple">
<li><p>Fix order of arguments to Big.compare_case in ExtrOcamlZBigInt.v</p></li>
<li><p>Added compatibility coercions from Specif.v which were present in Coq 8.4.</p></li>
<li><p>Fixing a source of inefficiency and an artificial dependency in the printer in the congruence tactic.</p></li>
<li><p>Allow to unset the refinement mode of Instance in ML</p></li>
<li><p>Fixing an incorrect use of prod_appvect on a term which was not a product in setoid_rewrite.</p></li>
<li><p>Add -compat 8.4 econstructor tactics, and tests</p></li>
<li><p>Add compatibility Nonrecursive Elimination Schemes</p></li>
<li><p>Fixing the &quot;No applicable tactic&quot; uninformative error message regression on apply.</p></li>
<li><p>Univs: fix get_current_context (bug #4603, part I)</p></li>
<li><p>Fix a bug in Program coercion code</p></li>
<li><p>Fix handling of arity of definitional classes.</p></li>
<li><p>#4630: Some tactics are 20x slower in 8.5 than 8.4.</p></li>
<li><p>#4627: records with no declared arity can be template polymorphic.</p></li>
<li><p>#4623: set tactic too weak with universes (regression)</p></li>
<li><p>Fix incorrect behavior of CS resolution</p></li>
<li><p>#4591: Uncaught exception in directory browsing.</p></li>
<li><p>CoqIDE is more resilient to initialization errors.</p></li>
<li><p>#4614: &quot;Fully check the document&quot; is uninterruptible.</p></li>
<li><p>Try eta-expansion of records only on non-recursive ones</p></li>
<li><p>Fix bug when a sort is ascribed to a Record</p></li>
<li><p>Primitive projections: protect kernel from erroneous definitions.</p></li>
<li><p>Fixed bug #4533 with previous Keyed Unification commit</p></li>
<li><p>Win: kill unreliable hence do not waitpid after kill -9 (Close #4369)</p></li>
<li><p>Fix strategy of Keyed Unification</p></li>
<li><p>#4608: Anomaly &quot;output_value: abstract value (outside heap)&quot;.</p></li>
<li><p>#4607: do not read native code files if native compiler was disabled.</p></li>
<li><p>#4105: poor escaping in the protocol between CoqIDE and coqtop.</p></li>
<li><p>#4596: [rewrite] broke in the past few weeks.</p></li>
<li><p>#4533 (partial): respect declared global transparency of projections in unification.ml</p></li>
<li><p>#4544: Backtrack on using full betaiota reduction during keyed unification.</p></li>
<li><p>#4540: CoqIDE bottom progress bar does not update.</p></li>
<li><p>Fix regression from 8.4 in reflexivity</p></li>
<li><p>#4580: [Set Refine Instance Mode] also used for Program Instance.</p></li>
<li><p>#4582: cannot override notation [ x ]. MAY CREATE INCOMPATIBILITIES, see #4683.</p></li>
<li><p>STM: Print/Extraction have to be skipped if -quick</p></li>
<li><p>#4542: CoqIDE: STOP button also stops workers</p></li>
<li><p>STM: classify some variants of Instance as regular `` <code class="docutils literal notranslate"><span class="pre">Fork</span> <span class="pre">`</span></code> nodes.</p></li>
<li><p>#4574: Anomaly: Uncaught exception Invalid_argument(&quot;splay_arity&quot;).</p></li>
<li><p>Do not give a name to anonymous evars anymore. See bug #4547.</p></li>
<li><p>STM: always stock in vio files the first node (state) of a proof</p></li>
<li><p>STM: not delegate proofs that contain Vernac(Module|Require|Import), #4530</p></li>
<li><p>Don't fail fatally if PATH is not set.</p></li>
<li><p>#4537: Coq 8.5 is slower in typeclass resolution.</p></li>
<li><p>#4522: Incorrect &quot;Warning...&quot; on windows.</p></li>
<li><p>#4373: coqdep does not know about .vio files.</p></li>
<li><p>#3826: &quot;Incompatible module types&quot; is uninformative.</p></li>
<li><p>#4495: Failed assertion in metasyntax.ml.</p></li>
<li><p>#4511: evar tactic can create non-typed evars.</p></li>
<li><p>#4503: mixing universe polymorphic and monomorphic variables and definitions in sections is unsupported.</p></li>
<li><p>#4519: oops, global shadowed local universe level bindings.</p></li>
<li><p>#4506: Anomaly: File &quot;pretyping/indrec.ml&quot;, line 169, characters 14-20: Assertion failed.</p></li>
<li><p>#4548: CoqIDE crashes when going back one command</p></li>
</ul>
</div>
<div class="section" id="details-of-changes-in-8-5pl2">
<h3>Details of changes in 8.5pl2<a class="headerlink" href="#details-of-changes-in-8-5pl2" title="Permalink to this headline">¶</a></h3>
<p>Critical bugfix</p>
<ul class="simple">
<li><p>Checksums of .vo files dependencies were not correctly checked.</p></li>
<li><p>Unicode-to-ASCII translation was not injective, leading in a soundness bug in
the native compiler.</p></li>
</ul>
<p>Other bugfixes</p>
<ul class="simple">
<li><p>#4097: more efficient occur-check in presence of primitive projections</p></li>
<li><p>#4398: type_scope used consistently in &quot;match goal&quot;.</p></li>
<li><p>#4450: eauto does not work with polymorphic lemmas</p></li>
<li><p>#4677: fix alpha-conversion in notations needing eta-expansion.</p></li>
<li><p>Fully preserve initial order of hypotheses in &quot;Regular Subst Tactic&quot; mode.</p></li>
<li><p>#4644: a regression in unification.</p></li>
<li><p>#4725: Function (Error: Conversion test raised an anomaly) and Program
(Error: Cannot infer this placeholder of type)</p></li>
<li><p>#4747: Problem building Coq 8.5pl1 with OCaml 4.03.0: Fatal warnings</p></li>
<li><p>#4752: CoqIDE crash on files not ended by &quot;.v&quot;.</p></li>
<li><p>#4777: printing inefficiency with implicit arguments</p></li>
<li><p>#4818: &quot;Admitted&quot; fails due to undefined universe anomaly after calling
&quot;destruct&quot;</p></li>
<li><p>#4823: remote counter: avoid thread race on sockets</p></li>
<li><p>#4841: -verbose flag changed semantics in 8.5, is much harder to use</p></li>
<li><p>#4851: [nsatz] cannot handle duplicated hypotheses</p></li>
<li><p>#4858: Anomaly: Uncaught exception Failure(&quot;hd&quot;). Please report. in variant
of nsatz</p></li>
<li><p>#4880: [nsatz_compute] generates invalid certificates if given redundant
hypotheses</p></li>
<li><p>#4881: synchronizing &quot;Declare Implicit Tactic&quot; with backtrack.</p></li>
<li><p>#4882: anomaly with Declare Implicit Tactic on hole of type with evars</p></li>
<li><p>Fix use of &quot;Declare Implicit Tactic&quot; in refine.
triggered by CoqIDE</p></li>
<li><p>#4069, #4718: congruence fails when universes are involved.</p></li>
</ul>
<p>Universes</p>
<ul class="simple">
<li><p>Disallow silently dropping universe instances applied to variables
(forward compatible)</p></li>
<li><p>Allow explicit universe instances on notations, when they can apply
to the head reference of their expansion.</p></li>
</ul>
<p>Build infrastructure</p>
<ul class="simple">
<li><p>New update on how to find camlp5 binary and library at configure time.</p></li>
</ul>
</div>
<div class="section" id="details-of-changes-in-8-5pl3">
<h3>Details of changes in 8.5pl3<a class="headerlink" href="#details-of-changes-in-8-5pl3" title="Permalink to this headline">¶</a></h3>
<p>Critical bugfix</p>
<ul class="simple">
<li><p>#4876: Guard checker incompleteness when using primitive projections</p></li>
</ul>
<p>Other bugfixes</p>
<ul class="simple">
<li><p>#4780: Induction with universe polymorphism on was creating ill-typed terms.</p></li>
<li><p>#4673: regression in setoid_rewrite, unfolding let-ins for type unification.</p></li>
<li><p>#4754: Regression in setoid_rewrite, allow postponed unification problems to remain.</p></li>
<li><p>#4769: Anomaly with universe polymorphic schemes defined inside sections.</p></li>
<li><p>#3886: Program: duplicate obligations of mutual fixpoints.</p></li>
<li><p>#4994: Documentation typo.</p></li>
<li><p>#5008: Use the &quot;md5&quot; command on OpenBSD.</p></li>
<li><p>#5007: Do not assume the &quot;TERM&quot; environment variable is always set.</p></li>
<li><p>#4606: Output a break before a list only if there was an empty line.</p></li>
<li><p>#5001: metas not cleaned properly in clenv_refine_in.</p></li>
<li><p>#2336: incorrect glob data for module symbols (bug #2336).</p></li>
<li><p>#4832: Remove extraneous dot in error message.</p></li>
<li><p>Anomaly in printing a unification error message.</p></li>
<li><p>#4947: Options which take string arguments are not backwards compatible.</p></li>
<li><p>#4156: micromega cache files are now hidden files.</p></li>
<li><p>#4871: interrupting par:abstract kills coqtop.</p></li>
<li><p>#5043: [Admitted] lemmas pick up section variables.</p></li>
<li><p>Fix name of internal refine (&quot;simple refine&quot;).</p></li>
<li><p>#5062: probably a typo in Strict Proofs mode.</p></li>
<li><p>#5065: Anomaly: Not a proof by induction.</p></li>
<li><p>Restore native compiler optimizations, they were disabled since 8.5!</p></li>
<li><p>#5077: failure on typing a fixpoint with evars in its type.</p></li>
<li><p>Fix recursive notation bug.</p></li>
<li><p>#5095: irrelevant too strict test in let-in abstraction.</p></li>
<li><p>Ensuring that the evar name is preserved by &quot;rename&quot;.</p></li>
<li><p>#4887: confusion between using and with in documentation of firstorder.</p></li>
<li><p>Bug in subst with let-ins.</p></li>
<li><p>#4762: eauto weaker than auto.</p></li>
<li><p>Remove if_then_else (was buggy). Use tryif instead.</p></li>
<li><p>#4970: confusion between special &quot;{&quot; and non-special &quot;{{&quot; in notations.</p></li>
<li><p>#4529: primitive projections unfolding.</p></li>
<li><p>#4416: Incorrect &quot;Error: Incorrect number of goals&quot;.</p></li>
<li><p>#4863: abstract in typeclass hint fails.</p></li>
<li><p>#5123: unshelve can impact typeclass resolution</p></li>
<li><p>Fix a collision about the meta-variable &quot;..&quot; in recursive notations.</p></li>
<li><p>Fix printing of info_auto.</p></li>
<li><p>#3209: Not_found due to an occur-check cycle.</p></li>
<li><p>#5097: status of evars refined by &quot;clear&quot; in ltac: closed wrt evars.</p></li>
<li><p>#5150: Missing dependency of the test-suite subsystems in prerequisite.</p></li>
<li><p>Fix a bug in error printing of unif constraints</p></li>
<li><p>#3941: Do not stop propagation of signals when Coq is busy.</p></li>
<li><p>#4822: Incorrect assertion in cbn.</p></li>
<li><p>#3479 parsing of &quot;{&quot; and &quot;}&quot; when a keyword starts with &quot;{&quot; or &quot;}&quot;.</p></li>
<li><p>#5127: Memory corruption with the VM.</p></li>
<li><p>#5102: bullets parsing broken by calls to parse_entry.</p></li>
</ul>
<p>Various documentation improvements</p>
</div>
</div>
<div class="section" id="version-8-4">
<h2>Version 8.4<a class="headerlink" href="#version-8-4" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1502">
<h3>Summary of changes<a class="headerlink" href="#id1502" title="Permalink to this headline">¶</a></h3>
<p>Coq version 8.4 contains the result of three long-term projects: a new
modular library of arithmetic by Pierre Letouzey, a new proof engine by
Arnaud Spiwack and a new communication protocol for CoqIDE by Vincent
Gross.</p>
<p>The new modular library of arithmetic extends, generalizes and unifies
the existing libraries on Peano arithmetic (types nat, N and BigN),
positive arithmetic (type positive), integer arithmetic (Z and BigZ) and
machine word arithmetic (type Int31). It provides with unified notations
(e.g. systematic use of add and mul for denoting the addition and
multiplication operators), systematic and generic development of
operators and properties of these operators for all the types mentioned
above, including gcd, pcm, power, square root, base 2 logarithm,
division, modulo, bitwise operations, logical shifts, comparisons,
iterators, ...</p>
<p>The most visible feature of the new proof engine is the support for
structured scripts (bullets and proof brackets) but, even if yet not
user-available, the new engine also provides the basis for refining
existential variables using tactics, for applying tactics to several
goals simultaneously, for reordering goals, all features which are
planned for the next release. The new proof engine forced Pierre Letouzey
to reimplement info and Show Script differently.</p>
<p>Before version 8.4, CoqIDE was linked to Coq with the graphical
interface living in a separate thread. From version 8.4, CoqIDE is a
separate process communicating with Coq through a textual channel. This
allows for a more robust interfacing, the ability to interrupt Coq
without interrupting the interface, and the ability to manage several
sessions in parallel. Relying on the infrastructure work made by Vincent
Gross, Pierre Letouzey, Pierre Boutillier and Pierre-Marie Pédrot
contributed many various refinements of CoqIDE.</p>
<p>Coq 8.4 also comes with a bunch of various smaller-scale changes
and improvements regarding the different components of the system.</p>
<p>The underlying logic has been extended with η-conversion
thanks to Hugo Herbelin, Stéphane Glondu and Benjamin Grégoire. The
addition of η-conversion is justified by the confidence that
the formulation of the Calculus of Inductive Constructions based on
typed equality (such as the one considered in Lee and Werner to build a
set-theoretic model of CIC <a class="reference internal" href="zebibliography.html#leewerner11" id="id1503">[LW11]</a>) is
applicable to the concrete implementation of Coq.</p>
<p>The underlying logic benefited also from a refinement of the guard
condition for fixpoints by Pierre Boutillier, the point being that it is
safe to propagate the information about structurally smaller arguments
through β-redexes that are blocked by the “match”
construction (blocked commutative cuts).</p>
<p>Relying on the added permissiveness of the guard condition, Hugo
Herbelin could extend the pattern matching compilation algorithm so that
matching over a sequence of terms involving dependencies of a term or of
the indices of the type of a term in the type of other terms is
systematically supported.</p>
<p>Regarding the high-level specification language, Pierre Boutillier
introduced the ability to give implicit arguments to anonymous
functions, Hugo Herbelin introduced the ability to define notations with
several binders (e.g. <code class="docutils literal notranslate"><span class="pre">exists</span> <span class="pre">x</span> <span class="pre">y</span> <span class="pre">z,</span> <span class="pre">P</span></code>), Matthieu Sozeau made the
typeclass inference mechanism more robust and predictable, Enrico
Tassi introduced a command Arguments that generalizes Implicit Arguments
and Arguments Scope for assigning various properties to arguments of
constants. Various improvements in the type inference algorithm were
provided by Matthieu Sozeau and Hugo Herbelin with contributions from
Enrico Tassi.</p>
<p>Regarding tactics, Hugo Herbelin introduced support for referring to
expressions occurring in the goal by pattern in tactics such as set or
destruct. Hugo Herbelin also relied on ideas from Chung-Kil Hur’s Heq
plugin to introduce automatic computation of occurrences to generalize
when using destruct and induction on types with indices. Stéphane Glondu
introduced new tactics <a class="reference internal" href="proof-engine/ltac.html#coq:tacn.constr_eq" title="constr_eq"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">constr_eq</span></code></a>, <a class="reference internal" href="proof-engine/ltac.html#coq:tacn.is_evar" title="is_evar"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">is_evar</span></code></a>, and <a class="reference internal" href="proof-engine/ltac.html#coq:tacn.has_evar" title="has_evar"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">has_evar</span></code></a>, to be used
when writing complex tactics. Enrico Tassi added support to fine-tuning
the behavior of <a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.simpl" title="simpl"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">simpl</span></code></a>. Enrico Tassi added the ability to specify over
which variables of a section a lemma has to be exactly generalized.
Pierre Letouzey added a tactic timeout and the interruptibility of
<a class="reference internal" href="proofs/writing-proofs/equality.html#coq:tacn.vm_compute" title="vm_compute"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">vm_compute</span></code></a>. Bug fixes and miscellaneous improvements of the tactic
language came from Hugo Herbelin, Pierre Letouzey and Matthieu Sozeau.</p>
<p>Regarding decision tactics, Loïc Pottier maintained nsatz, moving in
particular to a typeclass based reification of goals while Frédéric
Besson maintained Micromega, adding in particular support for division.</p>
<p>Regarding commands, Stéphane Glondu provided new commands to
analyze the structure of type universes.</p>
<p>Regarding libraries, a new library about lists of a given length (called
vectors) has been provided by Pierre Boutillier. A new instance of
finite sets based on Red-Black trees and provided by Andrew Appel has
been adapted for the standard library by Pierre Letouzey. In the library
of real analysis, Yves Bertot changed the definition of <span class="math notranslate nohighlight">\(\pi\)</span> and
provided a proof of the long-standing fact yet remaining unproved in
this library, namely that <span class="math notranslate nohighlight">\(sin \frac{\pi}{2} =
1\)</span>.</p>
<p>Pierre Corbineau maintained the Mathematical Proof Language (C-zar).</p>
<p>Bruno Barras and Benjamin Grégoire maintained the call-by-value
reduction machines.</p>
<p>The extraction mechanism benefited from several improvements provided by
Pierre Letouzey.</p>
<p>Pierre Letouzey maintained the module system, with contributions from
Élie Soubiran.</p>
<p>Julien Forest maintained the Function command.</p>
<p>Matthieu Sozeau maintained the setoid rewriting mechanism.</p>
<p>Coq related tools have been upgraded too. In particular, coq_makefile
has been largely revised by Pierre Boutillier. Also, patches from Adam
Chlipala for coqdoc have been integrated by Pierre Boutillier.</p>
<p>Bruno Barras and Pierre Letouzey maintained the <code class="docutils literal notranslate"><span class="pre">coqchk</span></code> checker.</p>
<p>Pierre Courtieu and Arnaud Spiwack contributed new features for using
Coq through Proof General.</p>
<p>The Dp plugin has been removed. Use the plugin provided with Why 3
instead (<a class="reference external" href="http://why3.lri.fr/">http://why3.lri.fr/</a>).</p>
<p>Under the hood, the Coq architecture benefited from improvements in
terms of efficiency and robustness, especially regarding universes
management and existential variables management, thanks to Pierre
Letouzey and Yann Régis-Gianas with contributions from Stéphane Glondu
and Matthias Puech. The build system is maintained by Pierre Letouzey
with contributions from Stéphane Glondu and Pierre Boutillier.</p>
<p>A new backtracking mechanism simplifying the task of external interfaces
has been designed by Pierre Letouzey.</p>
<p>The general maintenance was done by Pierre Letouzey, Hugo Herbelin,
Pierre Boutillier, Matthieu Sozeau and Stéphane Glondu with also
specific contributions from Guillaume Melquiond, Julien Narboux and
Pierre-Marie Pédrot.</p>
<p>Packaging tools were provided by Pierre Letouzey (Windows), Pierre
Boutillier (MacOS), Stéphane Glondu (Debian). Releasing, testing and
benchmarking support was provided by Jean-Marc Notin.</p>
<p>Many suggestions for improvements were motivated by feedback from users,
on either the bug tracker or the Coq-Club mailing list. Special thanks
are going to the users who contributed patches, starting with Tom
Prince. Other patch contributors include Cédric Auger, David Baelde, Dan
Grayson, Paolo Herms, Robbert Krebbers, Marc Lasson, Hendrik Tews and
Eelis van der Weegen.</p>
<div class="line-block">
<div class="line">Paris, December 2011</div>
<div class="line">Hugo Herbelin</div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="id1504">
<h3>Potential sources of incompatibilities<a class="headerlink" href="#id1504" title="Permalink to this headline">¶</a></h3>
<p>The main known incompatibilities between 8.3 and 8.4 are consequences
of the following changes:</p>
<ul>
<li><p>The reorganization of the library of numbers:</p>
<p>Several definitions have new names or are defined in modules of
different names, but a special care has been taken to have this
renaming transparent for the user thanks to compatibility notations.</p>
<p>However some definitions have changed, what might require some
adaptations. The most noticeable examples are:</p>
<ul class="simple">
<li><p>The &quot;?=&quot; notation which now bind to Pos.compare rather than former
Pcompare (now Pos.compare_cont).</p></li>
<li><p>Changes in names may induce different automatically generated
names in proof scripts (e.g. when issuing &quot;destruct Z_le_gt_dec&quot;).</p></li>
<li><p>Z.add has a new definition, hence, applying &quot;simpl&quot; on subterms of
its body might give different results than before.</p></li>
<li><p>BigN.shiftl and BigN.shiftr have reversed arguments order, the
power function in BigN now takes two BigN.</p></li>
</ul>
</li>
<li><p>Other changes in libraries:</p>
<ul class="simple">
<li><p>The definition of functions over &quot;vectors&quot; (list of fixed length)
have changed.</p></li>
<li><p>TheoryList.v has been removed.</p></li>
</ul>
</li>
<li><p>Slight changes in tactics:</p>
<ul class="simple">
<li><p>Less unfolding of fixpoints when applying destruct or inversion on
a fixpoint hiding an inductive type (add an extra call to simpl to
preserve compatibility).</p></li>
<li><p>Less unexpected local definitions when applying &quot;destruct&quot;
(incompatibilities solvable by adapting name hypotheses).</p></li>
<li><p>Tactic &quot;apply&quot; might succeed more often, e.g. by now solving
pattern-matching of the form ?f x y = g(x,y) (compatibility
ensured by using &quot;Unset Tactic Pattern Unification&quot;), but also
because it supports (full) betaiota (using &quot;simple apply&quot; might
then help).</p></li>
<li><p>Tactic autorewrite does no longer instantiate pre-existing
existential variables.</p></li>
<li><p>Tactic &quot;info&quot; is now available only for auto, eauto and trivial.</p></li>
</ul>
</li>
<li><p>Miscellaneous changes:</p>
<ul class="simple">
<li><p>The command &quot;Load&quot; is now atomic for backtracking (use &quot;Unset
Atomic Load&quot; for compatibility).</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="details-of-changes-in-8-4beta">
<h3>Details of changes in 8.4beta<a class="headerlink" href="#details-of-changes-in-8-4beta" title="Permalink to this headline">¶</a></h3>
<p>Logic</p>
<ul class="simple">
<li><p>Standard eta-conversion now supported (dependent product only).</p></li>
<li><p>Guard condition improvement: subterm property is propagated through beta-redex
blocked by pattern-matching, as in &quot;(match v with C .. =&gt; fun x =&gt; u end) x&quot;;
this allows for instance to use &quot;rewrite ... in ...&quot; without breaking
the guard condition.</p></li>
</ul>
<p>Specification language and notations</p>
<ul class="simple">
<li><p>Maximal implicit arguments can now be set locally by { }. The registration
traverses fixpoints and lambdas. Because there is conversion in types,
maximal implicit arguments are not taken into account in partial
applications (use eta expanded form with explicit { } instead).</p></li>
<li><p>Added support for recursive notations with binders (allows for instance
to write &quot;exists x y z, P&quot;).</p></li>
<li><p>Structure/Record printing can be disable by &quot;Unset Printing Records&quot;.
In addition, it can be controlled on type by type basis using
&quot;Add Printing Record&quot; or &quot;Add Printing Constructor&quot;.</p></li>
<li><p>Pattern-matching compilation algorithm: in &quot;match x, y with ... end&quot;,
possible dependencies of x (or of the indices of its type) in the type
of y are now taken into account.</p></li>
</ul>
<p>Tactics</p>
<ul class="simple">
<li><p>New proof engine.</p></li>
<li><p>Scripts can now be structured thanks to bullets - * + and to subgoal
delimitation via { }. Note: for use with Proof General, a cvs version of
Proof General no older than mid-July 2011 is currently required.</p></li>
<li><p>Support for tactical &quot;info&quot; is suspended.</p></li>
<li><p>Support for command &quot;Show Script&quot; is suspended.</p></li>
<li><p>New tactics constr_eq, is_evar and has_evar for use in Ltac (DOC TODO).</p></li>
<li><p>Removed the two-argument variant of &quot;decide equality&quot;.</p></li>
<li><p>New experimental tactical &quot;timeout &lt;n&gt; &lt;tac&gt;&quot;. Since &lt;n&gt; is a time
in second for the moment, this feature should rather be avoided
in scripts meant to be machine-independent.</p></li>
<li><p>Fix in &quot;destruct&quot;: removal of unexpected local definitions in context might
result in some rare incompatibilities (solvable by adapting name hypotheses).</p></li>
<li><p>Introduction pattern &quot;_&quot; made more robust.</p></li>
<li><p>Tactic (and Eval command) vm_compute can now be interrupted via Ctrl-C.</p></li>
<li><p>Unification in &quot;apply&quot; supports unification of patterns of the form
?f x y = g(x,y) (compatibility ensured by using
&quot;Unset Tactic Pattern Unification&quot;). It also supports (full) betaiota.</p></li>
<li><p>Tactic autorewrite does no longer instantiate pre-existing
existential variables (theoretical source of possible incompatibilities).</p></li>
<li><p>Tactic &quot;dependent rewrite&quot; now supports equality in &quot;sig&quot;.</p></li>
<li><p>Tactic omega now understands Zpred (wish #1912) and can prove any goal
from a context containing an arithmetical contradiction (wish #2236).</p></li>
<li><p>Using &quot;auto with nocore&quot; disables the use of the &quot;core&quot; database (wish #2188).
This pseudo-database &quot;nocore&quot; can also be used with trivial and eauto.</p></li>
<li><p>Tactics &quot;set&quot;, &quot;destruct&quot; and &quot;induction&quot; accepts incomplete terms and
use the goal to complete the pattern assuming it is unambiguous.</p></li>
<li><p>When used on arguments with a dependent type, tactics such as
&quot;destruct&quot;, &quot;induction&quot;, &quot;case&quot;, &quot;elim&quot;, etc. now try to abstract
automatically the dependencies over the arguments of the types
(based on initial ideas from Chung-Kil Hur, extension to nested
dependencies suggested by Dan Grayson)</p></li>
<li><p>Tactic &quot;injection&quot; now failing on an equality showing no constructors while
it was formerly generalizing again the goal over the given equality.</p></li>
<li><p>In Ltac, the &quot;context [...]&quot; syntax has now a variant &quot;appcontext [...]&quot;
allowing to match partial applications in larger applications.</p></li>
<li><p>When applying destruct or inversion on a fixpoint hiding an inductive
type, recursive calls to the fixpoint now remain folded by default (rare
source of incompatibility generally solvable by adding a call to simpl).</p></li>
<li><p>In an ltac pattern containing a &quot;match&quot;, a final &quot;| _ =&gt; _&quot; branch could be
used now instead of enumerating all remaining constructors. Moreover, the
pattern &quot;match _ with _ =&gt; _ end&quot; now allows to match any &quot;match&quot;. A &quot;in&quot;
annotation can also be added to restrict to a precise inductive type.</p></li>
<li><p>The behavior of &quot;simpl&quot; can be tuned using the &quot;Arguments&quot; vernacular.
In particular constants can be marked so that they are always/never unfolded
by &quot;simpl&quot;, or unfolded only when a set of arguments evaluates to a
constructor. Last one can mark a constant so that it is unfolded only if the
simplified term does not expose a match in head position.</p></li>
</ul>
<p>Commands</p>
<ul class="simple">
<li><p>It is now mandatory to have a space (or tabulation or newline or end-of-file)
after a &quot;.&quot; ending a sentence.</p></li>
<li><p>In SearchAbout, the [ ] delimiters are now optional.</p></li>
<li><p>New command &quot;Add/Remove Search Blacklist &lt;substring&gt; ...&quot;:
a Search or SearchAbout or similar query will never mention lemmas
whose qualified names contain any of the declared substrings.
The default blacklisted substrings are <code class="docutils literal notranslate"><span class="pre">_subproof</span></code>, <code class="docutils literal notranslate"><span class="pre">Private_</span></code>.</p></li>
<li><p>When the output file of &quot;Print Universes&quot; ends in &quot;.dot&quot; or &quot;.gv&quot;,
the universe graph is printed in the DOT language, and can be
processed by Graphviz tools.</p></li>
<li><p>New command &quot;Print Sorted Universes&quot;.</p></li>
<li><p>The undocumented and obsolete option &quot;Set/Unset Boxed Definitions&quot; has
been removed, as well as syntaxes like &quot;Boxed Fixpoint foo&quot;.</p></li>
<li><p>A new option &quot;Set Default Timeout n / Unset Default Timeout&quot;.</p></li>
<li><p>Qed now uses information from the reduction tactics used in proof script
to avoid conversion at Qed time to go into a very long computation.</p></li>
<li><p>New command &quot;Show Goal ident&quot; to display the statement of a goal, even
a closed one (available from Proof General).</p></li>
<li><p>Command &quot;Proof&quot; accept a new modifier &quot;using&quot; to force generalization
over a given list of section variables at section ending (DOC TODO).</p></li>
<li><p>New command &quot;Arguments&quot; generalizing &quot;Implicit Arguments&quot; and
&quot;Arguments Scope&quot; and that also allows to rename the parameters of a
definition and to tune the behavior of the tactic &quot;simpl&quot;.</p></li>
</ul>
<p>Module System</p>
<ul class="simple">
<li><p>During subtyping checks, an opaque constant in a module type could now
be implemented by anything of the right type, even if bodies differ.
Said otherwise, with respect to subtyping, an opaque constant behaves
just as a parameter. Coqchk was already implementing this, but not coqtop.</p></li>
<li><p>The inlining done during application of functors can now be controlled
more precisely, by the annotations (no inline) or (inline at level XX).
With the latter annotation, only functor parameters whose levels
are lower or equal than XX will be inlined.
The level of a parameter can be fixed by &quot;Parameter Inline(30) foo&quot;.
When levels aren't given, the default value is 100. One can also use
the flag &quot;Set Inline Level ...&quot; to set a level (DOC TODO).</p></li>
<li><p>Print Assumptions should now handle correctly opaque modules (#2168).</p></li>
<li><p>Print Module (Type) now tries to print more details, such as types and
bodies of the module elements. Note that Print Module Type could be
used on a module to display only its interface. The option
&quot;Set Short Module Printing&quot; could be used to switch back to the earlier
behavior were only field names were displayed.</p></li>
</ul>
<p>Libraries</p>
<ul>
<li><p>Extension of the abstract part of Numbers, which now provide axiomatizations
and results about many more integer functions, such as pow, gcd, lcm, sqrt,
log2 and bitwise functions. These functions are implemented for nat, N, BigN,
Z, BigZ. See in particular file NPeano for new functions about nat.</p></li>
<li><p>The definition of types positive, N, Z is now in file BinNums.v</p></li>
<li><p>Major reorganization of ZArith. The initial file ZArith/BinInt.v now contains
an internal module Z implementing the Numbers interface for integers.
This module Z regroups:</p>
<ul class="simple">
<li><p>all functions over type Z : Z.add, Z.mul, ...</p></li>
<li><p>the minimal proofs of specifications for these functions : Z.add_0_l, ...</p></li>
<li><p>an instantiation of all derived properties proved generically in Numbers :
Z.add_comm, Z.add_assoc, ...</p></li>
</ul>
<p>A large part of ZArith is now simply compatibility notations, for instance
Zplus_comm is an alias for Z.add_comm. The direct use of module Z is now
recommended instead of relying on these compatibility notations.</p>
</li>
<li><p>Similar major reorganization of NArith, via a module N in NArith/BinNat.v</p></li>
<li><p>Concerning the positive datatype, BinPos.v is now in a specific directory
PArith, and contains an internal submodule Pos. We regroup there functions
such as Pos.add Pos.mul etc as well as many results about them. These results
are here proved directly (no Number interface for strictly positive numbers).</p></li>
<li><p>Note that in spite of the compatibility layers, all these reorganizations
may induce some marginal incompatibilies in scripts. In particular:</p>
<ul class="simple">
<li><p>the &quot;?=&quot; notation for positive now refers to a binary function Pos.compare,
instead of the infamous ternary Pcompare (now Pos.compare_cont).</p></li>
<li><p>some hypothesis names generated by the system may changed (typically for
a &quot;destruct Z_le_gt_dec&quot;) since naming is done after the short name of
the head predicate (here now &quot;le&quot; in module Z instead of &quot;Zle&quot;, etc).</p></li>
<li><p>the internals of Z.add has changed, now relying of Z.pos_sub.</p></li>
</ul>
</li>
<li><p>Also note these new notations:</p>
<ul class="simple">
<li><p>&quot;&lt;?&quot; &quot;&lt;=?&quot; &quot;=?&quot; for boolean tests such as Z.ltb Z.leb Z.eqb.</p></li>
<li><p>&quot;÷&quot; for the alternative integer division Z.quot implementing the Truncate
convention (former ZOdiv), while the notation for the Coq usual division
Z.div implementing the Flooring convention remains &quot;/&quot;. Their corresponding
modulo functions are Z.rem (no notations) for Z.quot and Z.modulo (infix
&quot;mod&quot; notation) for Z.div.</p></li>
</ul>
</li>
<li><p>Lemmas about conversions between these datatypes are also organized
in modules, see for instance modules Z2Nat, N2Z, etc.</p></li>
<li><p>When creating BigN, the macro-generated part NMake_gen is much smaller.
The generic part NMake has been reworked and improved. Some changes
may introduce incompatibilities. In particular, the order of the arguments
for BigN.shiftl and BigN.shiftr is now reversed: the number to shift now
comes first. By default, the power function now takes two BigN.</p></li>
<li><p>Creation of Vector, an independent library for lists indexed by their length.
Vectors' names override lists' one so you should not &quot;Import&quot; the library.
All old names changed: function names follow the ocaml ones and, for example,
Vcons becomes Vector.cons. You can get [..;..;..]-style notations by importing
Vector.VectorNotations.</p></li>
<li><p>Removal of TheoryList. Requiring List instead should work most of the time.</p></li>
<li><p>New syntax &quot;rew Heq in H&quot; and &quot;rew &lt;- Heq in H&quot; for eq_rect and
eq_rect_r (available by importing module EqNotations).</p></li>
<li><p>Wf.iter_nat is now Peano.nat_iter (with an implicit type argument).</p></li>
</ul>
<p>Internal infrastructure</p>
<ul class="simple">
<li><p>Opaque proofs are now loaded lazily by default. This allows to be almost as
fast as -dont-load-proofs, while being safer (no creation of axioms) and
avoiding feature restrictions (Print and Print Assumptions work ok).</p></li>
<li><p>Revised hash-consing code allowing more sharing of memory</p></li>
<li><p>Experimental support added for camlp4 (the one provided alongside ocaml),
simply pass option -usecamlp4 to ./configure. By default camlp5 is used.</p></li>
<li><p>Revised build system: no more stages in Makefile thanks to some recursive
aspect of recent gnu make, use of vo.itarget files containing .v to compile
for both make and ocamlbuild, etc.</p></li>
<li><p>Support of cross-compilation via mingw from unix toward Windows,
contact P. Letouzey for more informations.</p></li>
<li><p>New Makefile rules mli-doc to make html of mli in dev/doc/html and
full-stdlib to get a (huge) pdf reflecting the whole standard library.</p></li>
</ul>
<p>Extraction</p>
<ul class="simple">
<li><p>By default, opaque terms are now truly considered opaque by extraction:
instead of accessing their body, they are now considered as axioms.
The previous behavior can be reactivated via the option
&quot;Set Extraction AccessOpaque&quot;.</p></li>
<li><p>The pretty-printer for Haskell now produces layout-independent code</p></li>
<li><p>A new command &quot;Separate Extraction cst1 cst2 ...&quot; that mixes a
minimal extracted environment a la &quot;Recursive Extraction&quot; and the
production of several files (one per coq source) a la &quot;Extraction Library&quot;
(DOC TODO).</p></li>
<li><p>New option &quot;Set/Unset Extraction KeepSingleton&quot; for preventing the
extraction to optimize singleton container types (DOC TODO).</p></li>
<li><p>The extraction now identifies and properly rejects a particular case of
universe polymorphism it cannot handle yet (the pair (I,I) being Prop).</p></li>
<li><p>Support of anonymous fields in record (#2555).</p></li>
</ul>
<p>CoqIDE</p>
<ul class="simple">
<li><p>CoqIDE now runs coqtop as separated process, making it more robust:
coqtop subprocess can be interrupted, or even killed and relaunched
(cf button &quot;Restart Coq&quot;, ex-&quot;Go to Start&quot;). For allowing such
interrupts, the Windows version of coqide now requires Windows &gt;= XP
SP1.</p></li>
<li><p>The communication between CoqIDE and coqtop is now done via a dialect
of XML (DOC TODO).</p></li>
<li><p>The backtrack engine of CoqIDE has been reworked, it now uses the
&quot;Backtrack&quot; command similarly to Proof General.</p></li>
<li><p>The CoqIDE parsing of sentences has be reworked and now supports
tactic delimitation via { }.</p></li>
<li><p>CoqIDE now accepts the Abort command (wish #2357).</p></li>
<li><p>CoqIDE can read coq_makefile files as &quot;project file&quot; and use it to
set automatically options to send to coqtop.</p></li>
<li><p>Preference files have moved to $XDG_CONFIG_HOME/coq and accelerators
are not stored as a list anymore.</p></li>
</ul>
<p>Tools</p>
<ul class="simple">
<li><p>Coq now searches directories specified in COQPATH, $XDG_DATA_HOME/coq,
$XDG_DATA_DIRS/coq, and user-contribs before the standard library.</p></li>
<li><p>Coq rc file has moved to $XDG_CONFIG_HOME/coq.</p></li>
<li><p>Major changes to coq_makefile:</p>
<ul>
<li><p>mli/mlpack/mllib taken into account, ml not preproccessed anymore, ml4 work;</p></li>
<li><p>mlihtml generates doc of mli, install-doc install the html doc in DOCDIR
with the same policy as vo in COQLIB;</p></li>
<li><p>More variables are given by coqtop -config, others are defined only if the
users doesn't have defined them elsewhere. Consequently, generated makefile
should work directly on any architecture;</p></li>
<li><p>Packagers can take advantage of $(DSTROOT) introduction. Installation can
be made in $XDG_DATA_HOME/coq;</p></li>
<li><p>-arg option allows to send option as argument to coqc.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="details-of-changes-in-8-4beta2">
<h3>Details of changes in 8.4beta2<a class="headerlink" href="#details-of-changes-in-8-4beta2" title="Permalink to this headline">¶</a></h3>
<p>Commands</p>
<ul class="simple">
<li><p>Commands &quot;Back&quot; and &quot;BackTo&quot; are now handling the proof states. They may
perform some extra steps of backtrack to avoid states where the proof
state is unavailable (typically a closed proof).</p></li>
<li><p>The commands &quot;Suspend&quot; and &quot;Resume&quot; have been removed.</p></li>
<li><p>A basic Show Script has been reintroduced (no indentation).</p></li>
<li><p>New command &quot;Set Parsing Explicit&quot; for deactivating parsing (and printing)
of implicit arguments (useful for teaching).</p></li>
<li><p>New command &quot;Grab Existential Variables&quot; to transform the unresolved evars
at the end of a proof into goals.</p></li>
</ul>
<p>Tactics</p>
<ul class="simple">
<li><p>Still no general &quot;info&quot; tactical, but new specific tactics info_auto,
info_eauto, info_trivial which provides information on the proofs found
by auto/eauto/trivial. Display of these details could also be activated by
&quot;Set Info Auto&quot;/&quot;Set Info Eauto&quot;/&quot;Set Info Trivial&quot;.</p></li>
<li><p>Details on everything tried by auto/eauto/trivial during a proof search
could be obtained by &quot;debug auto&quot;, &quot;debug eauto&quot;, &quot;debug trivial&quot; or by a
global &quot;Set Debug Auto&quot;/&quot;Set Debug Eauto&quot;/&quot;Set Debug Trivial&quot;.</p></li>
<li><p>New command &quot;r string&quot; in Ltac debugger that interprets &quot;idtac
string&quot; in Ltac code as a breakpoint and jumps to its next use.</p></li>
<li><p>Tactics from the Dp plugin (simplify, ergo, yices, cvc3, z3, cvcl,
harvey, zenon, gwhy) have been removed, since Why2 has not been
maintained for the last few years. The Why3 plugin should be a suitable
replacement in most cases.</p></li>
</ul>
<p>Libraries</p>
<ul class="simple">
<li><p>MSetRBT: a new implementation of MSets via Red-Black trees (initial
contribution by Andrew Appel).</p></li>
<li><p>MSetAVL: for maximal sharing with the new MSetRBT, the argument order
of Node has changed (this should be transparent to regular MSets users).</p></li>
</ul>
<p>Module System</p>
<ul class="simple">
<li><p>The names of modules (and module types) are now in a fully separated
namespace from ordinary definitions: &quot;Definition E:=0. Module E. End E.&quot;
is now accepted.</p></li>
</ul>
<p>CoqIDE</p>
<ul class="simple">
<li><p>CoqIDE now supports the &quot;Restart&quot; command, and &quot;Undo&quot; (with a warning).
Better support for &quot;Abort&quot;.</p></li>
</ul>
</div>
<div class="section" id="details-of-changes-in-8-4">
<h3>Details of changes in 8.4<a class="headerlink" href="#details-of-changes-in-8-4" title="Permalink to this headline">¶</a></h3>
<p>Commands</p>
<ul class="simple">
<li><p>The &quot;Reset&quot; command is now supported again in files given to coqc or Load.</p></li>
<li><p>&quot;Show Script&quot; now indents again the displayed scripts. It can also work
correctly across Load'ed files if the option &quot;Unset Atomic Load&quot; is used.</p></li>
<li><p>&quot;Open Scope&quot; can now be given the delimiter (e.g. Z) instead of the full
scope name (e.g. Z_scope).</p></li>
</ul>
<p>Notations</p>
<ul class="simple">
<li><p>Most compatibility notations of the standard library are now tagged as
(compat xyz), where xyz is a former Coq version, for instance &quot;8.3&quot;.
These notations behave as (only parsing) notations, except that they may
triggers warnings (or errors) when used while Coq is not in a corresponding
-compat mode.</p></li>
<li><p>To activate these compatibility warnings, use &quot;Set Verbose Compat Notations&quot;
or the command-line flag -verbose-compat-notations.</p></li>
<li><p>For a strict mode without these compatibility notations, use
&quot;Unset Compat Notations&quot; or the command-line flag -no-compat-notations.</p></li>
</ul>
<p>Tactics</p>
<ul class="simple">
<li><p>An annotation &quot;eqn:H&quot; or &quot;eqn:?&quot; can be added to a &quot;destruct&quot;
or &quot;induction&quot; to make it generate equations in the spirit of &quot;case_eq&quot;.
The former syntax &quot;_eqn&quot; is discontinued.</p></li>
<li><p>The name of the hypothesis introduced by tactic &quot;remember&quot; can be
set via the new syntax &quot;remember t as x eqn:H&quot; (wish #2489).</p></li>
</ul>
<p>Libraries</p>
<ul class="simple">
<li><p>Reals: changed definition of PI, no more axiom about sin(PI/2).</p></li>
<li><p>SetoidPermutation: a notion of permutation for lists modulo a setoid equality.</p></li>
<li><p>BigN: fixed the ocaml code doing the parsing/printing of big numbers.</p></li>
<li><p>List: a couple of lemmas added especially about no-duplication, partitions.</p></li>
<li><p>Init: Removal of the coercions between variants of sigma-types and
subset types (possible source of incompatibility).</p></li>
</ul>
</div>
</div>
<div class="section" id="version-8-3">
<h2>Version 8.3<a class="headerlink" href="#version-8-3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1505">
<h3>Summary of changes<a class="headerlink" href="#id1505" title="Permalink to this headline">¶</a></h3>
<p>Coq version 8.3 is before all a transition version with refinements or
extensions of the existing features and libraries and a new tactic nsatz
based on Hilbert’s Nullstellensatz for deciding systems of equations
over rings.</p>
<p>With respect to libraries, the main evolutions are due to Pierre
Letouzey with a rewriting of the library of finite sets FSets and a new
round of evolutions in the modular development of arithmetic (library
Numbers). The reason for making FSets evolve is that the computational
and logical contents were quite intertwined in the original
implementation, leading in some cases to longer computations than
expected and this problem is solved in the new MSets implementation. As
for the modular arithmetic library, it was only dealing with the basic
arithmetic operators in the former version and its current extension
adds the standard theory of the division, min and max functions, all
made available for free to any implementation of <span class="math notranslate nohighlight">\(\mathbb{N}\)</span>,
<span class="math notranslate nohighlight">\(\mathbb{Z}\)</span> or <span class="math notranslate nohighlight">\(\mathbb{Z}/n\mathbb{Z}\)</span>.</p>
<p>The main other evolutions of the library are due to Hugo Herbelin who
made a revision of the sorting library (including a certified
merge-sort) and to Guillaume Melquiond who slightly revised and cleaned
up the library of reals.</p>
<p>The module system evolved significantly. Besides the resolution of some
efficiency issues and a more flexible construction of module types, Élie
Soubiran brought a new model of name equivalence, the
<span class="math notranslate nohighlight">\(\Delta\)</span>-equivalence, which respects as much as possible the names
given by the users. He also designed with Pierre Letouzey a new,
convenient operator <code class="docutils literal notranslate"><span class="pre">&lt;+</span></code> for nesting functor application that
provides a light notation for inheriting the properties of cascading
modules.</p>
<p>The new tactic nsatz is due to Loïc Pottier. It works by computing
Gröbner bases. Regarding the existing tactics, various improvements have
been done by Matthieu Sozeau, Hugo Herbelin and Pierre Letouzey.</p>
<p>Matthieu Sozeau extended and refined the typeclasses and Program
features (the Russell language). Pierre Letouzey maintained and improved
the extraction mechanism. Bruno Barras and Élie Soubiran maintained the
Coq checker, Julien Forest maintained the Function mechanism for
reasoning over recursively defined functions. Matthieu Sozeau, Hugo
Herbelin and Jean-Marc Notin maintained coqdoc. Frédéric Besson
maintained the Micromega platform for deciding systems of inequalities.
Pierre Courtieu maintained the support for the Proof General Emacs
interface. Claude Marché maintained the plugin for calling external
provers (dp). Yves Bertot made some improvements to the libraries of
lists and integers. Matthias Puech improved the search functions.
Guillaume Melquiond usefully contributed here and there. Yann
Régis-Gianas grounded the support for Unicode on a more standard and
more robust basis.</p>
<p>Though invisible from outside, Arnaud Spiwack improved the general
process of management of existential variables. Pierre Letouzey and
Stéphane Glondu improved the compilation scheme of the Coq archive.
Vincent Gross provided support to CoqIDE. Jean-Marc Notin provided
support for benchmarking and archiving.</p>
<p>Many users helped by reporting problems, providing patches, suggesting
improvements or making useful comments, either on the bug tracker or on
the Coq-Club mailing list. This includes but not exhaustively Cédric
Auger, Arthur Charguéraud, François Garillot, Georges Gonthier, Robin
Green, Stéphane Lescuyer, Eelis van der Weegen, ...</p>
<p>Though not directly related to the implementation, special thanks are
going to Yves Bertot, Pierre Castéran, Adam Chlipala, and Benjamin
Pierce for the excellent teaching materials they provided.</p>
<div class="line-block">
<div class="line">Paris, April 2010</div>
<div class="line">Hugo Herbelin</div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="details-of-changes">
<h3>Details of changes<a class="headerlink" href="#details-of-changes" title="Permalink to this headline">¶</a></h3>
<p>Rewriting tactics</p>
<ul class="simple">
<li><p>Tactic &quot;rewrite&quot; now supports rewriting on ad hoc equalities such as eq_true.</p></li>
<li><p>&quot;Hint Rewrite&quot; now checks that the lemma looks like an equation.</p></li>
<li><p>New tactic &quot;etransitivity&quot;.</p></li>
<li><p>Support for heterogeneous equality (JMeq) in &quot;injection&quot; and &quot;discriminate&quot;.</p></li>
<li><p>Tactic &quot;subst&quot; now supports heterogeneous equality and equality
proofs that are dependent (use &quot;simple subst&quot; for preserving compatibility).</p></li>
<li><p>Added support for Leibniz-rewriting of dependent hypotheses.</p></li>
<li><p>Renamed &quot;Morphism&quot; into &quot;Proper&quot; and &quot;respect&quot; into &quot;proper_prf&quot;
(possible source of incompatibility). A partial fix is to define
&quot;Notation Morphism R f := (Proper (R%signature) f).&quot;</p></li>
<li><p>New tactic variants &quot;rewrite* by&quot; and &quot;autorewrite*&quot; that rewrite
respectively the first and all matches whose side-conditions are
solved.</p></li>
<li><p>&quot;Require Import Setoid&quot; does not export all of &quot;Morphisms&quot; and
&quot;RelationClasses&quot; anymore (possible source of incompatibility, fixed
by importing &quot;Morphisms&quot; too).</p></li>
<li><p>Support added for using Chung-Kil Hur's Heq library for rewriting over
heterogeneous equality (courtesy of the library's author).</p></li>
<li><p>Tactic &quot;replace&quot; supports matching terms with holes.</p></li>
</ul>
<p>Automation tactics</p>
<ul class="simple">
<li><p>Tactic <code class="docutils literal notranslate"><span class="pre">intuition</span></code> now preserves inner <code class="docutils literal notranslate"><span class="pre">iff</span></code> and <code class="docutils literal notranslate"><span class="pre">not</span></code> (exceptional
source of incompatibilities solvable by redefining <code class="docutils literal notranslate"><span class="pre">intuition</span></code> as
<code class="docutils literal notranslate"><span class="pre">unfold</span> <span class="pre">iff,</span> <span class="pre">not</span> <span class="pre">in</span> <span class="pre">*;</span> <span class="pre">intuition</span></code>, or, for iff only, by using
<code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">Intuition</span> <span class="pre">Iff</span> <span class="pre">Unfolding</span></code>.)</p></li>
<li><p>Tactic <code class="docutils literal notranslate"><span class="pre">tauto</span></code> now proves classical tautologies as soon as classical logic
(i.e. library <code class="docutils literal notranslate"><span class="pre">Classical_Prop</span></code> or <code class="docutils literal notranslate"><span class="pre">Classical</span></code>) is loaded.</p></li>
<li><p>Tactic <code class="docutils literal notranslate"><span class="pre">gappa</span></code> has been removed from the Dp plugin.</p></li>
<li><p>Tactic <code class="docutils literal notranslate"><span class="pre">firstorder</span></code> now supports the combination of its <code class="docutils literal notranslate"><span class="pre">using</span></code> and
<code class="docutils literal notranslate"><span class="pre">with</span></code> options.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Resolve</span> <span class="pre">-&gt;</span></code> (or <code class="docutils literal notranslate"><span class="pre">&lt;-</span></code>) for declaring iff's as oriented
hints (wish #2104).</p></li>
<li><p>An inductive type as argument of the <code class="docutils literal notranslate"><span class="pre">using</span></code> option of <code class="docutils literal notranslate"><span class="pre">auto</span></code> / <code class="docutils literal notranslate"><span class="pre">eauto</span></code> / <code class="docutils literal notranslate"><span class="pre">firstorder</span></code>
is interpreted as using the collection of its constructors.</p></li>
<li><p>New decision tactic &quot;nsatz&quot; to prove polynomial equations
by computation of Groebner bases.</p></li>
</ul>
<p>Other tactics</p>
<ul class="simple">
<li><p>Tactic &quot;discriminate&quot; now performs intros before trying to discriminate an
hypothesis of the goal (previously it applied intro only if the goal
had the form t1&lt;&gt;t2) (exceptional source of incompatibilities - former
behavior can be obtained by &quot;Unset Discriminate Introduction&quot;).</p></li>
<li><p>Tactic &quot;quote&quot; now supports quotation of arbitrary terms (not just the
goal).</p></li>
<li><p>Tactic &quot;idtac&quot; now displays its &quot;list&quot; arguments.</p></li>
<li><p>New introduction patterns &quot;*&quot; for introducing the next block of dependent
variables and &quot;**&quot; for introducing all quantified variables and hypotheses.</p></li>
<li><p>Pattern Unification for existential variables activated in tactics and
new option &quot;Unset Tactic Evars Pattern Unification&quot; to deactivate it.</p></li>
<li><p>Resolution of canonical structure is now part of the tactic's unification
algorithm.</p></li>
<li><p>New tactic &quot;decide lemma with hyp&quot; for rewriting decidability lemmas
when one knows which side is true.</p></li>
<li><p>Improved support of dependent goals over objects in dependent types for
&quot;destruct&quot; (rare source of incompatibility that can be avoided by unsetting
option &quot;Dependent Propositions Elimination&quot;).</p></li>
<li><p>Tactic &quot;exists&quot;, &quot;eexists&quot;, &quot;destruct&quot; and &quot;edestruct&quot; supports iteration
using comma-separated arguments.</p></li>
<li><p>Tactic names &quot;case&quot; and &quot;elim&quot; now support clauses &quot;as&quot; and &quot;in&quot; and become
then synonymous of &quot;destruct&quot; and &quot;induction&quot; respectively.</p></li>
<li><p>A new tactic name &quot;exfalso&quot; for the use of 'ex-falso quodlibet' principle.
This tactic is simply a shortcut for &quot;elimtype False&quot;.</p></li>
<li><p>Made quantified hypotheses get the name they would have if introduced in
the context (possible but rare source of incompatibilities).</p></li>
<li><p>When applying a component of a conjunctive lemma, &quot;apply in&quot; (and
sequences of &quot;apply in&quot;) now leave the side conditions of the lemmas
uniformly after the main goal (possible source of rare incompatibilities).</p></li>
<li><p>In &quot;simpl c&quot; and &quot;change c with d&quot;, c can be a pattern.</p></li>
<li><p>Tactic &quot;revert&quot; now preserves let-in's making it the exact inverse of
&quot;intro&quot;.</p></li>
<li><p>New tactics &quot;clear dependent H&quot; and &quot;revert dependent H&quot; that
clears (resp. reverts) H and all the hypotheses that depend on H.</p></li>
<li><p>Ltac's pattern-matching now supports matching metavariables that
depend on variables bound upwards in the pattern.</p></li>
</ul>
<p>Tactic definitions</p>
<ul class="simple">
<li><p>Ltac definitions support Local option for non-export outside modules.</p></li>
<li><p>Support for parsing non-empty lists with separators in tactic notations.</p></li>
<li><p>New command &quot;Locate Ltac&quot; to get the full name of an Ltac definition.</p></li>
</ul>
<p>Notations</p>
<ul class="simple">
<li><p>Record syntax <code class="docutils literal notranslate"><span class="pre">{|x=...;</span> <span class="pre">y=...|}</span></code> now works inside patterns too.</p></li>
<li><p>Abbreviations from non-imported module now invisible at printing time.</p></li>
<li><p>Abbreviations now use implicit arguments and arguments scopes for printing.</p></li>
<li><p>Abbreviations to pure names now strictly behave like the name they refer to
(make redirections of qualified names easier).</p></li>
<li><p>Abbreviations for applied constant now propagate the implicit arguments
and arguments scope of the underlying reference (possible source of
incompatibilities generally solvable by changing such abbreviations from
e.g. <code class="docutils literal notranslate"><span class="pre">Notation</span> <span class="pre">foo'</span> <span class="pre">:=</span> <span class="pre">(foo</span> <span class="pre">x)</span></code> to <code class="docutils literal notranslate"><span class="pre">Notation</span> <span class="pre">foo'</span> <span class="pre">y</span> <span class="pre">:=</span> <span class="pre">(foo</span> <span class="pre">x</span> <span class="pre">(y:=y))</span></code>).</p></li>
<li><p>The &quot;where&quot; clause now supports multiple notations per defined object.</p></li>
<li><p>Recursive notations automatically expand one step on the left for better
factorization; recursion notations inner separators now ensured being tokens.</p></li>
<li><p>Added &quot;Reserved Infix&quot; as a specific shortcut of the corresponding
&quot;Reserved Notation&quot;.</p></li>
<li><p>Open/Close Scope command supports Global option in sections.</p></li>
</ul>
<p>Specification language</p>
<ul class="simple">
<li><p>New support for local binders in the syntax of Record/Structure fields.</p></li>
<li><p>Fixpoint/CoFixpoint now support building part or all of bodies using tactics.</p></li>
<li><p>Binders given before &quot;:&quot; in lemmas and in definitions built by tactics are
now automatically introduced (possible source of incompatibility that can
be resolved by invoking &quot;Unset Automatic Introduction&quot;).</p></li>
<li><p>New support for multiple implicit arguments signatures per reference.</p></li>
</ul>
<p>Module system</p>
<ul class="simple">
<li><p>Include Type is now deprecated since Include now accepts both modules and
module types.</p></li>
<li><p>Declare ML Module supports Local option.</p></li>
<li><p>The sharing between non-logical object and the management of the
name-space has been improved by the new &quot;Delta-equivalence&quot; on
qualified name.</p></li>
<li><p>The include operator has been extended to high-order structures</p></li>
<li><p>Sequences of Include can be abbreviated via new syntax &quot;&lt;+&quot;.</p></li>
<li><p>A module (or module type) can be given several &quot;&lt;:&quot; signatures.</p></li>
<li><p>Interactive proofs are now permitted in module type. Functors can hence
be declared as Module Type and be used later to type themselves.</p></li>
<li><p>A functor application can be prefixed by a &quot;!&quot; to make it ignore any
&quot;Inline&quot; annotation in the type of its argument(s) (for examples of
use of the new features, see libraries Structures and Numbers).</p></li>
<li><p>Coercions are now active only when modules are imported (use &quot;Set Automatic
Coercions Import&quot; to get the behavior of the previous versions of Coq).</p></li>
</ul>
<p>Extraction</p>
<ul class="simple">
<li><p>When using (Recursive) Extraction Library, the filenames are directly the
Coq ones with new appropriate extensions : we do not force anymore
uncapital first letters for Ocaml and capital ones for Haskell.</p></li>
<li><p>The extraction now tries harder to avoid code transformations that can be
dangerous for the complexity. In particular many eta-expansions at the top
of functions body are now avoided, clever partial applications will likely
be preserved, let-ins are almost always kept, etc.</p></li>
<li><p>In the same spirit, auto-inlining is now disabled by default, except for
induction principles, since this feature was producing more frequently
weird code than clear gain. The previous behavior can be restored via
&quot;Set Extraction AutoInline&quot;.</p></li>
<li><p>Unicode characters in identifiers are now transformed into ascii strings
that are legal in Ocaml and other languages.</p></li>
<li><p>Harsh support of module extraction to Haskell and Scheme: module hierarchy
is flattened, module abbreviations and functor applications are expanded,
module types and unapplied functors are discarded.</p></li>
<li><p>Less unsupported situations when extracting modules to Ocaml. In particular
module parameters might be alpha-renamed if a name clash is detected.</p></li>
<li><p>Extract Inductive is now possible toward non-inductive types (e.g. nat =&gt; int)</p></li>
<li><p>Extraction Implicit: this new experimental command allows to mark
some arguments of a function or constructor for removed during
extraction, even if these arguments don't fit the usual elimination
principles of extraction, for instance the length n of a vector.</p></li>
<li><p>Files ExtrOcaml*.v in plugins/extraction try to provide a library of common
extraction commands: mapping of basics types toward Ocaml's counterparts,
conversions from/to int and big_int, or even complete mapping of nat,Z,N
to int or big_int, or mapping of ascii to char and string to char list
(in this case recognition of ascii constants is hard-wired in the extraction).</p></li>
</ul>
<p>Program</p>
<ul class="simple">
<li><p>Streamlined definitions using well-founded recursion and measures so
that they can work on any subset of the arguments directly (uses currying).</p></li>
<li><p>Try to automatically clear structural fixpoint prototypes in
obligations to avoid issues with opacity.</p></li>
<li><p>Use return type clause inference in pattern-matching as in the standard
typing algorithm.</p></li>
<li><p>Support [Local Obligation Tactic] and [Next Obligation with tactic].</p></li>
<li><p>Use [Show Obligation Tactic] to print the current default tactic.</p></li>
<li><p>[fst] and [snd] have maximal implicit arguments in Program now (possible
source of incompatibility).</p></li>
</ul>
<p>Type classes</p>
<ul class="simple">
<li><p>Declaring axiomatic type class instances in Module Type should be now
done via new command &quot;Declare Instance&quot;, while the syntax &quot;Instance&quot;
now always provides a concrete instance, both in and out of Module Type.</p></li>
<li><p>Use [Existing Class foo] to declare a preexisting object [foo] as a class.
[foo] can be an inductive type or a constant definition. No
projections or instances are defined.</p></li>
<li><p>Various bug fixes and improvements: support for defined fields,
anonymous instances, declarations giving terms, better handling of
sections and [Context].</p></li>
</ul>
<p>Commands</p>
<ul class="simple">
<li><p>New command &quot;Timeout &lt;n&gt; &lt;command&gt;.&quot; interprets a command and a timeout
interrupts the execution after &lt;n&gt; seconds.</p></li>
<li><p>New command &quot;Compute &lt;expr&gt;.&quot; is a shortcut for &quot;Eval vm_compute in &lt;expr&gt;&quot;.</p></li>
<li><p>New command &quot;Fail &lt;command&gt;.&quot; interprets a command and is successful iff
the command fails on an error (but not an anomaly). Handy for tests and
illustration of wrong commands.</p></li>
<li><p>Most commands referring to constant (e.g. Print or About) now support
referring to the constant by a notation string.</p></li>
<li><p>New option &quot;Boolean Equality Schemes&quot; to make generation of boolean
equality automatic for datatypes (together with option &quot;Decidable
Equality Schemes&quot;, this replaces deprecated option &quot;Equality Scheme&quot;).</p></li>
<li><p>Made support for automatic generation of case analysis schemes available
to user (governed by option &quot;Set Case Analysis Schemes&quot;).</p></li>
<li><p>New command <code class="docutils literal notranslate"><span class="notation"><span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">Global</span></span></span></span><span class="notation-sup"><span class="pre">?</span></span></span> <span><span><span class="pre">Generalizable</span></span></span> <span class="alternative"><span class="alternative-block"><span><span><span class="pre">All</span></span></span></span><span class="alternative-separator"><span class="pre">​</span></span><span class="alternative-block"><span><span><span class="pre">No</span></span></span></span></span> <span class="alternative"><span class="alternative-block"><span><span><span class="pre">Variable</span></span></span></span><span class="alternative-separator"><span class="pre">​</span></span><span class="alternative-block"><span><span><span class="pre">Variables</span></span></span></span></span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="language/core/basic.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span><span class="notation-sup"><span class="pre">*</span></span></span></span></code> to
declare which identifiers are generalizable in `` <code class="docutils literal notranslate"><span class="pre">{}</span> <span class="pre">`</span></code> and `` <code class="docutils literal notranslate"><span class="pre">()</span> <span class="pre">`</span></code> binders.</p></li>
<li><p>New command &quot;Print Opaque Dependencies&quot; to display opaque constants in
addition to all variables, parameters or axioms a theorem or
definition relies on.</p></li>
<li><p>New command &quot;Declare Reduction &lt;id&gt; := &lt;conv_expr&gt;&quot;, allowing to write
later &quot;Eval &lt;id&gt; in ...&quot;. This command accepts a Local variant.</p></li>
<li><p>Syntax of Implicit Type now supports more than one block of variables of
a given type.</p></li>
<li><p>Command &quot;Canonical Structure&quot; now warns when it has no effects.</p></li>
<li><p>Commands of the form &quot;Set X&quot; or &quot;Unset X&quot; now support &quot;Local&quot; and &quot;Global&quot;
prefixes.</p></li>
</ul>
<p>Library</p>
<ul>
<li><p>Use &quot;standard&quot; Coq names for the properties of eq and identity
(e.g. refl_equal is now eq_refl). Support for compatibility is provided.</p></li>
<li><p>The function Compare_dec.nat_compare is now defined directly,
instead of relying on lt_eq_lt_dec. The earlier version is still
available under the name nat_compare_alt.</p></li>
<li><p>Lemmas in library Relations and Reals have been homogenized a bit.</p></li>
<li><p>The implicit argument of Logic.eq is now maximally inserted, allowing
to simply write &quot;eq&quot; instead of &quot;&#64;eq _&quot; in morphism signatures.</p></li>
<li><p>Wrongly named lemmas (Zlt_gt_succ and Zlt_succ_gt) fixed (potential source
of incompatibilities)</p></li>
<li><p>List library:</p>
<ul class="simple">
<li><p>Definitions of list, length and app are now in Init/Datatypes.
Support for compatibility is provided.</p></li>
<li><p>Definition of Permutation is now in Sorting/Permtation.v</p></li>
<li><p>Some other light revisions and extensions (possible source
of incompatibilities solvable by qualifying names accordingly).</p></li>
</ul>
</li>
<li><p>In ListSet, set_map has been fixed (source of incompatibilities if used).</p></li>
<li><p>Sorting library:</p>
<ul class="simple">
<li><p>new mergesort of worst-case complexity O(n*ln(n)) made available in
Mergesort.v;</p></li>
<li><p>former notion of permutation up to setoid from Permutation.v is
deprecated and moved to PermutSetoid.v;</p></li>
<li><p>heapsort from Heap.v of worst-case complexity O(n*n) is deprecated;</p></li>
<li><p>new file Sorted.v for some definitions of being sorted.</p></li>
</ul>
</li>
<li><p>Structure library. This new library is meant to contain generic
structures such as types with equalities or orders, either
in Module version (for now) or Type Classes (still to do):</p>
<ul class="simple">
<li><p>DecidableType.v and OrderedType.v: initial notions for FSets/FMaps,
left for compatibility but considered as deprecated.</p></li>
<li><p>Equalities.v and Orders.v: evolutions of the previous files,
with fine-grain Module architecture, many variants, use of
Equivalence and other relevant Type Classes notions.</p></li>
<li><p>OrdersTac.v: a generic tactic for solving chains of (in)equalities
over variables. See {Nat,N,Z,P}OrderedType.v for concrete instances.</p></li>
<li><p>GenericMinMax.v: any ordered type can be equipped with min and max.
We derived here all the generic properties of these functions.</p></li>
</ul>
</li>
<li><p>MSets library: an important evolution of the FSets library.
&quot;MSets&quot; stands for Modular (Finite) Sets, by contrast with a forthcoming
library of Class (Finite) Sets contributed by S. Lescuyer which will be
integrated with the next release of Coq. The main features of MSets are:</p>
<ul class="simple">
<li><p>The use of Equivalence, Proper and other Type Classes features
easing the handling of setoid equalities.</p></li>
<li><p>The interfaces are now stated in iff-style. Old specifications
are now derived properties.</p></li>
<li><p>The compare functions are now pure, and return a &quot;comparison&quot; value.
Thanks to the CompSpec inductive type, reasoning on them remains easy.</p></li>
<li><p>Sets structures requiring invariants (i.e. sorted lists) are
built first as &quot;Raw&quot; sets (pure objects and separate proofs) and
attached with their proofs thanks to a generic functor. &quot;Raw&quot; sets
have now a proper interface and can be manipulated directly.</p></li>
</ul>
<p>Note: No Maps yet in MSets. The FSets library is still provided
for compatibility, but will probably be considered as deprecated in the
next release of Coq.</p>
</li>
<li><p>Numbers library:</p>
<ul class="simple">
<li><p>The abstract layer (NatInt, Natural/Abstract, Integer/Abstract) has
been simplified and enhance thanks to new features of the module
system such as Include (see above). It has been extended to Euclidean
division (three flavors for integers: Trunc, Floor and Math).</p></li>
<li><p>The arbitrary-large efficient numbers (BigN, BigZ, BigQ) has also
been reworked. They benefit from the abstract layer improvements
(especially for div and mod). Note that some specifications have
slightly changed (compare, div, mod, shift{r,l}). Ring/Field should
work better (true recognition of constants).</p></li>
</ul>
</li>
</ul>
<p>Tools</p>
<ul class="simple">
<li><p>Option -R now supports binding Coq root read-only.</p></li>
<li><p>New coqtop/coqc option -beautify to reformat .v files (usable
e.g. to globally update notations).</p></li>
<li><p>New tool beautify-archive to beautify a full archive of developments.</p></li>
<li><p>New coqtop/coqc option -compat X.Y to simulate the general behavior
of previous versions of Coq (provides e.g. support for 8.2 compatibility).</p></li>
</ul>
<p>Coqdoc</p>
<ul class="simple">
<li><p>List have been revamped.  List depth and scope is now determined by
an &quot;offside&quot; whitespace rule.</p></li>
<li><p>Text may be italicized by placing it in _underscores_.</p></li>
<li><p>The &quot;--index &lt;string&gt;&quot; flag changes the filename of the index.</p></li>
<li><p>The &quot;--toc-depth &lt;int&gt;&quot; flag limits the depth of headers which are
included in the table of contents.</p></li>
<li><p>The &quot;--lib-name &lt;string&gt;&quot; flag prints &quot;&lt;string&gt; Foo&quot; instead of
&quot;Library Foo&quot; where library titles are called for.  The
&quot;--no-lib-name&quot; flag eliminates the extra title.</p></li>
<li><p>New option &quot;--parse-comments&quot; to allow parsing of regular <code class="docutils literal notranslate"><span class="pre">(*</span> <span class="pre">*)</span></code>
comments.</p></li>
<li><p>New option &quot;--plain-comments&quot; to disable interpretation inside comments.</p></li>
<li><p>New option &quot;--interpolate&quot; to try and typeset identifiers in Coq escapings
using the available globalization information.</p></li>
<li><p>New option &quot;--external url root&quot; to refer to external libraries.</p></li>
<li><p>Links to section variables and notations now supported.</p></li>
</ul>
<p>Internal infrastructure</p>
<ul class="simple">
<li><p>To avoid confusion with the repository of user's contributions,
the subdirectory &quot;contrib&quot; has been renamed into &quot;plugins&quot;.
On platforms supporting ocaml native dynlink, code located there
is built as loadable plugins for coqtop.</p></li>
<li><p>An experimental build mechanism via ocamlbuild is provided.
From the top of the archive, run ./configure as usual, and
then ./build. Feedback about this build mechanism is most welcome.
Compiling Coq on platforms such as Windows might be simpler
this way, but this remains to be tested.</p></li>
<li><p>The Makefile system has been simplified and factorized with
the ocamlbuild system. In particular &quot;make&quot; takes advantage
of .mllib files for building .cma/.cmxa. The .vo files to
compile are now listed in several vo.itarget files.</p></li>
</ul>
</div>
</div>
<div class="section" id="version-8-2">
<h2>Version 8.2<a class="headerlink" href="#version-8-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1506">
<h3>Summary of changes<a class="headerlink" href="#id1506" title="Permalink to this headline">¶</a></h3>
<p>Coq version 8.2 adds new features, new libraries and improves on many
various aspects.</p>
<p>Regarding the language of Coq, the main novelty is the introduction by
Matthieu Sozeau of a package of commands providing Haskell-style typeclasses.
Typeclasses, which come with a few convenient features such as
type-based resolution of implicit arguments, play a new landmark role
in the architecture of Coq with respect to automation. For
instance, thanks to typeclass support, Matthieu Sozeau could
implement a new resolution-based version of the tactics dedicated to
rewriting on arbitrary transitive relations.</p>
<p>Another major improvement of Coq 8.2 is the evolution of the arithmetic
libraries and of the tools associated with them. Benjamin Grégoire and
Laurent Théry contributed a modular library for building arbitrarily
large integers from bounded integers while Evgeny Makarov contributed a
modular library of abstract natural and integer arithmetic together
with a few convenient tactics. On his side, Pierre Letouzey made
numerous extensions to the arithmetic libraries on <span class="math notranslate nohighlight">\(\mathbb{Z}\)</span>
and <span class="math notranslate nohighlight">\(\mathbb{Q}\)</span>, including extra support for automation in
presence of various number-theory concepts.</p>
<p>Frédéric Besson contributed a reflective tactic based on Krivine-Stengle
Positivstellensatz (the easy way) for validating provability of systems
of inequalities. The platform is flexible enough to support the
validation of any algorithm able to produce a “certificate” for the
Positivstellensatz and this covers the case of Fourier-Motzkin (for
linear systems in <span class="math notranslate nohighlight">\(\mathbb{Q}\)</span> and <span class="math notranslate nohighlight">\(\mathbb{R}\)</span>),
Fourier-Motzkin with cutting planes (for linear systems in
<span class="math notranslate nohighlight">\(\mathbb{Z}\)</span>) and sum-of-squares (for non-linear systems). Evgeny
Makarov made the platform generic over arbitrary ordered rings.</p>
<p>Arnaud Spiwack developed a library of 31-bits machine integers and,
relying on Benjamin Grégoire and Laurent Théry’s library, delivered a
library of unbounded integers in base <span class="math notranslate nohighlight">\(2^{31}\)</span>. As importantly, he
developed a notion of “retro-knowledge” so as to safely extend the
kernel-located bytecode-based efficient evaluation algorithm of Coq
version 8.1 to use 31-bits machine arithmetic for efficiently computing
with the library of integers he developed.</p>
<p>Beside the libraries, various improvements were contributed to provide a more
comfortable end-user language and more expressive tactic language. Hugo
Herbelin and Matthieu Sozeau improved the pattern matching compilation
algorithm (detection of impossible clauses in pattern matching,
automatic inference of the return type). Hugo Herbelin, Pierre Letouzey
and Matthieu Sozeau contributed various new convenient syntactic
constructs and new tactics or tactic features: more inference of
redundant information, better unification, better support for proof or
definition by fixpoint, more expressive rewriting tactics, better
support for meta-variables, more convenient notations...</p>
<p>Élie Soubiran improved the module system, adding new features (such as
an “include” command) and making it more flexible and more general. He
and Pierre Letouzey improved the support for modules in the extraction
mechanism.</p>
<p>Matthieu Sozeau extended the Russell language, ending in an convenient
way to write programs of given specifications, Pierre Corbineau extended
the Mathematical Proof Language and the automation tools that
accompany it, Pierre Letouzey supervised and extended various parts of the
standard library, Stéphane Glondu contributed a few tactics and
improvements, Jean-Marc Notin provided help in debugging, general
maintenance and coqdoc support, Vincent Siles contributed extensions of
the Scheme command and of injection.</p>
<p>Bruno Barras implemented the <code class="docutils literal notranslate"><span class="pre">coqchk</span></code> tool: this is a stand-alone
type checker that can be used to certify .vo files. Especially, as this
verifier runs in a separate process, it is granted not to be “hijacked”
by virtually malicious extensions added to Coq.</p>
<p>Yves Bertot, Jean-Christophe Filliâtre, Pierre Courtieu and Julien
Forest acted as maintainers of features they implemented in previous
versions of Coq.</p>
<p>Julien Narboux contributed to CoqIDE. Nicolas Tabareau made the
adaptation of the interface of the old “setoid rewrite” tactic to the
new version. Lionel Mamane worked on the interaction between Coq and its
external interfaces. With Samuel Mimram, he also helped making Coq
compatible with recent software tools. Russell O’Connor, Cezary
Kaliszyk, Milad Niqui contributed to improve the libraries of integers,
rational, and real numbers. We also thank many users and partners for
suggestions and feedback, in particular Pierre Castéran and Arthur
Charguéraud, the INRIA Marelle team, Georges Gonthier and the
INRIA-Microsoft Mathematical Components team, the Foundations group at
Radboud university in Nijmegen, reporters of bugs and participants to
the Coq-Club mailing list.</p>
<div class="line-block">
<div class="line">Palaiseau, June 2008</div>
<div class="line">Hugo Herbelin</div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="id1507">
<h3>Details of changes<a class="headerlink" href="#id1507" title="Permalink to this headline">¶</a></h3>
<p>Language</p>
<ul class="simple">
<li><p>If a fixpoint is not written with an explicit { struct ... }, then
all arguments are tried successively (from left to right) until one is
found that satisfies the structural decreasing condition.</p></li>
<li><p>New experimental typeclass system giving ad-hoc polymorphism and
overloading based on dependent records and implicit arguments.</p></li>
<li><p>New syntax &quot;let 'pat := b in c&quot; for let-binding using irrefutable patterns.</p></li>
<li><p>New syntax &quot;forall {A}, T&quot; for specifying maximally inserted implicit
arguments in terms.</p></li>
<li><p>Sort of Record/Structure, Inductive and CoInductive defaults to Type
if omitted.</p></li>
<li><p>(Co)Inductive types can be defined as records
(e.g. &quot;CoInductive stream := { hd : nat; tl : stream }.&quot;)</p></li>
<li><p>New syntax &quot;Theorem id1:t1 ... with idn:tn&quot; for proving mutually dependent
statements.</p></li>
<li><p>Support for sort-polymorphism on constants denoting inductive types.</p></li>
<li><p>Several evolutions of the module system (handling of module aliases,
functorial module types, an Include feature, etc).</p></li>
<li><p>Prop now a subtype of Set (predicative and impredicative forms).</p></li>
<li><p>Recursive inductive types in Prop with a single constructor of which
all arguments are in Prop is now considered to be a singleton
type. It consequently supports all eliminations to Prop, Set and Type.
As a consequence, Acc_rect has now a more direct proof [possible source
of easily fixed incompatibility in case of manual definition of a recursor
in a recursive singleton inductive type].</p></li>
</ul>
<p>Commands</p>
<ul class="simple">
<li><p>Added option Global to &quot;Arguments Scope&quot; for section surviving.</p></li>
<li><p>Added option &quot;Unset Elimination Schemes&quot; to deactivate the automatic
generation of elimination schemes.</p></li>
<li><p>Modification of the Scheme command so you can ask for the name to be
automatically computed (e.g. Scheme Induction for nat Sort Set).</p></li>
<li><p>New command &quot;Combined Scheme&quot; to build combined mutual induction
principles from existing mutual induction principles.</p></li>
<li><p>New command &quot;Scheme Equality&quot; to build a decidable (boolean) equality
for simple inductive datatypes and a decision property over this equality
(e.g.  Scheme Equality for nat).</p></li>
<li><p>Added option &quot;Set Equality Scheme&quot; to make automatic the declaration
of the boolean equality when possible.</p></li>
<li><p>Source of universe inconsistencies now printed when option
&quot;Set Printing Universes&quot; is activated.</p></li>
<li><p>New option &quot;Set Printing Existential Instances&quot; for making the display of
existential variable instances explicit.</p></li>
<li><p>Support for option &quot;[id1 ... idn]&quot;, and &quot;-[id1 ... idn]&quot;, for the
&quot;compute&quot;/&quot;cbv&quot; reduction strategy, respectively meaning reduce only, or
everything but, the constants id1 ... idn. &quot;lazy&quot; alone or followed by
&quot;[id1 ... idn]&quot;, and &quot;-[id1 ... idn]&quot; also supported, meaning apply
all of beta-iota-zeta-delta, possibly restricting delta.</p></li>
<li><p>New command &quot;Strategy&quot; to control the expansion of constants during
conversion tests. It generalizes commands Opaque and Transparent by
introducing a range of levels. Lower levels are assigned to constants
that should be expanded first.</p></li>
<li><p>New options Global and Local to Opaque and Transparent.</p></li>
<li><p>New command &quot;Print Assumptions&quot; to display all variables, parameters
or axioms a theorem or definition relies on.</p></li>
<li><p>&quot;Add Rec LoadPath&quot; now provides references to libraries using partially
qualified names (this holds also for coqtop/coqc option -R).</p></li>
<li><p>SearchAbout supports negated search criteria, reference to logical objects
by their notation, and more generally search of subterms.</p></li>
<li><p>&quot;Declare ML Module&quot; now allows to import .cmxs files when Coq is
compiled in native code with a version of OCaml that supports native
Dynlink (&gt;= 3.11).</p></li>
<li><p>Specific sort constraints on Record now taken into account.</p></li>
<li><p>&quot;Print LoadPath&quot; supports a path argument to filter the display.</p></li>
</ul>
<p>Libraries</p>
<ul>
<li><p>Several parts of the libraries are now in Type, in particular FSets,
SetoidList, ListSet, Sorting, Zmisc. This may induce a few
incompatibilities. In case of trouble while fixing existing development,
it may help to simply declare Set as an alias for Type (see file
SetIsType).</p></li>
<li><p>New arithmetical library in theories/Numbers. It contains:</p>
<ul class="simple">
<li><p>an abstract modular development of natural and integer arithmetics
in Numbers/Natural/Abstract and Numbers/Integer/Abstract</p></li>
<li><p>an implementation of efficient computational bounded and unbounded
integers that can be mapped to processor native arithmetics.
See Numbers/Cyclic/Int31 for 31-bit integers and Numbers/Natural/BigN
for unbounded natural numbers and Numbers/Integer/BigZ for unbounded
integers.</p></li>
<li><p>some proofs that both older libraries Arith, ZArith and NArith and
newer BigN and BigZ implement the abstract modular development.
This allows in particular BigN and BigZ to already come with a
large database of basic lemmas and some generic tactics (ring),</p></li>
</ul>
<p>This library has still an experimental status, as well as the
processor-acceleration mechanism, but both its abstract and its
concrete parts are already quite usable and could challenge the use
of nat, N and Z in actual developments. Moreover, an extension of
this framework to rational numbers is ongoing, and an efficient
Q structure is already provided (see Numbers/Rational/BigQ), but
this part is currently incomplete (no abstract layer and generic
lemmas).</p>
</li>
<li><p>Many changes in FSets/FMaps. In practice, compatibility with earlier
version should be fairly good, but some adaptations may be required.</p>
<ul class="simple">
<li><p>Interfaces of unordered (&quot;weak&quot;) and ordered sets have been factorized
thanks to new features of Coq modules (in particular Include), see
FSetInterface. Same for maps. Hints in these interfaces have been
reworked (they are now placed in a &quot;set&quot; database).</p></li>
<li><p>To allow full subtyping between weak and ordered sets, a field
&quot;eq_dec&quot; has been added to OrderedType. The old version of OrderedType
is now called MiniOrderedType and functor MOT_to_OT allow to
convert to the new version. The interfaces and implementations
of sets now contain also such a &quot;eq_dec&quot; field.</p></li>
<li><p>FSetDecide, contributed by Aaron Bohannon, contains a decision
procedure allowing to solve basic set-related goals (for instance,
is a point in a particular set ?). See FSetProperties for examples.</p></li>
<li><p>Functors of properties have been improved, especially the ones about
maps, that now propose some induction principles. Some properties
of fold need less hypothesis.</p></li>
<li><p>More uniformity in implementations of sets and maps: they all use
implicit arguments, and no longer export unnecessary scopes (see
bug #1347)</p></li>
<li><p>Internal parts of the implementations based on AVL have evolved a
lot. The main files FSetAVL and FMapAVL are now much more
lightweight now. In particular, minor changes in some functions
has allowed to fully separate the proofs of operational
correctness from the proofs of well-balancing: well-balancing is
critical for efficiency, but not anymore for proving that these
trees implement our interfaces, hence we have moved these proofs
into appendix files FSetFullAVL and FMapFullAVL. Moreover, a few
functions like union and compare have been modified in order to be
structural yet efficient. The appendix files also contains
alternative versions of these few functions, much closer to the
initial Ocaml code and written via the Function framework.</p></li>
</ul>
</li>
<li><p>Library IntMap, subsumed by FSets/FMaps, has been removed from
Coq Standard Library and moved into a user contribution Cachan/IntMap</p></li>
<li><p>Better computational behavior of some constants (eq_nat_dec and
le_lt_dec more efficient, Z_lt_le_dec and Positive_as_OT.compare
transparent, ...) (exceptional source of incompatibilities).</p></li>
<li><p>Boolean operators moved from module Bool to module Datatypes (may need
to rename qualified references in script and force notations || and &amp;&amp;
to be at levels 50 and 40 respectively).</p></li>
<li><p>The constructors xI and xO of type positive now have postfix notations
&quot;~1&quot; and &quot;~0&quot;, allowing to write numbers in binary form easily, for instance
6 is 1~1~0 and 4*p is p~0~0 (see BinPos.v).</p></li>
<li><p>Improvements to NArith (Nminus, Nmin, Nmax), and to QArith (in particular
a better power function).</p></li>
<li><p>Changes in ZArith: several additional lemmas (used in theories/Numbers),
especially in Zdiv, Znumtheory, Zpower. Moreover, many results in
Zdiv have been generalized: the divisor may simply be non-null
instead of strictly positive (see lemmas with name ending by
&quot;_full&quot;). An alternative file ZOdiv proposes a different behavior
(the one of Ocaml) when dividing by negative numbers.</p></li>
<li><p>Changes in Arith: EqNat and Wf_nat now exported from Arith, some
constructions on nat that were outside Arith are now in (e.g. iter_nat).</p></li>
<li><p>In SetoidList, eqlistA now expresses that two lists have similar elements
at the same position, while the predicate previously called eqlistA
is now equivlistA (this one only states that the lists contain the same
elements, nothing more).</p></li>
<li><p>Changes in Reals:</p>
<ul class="simple">
<li><p>Most statement in &quot;sigT&quot; (including the
completeness axiom) are now in &quot;sig&quot; (in case of incompatibility,
use proj1_sig instead of projT1, sig instead of sigT, etc).</p></li>
<li><p>More uniform naming scheme (identifiers in French moved to English,
consistent use of 0 -- zero -- instead of O -- letter O --, etc).</p></li>
<li><p>Lemma on prod_f_SO is now on prod_f_R0.</p></li>
<li><p>Useless hypothesis of ln_exists1 dropped.</p></li>
<li><p>New Rlogic.v states a few logical properties about R axioms.</p></li>
<li><p>RIneq.v extended and made cleaner.</p></li>
</ul>
</li>
<li><p>Slight restructuration of the Logic library regarding choice and classical
logic. Addition of files providing intuitionistic axiomatizations of
descriptions: Epsilon.v, Description.v and IndefiniteDescription.v.</p></li>
<li><p>Definition of pred and minus made compatible with the structural
decreasing criterion for use in fixpoints.</p></li>
<li><p>Files Relations/Rstar.v and Relations/Newman.v moved out to the user
contribution repository (contribution CoC_History). New lemmas about
transitive closure added and some bound variables renamed (exceptional
risk of incompatibilities).</p></li>
<li><p>Syntax for binders in terms (e.g. for &quot;exists&quot;) supports anonymous names.</p></li>
</ul>
<p>Notations, coercions, implicit arguments and type inference</p>
<ul class="simple">
<li><p>More automation in the inference of the return clause of dependent
pattern-matching problems.</p></li>
<li><p>Experimental allowance for omission of the clauses easily detectable as
impossible in pattern-matching problems.</p></li>
<li><p>Improved inference of implicit arguments.</p></li>
<li><p>New options &quot;Set Maximal Implicit Insertion&quot;, &quot;Set Reversible Pattern
Implicit&quot;, &quot;Set Strongly Strict Implicit&quot; and &quot;Set Printing Implicit
Defensive&quot; for controlling inference and use of implicit arguments.</p></li>
<li><p>New modifier in &quot;Implicit Arguments&quot; to force an implicit argument to
be maximally inserted.</p></li>
<li><p>New modifier of &quot;Implicit Arguments&quot; to enrich the set of implicit arguments.</p></li>
<li><p>New options Global and Local to &quot;Implicit Arguments&quot; for section
surviving or non-export outside module.</p></li>
<li><p>Level &quot;constr&quot; moved from 9 to 8.</p></li>
<li><p>Structure/Record now printed as Record (unless option Printing All is set).</p></li>
<li><p>Support for parametric notations defining constants.</p></li>
<li><p>Insertion of coercions below product types refrains to unfold
constants (possible source of incompatibility).</p></li>
<li><p>New support for fix/cofix in notations.</p></li>
</ul>
<p>Tactic Language</p>
<ul class="simple">
<li><p>Second-order pattern-matching now working in Ltac &quot;match&quot; clauses
(syntax for second-order unification variable is &quot;&#64;?X&quot;).</p></li>
<li><p>Support for matching on let bindings in match context using syntax
&quot;H := body&quot; or &quot;H := body : type&quot;.</p></li>
<li><p>Ltac accepts integer arguments (syntax is &quot;ltac:nnn&quot; for nnn an integer).</p></li>
<li><p>The general sequence tactical &quot;expr_0 ; [ expr_1 | ... | expr_n ]&quot;
is extended so that at most one expr_i may have the form &quot;expr ..&quot;
or just &quot;..&quot;. Also, n can be different from the number of subgoals
generated by expr_0. In this case, the value of expr (or idtac in
case of just &quot;..&quot;) is applied to the intermediate subgoals to make
the number of tactics equal to the number of subgoals.</p></li>
<li><p>A name used as the name of the parameter of a lemma (like f in
&quot;apply f_equal with (f:=t)&quot;) is now interpreted as a ltac variable
if such a variable exists (this is a possible source of
incompatibility and it can be fixed by renaming the variables of a
ltac function into names that do not clash with the lemmas
parameter names used in the tactic).</p></li>
<li><p>New syntax &quot;Ltac tac ::= ...&quot; to rebind a tactic to a new expression.</p></li>
<li><p>&quot;let rec ... in ... &quot; now supported for expressions without explicit
parameters; interpretation is lazy to the contrary of &quot;let ... in ...&quot;;
hence, the &quot;rec&quot; keyword can be used to turn the argument of a
&quot;let ... in ...&quot; into a lazy one.</p></li>
<li><p>Patterns for hypotheses types in &quot;match goal&quot; are now interpreted in
type_scope.</p></li>
<li><p>A bound variable whose name is not used elsewhere now serves as
metavariable in &quot;match&quot; and it gets instantiated by an identifier
(allow e.g. to extract the name of a statement like &quot;exists x, P x&quot;).</p></li>
<li><p>New printing of Ltac call trace for better debugging.</p></li>
</ul>
<p>Tactics</p>
<ul class="simple">
<li><p>New tactics &quot;apply -&gt; term&quot;, &quot;apply &lt;- term&quot;, &quot;apply -&gt; term in
ident&quot;, &quot;apply &lt;- term in ident&quot; for applying equivalences (iff).</p></li>
<li><p>Slight improvement of the hnf and simpl tactics when applied on
expressions with explicit occurrences of match or fix.</p></li>
<li><p>New tactics &quot;eapply in&quot;, &quot;erewrite&quot;, &quot;erewrite in&quot;.</p></li>
<li><p>New tactics &quot;ediscriminate&quot;, &quot;einjection&quot;, &quot;esimplify_eq&quot;.</p></li>
<li><p>Tactics &quot;discriminate&quot;, &quot;injection&quot;, &quot;simplify_eq&quot; now support any
term as argument. Clause &quot;with&quot; is also supported.</p></li>
<li><p>Unfoldable references can be given by notation's string rather than by name
in unfold.</p></li>
<li><p>The &quot;with&quot; arguments are now typed using informations from the current goal:
allows support for coercions and more inference of implicit arguments.</p></li>
<li><p>Application of &quot;f_equal&quot;-style lemmas works better.</p></li>
<li><p>Tactics elim, case, destruct and induction now support variants eelim,
ecase, edestruct and einduction.</p></li>
<li><p>Tactics destruct and induction now support the &quot;with&quot; option and the
&quot;in&quot; clause option. If the option &quot;in&quot; is used, an equality is added
to remember the term to which the induction or case analysis applied
(possible source of parsing incompatibilities when destruct or induction is
part of a let-in expression in Ltac; extra parentheses are then required).</p></li>
<li><p>New support for &quot;as&quot; clause in tactics &quot;apply in&quot; and &quot;eapply in&quot;.</p></li>
<li><p>Some new intro patterns:</p>
<ul>
<li><p>intro pattern &quot;?A&quot; genererates a fresh name based on A.
Caveat about a slight loss of compatibility:
Some intro patterns don't need space between them. In particular
intros ?a?b used to be legal and equivalent to intros ? a ? b. Now it
is still legal but equivalent to intros ?a ?b.</p></li>
<li><p>intro pattern &quot;(A &amp; ... &amp; Y &amp; Z)&quot; synonym to &quot;(A,....,(Y,Z)))))&quot;
for right-associative constructs like /or exists.</p></li>
</ul>
</li>
<li><p>Several syntax extensions concerning &quot;rewrite&quot;:</p>
<ul>
<li><p>&quot;rewrite A,B,C&quot; can be used to rewrite A, then B, then C. These rewrites
occur only on the first subgoal: in particular, side-conditions of the
&quot;rewrite A&quot; are not concerned by the &quot;rewrite B,C&quot;.</p></li>
<li><p>&quot;rewrite A by tac&quot; allows to apply tac on all side-conditions generated by
the &quot;rewrite A&quot;.</p></li>
<li><p>&quot;rewrite A at n&quot; allows to select occurrences to rewrite: rewrite only
happen at the n-th exact occurrence of the first successful matching of
A in the goal.</p></li>
<li><p>&quot;rewrite 3 A&quot; or &quot;rewrite 3!A&quot; is equivalent to &quot;rewrite A,A,A&quot;.</p></li>
<li><p>&quot;rewrite !A&quot; means rewriting A as long as possible (and at least once).</p></li>
<li><p>&quot;rewrite 3?A&quot; means rewriting A at most three times.</p></li>
<li><p>&quot;rewrite ?A&quot; means rewriting A as long as possible (possibly never).</p></li>
<li><p>many of the above extensions can be combined with each other.</p></li>
</ul>
</li>
<li><p>Introduction patterns better respect the structure of context in presence of
missing or extra names in nested disjunction-conjunction patterns [possible
source of rare incompatibilities].</p></li>
<li><p>New syntax &quot;rename a into b, c into d&quot; for &quot;rename a into b; rename c into d&quot;</p></li>
<li><p>New tactics &quot;dependent induction/destruction H [ generalizing id_1 .. id_n ]&quot;
to do induction-inversion on instantiated inductive families à la BasicElim.</p></li>
<li><p>Tactics &quot;apply&quot; and &quot;apply in&quot; now able to reason modulo unfolding of
constants (possible source of incompatibility in situations where apply
may fail, e.g. as argument of a try or a repeat and in a ltac function);
versions that do not unfold are renamed into &quot;simple apply&quot; and
&quot;simple apply in&quot; (usable for compatibility or for automation).</p></li>
<li><p>Tactics &quot;apply&quot; and &quot;apply in&quot; now able to traverse conjunctions and to
select the first matching lemma among the components of the conjunction;
tactic &quot;apply&quot; also able to apply lemmas of conclusion an empty type.</p></li>
<li><p>Tactic &quot;apply&quot; now supports application of several lemmas in a row.</p></li>
<li><p>Tactics &quot;set&quot; and &quot;pose&quot; can set functions using notation &quot;(f x1..xn := c)&quot;.</p></li>
<li><p>New tactic &quot;instantiate&quot; (without argument).</p></li>
<li><p>Tactic firstorder &quot;with&quot; and &quot;using&quot; options have their meaning swapped for
consistency with auto/eauto (source of incompatibility).</p></li>
<li><p>Tactic &quot;generalize&quot; now supports &quot;at&quot; options to specify occurrences
and &quot;as&quot; options to name the quantified hypotheses.</p></li>
<li><p>New tactic &quot;specialize H with a&quot; or &quot;specialize (H a)&quot; allows to transform
in-place a universally-quantified hypothesis (H : forall x, T x) into its
instantiated form (H : T a). Nota: &quot;specialize&quot; was in fact there in earlier
versions of Coq, but was undocumented, and had a slightly different behavior.</p></li>
<li><p>New tactic &quot;contradict H&quot; can be used to solve any kind of goal as long as
the user can provide afterwards a proof of the negation of the hypothesis H.
If H is already a negation, say ~T, then a proof of T is asked.
If the current goal is a negation, say ~U, then U is saved in H afterwards,
hence this new tactic &quot;contradict&quot; extends earlier tactic &quot;swap&quot;, which is
now obsolete.</p></li>
<li><p>Tactics f_equal is now done in ML instead of Ltac: it now works on any
equality of functions, regardless of the arity of the function.</p></li>
<li><p>New options &quot;before id&quot;, &quot;at top&quot;, &quot;at bottom&quot; for tactics &quot;move&quot;/&quot;intro&quot;.</p></li>
<li><p>Some more debug of reflexive omega (<code class="docutils literal notranslate"><span class="pre">romega</span></code>), and internal clarifications.
Moreover, romega now has a variant <code class="docutils literal notranslate"><span class="pre">romega</span> <span class="pre">with</span> <span class="pre">*</span></code> that can be also used
on non-Z goals (nat, N, positive) via a call to a translation tactic named
zify (its purpose is to Z-ify your goal...). This zify may also be used
independently of romega.</p></li>
<li><p>Tactic &quot;remember&quot; now supports an &quot;in&quot; clause to remember only selected
occurrences of a term.</p></li>
<li><p>Tactic &quot;pose proof&quot; supports name overriding in case of specialization of an
hypothesis.</p></li>
<li><p>Semi-decision tactic &quot;jp&quot; for first-order intuitionistic logic moved to user
contributions (subsumed by &quot;firstorder&quot;).</p></li>
</ul>
<p>Program</p>
<ul class="simple">
<li><p>Moved useful tactics in theories/Program and documented them.</p></li>
<li><p>Add Program.Basics which contains standard definitions for functional
programming (id, apply, flip...)</p></li>
<li><p>More robust obligation handling, dependent pattern-matching and
well-founded definitions.</p></li>
<li><p>New syntax &quot; dest term as pat in term &quot; for destructing objects using
an irrefutable pattern while keeping equalities (use this instead of
&quot;let&quot; in Programs).</p></li>
<li><p>Program CoFixpoint is accepted, Program Fixpoint uses the new way to infer
which argument decreases structurally.</p></li>
<li><p>Program Lemma, Axiom etc... now permit to have obligations in the statement
iff they can be automatically solved by the default tactic.</p></li>
<li><p>Renamed &quot;Obligations Tactic&quot; command to &quot;Obligation Tactic&quot;.</p></li>
<li><p>New command &quot;Preterm [ of id ]&quot; to see the actual term fed to Coq for
debugging purposes.</p></li>
<li><p>New option &quot;Transparent Obligations&quot; to control the declaration of
obligations as transparent or opaque. All obligations are now transparent
by default, otherwise the system declares them opaque if possible.</p></li>
<li><p>Changed the notations &quot;left&quot; and &quot;right&quot; to &quot;in_left&quot; and &quot;in_right&quot; to hide
the proofs in standard disjunctions, to avoid breaking existing scripts when
importing Program. Also, put them in program_scope.</p></li>
</ul>
<p>Type Classes</p>
<ul class="simple">
<li><p>New &quot;Class&quot;, &quot;Instance&quot; and &quot;Program Instance&quot; commands to define
classes and instances documented in the reference manual.</p></li>
<li><p>New binding construct &quot; [ Class_1 param_1 .. param_n, Class_2 ... ] &quot;
for binding type classes, usable everywhere.</p></li>
<li><p>New command &quot; Print Classes &quot; and &quot; Print Instances some_class &quot; to
print tables for typeclasses.</p></li>
<li><p>New default eauto hint database &quot;typeclass_instances&quot; used by the default
typeclass instance search tactic.</p></li>
<li><p>New theories directory &quot;theories/Classes&quot; for standard typeclasses
declarations. Module Classes.RelationClasses is a typeclass port of
Relation_Definitions plus a generic development of algebra on
n-ary heterogeneous predicates.</p></li>
</ul>
<p>Setoid rewriting</p>
<ul class="simple">
<li><p>Complete (and still experimental) rewrite of the tactic
based on typeclasses. The old interface and semantics are
almost entirely respected, except:</p>
<ul>
<li><p>Import Setoid is now mandatory to be able to call setoid_replace
and declare morphisms.</p></li>
<li><p>&quot;--&gt;&quot;, &quot;++&gt;&quot; and &quot;==&gt;&quot; are now right associative notations
declared at level 55 in scope signature_scope.
Their introduction may break existing scripts that defined
them as notations with different levels.</p></li>
<li><p>One needs to use [Typeclasses unfold [cst]] if [cst] is used
as an abbreviation hiding products in types of morphisms,
e.g. if ones redefines [relation] and declares morphisms
whose type mentions [relation].</p></li>
<li><p>The [setoid_rewrite]'s semantics change when rewriting with
a lemma: it can rewrite two different instantiations of the lemma
at once. Use [setoid_rewrite H at 1] for (almost) the usual semantics.
[setoid_rewrite] will also try to rewrite under binders now, and can
succeed on different terms than before. In particular, it will unify under
let-bound variables. When called through [rewrite], the semantics are
unchanged though.</p></li>
<li><p>[Add Morphism term : id] has different semantics when used with
parametric morphism: it will try to find a relation on the parameters
too. The behavior has also changed with respect to default relations:
the most recently declared Setoid/Relation will be used, the documentation
explains how to customize this behavior.</p></li>
<li><p>Parametric Relation and Morphism are declared differently, using the
new [Add Parametric] commands, documented in the manual.</p></li>
<li><p>Setoid_Theory is now an alias to Equivalence, scripts building objects
of type Setoid_Theory need to unfold (or &quot;red&quot;) the definitions
of Reflexive, Symmetric and Transitive in order to get the same goals
as before. Scripts which introduced variables explicitly will not break.</p></li>
<li><p>The order of subgoals when doing [setoid_rewrite] with side-conditions
is always the same: first the new goal, then the conditions.</p></li>
</ul>
</li>
<li><p>New standard library modules <code class="docutils literal notranslate"><span class="pre">Classes.Morphisms</span></code> declares
standard morphisms on <code class="docutils literal notranslate"><span class="pre">refl</span></code> / <code class="docutils literal notranslate"><span class="pre">sym</span></code> / <code class="docutils literal notranslate"><span class="pre">trans</span></code> relations.
<code class="docutils literal notranslate"><span class="pre">Classes.Morphisms_Prop</span></code> declares morphisms on propositional
connectives and <code class="docutils literal notranslate"><span class="pre">Classes.Morphisms_Relations</span></code> on generalized predicate
connectives. <code class="docutils literal notranslate"><span class="pre">Classes.Equivalence</span></code> declares notations and tactics
related to equivalences and <code class="docutils literal notranslate"><span class="pre">Classes.SetoidTactics</span></code> defines the
setoid_replace tactics and some support for the <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">*</span></code> interface,
notably the tactic applied automatically before each <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">Morphism</span></code>
proof.</p></li>
<li><p>User-defined subrelations are supported, as well as higher-order morphisms
and rewriting under binders. The tactic is also extensible entirely in Ltac.
The documentation has been updated to cover these features.</p></li>
<li><p>[setoid_rewrite] and [rewrite] now support the [at] modifier to select
occurrences to rewrite, and both use the [setoid_rewrite] code, even when
rewriting with leibniz equality if occurrences are specified.</p></li>
</ul>
<p>Extraction</p>
<ul class="simple">
<li><p>Improved behavior of the Caml extraction of modules: name clashes should
not happen anymore.</p></li>
<li><p>The command Extract Inductive has now a syntax for infix notations. This
allows in particular to map Coq lists and pairs onto OCaml ones:</p>
<ul>
<li><p>Extract Inductive list =&gt; list [ &quot;[]&quot; &quot;(::)&quot; ].</p></li>
<li><p>Extract Inductive prod =&gt; &quot;(*)&quot; [ &quot;(,)&quot; ].</p></li>
</ul>
</li>
<li><p>In pattern matchings, a default pattern &quot;| _ -&gt; ...&quot; is now used whenever
possible if several branches are identical. For instance, functions
corresponding to decidability of equalities are now linear instead of
quadratic.</p></li>
<li><p>A new instruction Extraction Blacklist id1 .. idn allows to prevent filename
conflits with existing code, for instance when extracting module List
to Ocaml.</p></li>
</ul>
<p>CoqIDE</p>
<ul class="simple">
<li><p>CoqIDE font defaults to monospace so as indentation to be meaningful.</p></li>
<li><p>CoqIDE supports nested goals and any other kind of declaration in the middle
of a proof.</p></li>
<li><p>Undoing non-tactic commands in CoqIDE works faster.</p></li>
<li><p>New CoqIDE menu for activating display of various implicit informations.</p></li>
<li><p>Added the possibility to choose the location of tabs in coqide:
(in Edit-&gt;Preferences-&gt;Misc)</p></li>
<li><p>New Open and Save As dialogs in CoqIDE which filter <code class="docutils literal notranslate"><span class="pre">*.v</span></code> files.</p></li>
</ul>
<p>Tools</p>
<ul class="simple">
<li><p>New stand-alone .vo files verifier &quot;coqchk&quot;.</p></li>
<li><p>Extended -I coqtop/coqc option to specify a logical dir: &quot;-I dir -as coqdir&quot;.</p></li>
<li><p>New coqtop/coqc option -exclude-dir to exclude subdirs for option -R.</p></li>
<li><p>The binary &quot;parser&quot; has been renamed to &quot;coq-parser&quot;.</p></li>
<li><p>Improved coqdoc and dump of globalization information to give more
meta-information on identifiers. All categories of Coq definitions are
supported, which makes typesetting trivial in the generated documentation.
Support for hyperlinking and indexing developments in the tex output
has been implemented as well.</p></li>
</ul>
<p>Miscellaneous</p>
<ul class="simple">
<li><p>Coq installation provides enough files so that Ocaml's extensions need not
the Coq sources to be compiled (this assumes O'Caml 3.10 and Camlp5).</p></li>
<li><p>New commands &quot;Set Whelp Server&quot; and &quot;Set Whelp Getter&quot; to customize the
Whelp search tool.</p></li>
<li><p>Syntax of &quot;Test Printing Let ref&quot; and &quot;Test Printing If ref&quot; changed into
&quot;Test Printing Let for ref&quot; and &quot;Test Printing If for ref&quot;.</p></li>
<li><p>An overhauled build system (new Makefiles); see dev/doc/build-system.txt.</p></li>
<li><p>Add -browser option to configure script.</p></li>
<li><p>Build a shared library for the C part of Coq, and use it by default on
non-(Windows or MacOS) systems. Bytecode executables are now pure. The
behavior is configurable with -coqrunbyteflags, -coqtoolsbyteflags and
-custom configure options.</p></li>
<li><p>Complexity tests can be skipped by setting the environment variable
COQTEST_SKIPCOMPLEXITY.</p></li>
</ul>
</div>
</div>
<div class="section" id="version-8-1">
<h2>Version 8.1<a class="headerlink" href="#version-8-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1508">
<h3>Summary of changes<a class="headerlink" href="#id1508" title="Permalink to this headline">¶</a></h3>
<p>Coq version 8.1 adds various new functionalities.</p>
<p>Benjamin Grégoire implemented an alternative algorithm to check the
convertibility of terms in the Coq type checker. This alternative
algorithm works by compilation to an efficient bytecode that is
interpreted in an abstract machine similar to Xavier Leroy’s ZINC
machine. Convertibility is performed by comparing the normal forms. This
alternative algorithm is specifically interesting for proofs by
reflection. More generally, it is convenient in case of intensive
computations.</p>
<p>Christine Paulin implemented an extension of inductive types allowing
recursively non-uniform parameters. Hugo Herbelin implemented
sort-polymorphism for inductive types (now called template polymorphism).</p>
<p>Claudio Sacerdoti Coen improved the tactics for rewriting on arbitrary
compatible equivalence relations. He also generalized rewriting to
arbitrary transition systems.</p>
<p>Claudio Sacerdoti Coen added new features to the module system.</p>
<p>Benjamin Grégoire, Assia Mahboubi and Bruno Barras developed a new, more
efficient and more general simplification algorithm for rings and
semirings.</p>
<p>Laurent Théry and Bruno Barras developed a new, significantly more
efficient simplification algorithm for fields.</p>
<p>Hugo Herbelin, Pierre Letouzey, Julien Forest, Julien Narboux and
Claudio Sacerdoti Coen added new tactic features.</p>
<p>Hugo Herbelin implemented matching on disjunctive patterns.</p>
<p>New mechanisms made easier the communication between Coq and external
provers. Nicolas Ayache and Jean-Christophe Filliâtre implemented
connections with the provers cvcl, Simplify and zenon. Hugo Herbelin
implemented an experimental protocol for calling external tools from the
tactic language.</p>
<p>Matthieu Sozeau developed Russell, an experimental language to specify
the behavior of programs with subtypes.</p>
<p>A mechanism to automatically use some specific tactic to solve
unresolved implicit has been implemented by Hugo Herbelin.</p>
<p>Laurent Théry’s contribution on strings and Pierre Letouzey and
Jean-Christophe Filliâtre’s contribution on finite maps have been
integrated to the Coq standard library. Pierre Letouzey developed a
library about finite sets “à la Objective Caml”. With Jean-Marc Notin,
he extended the library on lists. Pierre Letouzey’s contribution on
rational numbers has been integrated and extended.</p>
<p>Pierre Corbineau extended his tactic for solving first-order statements.
He wrote a reflection-based intuitionistic tautology solver.</p>
<p>Pierre Courtieu, Julien Forest and Yves Bertot added extra support to
reason on the inductive structure of recursively defined functions.</p>
<p>Jean-Marc Notin significantly contributed to the general maintenance of
the system. He also took care of <code class="docutils literal notranslate"><span class="pre">coqdoc</span></code>.</p>
<p>Pierre Castéran contributed to the documentation of (co)inductive types
and suggested improvements to the libraries.</p>
<p>Pierre Corbineau implemented a declarative mathematical proof language,
usable in combination with the tactic-based style of proof.</p>
<p>Finally, many users suggested improvements of the system through the
Coq-Club mailing list and bug-tracker systems, especially user groups
from INRIA Rocquencourt, Radboud University, University of Pennsylvania
and Yale University.</p>
<div class="line-block">
<div class="line">Palaiseau, July 2006</div>
<div class="line">Hugo Herbelin</div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="details-of-changes-in-8-1beta">
<h3>Details of changes in 8.1beta<a class="headerlink" href="#details-of-changes-in-8-1beta" title="Permalink to this headline">¶</a></h3>
<p>Logic</p>
<ul class="simple">
<li><p>Added sort-polymorphism on inductive families</p></li>
<li><p>Allowance for recursively non-uniform parameters in inductive types</p></li>
</ul>
<p>Syntax</p>
<ul class="simple">
<li><p>No more support for version 7 syntax and for translation to version 8 syntax.</p></li>
<li><p>In fixpoints, the { struct ... } annotation is not mandatory any more when
only one of the arguments has an inductive type</p></li>
<li><p>Added disjunctive patterns in match-with patterns</p></li>
<li><p>Support for primitive interpretation of string literals</p></li>
<li><p>Extended support for Unicode ranges</p></li>
</ul>
<p>Commands</p>
<ul class="simple">
<li><p>Added &quot;Print Ltac qualid&quot; to print a user defined tactic.</p></li>
<li><p>Added &quot;Print Rewrite HintDb&quot; to print the content of a DB used by
autorewrite.</p></li>
<li><p>Added &quot;Print Canonical Projections&quot;.</p></li>
<li><p>Added &quot;Example&quot; as synonym of &quot;Definition&quot;.</p></li>
<li><p>Added &quot;Proposition&quot; and &quot;Corollary&quot; as extra synonyms of &quot;Lemma&quot;.</p></li>
<li><p>New command &quot;Whelp&quot; to send requests to the Helm database of proofs
formalized in the Calculus of Inductive Constructions.</p></li>
<li><p>Command &quot;functional induction&quot; has been re-implemented from the new
&quot;Function&quot; command.</p></li>
</ul>
<p>Ltac and tactic syntactic extensions</p>
<ul class="simple">
<li><p>New primitive &quot;external&quot; for communication with tool external to Coq</p></li>
<li><p>New semantics for &quot;match t with&quot;: if a clause returns a
tactic, it is now applied to the current goal. If it fails, the next
clause or next matching subterm is tried (i.e. it behaves as &quot;match
goal with&quot; does). The keyword &quot;lazymatch&quot; can be used to delay the
evaluation of tactics occurring in matching clauses.</p></li>
<li><p>Hint base names can be parametric in auto and trivial.</p></li>
<li><p>Occurrence values can be parametric in unfold, pattern, etc.</p></li>
<li><p>Added entry constr_may_eval for tactic extensions.</p></li>
<li><p>Low-priority term printer made available in ML-written tactic extensions.</p></li>
<li><p>&quot;Tactic Notation&quot; extended to allow notations of tacticals.</p></li>
</ul>
<p>Tactics</p>
<ul class="simple">
<li><p>New implementation and generalization of <code class="docutils literal notranslate"><span class="pre">setoid_*</span></code> (<code class="docutils literal notranslate"><span class="pre">setoid_rewrite</span></code>,
<code class="docutils literal notranslate"><span class="pre">setoid_symmetry</span></code>, <code class="docutils literal notranslate"><span class="pre">setoid_transitivity</span></code>, <code class="docutils literal notranslate"><span class="pre">setoid_reflexivity</span></code> and <code class="docutils literal notranslate"><span class="pre">autorewite</span></code>).
New syntax for declaring relations and morphisms (old syntax still working
with minor modifications, but deprecated).</p></li>
<li><p>New implementation (still experimental) of the ring tactic with a built-in
notion of coefficients and a better usage of setoids.</p></li>
<li><p>New conversion tactic &quot;vm_compute&quot;: evaluates the goal (or an hypothesis)
with a call-by-value strategy, using the compiled version of terms.</p></li>
<li><p>When rewriting H where H is not directly a Coq equality, search first H for
a registered setoid equality before starting to reduce in H. This is unlikely
to break any script. Should this happen nonetheless, one can insert manually
some &quot;unfold ... in H&quot; before rewriting.</p></li>
<li><p>Fixed various bugs about (setoid) rewrite ... in ... (in particular bug #5941)</p></li>
<li><p>&quot;rewrite ... in&quot; now accepts a clause as place where to rewrite instead of
just a simple hypothesis name. For instance:
<code class="docutils literal notranslate"><span class="pre">rewrite</span> <span class="pre">H</span> <span class="pre">in</span> <span class="pre">H1,H2</span> <span class="pre">|-</span> <span class="pre">*</span></code> means <code class="docutils literal notranslate"><span class="pre">rewrite</span> <span class="pre">H</span> <span class="pre">in</span> <span class="pre">H1;</span> <span class="pre">rewrite</span> <span class="pre">H</span> <span class="pre">in</span> <span class="pre">H2;</span> <span class="pre">rewrite</span> <span class="pre">H</span></code>
<code class="docutils literal notranslate"><span class="pre">rewrite</span> <span class="pre">H</span> <span class="pre">in</span> <span class="pre">*</span> <span class="pre">|-</span></code>  will do try <code class="docutils literal notranslate"><span class="pre">rewrite</span> <span class="pre">H</span> <span class="pre">in</span> <span class="pre">Hi</span></code> for all hypothesis Hi &lt;&gt; H.</p></li>
<li><p>Added &quot;dependent rewrite term&quot; and &quot;dependent rewrite term in hyp&quot;.</p></li>
<li><p>Added &quot;autorewrite with ... in hyp [using ...]&quot;.</p></li>
<li><p>Tactic &quot;replace&quot; now accepts a &quot;by&quot; tactic clause.</p></li>
<li><p>Added &quot;clear - id&quot; to clear all hypotheses except the ones depending in id.</p></li>
<li><p>The argument of Declare Left Step and Declare Right Step is now a term
(it used to be a reference).</p></li>
<li><p>Omega now handles arbitrary precision integers.</p></li>
<li><p>Several bug fixes in Reflexive Omega (romega).</p></li>
<li><p>Idtac can now be left implicit in a [...|...] construct: for instance,
[ foo | | bar ] stands for [ foo | idtac | bar ].</p></li>
<li><p>Fixed a &quot;fold&quot; bug (noncritical but possible source of incompatibilities).</p></li>
<li><p>Added classical_left and classical_right which transforms <code class="docutils literal notranslate"><span class="pre">|-</span> <span class="pre">A</span> <span class="pre">\/</span> <span class="pre">B</span></code> into
<code class="docutils literal notranslate"><span class="pre">~B</span> <span class="pre">|-</span> <span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">~A</span> <span class="pre">|-</span> <span class="pre">B</span></code> respectively.</p></li>
<li><p>Added command &quot;Declare Implicit Tactic&quot; to set up a default tactic to be
used to solve unresolved subterms of term arguments of tactics.</p></li>
<li><p>Better support for coercions to Sortclass in tactics expecting type
arguments.</p></li>
<li><p>Tactic &quot;assert&quot; now accepts &quot;as&quot; intro patterns and &quot;by&quot; tactic clauses.</p></li>
<li><p>New tactic &quot;pose proof&quot; that generalizes &quot;assert (id:=p)&quot; with intro patterns.</p></li>
<li><p>New introduction pattern &quot;?&quot; for letting Coq choose a name.</p></li>
<li><p>Introduction patterns now support side hypotheses (e.g. intros [|] on
&quot;(nat -&gt; nat) -&gt; nat&quot; works).</p></li>
<li><p>New introduction patterns &quot;-&gt;&quot; and &quot;&lt;-&quot; for immediate rewriting of
introduced hypotheses.</p></li>
<li><p>Introduction patterns coming after nontrivial introduction patterns now
force full introduction of the first pattern (e.g. <code class="docutils literal notranslate"><span class="pre">intros</span> <span class="pre">[[|]</span> <span class="pre">p]</span></code> on
<code class="docutils literal notranslate"><span class="pre">nat-&gt;nat-&gt;nat</span></code> now behaves like <code class="docutils literal notranslate"><span class="pre">intros</span> <span class="pre">[[|?]</span> <span class="pre">p]</span></code>)</p></li>
<li><p>Added &quot;eassumption&quot;.</p></li>
<li><p>Added option 'using lemmas' to auto, trivial and eauto.</p></li>
<li><p>Tactic &quot;congruence&quot; is now complete for its intended scope (ground
equalities and inequalities with constructors). Furthermore, it
tries to equates goal and hypotheses.</p></li>
<li><p>New tactic &quot;rtauto&quot; solves pure propositional logic and gives a
reflective version of the available proof.</p></li>
<li><p>Numbering of &quot;pattern&quot;, &quot;unfold&quot;, &quot;simpl&quot;, ... occurrences in &quot;match
with&quot; made consistent with the printing of the return clause after
the term to match in the &quot;match-with&quot; construct (use &quot;Set Printing All&quot;
to see hidden occurrences).</p></li>
<li><p>Generalization of induction &quot;induction x1...xn using scheme&quot; where
scheme is an induction principle with complex predicates (like the
ones generated by function induction).</p></li>
<li><p>Some small Ltac tactics has been added to the standard library
(file Tactics.v):</p>
<ul>
<li><p>f_equal : instead of using the different f_equalX lemmas</p></li>
<li><p>case_eq : a &quot;case&quot; without loss of information. An equality
stating the current situation is generated in every sub-cases.</p></li>
<li><p>swap : for a negated goal ~B and a negated hypothesis H:~A,
swap H asks you to prove A from hypothesis B</p></li>
<li><p>revert : revert H is generalize H; clear H.</p></li>
</ul>
</li>
</ul>
<p>Extraction</p>
<ul class="simple">
<li><p>All type parts should now disappear instead of sometimes producing _
(for instance in Map.empty).</p></li>
<li><p>Haskell extraction: types of functions are now printed, better
unsafeCoerce mechanism, both for hugs and ghc.</p></li>
<li><p>Scheme extraction improved, see <a class="reference external" href="http://www.pps.jussieu.fr/~letouzey/scheme">http://www.pps.jussieu.fr/~letouzey/scheme</a>.</p></li>
<li><p>Many bug fixes.</p></li>
</ul>
<p>Modules</p>
<ul class="simple">
<li><p>Added &quot;Locate Module qualid&quot; to get the full path of a module.</p></li>
<li><p>Module/Declare Module syntax made more uniform.</p></li>
<li><p>Added syntactic sugar &quot;Declare Module Export/Import&quot; and
&quot;Module Export/Import&quot;.</p></li>
<li><p>Added syntactic sugar &quot;Module M(Export/Import X Y: T)&quot; and
&quot;Module Type M(Export/Import X Y: T)&quot;
(only for interactive definitions)</p></li>
<li><p>Construct &quot;with&quot; generalized to module paths:
T with (Definition|Module) M1.M2....Mn.l := l'.</p></li>
</ul>
<p>Notations</p>
<ul class="simple">
<li><p>Option &quot;format&quot; aware of recursive notations.</p></li>
<li><p>Added insertion of spaces by default in recursive notations w/o separators.</p></li>
<li><p>No more automatic printing box in case of user-provided printing &quot;format&quot;.</p></li>
<li><p>New notation &quot;exists! x:A, P&quot; for unique existence.</p></li>
<li><p>Notations for specific numerals now compatible with generic notations of
numerals (e.g. &quot;1&quot; can be used to denote the unit of a group without
hiding 1%nat)</p></li>
</ul>
<p>Libraries</p>
<ul class="simple">
<li><p>New library on String and Ascii characters (contributed by L. Thery).</p></li>
<li><p>New library FSets+FMaps of finite sets and maps.</p></li>
<li><p>New library QArith on rational numbers.</p></li>
<li><p>Small extension of Zmin.V, new Zmax.v, new Zminmax.v.</p></li>
<li><p>Reworking and extension of the files on classical logic and
description principles (possible incompatibilities)</p></li>
<li><p>Few other improvements in ZArith potentially exceptionally breaking the
compatibility (useless hypothesys of Zgt_square_simpl and
Zlt_square_simpl removed; fixed names mentioning letter O instead of
digit 0; weaken premises in Z_lt_induction).</p></li>
<li><p>Restructuration of Eqdep_dec.v and Eqdep.v: more lemmas in Type.</p></li>
<li><p>Znumtheory now contains a gcd function that can compute within Coq.</p></li>
<li><p>More lemmas stated on Type in Wf.v, removal of redundant Acc_iter and
Acc_iter2.</p></li>
<li><p>Change of the internal names of lemmas in OmegaLemmas.</p></li>
<li><p>Acc in Wf.v and clos_refl_trans in Relation_Operators.v now rely on
the allowance for recursively non-uniform parameters (possible
source of incompatibilities: explicit pattern-matching on these
types may require to remove the occurrence associated with their
recursively non-uniform parameter).</p></li>
<li><p>Coq.List.In_dec has been set transparent (this may exceptionally break
proof scripts, set it locally opaque for compatibility).</p></li>
<li><p>More on permutations of lists in List.v and Permutation.v.</p></li>
<li><p>List.v has been much expanded.</p></li>
<li><p>New file SetoidList.v now contains results about lists seen with
respect to a setoid equality.</p></li>
<li><p>Library NArith has been expanded, mostly with results coming from
Intmap (for instance a bitwise xor), plus also a bridge between N and
Bitvector.</p></li>
<li><p>Intmap has been reorganized. In particular its address type &quot;addr&quot; is
now N. User contributions known to use Intmap have been adapted
accordingly. If you're using this library please contact us.
A wrapper FMapIntMap now presents Intmap as a particular implementation
of FMaps. New developments are strongly encouraged to use either this
wrapper or any other implementations of FMap instead of using directly
this obsolete Intmap.</p></li>
</ul>
<p>Tools</p>
<ul class="simple">
<li><p>New semantics for coqtop options (&quot;-batch&quot; expects option &quot;-top dir&quot;
for loading vernac file that contains definitions).</p></li>
<li><p>Tool coq_makefile now removes custom targets that are file names in
&quot;make clean&quot;</p></li>
<li><p>New environment variable COQREMOTEBROWSER to set the command invoked
to start the remote browser both in Coq and CoqIDE. Standard syntax:
&quot;%s&quot; is the placeholder for the URL.</p></li>
</ul>
</div>
<div class="section" id="details-of-changes-in-8-1gamma">
<h3>Details of changes in 8.1gamma<a class="headerlink" href="#details-of-changes-in-8-1gamma" title="Permalink to this headline">¶</a></h3>
<p>Syntax</p>
<ul class="simple">
<li><p>changed parsing precedence of let/in and fun constructions of Ltac:
let x := t in e1; e2 is now parsed as let x := t in (e1;e2).</p></li>
</ul>
<p>Language and commands</p>
<ul class="simple">
<li><p>Added sort-polymorphism for definitions in Type (but finally abandoned).</p></li>
<li><p>Support for implicit arguments in the types of parameters in
(co)fixpoints and (co)inductive declarations.</p></li>
<li><p>Improved type inference: use as much of possible general information.
before applying irreversible unification heuristics (allow e.g. to
infer the predicate in &quot;(exist _ 0 (refl_equal 0) : {n:nat | n=0 })&quot;).</p></li>
<li><p>Support for Miller-Pfenning's patterns unification in type synthesis
(e.g. can infer P such that P x y = phi(x,y)).</p></li>
<li><p>Support for &quot;where&quot; clause in cofixpoint definitions.</p></li>
<li><p>New option &quot;Set Printing Universes&quot; for making Type levels explicit.</p></li>
</ul>
<p>Tactics</p>
<ul class="simple">
<li><p>Improved implementation of the ring and field tactics. For compatibility
reasons, the previous tactics are renamed as legacy ring and legacy field,
but should be considered as deprecated.</p></li>
<li><p>New declarative mathematical proof language.</p></li>
<li><p>Support for argument lists of arbitrary length in Tactic Notation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rewrite</span> <span class="pre">...</span> <span class="pre">in</span> <span class="pre">H</span></code> now fails if <code class="docutils literal notranslate"><span class="pre">H</span></code> is used either in an hypothesis
or in the goal.</p></li>
<li><p>The semantics of <code class="docutils literal notranslate"><span class="pre">rewrite</span> <span class="pre">...</span> <span class="pre">in</span> <span class="pre">*</span></code> has been slightly modified (see doc).</p></li>
<li><p>Support for <code class="docutils literal notranslate"><span class="pre">as</span></code> clause in tactic injection.</p></li>
<li><p>New forward-reasoning tactic &quot;apply in&quot;.</p></li>
<li><p>Ltac fresh operator now builds names from a concatenation of its arguments.</p></li>
<li><p>New ltac tactic &quot;remember&quot; to abstract over a subterm and keep an equality</p></li>
<li><p>Support for Miller-Pfenning's patterns unification in apply/rewrite/...
(may lead to few incompatibilities - generally now useless tactic calls).</p></li>
</ul>
<p>Bug fixes</p>
<ul class="simple">
<li><p>Fix for notations involving basic &quot;match&quot; expressions.</p></li>
<li><p>Numerous other bugs solved (a few fixes may lead to incompatibilities).</p></li>
</ul>
</div>
<div class="section" id="details-of-changes-in-8-1">
<h3>Details of changes in 8.1<a class="headerlink" href="#details-of-changes-in-8-1" title="Permalink to this headline">¶</a></h3>
<p>Bug fixes</p>
<ul class="simple">
<li><p>Many bugs have been fixed (cf coq-bugs web page)</p></li>
</ul>
<p>Tactics</p>
<ul class="simple">
<li><p>New tactics ring, ring_simplify and new tactic field now able to manage
power to a positive integer constant. Tactic ring on Z and R, and
field on R manage power (may lead to incompatibilities with V8.1gamma).</p></li>
<li><p>Tactic field_simplify now applicable in hypotheses.</p></li>
<li><p>New field_simplify_eq for simplifying field equations into ring equations.</p></li>
<li><p>Tactics ring, ring_simplify, field, field_simplify and field_simplify_eq
all able to apply user-given equations to rewrite monoms on the fly
(see documentation).</p></li>
</ul>
<p>Libraries</p>
<ul class="simple">
<li><p>New file ConstructiveEpsilon.v defining an epsilon operator and
proving the axiom of choice constructively for a countable domain
and a decidable predicate.</p></li>
</ul>
</div>
</div>
<div class="section" id="version-8-0">
<h2>Version 8.0<a class="headerlink" href="#version-8-0" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1509">
<h3>Summary of changes<a class="headerlink" href="#id1509" title="Permalink to this headline">¶</a></h3>
<p>Coq version 8 is a major revision of the Coq proof assistant. First, the
underlying logic is slightly different. The so-called <em>impredicativity</em>
of the sort Set has been dropped. The main reason is that it is
inconsistent with the principle of description which is quite a useful
principle for formalizing mathematics within classical logic. Moreover,
even in an constructive setting, the impredicativity of Set does not add
so much in practice and is even subject of criticism from a large part
of the intuitionistic mathematician community. Nevertheless, the
impredicativity of Set remains optional for users interested in
investigating mathematical developments which rely on it.</p>
<p>Secondly, the concrete syntax of terms has been completely revised. The
main motivations were</p>
<ul class="simple">
<li><p>a more uniform, purified style: all constructions are now lowercase,
with a functional programming perfume (e.g. abstraction is now
written fun), and more directly accessible to the novice (e.g.
dependent product is now written forall and allows omission of
types). Also, parentheses are no longer mandatory for function
application.</p></li>
<li><p>extensibility: some standard notations (e.g. “&lt;” and “&gt;”) were
incompatible with the previous syntax. Now all standard arithmetic
notations (=, +, *, /, &lt;, &lt;=, ... and more) are directly part of the
syntax.</p></li>
</ul>
<p>Together with the revision of the concrete syntax, a new mechanism of
<em>notation scopes</em> permits to reuse the same symbols (typically +,
-, *, /, &lt;, &lt;=) in various mathematical theories without any
ambiguities for Coq, leading to a largely improved readability of Coq
scripts. New commands to easily add new symbols are also provided.</p>
<p>Coming with the new syntax of terms, a slight reform of the tactic
language and of the language of commands has been carried out. The
purpose here is a better uniformity making the tactics and commands
easier to use and to remember.</p>
<p>Thirdly, a restructuring and uniformization of the standard library of
Coq has been performed. There is now just one Leibniz equality usable
for all the different kinds of Coq objects. Also, the set of real
numbers now lies at the same level as the sets of natural and integer
numbers. Finally, the names of the standard properties of numbers now
follow a standard pattern and the symbolic notations for the standard
definitions as well.</p>
<p>The fourth point is the release of CoqIDE, a new graphical gtk2-based
interface fully integrated with Coq. Close in style to the Proof General
Emacs interface, it is faster and its integration with Coq makes
interactive developments more friendly. All mathematical Unicode symbols
are usable within CoqIDE.</p>
<p>Finally, the module system of Coq completes the picture of Coq version
8.0. Though released with an experimental status in the previous version
7.4, it should be considered as a salient feature of the new version.</p>
<p>Besides, Coq comes with its load of novelties and improvements: new or
improved tactics (including a new tactic for solving first-order
statements), new management commands, extended libraries.</p>
<p>Bruno Barras and Hugo Herbelin have been the main contributors of the
reflection and the implementation of the new syntax. The smart automatic
translator from old to new syntax released with Coq is also their work
with contributions by Olivier Desmettre.</p>
<p>Hugo Herbelin is the main designer and implementer of the notion of
notation scopes and of the commands for easily adding new
notations.</p>
<p>Hugo Herbelin is the main implementer of the restructured standard library.</p>
<p>Pierre Corbineau is the main designer and implementer of the new tactic
for solving first-order statements in presence of inductive types. He is
also the maintainer of the non-domain specific automation tactics.</p>
<p>Benjamin Monate is the developer of the CoqIDE graphical interface with
contributions by Jean-Christophe Filliâtre, Pierre Letouzey, Claude
Marché and Bruno Barras.</p>
<p>Claude Marché coordinated the edition of the Reference Manual for Coq
V8.0.</p>
<p>Pierre Letouzey and Jacek Chrząszcz respectively maintained the
extraction tool and module system of Coq.</p>
<p>Jean-Christophe Filliâtre, Pierre Letouzey, Hugo Herbelin and other
contributors from Sophia-Antipolis and Nijmegen participated in
extending the library.</p>
<p>Julien Narboux built a NSIS-based automatic Coq installation tool for
the Windows platform.</p>
<p>Hugo Herbelin and Christine Paulin coordinated the development which was
under the responsibility of Christine Paulin.</p>
<div class="line-block">
<div class="line">Palaiseau &amp; Orsay, Apr. 2004</div>
<div class="line">Hugo Herbelin &amp; Christine Paulin</div>
<div class="line">(updated Apr. 2006)</div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="details-of-changes-in-8-0beta-old-syntax">
<h3>Details of changes in 8.0beta old syntax<a class="headerlink" href="#details-of-changes-in-8-0beta-old-syntax" title="Permalink to this headline">¶</a></h3>
<p>Logic</p>
<ul class="simple">
<li><p>Set now predicative by default</p></li>
<li><p>New option -impredicative-set to set Set impredicative</p></li>
<li><p>The standard library doesn't need impredicativity of Set and is
compatible with the classical axioms which contradict Set impredicativity</p></li>
</ul>
<p>Syntax for arithmetic</p>
<ul class="simple">
<li><p>Notation &quot;=&quot; and &quot;&lt;&gt;&quot; in Z and R are no longer implicitly in Z or R
(with possible introduction of a coercion), use &lt;Z&gt;...=... or
&lt;Z&gt;...&lt;&gt;... instead</p></li>
<li><p>Locate applied to a simple string (e.g. &quot;+&quot;) searches for all
notations containing this string</p></li>
</ul>
<p>Commands</p>
<ul class="simple">
<li><p>&quot;Declare ML Module&quot; now allows to import .cma files. This avoids to use a
bunch of &quot;Declare ML Module&quot; statements when using several ML files.</p></li>
<li><p>&quot;Set Printing Width n&quot; added, allows to change the size of width printing.</p></li>
<li><p>&quot;Implicit Variables Type x,y:t&quot; (new syntax: &quot;Implicit Types x y:t&quot;)
assigns default types for binding variables.</p></li>
<li><p>Declarations of Hints and Notation now accept a &quot;Local&quot; flag not to
be exported outside the current file even if not in section</p></li>
<li><p>&quot;Print Scopes&quot; prints all notations</p></li>
<li><p>New command &quot;About name&quot; for light printing of type, implicit arguments, etc.</p></li>
<li><p>New command &quot;Admitted&quot; to declare incompletely proven statement as axioms</p></li>
<li><p>New keyword &quot;Conjecture&quot; to declare an axiom intended to be provable</p></li>
<li><p>SearchAbout can now search for lemmas referring to more than one constant
and on substrings of the name of the lemma</p></li>
<li><p>&quot;Print Implicit&quot; displays the implicit arguments of a constant</p></li>
<li><p>Locate now searches for all names having a given suffix</p></li>
<li><p>New command &quot;Functional Scheme&quot; for building an induction principle
from a function defined by case analysis and fix.</p></li>
</ul>
<p>Commands</p>
<ul class="simple">
<li><p>new coqtop/coqc option -dont-load-proofs not to load opaque proofs in memory</p></li>
</ul>
<p>Implicit arguments</p>
<ul class="simple">
<li><p>Inductive in sections declared with implicits now &quot;discharged&quot; with
implicits (like constants and variables)</p></li>
<li><p>Implicit Arguments flags are now synchronous with reset</p></li>
<li><p>New switch &quot;Unset/Set Printing Implicits&quot; (new syntax: &quot;Unset/Set Printing
Implicit&quot;) to globally control printing of implicits</p></li>
</ul>
<p>Grammar extensions</p>
<ul class="simple">
<li><p>Many newly supported UTF-8 encoded unicode blocks
- Greek letters (0380-03FF), Hebrew letters (U05D0-05EF), letter-like
symbols (2100-214F, that includes double N,Z,Q,R), prime
signs (from 2080-2089) and characters from many written languages
are valid in identifiers
- mathematical operators (2200-22FF), supplemental mathematical
operators (2A00-2AFF), miscellaneous technical (2300-23FF that
includes sqrt symbol), miscellaneous symbols (2600-26FF), arrows
(2190-21FF and 2900-297F), invisible mathematical operators (from
2080-2089), ... are valid symbols</p></li>
</ul>
<p>Library</p>
<ul class="simple">
<li><p>New file about the factorial function in Arith</p></li>
<li><p>An additional elimination Acc_iter for Acc, simpler than Acc_rect.
This new elimination principle is used for definition well_founded_induction.</p></li>
<li><p>New library NArith on binary natural numbers</p></li>
<li><p>R is now of type Set</p></li>
<li><p>Restructuration in ZArith library</p>
<ul>
<li><p>&quot;true_sub&quot; used in Zplus now a definition, not a local one (source
of incompatibilities in proof referring to true_sub, may need extra Unfold)</p></li>
<li><p>Some lemmas about minus moved from fast_integer to Arith/Minus.v
(le_minus, lt_mult_left) (theoretical source of incompatibilities)</p></li>
<li><p>Several lemmas moved from auxiliary.v and zarith_aux.v to
fast_integer.v (theoretical source of incompatibilities)</p></li>
<li><p>Variables names of iff_trans changed (source of incompatibilities)</p></li>
<li><p>ZArith lemmas named <code class="docutils literal notranslate"><span class="pre">OMEGA</span></code> something or <code class="docutils literal notranslate"><span class="pre">fast_</span></code> something, and lemma <code class="docutils literal notranslate"><span class="pre">new_var</span></code>
are now out of ZArith (except <code class="docutils literal notranslate"><span class="pre">OMEGA2</span></code>)</p></li>
<li><p>Redundant ZArith lemmas have been renamed: for the following pairs,
use the second name (Zle_Zmult_right2, Zle_mult_simpl), (OMEGA2,
Zle_0_plus), (Zplus_assoc_l, Zplus_assoc), (Zmult_one, Zmult_1_n),
(Zmult_assoc_l, Zmult_assoc), (Zmult_minus_distr, Zmult_Zminus_distr_l)
(add_un_double_moins_un_xO, is_double_moins_un),
(Rlt_monotony_rev,Rlt_monotony_contra) (source of incompatibilities)</p></li>
</ul>
</li>
<li><p>Few minor changes (no more implicit arguments in
Zmult_Zminus_distr_l and Zmult_Zminus_distr_r, lemmas moved from
Zcomplements to other files) (rare source of incompatibilities)</p></li>
<li><p>New lemmas provided by users added</p></li>
</ul>
<p>Tactic language</p>
<ul class="simple">
<li><p>Fail tactic now accepts a failure message</p></li>
<li><p>Idtac tactic now accepts a message</p></li>
<li><p>New primitive tactic &quot;FreshId&quot; (new syntax: &quot;fresh&quot;) to generate new names</p></li>
<li><p>Debugger prints levels of calls</p></li>
</ul>
<p>Tactics</p>
<ul class="simple">
<li><p>Replace can now replace proofs also</p></li>
<li><p>Fail levels are now decremented at &quot;Match Context&quot; blocks only and
if the right-hand-side of &quot;Match term With&quot; are tactics, these
tactics are never evaluated immediately and do not induce
backtracking (in contrast with &quot;Match Context&quot;)</p></li>
<li><p>Quantified names now avoid global names of the current module (like
Intro names did) [source of rare incompatibilities: 2 changes in the set of
user contribs]</p></li>
<li><p>NewDestruct/NewInduction accepts intro patterns as introduction names</p></li>
<li><p>NewDestruct/NewInduction now work for non-inductive type using option &quot;using&quot;</p></li>
<li><p>A NewInduction naming bug for inductive types with functional
arguments (e.g. the accessibility predicate) has been fixed (source
of incompatibilities)</p></li>
<li><p>Symmetry now applies to hypotheses too</p></li>
<li><p>Inversion now accept option &quot;as [ ... ]&quot; to name the hypotheses</p></li>
<li><p>Contradiction now looks also for contradictory hypotheses stating ~A and A
(source of incompatibility)</p></li>
<li><p>&quot;Contradiction c&quot; try to find an hypothesis in context which
contradicts the type of c</p></li>
<li><p>Ring applies to new library NArith (require file NArithRing)</p></li>
<li><p>Field now works on types in Set</p></li>
<li><p>Auto with reals now try to replace le by ge (Rge_le is no longer an
immediate hint), resulting in shorter proofs</p></li>
<li><p>Instantiate now works in hyps (syntax : Instantiate in ...)</p></li>
<li><p>Some new tactics : EConstructor, ELeft, Eright, ESplit, EExists</p></li>
<li><p>New tactic &quot;functional induction&quot; to perform case analysis and
induction following the definition of a function.</p></li>
<li><p>Clear now fails when trying to remove a local definition used by
a constant appearing in the current goal</p></li>
</ul>
<p>Extraction (See details in plugins/extraction/CHANGES)</p>
<ul class="simple">
<li><p>The old commands:     (Recursive) Extraction Module M.
are now:              (Recursive) Extraction Library M.
To use these commands, M should come from a library M.v</p></li>
<li><p>The other syntax Extraction &amp; Recursive Extraction now accept
module names as arguments.</p></li>
</ul>
<p>Bugs</p>
<ul class="simple">
<li><p>see coq-bugs server for the complete list of fixed bugs</p></li>
</ul>
<p>Miscellaneous</p>
<ul class="simple">
<li><p>Implicit parameters of inductive types definition now taken into
account for inferring other implicit arguments</p></li>
</ul>
<p>Incompatibilities</p>
<ul class="simple">
<li><p>Persistence of true_sub (4 incompatibilities in Coq user contributions)</p></li>
<li><p>Variable names of some constants changed for a better uniformity (2 changes
in Coq user contributions)</p></li>
<li><p>Naming of quantified names in goal now avoid global names (2 occurrences)</p></li>
<li><p>NewInduction naming for inductive types with functional arguments
(no incompatibility in Coq user contributions)</p></li>
<li><p>Contradiction now solve more goals (source of 2 incompatibilities)</p></li>
<li><p>Merge of eq and eqT may exceptionally result in subgoals now
solved automatically</p></li>
<li><p>Redundant pairs of ZArith lemmas may have different names: it may
cause &quot;Apply/Rewrite with&quot; to fail if using the first name of a pair
of redundant lemmas (this is solved by renaming the variables bound by
&quot;with&quot;; 3 incompatibilities in Coq user contribs)</p></li>
<li><p>ML programs referring to constants from fast_integer.v must use
&quot;Coqlib.gen_constant_modules Coqlib.zarith_base_modules&quot; instead</p></li>
</ul>
</div>
<div class="section" id="details-of-changes-in-8-0beta-new-syntax">
<h3>Details of changes in 8.0beta new syntax<a class="headerlink" href="#details-of-changes-in-8-0beta-new-syntax" title="Permalink to this headline">¶</a></h3>
<p>New concrete syntax</p>
<ul class="simple">
<li><p>A completely new syntax for terms</p></li>
<li><p>A more uniform syntax for tactics and the tactic language</p></li>
<li><p>A few syntactic changes for commands</p></li>
<li><p>A smart automatic translator translating V8.0 files in old syntax to
files valid for V8.0</p></li>
</ul>
<p>Syntax extensions</p>
<ul class="simple">
<li><p>&quot;Grammar&quot; for terms disappears</p></li>
<li><p>&quot;Grammar&quot; for tactics becomes &quot;Tactic Notation&quot;</p></li>
<li><p>&quot;Syntax&quot; disappears</p></li>
<li><p>Introduction of a notion of notation scope allowing to use the
same notations in various contexts without using specific delimiters
(e.g the same expression &quot;4&lt;=3+x&quot; is interpreted either in &quot;nat&quot;,
&quot;positive&quot;, &quot;N&quot; (previously &quot;entier&quot;), &quot;Z&quot;, &quot;R&quot;, depending on which
Notation scope is currently open) [see documentation for details]</p></li>
<li><p>Notation now requires a precedence and associativity
(default was to set precedence to 1 and associativity to none)</p></li>
</ul>
<p>Revision of the standard library</p>
<ul class="simple">
<li><p>Many lemmas and definitions names have been made more uniform mostly
in Arith, NArith, ZArith and Reals (e.g : &quot;times&quot; -&gt; &quot;Pmult&quot;,
&quot;times_sym&quot; -&gt; &quot;Pmult_comm&quot;, &quot;Zle_Zmult_pos_right&quot; -&gt;
&quot;Zmult_le_compat_r&quot;, &quot;SUPERIEUR&quot; -&gt; &quot;Gt&quot;, &quot;ZERO&quot; -&gt; &quot;Z0&quot;)</p></li>
<li><p>Order and names of arguments of basic lemmas on nat, Z, positive and R
have been made uniform.</p></li>
<li><p>Notions of Coq initial state are declared with (strict) implicit arguments</p></li>
<li><p>eq merged with eqT: old eq disappear, new eq (written =) is old eqT
and new eqT is syntactic sugar for new eq (notation == is an alias
for = and is written as it, exceptional source of incompatibilities)</p></li>
<li><p>Similarly, ex, ex2, all, identity are merged with exT, exT2, allT, identityT</p></li>
<li><p>Arithmetical notations for nat, positive, N, Z, R, without needing
any backquote or double-backquotes delimiters.</p></li>
<li><p>In Lists: new concrete notations; argument of nil is now implicit</p></li>
<li><p>All changes in the library are taken in charge by the translator</p></li>
</ul>
<p>Semantical changes during translation</p>
<ul class="simple">
<li><p>Recursive keyword set by default (and no longer needed) in Tactic Definition</p></li>
<li><p>Set Implicit Arguments is strict by default in new syntax</p></li>
<li><p>reductions in hypotheses of the form &quot;... in H&quot; now apply to the type
also if H is a local definition</p></li>
<li><p>etc</p></li>
</ul>
<p>Gallina</p>
<ul class="simple">
<li><p>New syntax of the form &quot;Inductive bool : Set := true, false : bool.&quot; for
enumerated types</p></li>
<li><p>Experimental syntax of the form p.(fst) for record projections
(activable with option &quot;Set Printing Projections&quot; which is
recognized by the translator)</p></li>
</ul>
<p>Known problems of the automatic translation</p>
<ul class="simple">
<li><p>iso-latin-1 characters are no longer supported: move your files to
7-bits ASCII or unicode before translation (switch to unicode is
automatically done if a file is loaded and saved again by coqide)</p></li>
<li><p>Renaming in ZArith: incompatibilities in Coq user contribs due to
merging names INZ, from Reals, and inject_nat.</p></li>
<li><p>Renaming and new lemmas in ZArith: may clash with names used by users</p></li>
<li><p>Restructuration of ZArith: replace requirement of specific modules
in ZArith by &quot;Require Import ZArith_base&quot; or &quot;Require Import ZArith&quot;</p></li>
<li><p>Some implicit arguments must be made explicit before translation: typically
for &quot;length nil&quot;, the implicit argument of length must be made explicit</p></li>
<li><p>Grammar rules, Infix notations and V7.4 Notations must be updated wrt the
new scheme for syntactic extensions (see translator documentation)</p></li>
<li><p>Unsafe for annotation Cases when constructors coercions are used or when
annotations are eta-reduced predicates</p></li>
</ul>
</div>
<div class="section" id="details-of-changes-in-8-0">
<h3>Details of changes in 8.0<a class="headerlink" href="#details-of-changes-in-8-0" title="Permalink to this headline">¶</a></h3>
<p>Commands</p>
<ul class="simple">
<li><p>New option &quot;Set Printing All&quot; to deactivate all high-level forms of
printing (implicit arguments, coercions, destructing let,
if-then-else, notations, projections)</p></li>
<li><p>&quot;Functional Scheme&quot; and &quot;Functional Induction&quot; extended to polymorphic
types and dependent types</p></li>
<li><p>Notation now allows recursive patterns, hence recovering parts of the
functionalities of pre-V8 Grammar/Syntax commands</p></li>
<li><p>Command &quot;Print.&quot; discontinued.</p></li>
<li><p>Redundant syntax &quot;Implicit Arguments On/Off&quot; discontinued</p></li>
</ul>
<p>New syntax</p>
<ul class="simple">
<li><p>Semantics change of the if-then-else construction in new syntax:
&quot;if c then t1 else t2&quot; now stands for
&quot;match c with c1 _ ... _ =&gt; t1 | c2 _ ... _ =&gt; t2 end&quot;
with no dependency of t1 and t2 in the arguments of the constructors;
this may cause incompatibilities for files translated using coq 8.0beta</p></li>
</ul>
<p>Notation scopes</p>
<ul class="simple">
<li><p>Delimiting key %bool for bool_scope added</p></li>
<li><p>Import no more needed to activate argument scopes from a module</p></li>
</ul>
<p>Tactics and the tactic Language</p>
<ul class="simple">
<li><p>Semantics of &quot;assert&quot; is now consistent with the reference manual</p></li>
<li><p>New tactics stepl and stepr for chaining transitivity steps</p></li>
<li><p>Tactic &quot;replace ... with ... in&quot; added</p></li>
<li><p>Intro patterns now supported in Ltac (parsed with prefix &quot;ipattern:&quot;)</p></li>
</ul>
<p>Executables and tools</p>
<ul class="simple">
<li><p>Added option -top to change the name of the toplevel module &quot;Top&quot;</p></li>
<li><p>Coqdoc updated to new syntax and now part of Coq sources</p></li>
<li><p>XML exportation tool now exports the structure of vernacular files
(cf chapter 13 in the reference manual)</p></li>
</ul>
<p>User contributions</p>
<ul class="simple">
<li><p>User contributions have been updated to the new syntax</p></li>
</ul>
<p>Bug fixes</p>
<ul class="simple">
<li><p>Many bugs have been fixed (cf coq-bugs web page)</p></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="appendix/indexes/index.html" class="btn btn-neutral float-right" title="Indexes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="history.html" class="btn btn-neutral float-left" title="Early history of Coq" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 1999-2021, Inria, CNRS and contributors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  




  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Other versions</span>
      v: 8.17.1
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="https://coq.github.io/doc/master/refman/">dev</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/current/refman/">stable</a></dd>
        
          <dd><a href="https://coq.github.io/doc/v8.17/refman/">8.17</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.16.1/refman/">8.16</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.15.2/refman/">8.15</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.14.1/refman/">8.14</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.13.2/refman/">8.13</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.12.2/refman/">8.12</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.11.2/refman/">8.11</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.10.2/refman/">8.10</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.9.1/refman/">8.9</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.8.2/refman/">8.8</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.7.2/refman/">8.7</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.6.1/refman/">8.6</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.5pl3/refman/">8.5</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.4pl6/refman/">8.4</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.3pl5/refman/">8.3</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.2pl3/refman/">8.2</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.1pl6/refman/">8.1</a></dd>
        
          <dd><a href="https://coq.inria.fr/distrib/V8.0/doc/">8.0</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="https://github.com/coq/coq/releases/download/V8.17.1/coq-8.17.1-reference-manual.pdf">PDF</a></dd>
        
      </dl>
    </div>
  </div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>